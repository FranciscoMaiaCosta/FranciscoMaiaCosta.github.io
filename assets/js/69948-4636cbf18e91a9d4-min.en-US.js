"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["69948"],{407424:function(E){E.exports={componentListContainer:"_t8zw7xNA4gyUXtf"}},323379:function(E,R,s){s.d(R,{Z:()=>se});var B=s(687006),D=s(834264),l=s(174161),M=s(795478),n=s.n(M),H=s(461761),N=s.n(H),x=s(845076),A=s.n(x),O=s(518870),j=s(86851),I=s(907089),S=s(626921),v=s(373669);const U=(o,t)=>{const e=(0,v.sortResolvers)([...o,{priority:10,canResolve:(r,i)=>i&&typeof i=="object"&&(!t||t.includes(r)),resolve:(r,i,c)=>Object.entries(r).reduce((a,p)=>{let[u,f]=p;const d=e.find(m=>m.canResolve(u,f));return a[u]=d.resolve(f,i,c),a},Array.isArray(r)?[]:{})}]);return e};var V=s(419467);function b(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}const L=o=>class extends l.Component{componentDidUpdate(t){this.updateRouteMap(t)}componentDidMount(){this.updateRouteMap()}enrichHistory(t){const e=t.history.reduce((r,i,c)=>(r[c]={...i,...this.routeMap.get(i.components)},r),[]);return{...t,history:e}}updateRouteMap(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{configurations:e}=this.props,{configurations:r={}}=t;Object.entries(e).forEach(i=>{let[c,{routes:a,uiSchema:p}]=i;const{routes:u,uiSchema:f}=r[c]||{};!a||a===u&&p===f||Object.entries(a).forEach(d=>{let[m,g]=d;const C=typeof g=="string"?{targetPanelPath:g}:g;this.routeMap.set((0,V.get)(p,C.targetPanelPath),{routeConfig:C,route:m})})})}render(){return l.createElement(o,{...this.props,onBeforeNavigate:this.onBeforeNavigate,onAfterNavigate:this.onAfterNavigate})}constructor(...t){super(...t),b(this,"routeMap",new Map),b(this,"onBeforeNavigate",(e,r)=>{if(typeof this.props.onBeforeNavigate=="function")return this.props.onBeforeNavigate(this.enrichHistory(e),this.enrichHistory(r))}),b(this,"onAfterNavigate",e=>{if(typeof this.props.onAfterNavigate=="function")return this.props.onAfterNavigate(this.enrichHistory(e))})}};function _(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}const w=o=>{class t extends l.Component{render(){return l.createElement(o,{...this.props,onChange:this.onChange})}constructor(...r){super(...r),_(this,"onChange",i=>{const{trackEvent:c,trackingSource:a,trackingProductArea:p,onChange:u}=this.props,{modifiedUiSubschema:f}=i,{type:d,trackingIdentifier:m,$mapping:g,properties:C={}}=f;if(typeof c=="function"){const{diff:F}=Object.values(i.changes)[0],y=Object.entries(F),ie=y.length===1?y[0][1]:y.reduce((ae,ce)=>{let[ue,le]=ce;return j.jsonPointerUtils.setJsonPointerValue(ae,ue,le)},{});c({action:"change",actor:"user",object_display_name:C.label,object_identifier:m||g,object_type:d,object_field_value:ie,product_area:p,event_source:a,timestamp_client:new Date().getTime()})}typeof u=="function"&&this.props.onChange(i)})}}return t};var pe=s(153088),K=s(350367);function W(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}const J={context:!0,hidden:!0,structuredinput:!0};var Z;class T extends(Z=l.Component){componentDidCatch(t,e){this.setState({hasError:!0,error:t,info:e})}render(){if(this.state.hasError)return console.error("Unable to render component",this.props,this.state),null;const{children:t,component:e,description:r}=this.props;return l.createElement(l.Fragment,null,t,r&&!J[e.type]?l.createElement(K.default,{key:"description",hasPadding:!0,text:r}):null)}constructor(t){super(t),this.state={hasError:!1}}}W(T,"propTypes",{description:n().string,component:n().object});const $=T;var z=s(555912),X=s(714487);const Y=new z.default(X.ZP),{formatIcuMessage:G}=Y;var Q=s(407424),k=s.n(Q);function h(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}const q=(()=>{const o=["type","$mapping","properties.label","properties.description","properties.children.length"];return t=>o.map(e=>N()(t,e)).join("-")})(),ee=U([v.composeResolver,v.defaultValueResolver,v.dollarDataValueResolver,v.functionValueResolver,(0,v.icuValueResolver)({icuFormatter:G})],["showMoreConfig"]),te={passthroughFields:["scope","group","pluck","campaignsoauth","headertabs","socialaccountlinkeditor"]},ne=w(L((0,I.withRouter)((0,O.withDataValidation)(O.Formodule),te))),re=()=>!!window.Cypress;var oe;class P extends(oe=l.Component){componentDidMount(){this.updateBarButtons()}componentDidUpdate(){this.updateBarButtons()}updateBarButtons(){const{leftBarButton:t,rightBarButton:e}=this.props;this.router&&(!t&&!e||this.router.replaceButtons({left:t?[t]:[],right:e?[e]:[]}))}render(){const{components:t}=this.props;return l.createElement(ne,{renderComponent:this.renderComponent,renderComposition:this.renderPanelComposition,renderTransition:this.renderTransition,resolvers:ee,templates:{default:$},components:t,...this.props,configurations:this.getConfigurations(),getInnerRefs:this.receiveRef,onChange:this.onChange})}constructor(...t){super(...t),h(this,"barButtons",{left:[],right:[]}),h(this,"receiveRef",e=>{const{router:r}=e;this.router=r,this.updateBarButtons(),this.props.getInnerRefs&&this.props.getInnerRefs(e),this.props.blockEditorRouteHistory&&this.router.replace(this.props.blockEditorRouteHistory,{animated:!1})}),h(this,"getConfigurations",()=>{const{errors:e,value:r,schema:i,uiSchema:c,itemDefaults:a,routes:p,configurations:u}=this.props;return u||{default:{routes:p,value:r,schema:i,uiSchema:c,itemDefaults:a,errors:e}}}),h(this,"onChange",e=>{const{changes:r}=e,i=this.getConfigurations(),c=Object.entries(r).reduce((a,p)=>{let[u,f]=p;const d=i[u]||{value:{}},m=Object.entries(f.diff).reduce((g,C)=>{let[F,y]=C;return j.jsonPointerUtils.setJsonPointerValue(g,F,y)},d.value);return{...a,[u]:{...a[u],value:m}}},i);this.props.onChange({...e,changes:Object.entries(r).reduce((a,p)=>{let[u,f]=p;return a[u]={...f,value:c[u].value},a},{}),value:c.default.value,nextConfigurations:c})}),h(this,"renderComponent",e=>{let{children:r}=e;if(!r)return null;const{props:i}=r;return l.cloneElement(r,{...i,key:i.key||q(i.component)})}),h(this,"renderPanelComposition",e=>{let{componentList:r,header:i}=e;const{panelClassName:c,scrollContainerClassName:a,panelHeader:p,panelFooter:u,scrollContainerRef:f,scrollContainerHtmlAttributes:d}=this.props;return l.createElement("div",null,i,l.createElement("div",{className:a,ref:f,...d},p({}),l.createElement("div",{className:A()(k().componentListContainer,c)},r),u({})))}),h(this,"renderTransition",e=>{let{children:r,context:i,...c}=e;const{relativeHeight:a}=this.props;return a||re()?l.createElement("div",null,r):l.createElement(S.Transition,{context:i,...c},r)})}}h(P,"defaultProps",{onChange:()=>{},panelFooter:()=>null,panelHeader:()=>null}),h(P,"propTypes",{configurations:n().objectOf(n().shape({value:n().object,uiSchema:n().array,schema:n().object,itemDefaults:n().array,errors:n().object})),isFullHeight:n().bool,itemDefaults:n().array,leftBarButton:n().oneOfType([n().object,n().node]),rightBarButton:n().oneOfType([n().object,n().node]),onChange:n().func,panelClassName:n().string,panelHeader:n().func,panelFooter:n().func,relativeHeight:n().bool,schema:n().object,scrollContainerClassName:n().string,scrollContainerHtmlAttributes:n().object,scrollContainerRef:n().oneOfType([n().func,n().shape({current:n().instanceOf(HTMLElement)})]),uiSchema:n().array,value:n().object,blockEditorRouteHistory:n().array});const se=P},175823:function(E,R,s){var B=s(153088),D=s(68468)},834264:function(E,R,s){var B=s(153088)},466621:function(){},310398:function(){},711837:function(){},705886:function(){},71664:function(){}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/e58f94c198ad1a0c/69948-4636cbf18e91a9d4-min.en-US.js.map