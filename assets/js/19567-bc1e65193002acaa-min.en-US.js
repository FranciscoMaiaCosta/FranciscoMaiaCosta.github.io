"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["19567"],{14866:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchImageContentItemsForCollection=void 0;var a=n(e(456903));const o=async s=>{const{data:i}=await a.default.get(`/api/content-collections/${s}/content-items`);return i.results};t.fetchImageContentItemsForCollection=o},320967:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.generateImageAltTextBulk=t.generateImageAltText=void 0;var a=n(e(456903)),o=e(56166),s=e(263215);const i=15e3,l="/api/v1/ai-content-generator/image-to-text/generate",d=`${l}/bulk`,c=()=>({...(0,s.getSharedRequestOptions)(),profile:o.Profile.SEO_AI_TOOLS_IMAGE_ALT_TEXT_PROFILE,commandId:o.UserPromptCommandId.IMAGE_ALT_TEXT}),r=async(m,f)=>{const{data:g}=await a.default.post(d,{imageUrls:m,eventingMetadata:f,...c()},{timeout:i});return g};t.generateImageAltTextBulk=r;const u=async(m,f)=>{const{data:g}=await a.default.post(l,{imageUrl:m,eventingMetadata:f,...c()},{timeout:i});return g};t.generateImageAltText=u},120933:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.generatePageMetadataBulk=t.generatePageMetadata=void 0;var a=n(e(456903)),o=e(56166),s=e(263215);const i=15e3,l="/api/v1/ai-content-generator/text/generate-page-metadata",d=`${l}/bulk`,c=()=>({...(0,s.getSharedRequestOptions)(),profile:o.Profile.SEO_AI_TOOLS_PAGE_METADATA_PROFILE,commandId:o.UserPromptCommandId.PAGE_METADATA}),r=async(m,f)=>{const{data:g}=await a.default.post(d,{pages:m,eventingMetadata:f,...c()},{timeout:i});return g};t.generatePageMetadataBulk=r;const u=async(m,f)=>{const{data:g}=await a.default.post(l,{page:m,eventingMetadata:f,...c()},{timeout:i});return g};t.generatePageMetadata=u},157346:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchImageContentItemsParallel=t.fetchImageContentItems=t.fetchImageContentItem=void 0;var a=n(e(456903)),o=n(e(131626)),s=e(822602);const i=50,l=async r=>{const{data:u}=await a.default.get(`/api/content-items/${r}`);return u};t.fetchImageContentItem=l;const d=async r=>{if(r.length>i)throw new Error(`Cannot fetch more than ${i} image content items at once`);const{data:u}=await a.default.get("/api/content-items/bulk/",{params:{contentItemIds:r},paramsSerializer:m=>o.default.stringify(m,{arrayFormat:"repeat"})});return u};t.fetchImageContentItems=d;const c=async r=>(0,s.createBulkRequestsParallel)(r,i,d);t.fetchImageContentItemsParallel=c},228512:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAllPages=void 0;var a=n(e(456903));const o=async()=>{const{data:s}=await a.default.get("/api/commondata/GetCollections");return s};t.fetchAllPages=o},37433:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPageSections=t.FETCH_PAGE_SECTIONS_REQUEST_LIMIT=void 0;var a=n(e(456903)),o=n(e(131626));const s=t.FETCH_PAGE_SECTIONS_REQUEST_LIMIT=20,i=async l=>{if(l.length>s)throw new Error(`Cannot fetch more than ${s} page sections at once`);const{data:d}=await a.default.get("/api/page-sections/by-collection-ids",{params:{collectionIds:l},paramsSerializer:c=>o.default.stringify(c,{arrayFormat:"repeat"})});return d.flatMap(c=>{let{sections:r,collectionId:u}=c;return r.map(m=>({...m,pageId:u}))})};t.fetchPageSections=i},645351:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.isImageBlockWithImageId=t.isImageBlock=void 0;var n=e(461816);const a=s=>s.type===n.BlockType.IMAGE;t.isImageBlock=a;const o=s=>typeof s.value.imageId=="string";t.isImageBlockWithImageId=o},171111:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNonHomepageCollection=t.isHomepageCollection=void 0;const e=a=>a.homepage;t.isHomepageCollection=e;const n=a=>!a.homepage;t.isNonHomepageCollection=n},227904:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SectionName=t.SectionDefinitionName=void 0;let e=t.SectionName=function(a){return a.JSON_SCHEMA="JSON_SCHEMA",a.FLUID_ENGINE="FLUID_ENGINE",a}({}),n=t.SectionDefinitionName=function(a){return a.GALLERY="gallery",a.USER_ITEMS_LIST="user-items-list",a}({})},706255:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isUserItemWithImageId=t.isUserItemWithImageAltText=void 0;const e=a=>typeof a.imageAltText=="string";t.isUserItemWithImageAltText=e;const n=a=>typeof a.imageId=="string";t.isUserItemWithImageId=n},578330:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PAGE_LIMIT=t.IMAGE_LIMIT=void 0;const e=t.PAGE_LIMIT=15,n=t.IMAGE_LIMIT=50},613851:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return a.Action}}),Object.defineProperty(t,"Actor",{enumerable:!0,get:function(){return a.Actor}}),Object.defineProperty(t,"ObjectType",{enumerable:!0,get:function(){return a.ObjectType}}),t.trackEvent=t.getTrackAiProxyAnalyticsEvent=t.RecommendationPage=void 0;var a=e(689699),o=e(228946),s=n(e(625392));let i=t.RecommendationPage=function(u){return u.ALT_TEXT="alt-text",u.ERROR="error",u.METADATA="metadata",u.SAVING="saving",u.GENERATING="generating",u}({});const l={event_owner_team:"activation-engine",product_area:"seo-panel"},d=(0,s.default)(()=>(0,a.createEventTracker)("BusinessAITools",{...l})),c=()=>(0,a.createEventTracker)("AIProxy",{...l});t.getTrackAiProxyAnalyticsEvent=c;const r=u=>{d()(u);const{event_name:f,...g}=u;(0,o.fireEvent)(f,g)};t.trackEvent=r},180327:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useEntryPointEvents=void 0;var n=e(174161),a=e(613851);const o=s=>{const i=(0,n.useCallback)(c=>{let{image_total:r,num_images:u,num_pages:m,page_total:f}=c;(0,a.trackEvent)({action:a.Action.VIEW,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserViewsSEOReport",object_type:a.ObjectType.CARD,image_total:r,num_images:u,num_pages:m,page_total:f,product_area:s})},[s]),l=(0,n.useCallback)(()=>{(0,a.trackEvent)({action:a.Action.VIEW,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserViewsSEOReportError",object_type:a.ObjectType.BUTTON,object_identifier:"error",object_value:"unable_to_generate_report",product_area:s})},[s]),d=(0,n.useCallback)(()=>{(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserClicksBusinessToolsEntryPoint",object_type:a.ObjectType.CARD,object_identifier:"error",object_value:"improve_with_ai",product_area:s})},[s]);return{trackUserViewsSEOReport:i,trackUserViewsSEOReportError:l,trackUserClicksBusinessToolsEntryPoint:d}};t.useEntryPointEvents=o},332943:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useGenerateContentEventMetadata=void 0;var n=e(390837);const a=()=>{const{productArea:o}=(0,n.useSEOAnalyticsContext)();return{productArea:o,mediaType:"text",productSection:"seo-business-tools"}};t.useGenerateContentEventMetadata=a},853571:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useWizardEvents=t.StepToRecommendationPage=void 0;var n=e(174161),a=e(613851),o=e(558056);const s=t.StepToRecommendationPage={[o.SEOOptimizationWizardStep.DONE]:a.RecommendationPage.SAVING,[o.SEOOptimizationWizardStep.IMAGE_ALT_TEXT_STEP]:a.RecommendationPage.ALT_TEXT,[o.SEOOptimizationWizardStep.PAGE_META_DATA_STEP]:a.RecommendationPage.METADATA},i=l=>{const d=(0,n.useCallback)(A=>{let{asset_id:p,collection_id:O,recommendation_page:C}=A;(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,event_name:"UserCancelsEditSEOText",object_type:a.ObjectType.BUTTON,object_identifier:"cancel",business_tool_name:"seo-tools",asset_id:p,collection_id:O,recommendation_page:C,product_area:l})},[l]),c=(0,n.useCallback)(A=>{let{recommendation_page:p,asset_id:O,collection_id:C}=A;(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserClicksEditSEORecommendation",object_type:a.ObjectType.BUTTON,object_identifier:"edit",recommendation_page:p,asset_id:O,collection_id:C,product_area:l})},[l]),r=(0,n.useCallback)(A=>{let{recommendation_page:p,asset_id:O,collection_id:C}=A;(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserSavesEditedSEOText",object_type:a.ObjectType.BUTTON,object_identifier:"edit",object_value:"save",recommendation_page:p,asset_id:O,collection_id:C,product_area:l})},[l]),u=(0,n.useCallback)(A=>{let{object_identifier:p,recommendation_page:O,asset_id:C,collection_id:M,image_total:h,num_images:P,num_pages:R,page_total:D}=A;(0,a.trackEvent)({action:a.Action.VIEW,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserViewsSEOGenerationError",object_type:a.ObjectType.MODAL,object_identifier:p,recommendation_page:O,asset_id:C,collection_id:M,image_total:h,num_images:P,num_pages:R,page_total:D,product_area:l})},[l]),m=(0,n.useCallback)(A=>{let{recommendation_page:p,num_images:O,num_pages:C}=A;(0,a.trackEvent)({action:a.Action.VIEW,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserViewsSEORecommendations",object_type:a.ObjectType.MODAL,recommendation_page:p,num_images:O,num_pages:C,product_area:l})},[l]),f=(0,n.useCallback)(A=>{let{object_value:p,recommendation_page:O}=A;(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserClicksSaveSEORecommendations",object_type:a.ObjectType.BUTTON,object_value:p,recommendation_page:O,product_area:l})},[l]),g=(0,n.useCallback)(A=>{let{recommendation_page:p,asset_id:O,collection_id:C}=A;(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserClicksRegenerateSEORecommendation",object_type:a.ObjectType.BUTTON,recommendation_page:p,asset_id:O,collection_id:C,object_identifier:"regenerate",product_area:l})},[l]),v=(0,n.useCallback)(A=>{let{recommendation_page:p}=A;(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserNavigatesBackwardsInSEORecommendations",object_type:a.ObjectType.LINK,recommendation_page:p,product_area:l})},[l]),E=(0,n.useCallback)(A=>{let{recommendation_page:p}=A;(0,a.trackEvent)({action:a.Action.CLOSE,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserClosesSEORecommendations",object_type:a.ObjectType.MODAL,recommendation_page:p,product_area:l})},[l]),T=(0,n.useCallback)(A=>{let{object_value:p}=A;(0,a.trackEvent)({action:a.Action.VIEW,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserViewsSEOChangesToast",object_type:a.ObjectType.TOAST,object_value:p,product_area:l})},[l]),S=(0,n.useCallback)(()=>{(0,a.trackEvent)({action:a.Action.VIEW,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserViewsExitWithoutSaveDialogBox",object_type:a.ObjectType.MODAL,product_area:l})},[l]),y=(0,n.useCallback)(A=>{let{action:p}=A;(0,a.trackEvent)({action:a.Action.CLICK,actor:a.Actor.USER,business_tool_name:"seo-tools",event_name:"UserClicksExitWithoutSaveDialogBoxCTA",object_type:a.ObjectType.BUTTON,object_identifier:p,product_area:l})},[l]),L=(0,n.useCallback)(A=>{(0,a.getTrackAiProxyAnalyticsEvent)()({action:a.Action.SAVE,actor:a.Actor.USER,event_name:"UserSavesGeneratedText",object_identifier:"saved-response",product_section:"seo-business-tools",object_type:a.ObjectType.TEXT_INPUT,saved_responses:A.map(O=>{let{isEdited:C,responseId:M}=O;return{is_edited:!!C,response_id:M}}),product_area:l})},[l]);return{trackUserCancelsEditSEOText:d,trackUserEditSEORecommendation:c,trackUserSavedEditedSEOText:r,trackUserViewsSEOGenerationError:u,trackUserViewsSEORecommendations:m,trackUserClicksSaveSEORecommendations:f,trackUserClicksRegenerateSEORecommendation:g,trackUserNavigatesBackwardsInSEORecommendations:v,trackUserClosesSEORecommendations:E,trackUserViewsSEOChangesToast:T,trackUserViewsExitWithoutSaveDialogBox:S,trackUserClicksExitWithoutSaveDialogBoxCTA:y,trackUserSavesGeneratedText:L}};t.useWizardEvents=i},697726:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useApplyChanges=void 0;var n=e(174161),a=e(160841),o=e(613229),s=e(390837),i=e(403944),l=e(874226),d=e(417469),c=e(851262),r=e(544498);const u=()=>{(0,r.dispatchOpenToast)({content:(0,a.t)("Changes have been saved",null,{project:"business-ai-tools"}),variant:"success"})},m=()=>{(0,r.dispatchOpenToast)({content:(0,a.t)("Unable to save some changes. Try again later.",null,{project:"business-ai-tools"}),variant:"warning"})},f=()=>{(0,r.dispatchOpenToast)({content:(0,a.t)("Unable to save changes. Try again later.",null,{project:"business-ai-tools"}),variant:"error"})},g=()=>{const{onReadyForReScan:v,generateImageAltText:E,generatePageMetadata:T}=(0,s.useSEOOptimizationContext)(),{trackUserSavesGeneratedText:S}=(0,s.useSEOAnalyticsContext)(),y=(0,c.useApplyPageMetadata)(),L=(0,d.useApplyImageAltText)(),[A,p]=(0,n.useState)(!1),O=(0,n.useCallback)(()=>{v(),(0,o.dispatchCloseModalEvent)()},[v]),C=(0,n.useCallback)(()=>{const h=E.data.map(D=>{let{isEdited:N,responseId:G}=D;return{isEdited:N,responseId:G}}),P=T.data.map(D=>{let{isEdited:N,responseId:G}=D;return{isEdited:N,responseId:G}}),R=h.concat(P);S(R)},[E.data,T.data,S]);return{applyChanges:(0,n.useCallback)(async()=>{try{p(!0),C();const P=[{apply:L,data:E.data},{apply:y,data:T.data}].filter(U=>{let{data:j}=U;return j.length>0}),R=await Promise.allSettled(P.map(U=>{let{apply:j}=U;return j()})),D=R.filter(U=>U.status==="fulfilled").map(U=>U.value),N=D.length===0||D.every(U=>U===i.ApplyResult.FAILURE),G=D.length!==R.length||D.some(U=>U===i.ApplyResult.PARTIAL_FAILURE||U===i.ApplyResult.FAILURE);if(N)throw new Error("Failed to apply changes");G?((0,l.captureException)(new Error("Failed to apply some changes"),{[l.ErrorTag.ACTION]:l.Action.APPLY,[l.ErrorTag.GLOBAL]:!1}),m()):u()}catch(h){(0,l.captureException)(h,{[l.ErrorTag.ACTION]:l.Action.APPLY,[l.ErrorTag.GLOBAL]:!0}),f()}finally{O()}},[L,y,E.data,T.data,O,C]),isApplyingChanges:A}};t.useApplyChanges=g},417469:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useApplyImageAltText=void 0;var n=e(174161),a=e(390837),o=e(389419),s=e(482944),i=e(874226);const l=()=>{const{saveImageAltText:d,generateImageAltText:c}=(0,a.useSEOOptimizationContext)();return(0,n.useCallback)(async()=>{const u=c.data.map(g=>{switch(g.category){case o.ImageCategory.FLUID_ENGINE:return{id:g.id,generatedAltText:g.generatedAltText,imageCategory:g.category};case o.ImageCategory.USER_ITEMS_LIST:return{id:g.id,generatedAltText:g.generatedAltText,imageCategory:g.category,pageId:g.pageId};case o.ImageCategory.GALLERY:return{id:g.id,generatedAltText:g.generatedAltText,imageCategory:g.category,collectionId:g.collectionId}}}),f=await d(u,(g,v)=>{(0,i.captureException)(g,{[i.ErrorTag.IMAGE_CATEGORY]:v,[i.ErrorTag.ACTION]:i.Action.APPLY,[i.ErrorTag.CATEGORY]:i.Category.IMAGE_ALT_TEXT})});return(0,s.getApplyResult)(f)},[c.data,d])};t.useApplyImageAltText=l},851262:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useApplyPageMetadata=void 0;var n=e(174161),a=e(390837),o=e(482944),s=e(874226);const i=()=>{const{savePageMetadata:l,generatePageMetadata:d}=(0,a.useSEOOptimizationContext)();return(0,n.useCallback)(async()=>{const r=d.data.map(f=>({generatedDescription:f.generatedDescription,generatedTitle:f.generatedTitle,id:f.id,isHomepage:f.homepage})),m=await l(r,(f,g)=>{(0,s.captureException)(f,{[s.ErrorTag.IS_HOMEPAGE]:g,[s.ErrorTag.ACTION]:s.Action.APPLY,[s.ErrorTag.CATEGORY]:s.Category.PAGE_METADATA})});return(0,o.getApplyResult)(m)},[d.data,l])};t.useApplyPageMetadata=i},62355:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useGenerate=void 0;var n=e(174161),a=e(874226),o=e(391721),s=e(918241);const i=l=>{let{input:d,fetch:c,fetchBulk:r,onError:u,category:m}=l;const[f,g]=(0,n.useState)(s.Status.IDLE),[v,E]=(0,n.useState)([]),T=(0,n.useCallback)((M,h)=>{E(P=>P.map((R,D)=>({...R,...D===M?h:{}})))},[E]),S=(M,h)=>{T(h,{status:M})},y=(0,n.useCallback)(async()=>{const h=(await r(d)).filter(P=>!P.isError).map(P=>({...P,status:s.Status.SUCCESS}));E(h)},[d,r]),L=(0,o.useLoadable)({action:y,onError:M=>u(M,{[a.ErrorTag.ACTION]:a.Action.GENERATE,[a.ErrorTag.CATEGORY]:m}),setStatus:g}),A=(0,n.useCallback)(async M=>{const h=v[M];if(h===void 0)return;const P=await c(h);T(M,P)},[v,c,T]),p=(0,o.useLoadable)({action:A,onError:M=>u(M,{[a.ErrorTag.ACTION]:a.Action.REGENERATE,[a.ErrorTag.CATEGORY]:m}),setStatus:S}),O=M=>{S(s.Status.IDLE,M)},C=(0,n.useCallback)(()=>{g(s.Status.IDLE)},[g]);return{generate:L,regenerate:p,resetStatus:C,status:f,update:T,reset:O,data:v}};t.useGenerate=i},391721:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useLoadable=void 0;var n=e(174161),a=e(918241);const o=s=>{let{action:i,setStatus:l,onError:d}=s;return(0,n.useCallback)(async function(){for(var c=arguments.length,r=new Array(c),u=0;u<c;u++)r[u]=arguments[u];try{l(a.Status.LOADING,...r),await i(...r),l(a.Status.SUCCESS,...r)}catch(m){d(m),l(a.Status.ERROR,...r)}},[i,l,d])};t.useLoadable=o},906486:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.generateImageAltTextBulk=t.generateImageAltText=void 0;var n=e(320967),a=e(578330),o=e(350860),s=e(874226);const i=async(d,c)=>{if(d.length===0)return[];const r=(0,o.limitRequestPayload)(d,a.IMAGE_LIMIT).map(m=>m.assetUrl),{results:u}=await(0,n.generateImageAltTextBulk)(r,c);return u.map((m,f)=>{const g=d[f];if(!g)throw new Error(`Generated images length ${u.length} differs from input length of ${d.length}`);return m.errorCode!==null?((0,s.captureException)(new Error("Failed to generate image alt text"),{[s.ErrorTag.ACTION]:s.Action.GENERATE,[s.ErrorTag.GLOBAL]:!1,[s.ErrorTag.CATEGORY]:s.Category.IMAGE_ALT_TEXT}),{...g,isError:!0}):{...g,isError:!1,generatedAltText:m.text,responseId:m.responseId,isEdited:!1}})};t.generateImageAltTextBulk=i;const l=async(d,c)=>{const r=await(0,n.generateImageAltText)(d.assetUrl,c);return{...d,isEdited:!1,generatedAltText:r.text,responseId:r.responseId}};t.generateImageAltText=l},78735:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useGenerateImageAltText=void 0;var n=e(332943),a=e(389419),o=e(874226),s=e(906486),i=e(62355);const l=c=>!(0,a.isUserItemsListContentItem)(c)||(0,a.isUserItemsListImageContentItemMissingAltText)(c),d=c=>{const r=(0,n.useGenerateContentEventMetadata)();return(0,i.useGenerate)({input:c.filter(l),fetch:u=>(0,s.generateImageAltText)(u,r),fetchBulk:u=>(0,s.generateImageAltTextBulk)(u,r),onError:o.captureException,category:o.Category.IMAGE_ALT_TEXT})};t.useGenerateImageAltText=d},829514:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.generatePageMetadataBulk=t.generatePageMetadata=void 0;var n=e(120933),a=e(578330),o=e(295049),s=e(350860),i=e(874226);const l=(r,u,m,f)=>f?`${m} | ${u}`:`${r} | ${u}`,d=async(r,u,m)=>{if(r.length===0)return[];const g=(0,s.limitRequestPayload)(r,a.PAGE_LIMIT).map(async T=>({...T,pageTitle:T.title,pageContent:await(0,o.getPageTextContent)(T.route)})),v=await(await Promise.allSettled(g)).filter(T=>T.status==="fulfilled").map(T=>T.value),{results:E}=await(0,n.generatePageMetadataBulk)(v.map(T=>{let{pageContent:S,pageTitle:y}=T;return{pageContent:S,pageTitle:y}}),m);return E.map((T,S)=>{const y=r[S];if(!y)throw new Error(`Generated page metadata length ${E.length} differs from input length of ${r.length}`);return T.errorCode!==null?((0,i.captureException)(new Error("Failed to generate page metadata"),{[i.ErrorTag.ACTION]:i.Action.GENERATE,[i.ErrorTag.GLOBAL]:!1,[i.ErrorTag.CATEGORY]:i.Category.PAGE_METADATA}),{...y,isError:!0}):{...y,isError:!1,generatedTitle:l(y.title,T.pageTagline,u,y.homepage),generatedDescription:T.pageDescription,responseId:T.responseId,isEdited:!1}})};t.generatePageMetadataBulk=d;const c=async(r,u,m)=>{const f=await(0,o.getPageTextContent)(r.route),g=await(0,n.generatePageMetadata)({pageContent:f,pageTitle:r.title},m);return{...r,generatedTitle:l(r.title,g.pageTagline,u,r.homepage),generatedDescription:g.pageDescription,responseId:g.responseId,isEdited:!1}};t.generatePageMetadata=c},763498:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useGeneratePageMetadata=void 0;var n=e(332943),a=e(874226),o=e(829514),s=e(62355);const i=(l,d)=>{const c=(0,n.useGenerateContentEventMetadata)();return(0,s.useGenerate)({input:l,fetch:r=>(0,o.generatePageMetadata)(r,d,c),fetchBulk:r=>(0,o.generatePageMetadataBulk)(r,d,c),onError:a.captureException,category:a.Category.PAGE_METADATA})};t.useGeneratePageMetadata=i},27643:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useScan=void 0;var n=e(174161),a=e(918241);const o=s=>{let{onError:i,fetcher:l}=s;const[d,c]=(0,n.useState)(a.Status.IDLE),[r,u]=(0,n.useState)([]),m=(0,n.useCallback)(async()=>{try{c(a.Status.LOADING);const g=await l();u(g),c(a.Status.SUCCESS)}catch(g){i(g),c(a.Status.ERROR)}},[l,i]),f=(0,n.useCallback)(()=>{c(a.Status.IDLE)},[]);return{data:r,status:d,scan:m,resetStatus:f}};t.useScan=o},654358:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getFluidEngineImageMetadata=void 0;var n=e(645351),a=e(389419);const o=i=>i.fluidEngineContext.gridContents.map(l=>l.content.value).filter(l=>(0,n.isImageBlock)(l)&&(0,n.isImageBlockWithImageId)(l)).map(l=>({imageId:l.value.imageId})),s=i=>{const l={};return i.flatMap(o).forEach(d=>{let{imageId:c}=d;l[c]={category:a.ImageCategory.FLUID_ENGINE}}),{imageMetadata:l,derivedImageContentItems:[]}};t.getFluidEngineImageMetadata=s},521688:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getGalleryImageContentItems=void 0;var n=e(14866),a=e(389419),o=e(874226);const s=async l=>{try{const d=await(0,n.fetchImageContentItemsForCollection)(l),c=[],r=[];return d.forEach(u=>{let{assetUrl:m,body:f,id:g,collectionId:v}=u;r.push(g),c.push({assetUrl:m,collectionId:v,id:g,category:a.ImageCategory.GALLERY,altText:f.html})}),{contentItems:c,contentItemIds:r}}catch(d){throw(0,o.captureException)(new Error(`Failed to fetch gallery images for id: ${l}`,{cause:d}),{[o.ErrorTag.ACTION]:o.Action.SCAN,[o.ErrorTag.CATEGORY]:o.Category.IMAGE_ALT_TEXT,[o.ErrorTag.IMAGE_CATEGORY]:a.ImageCategory.GALLERY}),d}},i=async l=>{const d=l.map(async m=>s(m.jsonData.galleryOptions.transientGalleryId)),c=await Promise.allSettled(d),r=[],u=[];return c.filter(m=>m.status==="fulfilled").flatMap(m=>m.value).forEach(m=>{let{contentItems:f,contentItemIds:g}=m;r.push(...f),u.push(...g)}),{contentItems:r,contentItemIds:u}};t.getGalleryImageContentItems=i},608043:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getImageContentItems=void 0;var n=e(157346),a=e(389419),o=e(222476),s=e(654358),i=e(521688),l=e(789046),d=e(979303);const c=(m,f)=>{let g={};const v=[];return f.forEach(E=>{switch(E){case a.ImageCategory.FLUID_ENGINE:{const T=m.filter(o.isFluidEngineSection),{imageMetadata:S}=(0,s.getFluidEngineImageMetadata)(T);g={...g,...S};break}case a.ImageCategory.USER_ITEMS_LIST:{const T=m.filter(o.isUserItemsListSection),{imageMetadata:S,derivedImageContentItems:y}=(0,l.getUserItemsSectionsImageMetadata)(T);g={...g,...S},v.push(...y);break}}}),{imageMetadata:g,derivedImageContentItems:v}},r=async(m,f)=>{const{imageMetadata:g,derivedImageContentItems:v}=c(m,f),E=L=>{const A=g[L];if(A===void 0)throw new Error(`Failed to find page id for image content id: ${L}`);return A},T=Object.keys(g);return{contentItems:[...(await(0,n.fetchImageContentItemsParallel)(T)).filter(L=>!L.isError).map(L=>{let{id:A,data:p}=L;return{...p,...E(A),id:A}}),...v],contentItemIds:T}},u=async m=>{if(m.length===0)return[];const{contentItems:f,contentItemIds:g}=(await Promise.allSettled([r(m,[a.ImageCategory.FLUID_ENGINE,a.ImageCategory.USER_ITEMS_LIST]),(0,i.getGalleryImageContentItems)(m.filter(o.isGallerySection))])).filter(E=>E.status==="fulfilled").flatMap(E=>E.value).reduce((E,T)=>{let{contentItems:S,contentItemIds:y}=T;return{contentItems:[...E.contentItems,...S],contentItemIds:[...E.contentItemIds,...y]}},{contentItems:[],contentItemIds:[]});if(f.length===0&&g.length>0)throw new Error("Failed to fetch image content items");return(await Promise.all(f.map(async E=>await(0,d.isImageWithInvalidAssetUrl)(E)?null:E))).filter(E=>E!==null)};t.getImageContentItems=u},710085:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getPageSections=void 0;var n=e(37433),a=e(822602);const o=async s=>{if(s.length===0)return[];const i=s.map(l=>{let{id:d}=l;return d});return(0,a.createBulkRequestsParallel)(i,n.FETCH_PAGE_SECTIONS_REQUEST_LIMIT,n.fetchPageSections)};t.getPageSections=o},102335:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.scanImageAltText=void 0;var n=e(608043),a=e(710085);const o=async s=>{const i=await(0,a.getPageSections)(s);return await(0,n.getImageContentItems)(i)};t.scanImageAltText=o},805550:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useScanImageAltText=void 0;var n=e(174161),a=e(874226),o=e(102335),s=e(27643);const i=c=>!c.altText,l=c=>!i(c),d=c=>{const{data:r,scan:u,status:m,resetStatus:f}=(0,s.useScan)((0,n.useMemo)(()=>({fetcher:()=>(0,o.scanImageAltText)(c),onError:g=>{(0,a.captureException)(g,{[a.ErrorTag.ACTION]:a.Action.SCAN,[a.ErrorTag.CATEGORY]:a.Category.IMAGE_ALT_TEXT,[a.ErrorTag.GLOBAL]:!0})}}),[c]));return{scan:u,status:m,data:{issues:r.filter(i),resolved:r.filter(l)},resetStatus:f}};t.useScanImageAltText=d},789046:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getUserItemsSectionsImageMetadata=void 0;var n=e(706255),a=e(389419);const o=i=>{const l=[],d=i.jsonData.userItems.filter(n.isUserItemWithImageId),c={};return d.forEach(r=>{(0,n.isUserItemWithImageAltText)(r)?l.push({altText:r.imageAltText,category:a.ImageCategory.USER_ITEMS_LIST,id:r.imageId}):c[r.imageId]={category:a.ImageCategory.USER_ITEMS_LIST,pageId:i.pageId}}),{imageContentItems:l,imageIdToMetadata:c}},s=i=>{const l={},d=[];return i.forEach(c=>{const{imageContentItems:r,imageIdToMetadata:u}=o(c);d.push(...r),Object.entries(u).forEach(m=>{let[f,g]=m;l[f]=g})}),{imageMetadata:l,derivedImageContentItems:d}};t.getUserItemsSectionsImageMetadata=s},979303:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.isImageWithInvalidAssetUrl=void 0;var a=n(e(456903)),o=e(389419);const s=async i=>{if((0,o.isUserItemsListImageContentItemWithAltText)(i))return!1;try{return await a.default.head(i.assetUrl),!1}catch{return!0}};t.isImageWithInvalidAssetUrl=s},750745:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_NON_HOMEPAGE_TITLE_FORMAT=t.DEFAULT_HOMEPAGE_TITLE_FORMAT=void 0;const e=t.DEFAULT_HOMEPAGE_TITLE_FORMAT="%s",n=t.DEFAULT_NON_HOMEPAGE_TITLE_FORMAT="%p \u2014 %s"},896182:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useScanPageMetadata=void 0;var n=e(174161),a=e(874226),o=e(823053),s=e(27643),i=e(199526);const l=d=>{let{homepageSEODescription:c,homepageSEOTitleFormat:r,nonHomepageSEOTitleFormat:u,pageCollections:m}=d;const{data:f,scan:g,status:v,resetStatus:E}=(0,s.useScan)((0,n.useMemo)(()=>({fetcher:()=>(0,o.scanPageMetadata)({homepageSEODescription:c,homepageSEOTitleFormat:r,pageCollections:m,nonHomepageSEOTitleFormat:u}),onError:T=>{(0,a.captureException)(T,{[a.ErrorTag.ACTION]:a.Action.SCAN,[a.ErrorTag.CATEGORY]:a.Category.PAGE_METADATA,[a.ErrorTag.GLOBAL]:!0})}}),[c,r,m,u]));return{scan:g,status:v,data:{issues:f.filter(i.isPageMetadataMissing),resolved:f.filter(i.isPageMetadataPresent)},resetStatus:E}};t.useScanPageMetadata=l},367660:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.mapPageCollectionToPageMetadata=void 0;var n=e(171111);const a=i=>{let{pageCollection:l,homepageSEODescription:d,homepageSEOTitleFormat:c}=i;return{id:l.id,homepage:l.homepage,route:l.fullUrl,title:l.title,seoDescription:d,seoTitleFormat:c}},o=i=>{var l,d;let{nonHomepageSEOTitleFormat:c,pageCollection:r}=i;return{id:r.id,homepage:r.homepage,route:r.fullUrl,title:r.title,seoDescription:(l=r.seoData)===null||l===void 0?void 0:l.seoDescription,seoTitle:(d=r.seoData)===null||d===void 0?void 0:d.seoTitle,seoTitleFormat:c}},s=i=>{let{pageCollection:l,homepageSEODescription:d,homepageSEOTitleFormat:c,nonHomepageSEOTitleFormat:r}=i;return(0,n.isHomepageCollection)(l)?a({pageCollection:l,homepageSEODescription:d,homepageSEOTitleFormat:c}):o({pageCollection:l,nonHomepageSEOTitleFormat:r})};t.mapPageCollectionToPageMetadata=s},823053:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.scanPageMetadata=void 0;var n=e(367660);const a=async o=>{let{pageCollections:s,homepageSEODescription:i,homepageSEOTitleFormat:l,nonHomepageSEOTitleFormat:d}=o;return s.map(c=>(0,n.mapPageCollectionToPageMetadata)({homepageSEODescription:i,homepageSEOTitleFormat:l,nonHomepageSEOTitleFormat:d,pageCollection:c}))};t.scanPageMetadata=a},199526:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.isPageMetadataPresent=t.isPageMetadataMissing=void 0;var n=e(148999),a=e(750745);const o=d=>{let{title:c,seoDescription:r,seoTitle:u,seoTitleFormat:m}=d;const f=!r,g=m===a.DEFAULT_NON_HOMEPAGE_TITLE_FORMAT&&(!u||u===c);return f&&g},s=d=>{let{seoDescription:c,seoTitleFormat:r}=d;const u=!c,m=r===a.DEFAULT_HOMEPAGE_TITLE_FORMAT;return u&&m},i=d=>(0,n.isHomepageMetadata)(d)?s(d):o(d);t.isPageMetadataMissing=i;const l=d=>!i(d);t.isPageMetadataPresent=l},203756:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.scanPages=void 0;var a=e(225840),o=n(e(437951)),s=e(228512);const i=new Set([o.default.COLLECTION_TYPE_GENERIC,o.default.COLLECTION_TYPE_PAGE,o.default.COURSE,o.default.LESSONS,o.default.PORTFOLIO,o.default.PRODUCTS]),l=c=>{var r;return c.websiteId&&c.websiteId!==((r=(0,a.getWebsiteContext)())===null||r===void 0||(r=r.website)===null||r===void 0?void 0:r.id)},d=async()=>{const{collections:c}=await(0,s.fetchAllPages)();return Object.values(c).filter(u=>!l(u)&&i.has(u.type))};t.scanPages=d},60790:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useScanPages=void 0;var n=e(174161),a=e(874226),o=e(203756),s=e(27643);const i=()=>(0,s.useScan)((0,n.useMemo)(()=>({fetcher:o.scanPages,onError:l=>{(0,a.captureException)(new Error("Failed to fetch pages",{cause:l}),{[a.ErrorTag.ACTION]:a.Action.SCAN,[a.ErrorTag.CATEGORY]:a.Category.PAGES,[a.ErrorTag.GLOBAL]:!0})}}),[]));t.useScanPages=i},196922:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSEOScanReport=void 0;const e=n=>{let{imageAltText:a,pageMetadata:o}=n;const s=o.issues+o.resolved,i=a.issues+a.resolved,l=o.resolved+a.resolved,d=s+i,c=Math.round(l/d*100),r=c===100;return{images:{...a,total:i},pages:{...o,total:s},isComplete:r,percentageComplete:c}};t.getSEOScanReport=e},820326:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useScanSiteContent=void 0;var n=e(174161),a=e(918241),o=e(62012),s=e(196922),i=e(805550),l=e(896182),d=e(60790);const c=[a.Status.LOADING,a.Status.ERROR,a.Status.IDLE,a.Status.SUCCESS],r=u=>{let{homepageSEODescription:m,homepageSEOTitleFormat:f,nonHomepageSEOTitleFormat:g}=u;const{data:v,scan:E,status:T,resetStatus:S}=(0,d.useScanPages)(),{data:y,scan:L,status:A,resetStatus:p}=(0,i.useScanImageAltText)(v),{data:O,scan:C,status:M,resetStatus:h}=(0,l.useScanPageMetadata)({homepageSEODescription:m,homepageSEOTitleFormat:f,nonHomepageSEOTitleFormat:g,pageCollections:v}),P=(0,n.useCallback)(()=>{S(),p(),h()},[p,S,h]);(0,n.useEffect)(()=>{T===a.Status.SUCCESS&&(L(),C())},[T,L,C]);const R=G=>(0,o.isStatus)([T,A,M],G),D=c.find(G=>R(G))||a.Status.SUCCESS,N=(0,n.useMemo)(()=>(0,s.getSEOScanReport)({imageAltText:{issues:y.issues.length,resolved:y.resolved.length},pageMetadata:{issues:O.issues.length,resolved:O.resolved.length}}),[y,O]);return{scanningSiteStatus:D,images:y,pages:O,scanSite:E,seoScanReport:N,onReadyForReScan:P}};t.useScanSiteContent=r},658169:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BUSINESS_AI_OPEN_TOAST_EVENT=void 0;const e=t.BUSINESS_AI_OPEN_TOAST_EVENT="BUSINESS_AI_OPEN_TOAST_EVENT"},544498:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useToast=t.dispatchOpenToast=void 0;var n=e(174161),a=e(390837),o=e(658169);const s=l=>{var d;(d=window)===null||d===void 0||(d=d.top)===null||d===void 0||d.dispatchEvent(new CustomEvent(o.BUSINESS_AI_OPEN_TOAST_EVENT,{detail:l}))};t.dispatchOpenToast=s;const i=()=>{const l=(0,n.useRef)(null),{trackUserViewsSEOChangesToast:d}=(0,a.useSEOAnalyticsContext)();return(0,n.useEffect)(()=>{var c;const r=u=>{var m;(m=l.current)===null||m===void 0||m.show({...u.detail}),d({object_value:u.detail.variant})};return(c=window.top)===null||c===void 0||c.addEventListener(o.BUSINESS_AI_OPEN_TOAST_EVENT,r),()=>{var u;(u=window.top)===null||u===void 0||u.removeEventListener(o.BUSINESS_AI_OPEN_TOAST_EVENT,r)}},[d]),l};t.useToast=i},698598:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getWizardState=t.WizardState=void 0;let e=t.WizardState=function(a){return a.APPLYING="applying",a.GENERATING="generating",a.ERROR="error",a.ACTIVE="active",a}({});const n=a=>{let{failedToLoadAllContent:o,isApplyingChanges:s,isLoadingContent:i}=a;return i?e.GENERATING:s?e.APPLYING:o?e.ERROR:e.ACTIVE};t.getWizardState=n},262456:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useWizard=void 0;var n=e(894458),a=e(174161),o=e(578330),s=e(613851),i=e(853571),l=e(613229),d=e(390837),c=e(368630),r=e(62012),u=e(874226),m=e(984534),f=e(428583),g=e(558056),v=e(698598),E=e(697726);const T=g.SEOOptimizationWizardStep.PAGE_META_DATA_STEP,S=()=>{const[y,L]=(0,a.useState)(!1),[A]=(0,a.useState)(()=>new n.Wizard.History),[p,O]=(0,a.useState)(T),{pages:C,images:M,generateImageAltText:h,generatePageMetadata:P,isGeneratingContent:R,scanningSiteStatus:D}=(0,d.useSEOOptimizationContext)(),{trackUserNavigatesBackwardsInSEORecommendations:N,trackUserClicksSaveSEORecommendations:G,trackUserClicksExitWithoutSaveDialogBoxCTA:U,trackUserClosesSEORecommendations:j}=(0,d.useSEOAnalyticsContext)(),{applyChanges:b,isApplyingChanges:x}=(0,E.useApplyChanges)(),W=[{stepComponent:f.PageMetadataStep,id:g.SEOOptimizationWizardStep.PAGE_META_DATA_STEP,issues:C.issues,limit:o.PAGE_LIMIT,generated:P.data},{stepComponent:m.ImageAltTextStep,id:g.SEOOptimizationWizardStep.IMAGE_ALT_TEXT_STEP,issues:M.issues,limit:o.IMAGE_LIMIT,generated:h.data}].filter(B=>{let{issues:F}=B;return F.length>0}),_=(0,a.useCallback)((B,F)=>(0,r.isStatus)([B],c.Status.ERROR)||(0,r.isStatus)([B],c.Status.SUCCESS)&&F.length===0,[]),w=_(h.status,h.data),z=_(P.status,P.data),k=(0,a.useMemo)(()=>z&&w||D===c.Status.ERROR,[z,w,D]),V=(0,a.useMemo)(()=>P.status!==c.Status.IDLE&&h.status!==c.Status.IDLE,[P.status,h.status]),Z=(0,a.useMemo)(()=>R||!V&&D===c.Status.SUCCESS||D===c.Status.LOADING,[R,V,D]),H=(0,v.getWizardState)({failedToLoadAllContent:k,isApplyingChanges:x,isLoadingContent:Z});return(0,a.useEffect)(()=>{H===v.WizardState.ERROR&&(0,u.captureException)(new Error("Failed to generate all content"),{[u.ErrorTag.ACTION]:u.Action.GENERATE,[u.ErrorTag.GLOBAL]:!0})},[H]),{currentStep:p,failedToLoadAllContent:k,history:A,isApplyingChanges:x,onBack:()=>{const B=A.getPreviousStepId(),F=A.getCurrentStepId();B&&F&&(N({recommendation_page:i.StepToRecommendationPage[F]}),O(B))},onNext:(B,F)=>{G({object_value:F===g.SEOOptimizationWizardStep.DONE?"save":"save_and_continue",recommendation_page:i.StepToRecommendationPage[B]}),F===g.SEOOptimizationWizardStep.DONE?b():O(F)},stepConfig:W,wizardState:H,isConfirmationModalOpen:y,onConfirmConfirmationModal:()=>{U({action:"leave"}),(0,l.dispatchCloseModalEvent)()},onCancelConfirmationModal:()=>{U({action:"cancel"}),L(!1)},onClose:()=>{let B;switch(H){case v.WizardState.APPLYING:B=s.RecommendationPage.SAVING;break;case v.WizardState.ERROR:B=s.RecommendationPage.ERROR;break;case v.WizardState.GENERATING:B=s.RecommendationPage.GENERATING;break;case v.WizardState.ACTIVE:{const F=A.getCurrentStepId();B=i.StepToRecommendationPage[F];break}}j({recommendation_page:B}),H===v.WizardState.ERROR?(0,l.dispatchCloseModalEvent)():L(!0)}}};t.useWizard=S},613229:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchOpenModalEvent=t.dispatchCloseModalEvent=t.OPEN_SEO_OPTIMIZATION_MODAL_EVENT=t.CLOSE_SEO_OPTIMIZATION_MODAL_EVENT=void 0;const e=i=>`seo_optimization_modal-${i}`,n=t.OPEN_SEO_OPTIMIZATION_MODAL_EVENT=e("open"),a=t.CLOSE_SEO_OPTIMIZATION_MODAL_EVENT=e("close"),o=()=>{var i;(i=window)===null||i===void 0||(i=i.top)===null||i===void 0||i.dispatchEvent(new CustomEvent(n))};t.dispatchOpenModalEvent=o;const s=()=>{var i;(i=window)===null||i===void 0||(i=i.top)===null||i===void 0||i.dispatchEvent(new CustomEvent(a))};t.dispatchCloseModalEvent=s},89142:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.SEOOptimizationModal=void 0;var a=e(670563),o=e(923842),s=n(e(174161)),i=e(479487),l=e(105718),d=e(671435),c=e(613229),r=e(544498);const u=()=>{const{isOpen:f}=(0,l.useModal)({closeEventName:c.CLOSE_SEO_OPTIMIZATION_MODAL_EVENT,openEventName:c.OPEN_SEO_OPTIMIZATION_MODAL_EVENT}),g=(0,r.useToast)();return s.default.createElement(s.default.Fragment,null,f&&s.default.createElement(d.SEOOptimizationWizard,null),s.default.createElement(o.ZIndexStack,null,s.default.createElement(a.Toast.Container,{ref:g})))},m=t.SEOOptimizationModal=(0,i.withUnwrapProviderOnError)(u)},934734:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useAnalyticsContext=t.AnalyticsProvider=void 0;var n=i(e(174161)),a=e(180327),o=e(853571);function s(r){if(typeof WeakMap!="function")return null;var u=new WeakMap,m=new WeakMap;return(s=function(f){return f?m:u})(r)}function i(r,u){if(!u&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var m=s(u);if(m&&m.has(r))return m.get(r);var f={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(v!=="default"&&Object.prototype.hasOwnProperty.call(r,v)){var E=g?Object.getOwnPropertyDescriptor(r,v):null;E&&(E.get||E.set)?Object.defineProperty(f,v,E):f[v]=r[v]}return f.default=r,m&&m.set(r,f),f}const l=(0,n.createContext)(null),d=()=>{const r=(0,n.useContext)(l);if(r===null)throw new Error("`useAnalyticsContext` should only be called by a descendant of `SEOAnalyticsProvider`.");return r};t.useAnalyticsContext=d;const c=r=>{let{productArea:u,children:m}=r;const{trackUserClicksBusinessToolsEntryPoint:f,trackUserViewsSEOReport:g,trackUserViewsSEOReportError:v}=(0,a.useEntryPointEvents)(u),{trackUserCancelsEditSEOText:E,trackUserEditSEORecommendation:T,trackUserSavedEditedSEOText:S,trackUserClicksExitWithoutSaveDialogBoxCTA:y,trackUserClicksRegenerateSEORecommendation:L,trackUserClicksSaveSEORecommendations:A,trackUserClosesSEORecommendations:p,trackUserNavigatesBackwardsInSEORecommendations:O,trackUserSavesGeneratedText:C,trackUserViewsExitWithoutSaveDialogBox:M,trackUserViewsSEOChangesToast:h,trackUserViewsSEOGenerationError:P,trackUserViewsSEORecommendations:R}=(0,o.useWizardEvents)(u),D=(0,n.useMemo)(()=>({productArea:u,trackUserClicksBusinessToolsEntryPoint:f,trackUserViewsSEOReport:g,trackUserViewsSEOReportError:v,trackUserCancelsEditSEOText:E,trackUserEditSEORecommendation:T,trackUserSavedEditedSEOText:S,trackUserClicksExitWithoutSaveDialogBoxCTA:y,trackUserClicksRegenerateSEORecommendation:L,trackUserClicksSaveSEORecommendations:A,trackUserClosesSEORecommendations:p,trackUserNavigatesBackwardsInSEORecommendations:O,trackUserSavesGeneratedText:C,trackUserViewsExitWithoutSaveDialogBox:M,trackUserViewsSEOChangesToast:h,trackUserViewsSEOGenerationError:P,trackUserViewsSEORecommendations:R}),[u,f,g,v,E,T,S,y,L,A,p,O,C,M,h,P,R]);return n.default.createElement(l.Provider,{value:D},m)};t.AnalyticsProvider=c},337351:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useOptimizationContext=t.OptimizationProvider=void 0;var n=f(e(174161)),a=e(479487),o=e(78735),s=e(763498),i=e(820326),l=e(89142),d=e(613229),c=e(918241),r=e(62012),u=e(390837);function m(T){if(typeof WeakMap!="function")return null;var S=new WeakMap,y=new WeakMap;return(m=function(L){return L?y:S})(T)}function f(T,S){if(!S&&T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var y=m(S);if(y&&y.has(T))return y.get(T);var L={__proto__:null},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in T)if(p!=="default"&&Object.prototype.hasOwnProperty.call(T,p)){var O=A?Object.getOwnPropertyDescriptor(T,p):null;O&&(O.get||O.set)?Object.defineProperty(L,p,O):L[p]=T[p]}return L.default=T,y&&y.set(T,L),L}const g=(0,n.createContext)(null),v=()=>{const T=(0,n.useContext)(g);if(T===null)throw new Error("`useSEOOptimizationContext` should only be called by a descendant of `SEOOptimizationProvider`.");return T};t.useOptimizationContext=v;const E=T=>{const{siteTitle:S,deferSiteScan:y,homepageSEODescription:L,homepageSEOTitleFormat:A,nonHomepageSEOTitleFormat:p,saveImageAltText:O,savePageMetadata:C,children:M}=T,{trackUserClicksBusinessToolsEntryPoint:h}=(0,u.useSEOAnalyticsContext)(),{images:P,scanningSiteStatus:R,pages:D,scanSite:N,seoScanReport:G,onReadyForReScan:U}=(0,i.useScanSiteContent)({homepageSEODescription:L,homepageSEOTitleFormat:A,nonHomepageSEOTitleFormat:p}),j=(0,o.useGenerateImageAltText)(P.issues),b=(0,s.useGeneratePageMetadata)(D.issues,S),x=(0,r.isStatus)([j.status,b.status],c.Status.LOADING),W=(0,n.useMemo)(()=>R===c.Status.SUCCESS&&(0,r.isStatus)([j.status,b.status],c.Status.IDLE),[R,j.status,b.status]),_=(0,n.useCallback)(async()=>{await Promise.all([j.generate(),b.generate()])},[j,b]),w=(0,n.useCallback)(()=>(j.resetStatus(),b.resetStatus(),N()),[j,b,N]),z=G.images.issues>0||G.pages.issues>0,k=(0,n.useCallback)(()=>{h(),y?w():_(),(0,d.dispatchOpenModalEvent)()},[y,w,h,_]);(0,n.useEffect)(()=>{!y&&R===c.Status.IDLE&&w()},[y,w,R]),(0,n.useEffect)(()=>{!y||!W||(z?_():T.onDeferredSiteScanWithNoIssues())},[y,_,z,W,T]);const V=(0,n.useMemo)(()=>({generateContent:_,generateImageAltText:j,generatePageMetadata:b,homepageSEODescription:L,homepageSEOTitleFormat:A,images:P,isGeneratingContent:x,scanningSiteStatus:R,nonHomepageSEOTitleFormat:p,pages:D,onReadyForReScan:U,siteTitle:S,saveImageAltText:O,savePageMetadata:C,seoScanReport:G,openSEOOptimizationModal:k}),[_,j,b,L,A,P,x,R,p,D,U,S,O,C,G,k]);return n.default.createElement(a.ErrorBoundary,{errorContents:M},n.default.createElement(g.Provider,{value:V},n.default.createElement(l.SEOOptimizationModal,null),M))};t.OptimizationProvider=E},390837:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.SEOOptimizationProvider=void 0,Object.defineProperty(t,"useSEOAnalyticsContext",{enumerable:!0,get:function(){return o.useAnalyticsContext}}),Object.defineProperty(t,"useSEOOptimizationContext",{enumerable:!0,get:function(){return s.useOptimizationContext}});var a=n(e(174161)),o=e(934734),s=e(337351);const i=l=>a.default.createElement(o.AnalyticsProvider,{productArea:l.productArea},a.default.createElement(s.OptimizationProvider,l,l.children));t.SEOOptimizationProvider=i},403944:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ApplyResult=void 0;let e=t.ApplyResult=function(n){return n.SUCCESS="success",n.PARTIAL_FAILURE="partial_failure",n.FAILURE="failure",n}({})},148999:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNonHomepageMetadata=t.isHomepageMetadata=void 0;const e=a=>a.homepage;t.isHomepageMetadata=e;const n=a=>!a.homepage;t.isNonHomepageMetadata=n},222476:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.isUserItemsListSection=t.isGallerySection=t.isFluidEngineSection=void 0;var n=e(227904);const a=i=>i.sectionName===n.SectionName.FLUID_ENGINE;t.isFluidEngineSection=a;const o=i=>i.sectionName===n.SectionName.JSON_SCHEMA&&i.sectionDefinitionName===n.SectionDefinitionName.GALLERY;t.isGallerySection=o;const s=i=>i.sectionName===n.SectionName.JSON_SCHEMA&&i.sectionDefinitionName===n.SectionDefinitionName.USER_ITEMS_LIST;t.isUserItemsListSection=s},822602:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createBulkRequestsParallel=void 0;const e=async(n,a,o)=>{if(a<=0)throw new Error("batchSize must be greater than 0");const s=[],i=Math.ceil(n.length/a);for(let d=0;d<i;d++){const c=n.slice(d*a,(d+1)*a);s.push(o(c))}return(await Promise.allSettled(s)).filter(d=>d.status==="fulfilled").flatMap(d=>d.value)};t.createBulkRequestsParallel=e},482944:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getApplyResult=void 0;var n=e(403944);const a=o=>{const s=o.filter(d=>d.status==="rejected").length,i=!!(o.length&&s===o.length),l=s>0;return i?n.ApplyResult.FAILURE:l?n.ApplyResult.PARTIAL_FAILURE:n.ApplyResult.SUCCESS};t.getApplyResult=a},295049:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.getPageTextContent=void 0;var a=n(e(456903)),o=n(e(28845));const s=6e3,i=async l=>{const c=await(await a.default.get(l)).data;return(0,o.default)(c,{allowedTags:[],allowedAttributes:{}}).replace(/\n\s+\n+/g,`
`).slice(0,s)};t.getPageTextContent=i},149314:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getPageUrl=void 0;var n=e(225840);const a=o=>{var s;const i=(s=(0,n.getWebsiteContext)())===null||s===void 0||(s=s.website)===null||s===void 0?void 0:s.baseUrl;if(typeof i!="string")throw Error("Unable to retrieve base url");return i+o};t.getPageUrl=a},62012:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isStatus=void 0;const e=(n,a)=>n.some(o=>o===a);t.isStatus=e},350860:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.limitRequestPayload=void 0;const e=(n,a)=>n.length>a?n.slice(0,a):n;t.limitRequestPayload=e},874226:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.captureMessage=t.captureException=t.ErrorTag=t.Category=t.Action=void 0;var n=e(647478);let a=t.ErrorTag=function(d){return d.IMAGE_CATEGORY="image_category",d.CATEGORY="category",d.GLOBAL="global",d.ACTION="action",d.IS_HOMEPAGE="is_homepage",d.PROJECT="project",d}({}),o=t.Category=function(d){return d.IMAGE_ALT_TEXT="image_alt_text",d.PAGE_METADATA="page_metadata",d.PAGES="pages",d}({}),s=t.Action=function(d){return d.APPLY="apply",d.GENERATE="generate",d.REGENERATE="regenerate",d.SCAN="scan",d}({});const i=(d,c)=>{n.sentry.withSquarespaceScope(r=>{c&&r.setTags({...c,[a.PROJECT]:n.Project.SEO_OPTIMIZATION}),n.sentry.captureException(d)})};t.captureException=i;const l=d=>{n.sentry.withSquarespaceScope(()=>{n.sentry.captureMessage(d)})};t.captureMessage=l},105718:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useModal=void 0;var n=e(174161);const a=o=>{const[s,i]=(0,n.useState)(!1),l=(0,n.useCallback)(()=>i(!0),[i]),d=(0,n.useCallback)(()=>i(!1),[i]);return(0,n.useEffect)(()=>{if(o){var c,r;const{closeEventName:u,openEventName:m}=o;return(c=window.top)===null||c===void 0||c.addEventListener(m,l),(r=window.top)===null||r===void 0||r.addEventListener(u,d),()=>{var f,g;(f=window.top)===null||f===void 0||f.removeEventListener(m,l),(g=window.top)===null||g===void 0||g.removeEventListener(u,d)}}},[l,d,o]),{isOpen:s,closeModal:d,openModal:l}};t.useModal=a},940813:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.CenteredViewUI=void 0;var a=e(778008),o=n(e(174161));const s=i=>{let{testId:l,children:d}=i;return o.default.createElement(a.Flex,{alignItems:"center","data-testid":l,flexDirection:"column",height:"100%",justifyContent:"center",width:"100%"},d)};t.CenteredViewUI=s},286337:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmationModal=void 0;var n=e(894458),a=e(670563),o=d(e(174161)),s=e(160841),i=e(390837);function l(r){if(typeof WeakMap!="function")return null;var u=new WeakMap,m=new WeakMap;return(l=function(f){return f?m:u})(r)}function d(r,u){if(!u&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var m=l(u);if(m&&m.has(r))return m.get(r);var f={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(v!=="default"&&Object.prototype.hasOwnProperty.call(r,v)){var E=g?Object.getOwnPropertyDescriptor(r,v):null;E&&(E.get||E.set)?Object.defineProperty(f,v,E):f[v]=r[v]}return f.default=r,m&&m.set(r,f),f}const c=r=>{let{isOpen:u,onConfirm:m,onCancel:f}=r;const{trackUserViewsExitWithoutSaveDialogBox:g}=(0,i.useSEOAnalyticsContext)();return(0,o.useEffect)(()=>{u&&g()},[u,g]),o.default.createElement(a.Modal.Transition,null,u&&o.default.createElement(a.Modal,{onRequestClose:f},o.default.createElement(a.Modal.Overlay,null),o.default.createElement(a.Modal.Position,{position:"center"},o.default.createElement(n.AlertDialog,{buttons:[v=>{let{onRequestClose:E}=v;return o.default.createElement(n.AlertDialog.Button,{key:"cancel",onClick:E},o.default.createElement(s.T,{project:"business-ai-tools"},"Cancel"))},()=>o.default.createElement(n.AlertDialog.Button,{color:"warning",key:"leave",onClick:m},o.default.createElement(s.T,{project:"business-ai-tools"},"Leave"))],message:(0,s.t)("Your most recent changes will not be saved.",null,{project:"business-ai-tools"}),title:(0,s.t)("Leave without saving?",null,{project:"business-ai-tools"})}))))};t.ConfirmationModal=c},728708:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.LearnMoreLink=void 0;var a=n(e(174161)),o=e(160841);const s=i=>{let{href:l}=i;return a.default.createElement("a",{href:l,rel:"noopener noreferrer",target:"_blank"},a.default.createElement(o.T,{project:"business-ai-tools"},"Learn more"))};t.LearnMoreLink=s},534465:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.WIZARD_NAV_HEIGHT=t.StickyWizardNavigation=void 0;var a=e(894458),o=e(778008),s=e(352635),i=n(e(174161));const l=t.WIZARD_NAV_HEIGHT=s.sizes.sizes[450],d=c=>i.default.createElement(o.Box,{bg:"white",bottom:0,boxShadow:300,height:l,left:0,overflow:"hidden",position:"absolute",right:0,zIndex:0},i.default.createElement(a.Wizard.Navigation,c));t.StickyWizardNavigation=d},645929:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.GenerationError=void 0;var n=e(778008),a=d(e(174161)),o=e(160841),s=e(613851),i=e(390837);function l(r){if(typeof WeakMap!="function")return null;var u=new WeakMap,m=new WeakMap;return(l=function(f){return f?m:u})(r)}function d(r,u){if(!u&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var m=l(u);if(m&&m.has(r))return m.get(r);var f={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(v!=="default"&&Object.prototype.hasOwnProperty.call(r,v)){var E=g?Object.getOwnPropertyDescriptor(r,v):null;E&&(E.get||E.set)?Object.defineProperty(f,v,E):f[v]=r[v]}return f.default=r,m&&m.set(r,f),f}const c=r=>{let{pageId:u}=r;const{trackUserViewsSEOGenerationError:m}=(0,i.useSEOAnalyticsContext)();return(0,a.useEffect)(()=>{m({object_identifier:"regenerate",recommendation_page:s.RecommendationPage.METADATA,collection_id:u})},[u,m]),a.default.createElement(n.Flex,{alignItems:"center",flex:1,justifyContent:"center"},a.default.createElement(n.Text.Body,{color:"red.300",my:0},a.default.createElement(o.T,{project:"business-ai-tools"},"Unable to generate recommendation.")))};t.GenerationError=c},823252:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.PageMetadataCard=void 0;var a=n(e(160553)),o=e(36668),s=e(670563),i=e(778008),l=e(436700),d=e(352635),c=L(e(174161)),r=n(e(217169)),u=e(160841),m=e(613851),f=e(390837),g=e(918241),v=e(149314),E=e(875963),T=e(645929),S=e(272633);function y(R){if(typeof WeakMap!="function")return null;var D=new WeakMap,N=new WeakMap;return(y=function(G){return G?N:D})(R)}function L(R,D){if(!D&&R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var N=y(D);if(N&&N.has(R))return N.get(R);var G={__proto__:null},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in R)if(j!=="default"&&Object.prototype.hasOwnProperty.call(R,j)){var b=U?Object.getOwnPropertyDescriptor(R,j):null;b&&(b.get||b.set)?Object.defineProperty(G,j,b):G[j]=R[j]}return G.default=R,N&&N.set(R,G),G}const A=290,p=543,O=196,C=R=>c.default.createElement(s.Textarea,(0,a.default)({backgroundColor:"gray.900",borderBottom:d.borders[1],borderBottomColor:"gray.100",m:0,p:2},R)),M=R=>{let{titleInput:D,descriptionInput:N,onTitleInputChange:G,onDescriptionInputChange:U}=R;return c.default.createElement(i.Box,{"data-testid":"edit-page-metadata-card",flex:1,px:4},c.default.createElement(i.Flex,{backgroundColor:"white",borderBottom:d.borders[1],borderColor:"gray.800",flexDirection:"column",mx:0,px:4,py:2},c.default.createElement(i.Flex,{justifyContent:"space-between",width:"100%"},c.default.createElement(i.Text.Label,null,c.default.createElement(u.T,{project:"business-ai-tools"},"Title")),c.default.createElement(i.Text.Label,null,(0,E.getTextLengthRemaining)(D,E.MAX_TITLE_LENGTH))),c.default.createElement(C,{flex:"none",maxLength:E.MAX_TITLE_LENGTH,rows:1,value:D,onChange:G}),c.default.createElement(i.Flex,{justifyContent:"space-between",mt:3,width:"100%"},c.default.createElement(i.Text.Label,null,c.default.createElement(u.T,{project:"business-ai-tools"},"Description")),c.default.createElement(i.Text.Label,null,(0,E.getTextLengthRemaining)(N,E.MAX_DESCRIPTION_LENGTH))),c.default.createElement(C,{maxLength:E.MAX_DESCRIPTION_LENGTH,rows:3,value:N,onChange:U})))},h=R=>{let{route:D,title:N,generatedTitle:G,generatedDescription:U}=R;const{colors:j}=(0,l.useTheme)();return c.default.createElement(i.Flex,{alignSelf:"start","data-testid":"page-metadata-card",flex:1,flexDirection:"column",gap:3,px:4},c.default.createElement(i.Text.Label,{color:"gray.300",my:0,textAlign:"left",textTransform:"uppercase"},c.default.createElement(u.T,{project:"business-ai-tools",title:c.default.createElement("b",{style:{color:j.gray[100]}},N)},"How your {title} page will show up in search results")),c.default.createElement(s.Card,{backgroundColor:"white",height:"100%",minHeight:O},c.default.createElement(s.Card.Body,null,c.default.createElement(i.Text.Body,{color:"blue.300",my:0,textAlign:"left"},G),c.default.createElement(i.Text.Body,{color:"green.300",my:0,paddingBottom:2,textAlign:"left"},(0,v.getPageUrl)(D)),c.default.createElement(i.Box,{borderTopColor:"gray.800",borderTopStyle:"solid",paddingTop:2},c.default.createElement(i.Text.Body,{my:0,textAlign:"left"},U)))))},P=R=>{let{status:D,generatedTitle:N,generatedDescription:G,onUpdate:U,onRegenerate:j,onClearError:b,route:x,pageId:W,title:_}=R;const[w,z]=(0,c.useState)(!1),[k,V]=(0,c.useState)(N),[Z,H]=(0,c.useState)(N),{trackUserSavedEditedSEOText:$,trackUserEditSEORecommendation:J,trackUserCancelsEditSEOText:Q}=(0,f.useSEOAnalyticsContext)(),X=(0,c.useCallback)(()=>{V(N),H(G)},[G,N]),Y=()=>{J({recommendation_page:m.RecommendationPage.METADATA,collection_id:W}),z(!0)},B=()=>{Q({recommendation_page:m.RecommendationPage.METADATA,collection_id:W}),z(!1),X()},F=()=>{$({recommendation_page:m.RecommendationPage.METADATA,collection_id:W}),U({title:k,description:Z,isEdited:!0}),z(!1)};return(0,c.useEffect)(()=>{X()},[X]),c.default.createElement(s.Card,{alignItems:"center",backgroundColor:"gray.950",display:"inline-flex",minHeight:A,pt:6,px:4,sx:{rowGap:1},width:p},c.default.createElement(r.default,{disabled:!w},c.default.createElement(i.Flex,{alignItems:"center",justifyContent:"center"},D===g.Status.LOADING&&c.default.createElement(i.Flex,{alignItems:"center","data-testid":"regenerating-page-metadata-loading-state",justifyContent:"center",minHeight:O},c.default.createElement(o.AIIconUI,{animation:"listening"})),D===g.Status.ERROR&&c.default.createElement(i.Flex,{alignItems:"center",minHeight:O},c.default.createElement(T.GenerationError,{pageId:W})),(D===g.Status.SUCCESS||D===g.Status.IDLE)&&(w?c.default.createElement(M,{descriptionInput:Z,titleInput:k,onDescriptionInputChange:H,onTitleInputChange:V}):c.default.createElement(h,{generatedDescription:G,generatedTitle:N,route:x,title:_}))),c.default.createElement(S.PageMetadataCardActions,{isEditing:w,status:D,onCancel:B,onClearError:b,onEdit:Y,onRegenerate:j,onSave:F})))};t.PageMetadataCard=P},272633:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.PageMetadataCardActions=void 0;var a=e(778008),o=n(e(174161)),s=e(160841),i=e(918241);const l=c=>{let{isEditing:r,onCancel:u,onRegenerate:m,onClearError:f,onEdit:g,onSave:v,status:E}=c;return r?o.default.createElement(o.default.Fragment,null,o.default.createElement(a.Button.Tertiary,{flex:1,size:"small",onClick:v},o.default.createElement(s.T,{project:"business-ai-tools"},"Save")),o.default.createElement(a.Button.Tertiary,{flex:1,size:"small",onClick:u},o.default.createElement(s.T,{project:"business-ai-tools"},"Cancel"))):E===i.Status.ERROR?o.default.createElement(a.Button.Tertiary,{flex:1,size:"small",onClick:f},o.default.createElement(s.T,{project:"business-ai-tools"},"Go Back")):o.default.createElement(o.default.Fragment,null,o.default.createElement(a.Button.Tertiary,{disabled:E===i.Status.LOADING,flex:1,size:"small",onClick:m},o.default.createElement(s.T,{project:"business-ai-tools"},"Regenerate")),o.default.createElement(a.Button.Tertiary,{disabled:E===i.Status.LOADING,flex:1,size:"small",onClick:g},o.default.createElement(s.T,{project:"business-ai-tools"},"Edit")))},d=c=>o.default.createElement(a.Flex,{gap:2,justifyContent:"center",pb:1,width:"100%"},o.default.createElement(l,c));t.PageMetadataCardActions=d},763213:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PageMetadataCard",{enumerable:!0,get:function(){return n.PageMetadataCard}});var n=e(823252)},875963:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getTextLengthRemaining=t.MAX_TITLE_LENGTH=t.MAX_DESCRIPTION_LENGTH=t.MAX_ALT_TEXT_LENGTH=void 0;const e=t.MAX_TITLE_LENGTH=100,n=t.MAX_DESCRIPTION_LENGTH=400,a=t.MAX_ALT_TEXT_LENGTH=250,o=(s,i)=>Math.max(0,i-s.length);t.getTextLengthRemaining=o},640650:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateContentFailure=void 0;var n=e(778008),a=c(e(174161)),o=e(613851),s=e(853571),i=e(390837),l=e(454182);function d(u){if(typeof WeakMap!="function")return null;var m=new WeakMap,f=new WeakMap;return(d=function(g){return g?f:m})(u)}function c(u,m){if(!m&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=d(m);if(f&&f.has(u))return f.get(u);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in u)if(E!=="default"&&Object.prototype.hasOwnProperty.call(u,E)){var T=v?Object.getOwnPropertyDescriptor(u,E):null;T&&(T.get||T.set)?Object.defineProperty(g,E,T):g[E]=u[E]}return g.default=u,f&&f.set(u,g),g}const r=u=>{let{step:m,errors:f,issues:g}=u;const{description:v,title:E}=l.FAILED_TO_GENERATE_CONTENT[m],{trackUserViewsSEOGenerationError:T}=(0,i.useSEOAnalyticsContext)();return(0,a.useEffect)(()=>{const S=s.StepToRecommendationPage[m];switch(S){case o.RecommendationPage.ALT_TEXT:T({object_identifier:"partial",recommendation_page:S,image_total:g,num_images:f});break;case o.RecommendationPage.METADATA:T({object_identifier:"partial",recommendation_page:S,page_total:g,num_pages:f});break}},[f,g,m,T]),a.default.createElement(a.default.Fragment,null,a.default.createElement(n.Text.Caption,{as:"p",color:"gray.100",fontWeight:500,mb:1,mt:0},E),a.default.createElement(n.Text.Caption,{as:"p",color:"gray.100",m:0},v))};t.GenerateContentFailure=r},568840:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.LimitExceeded=void 0;var n=e(778008),a=d(e(174161)),o=e(853571),s=e(390837),i=e(454182);function l(r){if(typeof WeakMap!="function")return null;var u=new WeakMap,m=new WeakMap;return(l=function(f){return f?m:u})(r)}function d(r,u){if(!u&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var m=l(u);if(m&&m.has(r))return m.get(r);var f={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(v!=="default"&&Object.prototype.hasOwnProperty.call(r,v)){var E=g?Object.getOwnPropertyDescriptor(r,v):null;E&&(E.get||E.set)?Object.defineProperty(f,v,E):f[v]=r[v]}return f.default=r,m&&m.set(r,f),f}const c=r=>{let{step:u}=r;const{description:m,title:f}=i.LIMIT_EXCEEDED[u],{trackUserViewsSEOGenerationError:g}=(0,s.useSEOAnalyticsContext)();return(0,a.useEffect)(()=>{g({object_identifier:"max-reached",recommendation_page:o.StepToRecommendationPage[u]})},[u,g]),a.default.createElement(a.default.Fragment,null,a.default.createElement(n.Text.Caption,{as:"p",m:0},f),a.default.createElement(n.Text.Caption,{as:"p",m:0},m))};t.LimitExceeded=c},454182:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.LIMIT_EXCEEDED=t.FAILED_TO_GENERATE_CONTENT=void 0;var n=e(160841),a=e(578330),o=e(558056);const s=t.FAILED_TO_GENERATE_CONTENT={[o.SEOOptimizationWizardStep.PAGE_META_DATA_STEP]:{description:(0,n.t)("Try again later. If this problem persists, you can edit page metadata in the Pages Panel.",null,{project:"business-ai-tools"}),title:(0,n.t)("Unable to generate page metadata for all pages.",null,{project:"business-ai-tools"})},[o.SEOOptimizationWizardStep.IMAGE_ALT_TEXT_STEP]:{description:(0,n.t)("Try again later. If this problem persists, you can edit image alt text in the Editor.",null,{project:"business-ai-tools"}),title:(0,n.t)("Unable to generate alt text for all images.",null,{project:"business-ai-tools"})},[o.SEOOptimizationWizardStep.DONE]:{description:"",title:""}},i=t.LIMIT_EXCEEDED={[o.SEOOptimizationWizardStep.PAGE_META_DATA_STEP]:{description:(0,n.t)("To review the remaining, run the tool again after completion.",null,{project:"business-ai-tools"}),title:(0,n.t)("You have exceeded the {pageLimit} page limit. ",{pageLimit:a.PAGE_LIMIT},{project:"business-ai-tools"})},[o.SEOOptimizationWizardStep.IMAGE_ALT_TEXT_STEP]:{description:(0,n.t)("To review the remaining, run the tool again after completion.",null,{project:"business-ai-tools"}),title:(0,n.t)("You have exceeded the {imageLimit} image limit.",{imageLimit:a.IMAGE_LIMIT},{project:"business-ai-tools"})},[o.SEOOptimizationWizardStep.DONE]:{description:"",title:""}}},997149:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorMessage=void 0;var a=e(778008),o=n(e(174161)),s=e(640650),i=e(568840);const l=c=>{let{exceededLimit:r,failedToGenerateContent:u,id:m,errors:f,issues:g}=c;return u?o.default.createElement(s.GenerateContentFailure,{errors:f,issues:g,step:m}):r?o.default.createElement(i.LimitExceeded,{step:m}):null},d=c=>o.default.createElement(a.Box,{mb:10,mt:4},o.default.createElement(l,c));t.ErrorMessage=d},635579:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenError=void 0;var n=e(778008),a=c(e(174161)),o=e(160841),s=e(613851),i=e(390837),l=e(940813);function d(u){if(typeof WeakMap!="function")return null;var m=new WeakMap,f=new WeakMap;return(d=function(g){return g?f:m})(u)}function c(u,m){if(!m&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=d(m);if(f&&f.has(u))return f.get(u);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in u)if(E!=="default"&&Object.prototype.hasOwnProperty.call(u,E)){var T=v?Object.getOwnPropertyDescriptor(u,E):null;T&&(T.get||T.set)?Object.defineProperty(g,E,T):g[E]=u[E]}return g.default=u,f&&f.set(u,g),g}const r=u=>{let{onClose:m}=u;const{trackUserViewsSEOGenerationError:f}=(0,i.useSEOAnalyticsContext)();return(0,a.useEffect)(()=>{f({object_identifier:"full",recommendation_page:s.RecommendationPage.GENERATING})},[f]),a.default.createElement(l.CenteredViewUI,{testId:"full-screen-error"},a.default.createElement(n.Text.Subtitle,{fontWeight:500,lineHeight:2,mb:1,mt:0},a.default.createElement(o.T,{project:"business-ai-tools"},"Something went wrong.")),a.default.createElement(n.Text.Body,{lineHeight:1,m:0},a.default.createElement(o.T,{project:"business-ai-tools"},"Unable to generate recommendations. Try again later.")),a.default.createElement(n.Button.Secondary,{mt:4,size:"medium",onClick:m},a.default.createElement(o.T,{project:"business-ai-tools"},"Close")))};t.FullScreenError=r},481044:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.ApplyingChangesLoadingState=void 0;var a=e(670563),o=e(778008),s=n(e(174161)),i=e(160841),l=e(940813);const d=()=>s.default.createElement(l.CenteredViewUI,{testId:"applying-changes-loading-state"},s.default.createElement(a.ActivityIndicator,{size:1}),s.default.createElement(o.Text.Body,{mt:3},s.default.createElement(i.T,{project:"business-ai-tools"},"Saving your recommendations")));t.ApplyingChangesLoadingState=d},546148:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.GeneratingContentLoadingState=void 0;var a=e(36668),o=n(e(174161)),s=e(826154),i=e(940813),l=e(448428);const d=()=>o.default.createElement(i.CenteredViewUI,{testId:"generating-content-loading-state"},o.default.createElement(a.AIIconUI,{animation:"listening"}),o.default.createElement(s.AnimatingText,{messages:l.LOADING_STATE_MESSAGES}));t.GeneratingContentLoadingState=d},448428:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.LOADING_STATE_MESSAGES=void 0;var n=e(160841);const a=t.LOADING_STATE_MESSAGES=[(0,n.t)("Scanning your site...",null,{project:"business-ai-tools"}),(0,n.t)("Analyzing content...",null,{project:"business-ai-tools"}),(0,n.t)("Scanning images...",null,{project:"business-ai-tools"}),(0,n.t)("Providing recommendations...",null,{project:"business-ai-tools"})]},578986:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAltTextInput=void 0;var n=e(670563),a=e(778008),o=e(923842),s=c(e(174161)),i=e(160841),l=e(875963);function d(m){if(typeof WeakMap!="function")return null;var f=new WeakMap,g=new WeakMap;return(d=function(v){return v?g:f})(m)}function c(m,f){if(!f&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var g=d(f);if(g&&g.has(m))return g.get(m);var v={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in m)if(T!=="default"&&Object.prototype.hasOwnProperty.call(m,T)){var S=E?Object.getOwnPropertyDescriptor(m,T):null;S&&(S.get||S.set)?Object.defineProperty(v,T,S):v[T]=m[T]}return v.default=m,g&&g.set(m,v),v}const r=(0,o.withFocusManagedDivider)(n.Cell,n.Divider),u=m=>{let{generatedAltText:f,onSave:g,onCancel:v}=m;const[E,T]=(0,s.useState)(f);return s.default.createElement(a.Flex,{alignItems:"center",justifyContent:"space-between",width:"100%"},s.default.createElement(a.Box,{width:"100%"},s.default.createElement(r,{body:s.default.createElement(n.Textarea,{maxLength:l.MAX_ALT_TEXT_LENGTH,rows:3,value:E,width:"100%",onChange:T}),variant:"floating"})),s.default.createElement(a.Flex,null,s.default.createElement(a.Button.Secondary,{ml:3,size:1,onClick:()=>g(E)},s.default.createElement(i.T,{project:"business-ai-tools"},"Save")),s.default.createElement(a.Button.Secondary,{mx:2,size:1,onClick:v},s.default.createElement(i.T,{project:"business-ai-tools"},"Cancel"))))};t.ImageAltTextInput=u},330901:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.RegenerationError=void 0;var n=e(778008),a=d(e(174161)),o=e(160841),s=e(613851),i=e(390837);function l(r){if(typeof WeakMap!="function")return null;var u=new WeakMap,m=new WeakMap;return(l=function(f){return f?m:u})(r)}function d(r,u){if(!u&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var m=l(u);if(m&&m.has(r))return m.get(r);var f={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(v!=="default"&&Object.prototype.hasOwnProperty.call(r,v)){var E=g?Object.getOwnPropertyDescriptor(r,v):null;E&&(E.get||E.set)?Object.defineProperty(f,v,E):f[v]=r[v]}return f.default=r,m&&m.set(r,f),f}const c=r=>{let{onBack:u,imageId:m}=r;const{trackUserViewsSEOGenerationError:f}=(0,i.useSEOAnalyticsContext)();return(0,a.useEffect)(()=>{f({object_identifier:"regenerate",recommendation_page:s.RecommendationPage.ALT_TEXT,asset_id:m})},[m,f]),a.default.createElement(n.Flex,{alignItems:"center",justifyContent:"space-between"},a.default.createElement(n.Text.Body,{color:"red.300"},a.default.createElement(o.T,{project:"business-ai-tools"},"Unable to generate alt text")),a.default.createElement(n.Button.Secondary,{mr:2,size:1,onClick:u},a.default.createElement(o.T,{project:"business-ai-tools"},"Go back")))};t.RegenerationError=c},414086:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAltTextCell=void 0;var a=e(300655),o=e(778008),s=n(e(174161)),i=e(160841),l=e(613851),d=e(390837),c=e(918241),r=e(578986),u=e(330901);const m=f=>{let{row:g,table:v}=f;const{trackUserSavedEditedSEOText:E,trackUserEditSEORecommendation:T,trackUserClicksRegenerateSEORecommendation:S,trackUserCancelsEditSEOText:y}=(0,d.useSEOAnalyticsContext)(),{original:L,index:A}=g,{generatedAltText:p,status:O,id:C,isEditingRow:M}=L,{startEditingRow:h,stopEditingRow:P,regenerateImageAltTextItem:R,resetImageAltTextItem:D,updateImageAltTextItem:N}=v.options.meta,G=O===c.Status.ERROR,U=_=>{E({recommendation_page:l.RecommendationPage.ALT_TEXT,asset_id:C}),N(A,{generatedAltText:_,isEdited:!0}),P(A)},j=()=>{D(A),P(A)},b=()=>{T({recommendation_page:l.RecommendationPage.ALT_TEXT,asset_id:C}),h(A)},x=()=>{S({recommendation_page:l.RecommendationPage.ALT_TEXT,asset_id:C}),R(A)},W=()=>{y({recommendation_page:l.RecommendationPage.ALT_TEXT,asset_id:C}),P(A)};return G?s.default.createElement(u.RegenerationError,{imageId:C,onBack:j}):M?s.default.createElement(r.ImageAltTextInput,{generatedAltText:p,onCancel:W,onSave:U}):s.default.createElement(o.Flex,{alignItems:"center",justifyContent:"space-between"},O===c.Status.LOADING?s.default.createElement(o.Flex,{"data-testid":"regenerating-icon-container",flex:1,justifyContent:"center"},s.default.createElement(a.AIIconUI,{animation:"listening"})):s.default.createElement(o.Text.Body,null,p),s.default.createElement(o.Flex,null,s.default.createElement(o.Button.Secondary,{disabled:O===c.Status.LOADING,mx:2,size:1,onClick:b},s.default.createElement(i.T,{project:"business-ai-tools"},"Edit")),s.default.createElement(o.Button.Secondary,{disabled:O===c.Status.LOADING,mr:2,size:1,onClick:x},s.default.createElement(i.T,{project:"business-ai-tools"},"Regenerate"))))};t.ImageAltTextCell=m},871668:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAltTextTable=void 0,e(392338);var a=n(e(160553)),o=e(894458),s=r(e(174161)),i=e(390837),l=e(414086),d=e(439242);function c(E){if(typeof WeakMap!="function")return null;var T=new WeakMap,S=new WeakMap;return(c=function(y){return y?S:T})(E)}function r(E,T){if(!T&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var S=c(T);if(S&&S.has(E))return S.get(E);var y={__proto__:null},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in E)if(A!=="default"&&Object.prototype.hasOwnProperty.call(E,A)){var p=L?Object.getOwnPropertyDescriptor(E,A):null;p&&(p.get||p.set)?Object.defineProperty(y,A,p):y[A]=E[A]}return y.default=E,S&&S.set(E,y),y}const u=o.Table.Utils.createColumnHelper(),m=[u.accessor("assetUrl",{cell:d.ImageAssetUrlCell,meta:{bodyCellProps:{sx:{width:d.IMAGE_WIDTH,height:d.IMAGE_HEIGHT}}}}),u.accessor("altText",{cell:l.ImageAltTextCell})],f=E=>s.default.createElement(o.Table.List.Body.Cell,E),g=E=>s.default.createElement(o.Table.List.Body.Row,(0,a.default)({},E,{borderColor:"gray.800",borderTop:0,renderBodyCell:f,sx:{"&:hover, &:focus":{background:"none"}}})),v=E=>{let{editingRows:T,startEditingRow:S,stopEditingRow:y}=E;const{generateImageAltText:L}=(0,i.useSEOOptimizationContext)(),{data:A,regenerate:p,update:O,reset:C}=L,M=(0,s.useMemo)(()=>A.map((P,R)=>{const D=T.includes(R);return{...P,isEditingRow:D}}),[T,A]),h=(0,s.useMemo)(()=>({startEditingRow:S,stopEditingRow:y,regenerateImageAltTextItem:p,updateImageAltTextItem:O,resetImageAltTextItem:C}),[p,C,S,y,O]);return s.default.createElement(o.Table,{columns:m,data:M,meta:h},s.default.createElement(o.Table.List,null,s.default.createElement(o.Table.List.Body,{renderBodyRow:g})))};t.ImageAltTextTable=v},439242:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAssetUrlCell=t.IMAGE_WIDTH=t.IMAGE_HEIGHT=void 0;var a=e(670563),o=n(e(174161));const s=t.IMAGE_WIDTH=120,i=t.IMAGE_HEIGHT=80,l=d=>{const c=d.getValue();return o.default.createElement(a.Image,{css:{objectFit:"contain"},height:i,src:c,width:s})};t.ImageAssetUrlCell=l},27045:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.useEditRows=void 0;var n=e(174161);const a=()=>{const[o,s]=(0,n.useState)([]);return{editingRows:o,startEditingRow:d=>{s(c=>[...c,d])},stopEditingRow:d=>{s(c=>c.filter(r=>r!==d))}}};t.useEditRows=a},671435:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.SEOOptimizationWizard=void 0;var a=n(e(160553)),o=e(894458),s=n(e(174161)),i=e(286337),l=e(558056),d=e(19414),c=e(635579),r=e(481044),u=e(546148),m=e(698598),f=e(262456),g=e(918241),v=e(534465);const E="132px",T=y=>{let{onClose:L,currentStep:A,history:p,onBack:O,onNext:C,stepConfig:M,wizardState:h}=y;return h===m.WizardState.GENERATING?s.default.createElement(u.GeneratingContentLoadingState,null):h===m.WizardState.APPLYING?s.default.createElement(r.ApplyingChangesLoadingState,null):h===m.WizardState.ERROR?s.default.createElement(c.FullScreenError,{onClose:L}):s.default.createElement(o.Wizard,{closeButtonProps:{onClick:L},currentStepId:A,history:p,renderNavigation:P=>s.default.createElement(v.StickyWizardNavigation,(0,a.default)({},P,{backButtonProps:{onClick:O}})),stepCount:M.length},M.map((P,R)=>{var D;let{id:N,stepComponent:G,limit:U,issues:j,generated:b}=P;const x=((D=M[R+1])===null||D===void 0?void 0:D.id)||l.SEOOptimizationWizardStep.DONE,W=j.length>U,_=b.length<U&&b.length!==j.length,z=b.some(Z=>{let{status:H}=Z;return H===g.Status.LOADING}),k=()=>C(N,x),V=j.length-b.length;return s.default.createElement(G,{errors:V,exceededLimit:W,failedToGenerateContent:_,id:N,issues:j.length,key:N,nextButtonProps:{onClick:k,isDisabled:z},nextStepId:x,stepNumber:R+1})}))},S=()=>{const{currentStep:y,history:L,onBack:A,onCancelConfirmationModal:p,onClose:O,onConfirmConfirmationModal:C,onNext:M,stepConfig:h,wizardState:P,isConfirmationModalOpen:R}=(0,f.useWizard)();return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.ModalWrapper,{containerProps:{height:`calc(100vh - ${E})`,width:`calc(100vw - ${E})`},modalProps:{lockFocus:!0,lockFocusOptions:{disabled:!1,autoFocus:!1}},onClose:O},s.default.createElement(T,{currentStep:y,history:L,stepConfig:h,wizardState:P,onBack:A,onClose:O,onNext:M})),s.default.createElement(i.ConfirmationModal,{isOpen:R,onCancel:p,onConfirm:C}))};t.SEOOptimizationWizard=S},984534:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAltTextStep=void 0;var n=e(868192),a=m(e(174161)),o=e(160841),s=e(613851),i=e(390837),l=e(355009),d=e(728708),c=e(871668),r=e(27045);function u(E){if(typeof WeakMap!="function")return null;var T=new WeakMap,S=new WeakMap;return(u=function(y){return y?S:T})(E)}function m(E,T){if(!T&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var S=u(T);if(S&&S.has(E))return S.get(E);var y={__proto__:null},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in E)if(A!=="default"&&Object.prototype.hasOwnProperty.call(E,A)){var p=L?Object.getOwnPropertyDescriptor(E,A):null;p&&(p.get||p.set)?Object.defineProperty(y,A,p):y[A]=E[A]}return y.default=E,S&&S.set(E,y),y}const f=a.default.createElement(o.T,{project:"business-ai-tools"},"Review Alt Text"),g=a.default.createElement(o.T,{learnMore:a.default.createElement(d.LearnMoreLink,{href:n.ADDING_ALT_TEXT_TO_IMAGES}),project:"business-ai-tools"},"Alt text does not display on your site - but can improve SEO, and make images more accessible to visually impaired site visitors. {learnMore}"),v=E=>{let{id:T,exceededLimit:S,failedToGenerateContent:y,nextStepId:L,stepNumber:A,errors:p,issues:O,nextButtonProps:C}=E;const{editingRows:M,startEditingRow:h,stopEditingRow:P}=(0,r.useEditRows)(),{generateImageAltText:R}=(0,i.useSEOOptimizationContext)(),{trackUserViewsSEORecommendations:D}=(0,i.useSEOAnalyticsContext)(),N=M.length>0,G=(C==null?void 0:C.isDisabled)||N;return(0,a.useEffect)(()=>{D({recommendation_page:s.RecommendationPage.ALT_TEXT,num_images:R.data.length})},[R.data.length,D]),a.default.createElement(l.Step,{description:g,errors:p,exceededLimit:S,failedToGenerateContent:y,id:T,issues:O,nextButtonProps:{...C,isDisabled:G},nextStepId:L,stepNumber:A,title:f},a.default.createElement(c.ImageAltTextTable,{editingRows:M,startEditingRow:h,stopEditingRow:P}))};t.ImageAltTextStep=v},428583:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.PageMetadataStep=void 0;var n=e(868192),a=e(778008),o=m(e(174161)),s=e(160841),i=e(613851),l=e(390837),d=e(355009),c=e(728708),r=e(763213);function u(E){if(typeof WeakMap!="function")return null;var T=new WeakMap,S=new WeakMap;return(u=function(y){return y?S:T})(E)}function m(E,T){if(!T&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var S=u(T);if(S&&S.has(E))return S.get(E);var y={__proto__:null},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in E)if(A!=="default"&&Object.prototype.hasOwnProperty.call(E,A)){var p=L?Object.getOwnPropertyDescriptor(E,A):null;p&&(p.get||p.set)?Object.defineProperty(y,A,p):y[A]=E[A]}return y.default=E,S&&S.set(E,y),y}const f=o.default.createElement(s.T,{project:"business-ai-tools"},"Review SEO metadata"),g=o.default.createElement(s.T,{learnMore:o.default.createElement(c.LearnMoreLink,{href:n.SEO_OVERVIEW}),project:"business-ai-tools"},"These details will appear in browser tabs and search engine results. {learnMore}"),v=E=>{let{exceededLimit:T,failedToGenerateContent:S,id:y,nextStepId:L,stepNumber:A,errors:p,issues:O,nextButtonProps:C}=E;const{generatePageMetadata:M}=(0,l.useSEOOptimizationContext)(),{trackUserViewsSEORecommendations:h,trackUserClicksRegenerateSEORecommendation:P}=(0,l.useSEOAnalyticsContext)(),{data:R,regenerate:D,update:N,reset:G}=M;return(0,o.useEffect)(()=>{h({recommendation_page:i.RecommendationPage.METADATA,num_pages:M.data.length})},[M.data.length,h]),o.default.createElement(d.Step,{description:g,errors:p,exceededLimit:T,failedToGenerateContent:S,id:y,issues:O,nextButtonProps:C,nextStepId:L,stepNumber:A,title:f},o.default.createElement(a.Flex,{alignItems:"center",flexDirection:"column",gap:4,justifyContent:"center",mb:8,mt:4},R.map((U,j)=>o.default.createElement(r.PageMetadataCard,{generatedDescription:U.generatedDescription,generatedTitle:U.generatedTitle,key:U.route,pageId:U.id,route:U.route,status:U.status,title:U.title,onClearError:()=>G(j),onRegenerate:()=>{P({recommendation_page:i.RecommendationPage.METADATA,collection_id:U.id}),D(j)},onUpdate:b=>{let{title:x,description:W,isEdited:_}=b;return N(j,{generatedDescription:W,generatedTitle:x,isEdited:_})}}))))};t.PageMetadataStep=v},355009:function(I,t,e){var n=e(241225);Object.defineProperty(t,"__esModule",{value:!0}),t.Step=void 0;var a=n(e(160553)),o=e(894458),s=e(670563),i=e(778008),l=n(e(174161)),d=e(556997),c=e(276548),r=e(160841),u=e(534465),m=e(997149),f=e(558056);const g=E=>{let{children:T}=E;return l.default.createElement(i.Text.Subtitle,{css:{display:"flex",justifyContent:"center",alignItems:"center",top:0,zIndex:2,position:"absolute",left:"50%",transform:"translateX(-50%)"},sx:{height:"sizes.400",mt:0}},T)},v=E=>{let{children:T,exceededLimit:S,failedToGenerateContent:y,description:L,errors:A,issues:p,title:O,...C}=E;return l.default.createElement(o.Wizard.Step,(0,a.default)({},C,{nextButtonProps:{...C.nextButtonProps,...C.nextStepId===f.SEOOptimizationWizardStep.DONE?{inverted:!0,label:(0,r.t)("Save",null,{project:"business-ai-tools"}),icon:null}:{inverted:!0,label:(0,r.t)("Save and continue",null,{project:"business-ai-tools"})}}}),(0,c.isBeaconReskinEnabled)()?l.default.createElement(g,null,l.default.createElement(d.BeaconAi,null)):l.default.createElement(o.Wizard.Step.HeaderTitle,null,O),l.default.createElement(o.Wizard.Step.Content,null,l.default.createElement(s.Grid.Container,{gridConstraint:12,justifyContent:"center"},l.default.createElement(s.Grid.Item,{columns:10,sx:{textAlign:"center"}},l.default.createElement(i.Box,{pb:u.WIZARD_NAV_HEIGHT,pt:6},l.default.createElement(o.Wizard.Step.Content.Title,null,O),l.default.createElement(i.Text.Body,{color:"gray.300",mt:2},L),T,(S||y)&&l.default.createElement(m.ErrorMessage,{errors:A,exceededLimit:S,failedToGenerateContent:y,id:C.id,issues:p}))))))};t.Step=v},558056:function(I,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SEOOptimizationWizardStep=void 0;let e=t.SEOOptimizationWizardStep=function(n){return n.PAGE_META_DATA_STEP="page_meta_data_step",n.IMAGE_ALT_TEXT_STEP="image_alt_text_step",n.DONE="done",n}({})},479487:function(I,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.withUnwrapProviderOnError=t.withRenderNothingOnError=t.ErrorBoundary=void 0;var n=e(451846);const{BaseErrorBoundary:a,withRenderNothingOnError:o,withUnwrapProviderOnError:s}=(0,n.createGenericErrorHandling)({project:"business-ai-tools"});t.withUnwrapProviderOnError=s,t.withRenderNothingOnError=o,t.ErrorBoundary=a},179593:function(I,t,e){e.d(t,{Z:()=>s});var n=e(815211),a=e.n(n);const s={[a().CHOWNOW]:{serviceId:a().CHOWNOW,displayName:"ChowNow",defaultLinkTitle:"Order Now",slug:"chownow"}}},161767:function(I,t,e){e.d(t,{Z:()=>a});const a={DEFAULT:0,ICON:1}},776640:function(I,t,e){e.d(t,{S:()=>a});var n=e(906194);const a={[n.Z.DESKTOP]:1024,[n.Z.PHONE]:428}},473473:function(I,t,e){e.r(t),e.d(t,{DESKTOP_FRAME_TOOLBAR_ID:()=>n});const n="frame-toolbar-desktop"},607371:function(I,t,e){e.d(t,{Z:()=>a});const a={NEWSLETTER_OVERLAY_NODE_ID:"overlayNewsletterEmail"}},198082:function(I,t,e){e.d(t,{H:()=>n,r:()=>a});let n=function(o){return o.NORMAL="normal",o.ITALIC="italic",o}({}),a=function(o){return o.LATIN="latin",o.JAPANESE="japanese",o}({})},137577:function(I,t,e){e.d(t,{Z:()=>i});var n=e(444867),a=e.n(n),o=e(762379);const s={text:["description","placeholder","required"],textarea:["description","placeholder","required"],email:["description","placeholder","required"],currency:["description","currencySymbol","required"],number:["description","placeholder","required"],website:["description","placeholder","required"],password:["description","required"],twitter:["description","required"],date:["description","required"],time:["description","required"],name:["description","required"],address:["description","required"],phone:["description","showCountryCode","required"],section:["description","underline"],radio:["description","options","required"],checkbox:["description","options","required"],select:["description","options","required"],likert:["description","options","required"],hidden:["key","value"]};o.Z.isFeatureEnabled(a().VANILLA_FORM_HANDLER)&&s.textarea.push("maxLength");const i=s},96563:function(I,t,e){e.d(t,{Z:()=>a});const a={BUILD:1,STORAGE:2,ADVANCED:3,CAPTCHA:4,DISCLAIMER:5}},714551:function(I,t,e){e.d(t,{Z:()=>a});const a={DEFAULT_SLIDER_ASPECT_RATIO:50,RERENDER_ATTR_WHITELIST:["aspectRatio","autoplay","autoplay-duration","lightbox","lightboxTheme","methodOption","padding","thumbnail-strip-height","thumbnail-strip-margin","transientGallery","vSize"]}},444915:function(I,t,e){e.d(t,{Z:()=>a});const a={IMAGE_EMPTY:"imageEmpty",IMAGE_FILE:"imageFile",IMAGE_LICENSED:"imageLicensed",IMAGE_REUSED:"imageReused",ASSET_REUSED:"assetReused",VIDEO:"video"}},262363:function(I,t,e){e.r(t),e.d(t,{AUTOCOMPLETE_URL:()=>o,DETAILS_URL:()=>s,googleTrackingContextProp:()=>i});var n=e(795478),a=e.n(n);const o="/api/google-maps/places/autocomplete",s="/api/google-maps/places/details",i=(0,n.shape)({productPage:n.string.isRequired,productSection:n.string.isRequired})},965658:function(I,t,e){e.d(t,{Z:()=>a});const a={BLOGS:['body.collection-type-blog [data-type="item"]','body.collection-type-blog [data-type="promoted-block"]','[class*="collection-type-blog"]'],BLOGS_AND_PAGES:['body.collection-type-blog [data-type="item"]','body.collection-type-blog [data-type="promoted-block"]','[class*="collection-type-page"]','[class*="collection-type-blog"]','[class*="collection-type-products"]','[data-type="page"]',"#productList","#productlist","#productGallery",".ProductList",".sqs-system-gallery","#flowItems",".productlist",".productitem-images",".sqs-pinterest-products-wrapper"],VALID_IMAGE_CONTAINER:[".sqs-block-image",".sqs-gallery-block-stacked",".sqs-gallery-block-grid",".sqs-gallery-block-slideshow",".sqs-block-html",".product-image","#productGallery","#productSlideshow",".ProductList-item",".product",".productlist-item",".sqs-system-gallery .slides .slide","article.flow-item",".productitem-images",".sqs-pinterest-products-wrapper",'[data-controller="ProductListImageLoader"]'],TRIGGER_SELECTORS:[".sqs-block-image",".sqs-gallery-block-stacked",".sqs-gallery-block-grid",".sqs-gallery-block-slideshow",".sqs-block-html img",".product-image","#productGallery .slide img","#productSlideshow",".ProductList-item",".product",'[class^="products"]',".productlist-item",".sqs-system-gallery","#flowItems",".productitem-images",".sqs-pinterest-image img",".sqs-pinterest-products-wrapper img"]}},6233:function(I,t,e){e.d(t,{Z:()=>n});const n={CLOSED_DATE:"date-closed",KEY:"squarespace-popup-overlay",VERSION:"version",SUBMITTED:"submitted"}},606013:function(I,t,e){e.r(t),e.d(t,{SECTION_EDITOR_FRAME_OVERLAY_CLASS:()=>a,SPACE_AROUND_FRAME_CLASS:()=>n});const n="js-space-around-frame",a="js-section-editor-frame-overlay"},202369:function(I,t,e){e.d(t,{Z:()=>s});var n=e(434927),a=e.n(n);const s={heading:a().HEADING,"sub-heading":a().SUB_HEADING,body:a().BODY,image:a().IMAGE,gallery:a().GALLERY,video:a().VIDEO,"social-icons":a().SOCIAL_ICONS,buttons:a().BUTTONS,navigation:a().NAVIGATION,"custom-form":a().CUSTOM_FORM,newsletter:a().NEWSLETTER,album:a().ALBUM,map:a().MAP,lock:a().LOCK,password:a().PASSWORD,twitter:a().TWITTER,logo:a().LOGO,action:a().ACTION,"popup-overlay-action":a().POPUP_OVERLAY_ACTION,"temp-lock-inject":a().TEMP_LOCK_INJECT,"sso-options":a().SSO_OPTIONS}},986590:function(I,t,e){e.d(t,{Z:()=>s});var n=e(434927),a=e.n(n);const s={[a().HEADING]:"heading",[a().SUB_HEADING]:"sub-heading",[a().BODY]:"body",[a().IMAGE]:"image",[a().GALLERY]:"gallery",[a().VIDEO]:"video",[a().SOCIAL_ICONS]:"social-icons",[a().BUTTONS]:"buttons",[a().NAVIGATION]:"navigation",[a().CUSTOM_FORM]:"custom-form",[a().NEWSLETTER]:"newsletter",[a().ALBUM]:"album",[a().MAP]:"map",[a().LOCK]:"lock",[a().PASSWORD]:"password",[a().TWITTER]:"twitter",[a().LOGO]:"logo",[a().ACTION]:"action",[a().POPUP_OVERLAY_ACTION]:"popup-overlay-action",[a().TEMP_LOCK_INJECT]:"temp-lock-inject"}},480253:function(I,t,e){e.d(t,{Z:()=>s});var n=e(311064),a=e.n(n),o=e(150825);const s=a()(o.Z)},961789:function(I,t,e){e.d(t,{Z:()=>a});const a={URL_SLUG:"url-slug",URL_SLUG_WITH_SLASH:"url-slug-with-slash"}},808890:function(I,t,e){e.d(t,{Z:()=>a});const a={CHANGE:"tweak:change",CLOSE:"tweak:close",SAVE:"tweak:save",RESET:"tweak:reset",AFTER_SHOW:"tweak:aftershow",AFTER_CLOSE:"tweak:afterclose",BEFORE_OPEN:"tweak:beforeopen"}},461816:function(I,t,e){e.r(t),e.d(t,{BlockVariantTypeKeys:()=>u.Z,WebFontReleaseStatus:()=>te.r,FontPackCategory:()=>K.dK,SlideTypeByName:()=>k.Z,ItemInternalType:()=>ne.J,FontUnit:()=>K.Z$,SectionDividerByVisualTone:()=>q.SN,BlockMenuGroupType:()=>i.Z,MasterFontName:()=>K.pN,FormModelFieldsets:()=>P.Z,BlockType:()=>l.Z,FormBuilderFieldNames:()=>h.Z,ButtonFontName:()=>K.Zw,SurveyCohorts:()=>Z.Z,DEFAULT_FRAME_WIDTHS_IN_PX:()=>y.S,PopupOverlayLocalStorage:()=>x.Z,LocalColorOverrideType:()=>ie.$,SectionDividerStylePresetNames:()=>q.tX,GalleryItemMediaTypes:()=>D.Z,Units:()=>X.Z,FontStyle:()=>ee.H,FontPackReleaseStatus:()=>K.Qq,VariableType:()=>ae.x,UpsellUrls:()=>o.Z,CollectionView:()=>v.Z,ColorThemeName:()=>se.P,BlockBackgroundByVisualTone:()=>F.T,FontLanguageSubset:()=>ee.r,CommercePerformanceEvents:()=>s,ContentGeneratorTypes:()=>S.Z,FacebookPixelConstants:()=>M.Z,WebFontProvider:()=>te.x,BlockTypeToFeature:()=>r.Z,ReleaseStatus:()=>re.d,EditorSelectors:()=>p,BrandTone:()=>B.m,BlockTypeToBetaFlags:()=>c.Z,MarqueeStylePresetNames:()=>Y.H,SliceTypeByName:()=>w.Z,masterSizeToMasterFontMap:()=>K.Qs,CdkLayoutElementType:()=>G.s,MarqueeStylePresets:()=>Y.t,CMSPerformanceEvents:()=>g,SliceTypeNames:()=>z.Z,PinterestSelectors:()=>b.Z,ConnectedAccountLinkConfigurations:()=>E.Z,DomainsPerformanceEvents:()=>A,TypekitPreviewApi:()=>Q.Z,Constants:()=>T.Z,BlockVariantTypes:()=>m.Z,CollectionInternalType:()=>ne.A,TweakPageTypes:()=>J.Z,LayoutElementType:()=>G.x,REMOVE_BACKGROUND_PRESET:()=>F.a,TextTransform:()=>K._5,MigrationStatus:()=>oe.P,GooglePlaces:()=>N,MasterSizeName:()=>K.kN,LayoutEngine:()=>U,UpsellDestination:()=>a.Z,FeatureFlags:()=>n,DeviceViewType:()=>L.Z,GalleryBlockConstants:()=>R.Z,SectionEditorClassnames:()=>_,TextFilterNames:()=>H.Z,SlideTypeNames:()=>V.Z,CMSAppShellPerformanceEvents:()=>f,FluidEngine:()=>C,TweakUnit:()=>ae.j,Positions:()=>W.Z,BlockTypeStrings:()=>d.Z,ModernSectionStylePresets:()=>q.n_,LayoutEngineClassnames:()=>j,TweakEvents:()=>$.Z});var n={};e.r(n),e.d(n,{COMPONENT_EDITING_V7:()=>O});var a=e(506739),o=e(995821),s=e(793036),i=e(565263),l=e(784874),d=e(734526),c=e(527062),r=e(362130),u=e(675641),m=e(135118),f=e(172076),g=e(27409),v=e(652838),E=e(179593),T=e(387582),S=e(161767),y=e(776640),L=e(906194),A=e(426420),p=e(473473);const O="component_editing_v7";var C=e(365270),M=e(607371),h=e(137577),P=e(96563),R=e(714551),D=e(444915),N=e(262363),G=e(434709),U=e(425364),j=e(208935),b=e(965658),x=e(6233),W=e(249260),_=e(606013),w=e(202369),z=e(986590),k=e(480253),V=e(150825),Z=e(84038),H=e(961789),$=e(808890),J=e(564666),Q=e(958013),X=e(597800),Y=e(604453),B=e(740907),F=e(338435),q=e(722033),oe=e(433566),ee=e(198082),te=e(689446),re=e(731144),K=e(885481),ae=e(290048),se=e(628696),ie=e(875864),ne=e(655191)},461538:function(I,t,e){e.d(t,{c:()=>f});var n=e(654574),a=e(174161),o=e(374335),s=e.n(o),i=e(35045),l=e(829499),d=e(390837),c=e(692737),r=e(328817),u=e(715070);const m=s()({getStores(){return[i.default,l.default,c.default]},getPropsFromStores(g){const v=i.default.getState().get("metaDescription"),E=i.default.getState().get("siteTitle"),{homepageTitleFormat:T,collectionTitleFormat:S}=l.default.getState();return{...g,siteTitle:E,homepageSEODescription:v,homepageSEOTitleFormat:T,nonHomepageSEOTitleFormat:S}}},g=>{let{siteTitle:v,productArea:E,homepageSEODescription:T,homepageSEOTitleFormat:S,nonHomepageSEOTitleFormat:y,children:L}=g;return a.createElement(d.SEOOptimizationProvider,{deferSiteScan:!1,productArea:E,siteTitle:v,homepageSEODescription:T,homepageSEOTitleFormat:S,nonHomepageSEOTitleFormat:y,savePageMetadata:r.savePageMetadata,saveImageAltText:u.saveImageAltText},L)}),f=g=>{let{productArea:v,children:E}=g;return a.createElement(m,{productArea:v},E)}},715070:function(I,t,e){e.r(t),e.d(t,{saveImageAltText:()=>A});var n=e(654574),a=e(368630),o=e(456903),s=e(131626),i=e.n(s);const l=async p=>{const{data:O}=await o.default.get("/api/page-sections/by-collection-ids",{params:{collectionIds:p},paramsSerializer:C=>i().stringify(C,{arrayFormat:"repeat"})});return O};var d=e(914239);const c=p=>o.default.put(`/api/page-sections/${p.id}/collection/${p.collectionId}`,p),r=p=>{const O={};return p.forEach(C=>{O[C.pageId]||(O[C.pageId]={}),O[C.pageId][C.id]=C}),O},u=(p,O)=>{const C={...p};if((0,d.pM)(C)){var M,h;(h=C.jsonData)===null||h===void 0||(M=h.userItems)===null||M===void 0||M.forEach(P=>{const R=P.imageId?O[P.imageId]:void 0;R&&(P.imageAltText=R.generatedAltText)})}return C},m=async(p,O,C)=>{try{if(!p)throw new Error("Image alt text data is missing.");const M=O.sections.map(h=>u(h,p));await c({...O,sections:M})}catch(M){throw C(new Error(`Failed to save user items list images for page section: ${O.id}`)),M}},f=async(p,O)=>{try{if(p.length===0)return[];const C=r(p),M=Object.keys(C);return(await l(M)).map(P=>m(C[P.collectionId],P,O))}catch(C){throw O(new Error("Failed to fetch or save page sections.")),C}};var g=e(791229);const v=async(p,O)=>{const{id:C,generatedAltText:M}=p;try{await g.Z.updateField({itemId:C,field:"altText",value:M})}catch(h){throw O(new Error(`Failed to save Fluid Engine image for id: ${C}`,{cause:h})),h}},E=(p,O)=>p.length===0?[]:p.map(C=>v(C,O)),T=async p=>{const{data:O}=await o.default.get("/api/content-items/bulk",{params:{contentItemIds:p},paramsSerializer:C=>i().stringify(C,{arrayFormat:"repeat"})});return O},S=async(p,O,C)=>{const{generatedAltText:M,id:h}=p;try{const P=O[h];if(!P)throw new Error("Gallery image data is missing.");await g.Z.update({...P,body:{...P==null?void 0:P.body,html:M}},{})}catch(P){throw C(new Error(`Failed to save gallery image for id: ${h}`,{cause:P})),P}},y=async p=>{const O={};return(await T(p)).forEach(M=>{let{id:h,data:P,isError:R}=M;R||(O[h]=P)}),O},L=async(p,O)=>{try{if(p.length===0)return[];const C=await y(p.map(M=>{let{id:h}=M;return h}));return p.map(M=>S(M,C,O))}catch(C){throw O(new Error("Failed to fetch or save gallery images")),C}},A=async(p,O)=>{if(p.length===0)return[];const C=[E(p.filter(P=>P.imageCategory===a.ImageCategory.FLUID_ENGINE),P=>O(P,a.ImageCategory.FLUID_ENGINE)),L(p.filter(P=>P.imageCategory===a.ImageCategory.GALLERY),P=>O(P,a.ImageCategory.GALLERY)),f(p.filter(P=>P.imageCategory===a.ImageCategory.USER_ITEMS_LIST),P=>O(P,a.ImageCategory.USER_ITEMS_LIST))],M=await Promise.allSettled(C);return await Promise.allSettled(M.flatMap(P=>P.status==="fulfilled"?P.value:Promise.reject(P.reason)))}},328817:function(I,t,e){e.r(t),e.d(t,{savePageMetadata:()=>u});var n=e(654574),a=e(890100),o=e(640348),s=e(829499),i=e(35045),l=e(129038);const d=new a.Z("",{hasContentStats:!0,hasContentItems:!1}),c=async(m,f)=>{try{const{generatedDescription:g,generatedTitle:v}=m,T=i.default.getState().get("siteTitle"),S=v.replace(T,l.oW);o.default.update({key:"homepageTitleFormat",val:S}),o.default.update({key:"metaDescription",val:g}),await o.default.save({websiteData:{metaDescription:g},websiteSettings:s.default.getMergedWebsiteSettings({homepageTitleFormat:S})})}catch(g){throw f(new Error("Failed to save homepage metadata",{cause:g})),g}},r=async(m,f)=>{const{id:g,generatedTitle:v,generatedDescription:E}=m;try{var T;const{collection:S}=await d.onLoad(g);await d.onUpdate({...S,seoData:{seoHidden:!!(!((T=S.seoData)===null||T===void 0)&&T.seoHidden),seoTitle:v,seoDescription:E}})}catch(S){throw f(new Error(`Failed to save page metadata for id: ${g}`,{cause:S})),S}},u=(m,f)=>{const g=m.map(v=>v.isHomepage?c(v,E=>f(E,!0)):r(v,E=>f(E,!1)));return Promise.allSettled(g)}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/1a230c8f6c2c809d/19567-bc1e65193002acaa-min.en-US.js.map