"use strict";(self.webpackChunknew_bedford_framework=self.webpackChunknew_bedford_framework||[]).push([[4389],{74389:function(t,e,n){n.r(e),n.d(e,{default:function(){return T}});n(94226);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,i(o.key),o)}}function i(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var c=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.workFn=e,this.pending=!1,this.samples=[],this.lastCompleteExecution=null,this.sampledAverageExecution=null,this.pendingDowntime=null},(e=[{key:"invoke",value:function(){var t=this,e=this.lastCompleteExecution,n=this.sampledAverageExecution;if(!this.pending){if(null!==e&&null!==n){var o=Date.now()-e,r=2*n;if(o<r){var i=r-o;return this.pendingDowntime?void 0:void(this.pendingDowntime=setTimeout((function(){t.invoke(),t.pendingDowntime=null}),i))}}this.doWork()}}},{key:"doWork",value:function(){var t=Date.now();this.pending=!0;try{this.workFn()}catch(t){console.error(t)}this.lastCompleteExecution=Date.now();var e=this.lastCompleteExecution-t;this.pending=!1;var n=this.samples;n.unshift(e),n.length>22&&(this.samples=n=n.slice(0,22)),this.sampledAverageExecution=n.reduce((function(t,e){return t+e}),0)/n.length}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();var a=function(t){var e=new c(t);return function(){return e.invoke()}},l=n(67212),u=n(68444),s=n.n(u),d=n(63285);function f(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var p=function(t){return"collection-type-".concat(t)},m=Object.values(d.lv).map(p);var h=n(18438),v=n(86777),g=n(22166),b=n.n(g);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,I(o.key),o)}}function k(t,e,n){return e=j(e),function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,n||[],j(t).constructor):e.apply(t,n))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},A.apply(this,arguments)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function P(t,e,n){return(e=I(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=w(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}var C=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),P(n=k(this,e,[t]),"sectionWillChange",(function(t,e){var o,r,i,c;n.isMainContentSection&&e.typeName&&e.typeName.indexOf("blog-")>-1&&function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;(e=n.classList).remove.apply(e,f(m)),t&&n.classList.add(p(t))}(e.typeName);var a={styles:e.styles||{},video:e.video||{},backgroundImageId:e.backgroundImageId||"",backgroundMediaEffect:e.backgroundMediaEffect,divider:e.divider,typeName:e.typeName||""},l=n.state,u=l.styles,s=l.video,d=l.backgroundImageId,y=l.typeName,v=a.styles,g=a.video,b=a.backgroundImageId,w=a.backgroundMediaEffect,S=a.divider,k=a.typeName;if(k&&y&&k!==y)return!1;var O=(0,h.A)(v,u);if(n.shouldStylesChangeUpdateDOM(O))return!1;if(d!==b)return!1;if((null==w?void 0:w.type)!==(null===(o=n.state.backgroundMediaEffect)||void 0===o?void 0:o.type))return!1;if((null==S?void 0:S.enabled)!==(null===(r=n.state.divider)||void 0===r?void 0:r.enabled))return!1;var A=(0,h.A)(g||{},s||{});return!n.shouldVideoChangeUpdateDOM(A,s,g)&&(!((null===(i=v.generative)||void 0===i?void 0:i.type)!==(null===(c=u.generative)||void 0===c?void 0:c.type))&&(n.handleImageOverlayOpacityUpdate(O,v),n.handleHeaderStyleUpdate(O,v),n.handleStylesUpdate(O,v),n.setState(a),!0))})),P(n,"shouldStylesChangeUpdateDOM",(function(t){return!!(t.includes("backgroundMode")||t.includes("imageFocalPoint")||t.includes("imageFocalPoint.x")||t.includes("imageFocalPoint.y")||t.includes("imageEffect")||t.includes("sectionAnimation")||t.includes("sectionTheme"))})),P(n,"shouldVideoChangeUpdateDOM",(function(t,e,n){var o=!t.includes("url"),r=null===e&&""===(null==n?void 0:n.url),i=null===(null==n?void 0:n.videoFallbackContentItemId)&&o,c=r||i;return(t.includes("url")||t.includes("filter")||t.includes("filterStrength")||t.includes("playbackSpeed")||t.includes("videoFallbackContentItemId")||t.includes("videoFallbackFocalPoint")||t.includes("assetContentItemId"))&&!c})),P(n,"handleStylesUpdate",(function(t,e){if(t.includes("sectionTheme")&&(n.node.dataset.sectionTheme=e.sectionTheme,(0,v.Z)(n.node,b(),e.sectionTheme)),t.includes("backgroundWidth")&&(0,v.Z)(n.node,["background-width--full-bleed","background-width--inset"],e.backgroundWidth),t.includes("sectionHeight")){if(["section-height--small","section-height--medium","section-height--large"].forEach((function(t){n.node.classList.remove(t)})),"section-height--custom"===e.sectionHeight)n.applySectionHeight(e.verticalAlignment,e.customSectionHeight);else{var o=n.node.querySelector(".content-wrapper");o.style.paddingTop="",o.style.paddingBottom="",n.node.style.minHeight="",n.node.classList.add(e.sectionHeight)}}if("section-height--custom"===e.sectionHeight&&t.includes("customSectionHeight")&&n.applySectionHeight(e.verticalAlignment,e.customSectionHeight),t.includes("horizontalAlignment")&&(0,v.Z)(n.node,["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"],e.horizontalAlignment),t.includes("verticalAlignment")&&((0,v.Z)(n.node,["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"],e.verticalAlignment),"section-height--custom"===e.sectionHeight&&n.applySectionHeight(e.verticalAlignment,e.customSectionHeight)),t.includes("contentWidth")){n.node.dataset.widthConstraint=e.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(t){n.node.classList.contains(t)&&n.node.classList.remove(t)})),"content-width--custom"!==e.contentWidth?(n.node.classList.add(e.contentWidth),n.node.querySelector(".content").style.width=""):n.node.querySelector(".content").style.width="".concat(n.state.styles.customContentWidth,"%")}t.includes("customContentWidth")&&"content-width--custom"===n.state.styles.contentWidth&&(n.node.querySelector(".content").style.width="".concat(e.customContentWidth,"%")),window.Y.one(window.Y.config.win).simulate("resize")})),P(n,"handleImageOverlayOpacityUpdate",(function(t,e){if(t.includes("imageOverlayOpacity")){var o=n.node.querySelector(".section-background-overlay");o&&(o.style.opacity=e.imageOverlayOpacity)}})),P(n,"handleHeaderStyleUpdate",(function(t,e){var o="true"===s().getValue("tweak-transparent-header");if(n.isFirstSection&&o){var r=document.querySelector(".header");if(!n.node.classList.contains(d.oD)&&t.includes("sectionTheme")){var i=e.sectionTheme;r.dataset.sectionTheme=i,(0,v.Z)(r,b(),i)}if(t.includes("backgroundWidth")){if(e.backgroundWidth===d.B_){var c=e.sectionTheme;r.dataset.sectionTheme=c,(0,v.Z)(r,b(),c)}e.backgroundWidth===d.oD&&(r.dataset.sectionTheme="",(0,v.Z)(r,b()))}}})),n.sectionId=n.node.getAttribute("data-section-id"),n.isMainContentSection=n.node.classList.contains("content-collection"),n.isFirstSection=null===n.node.previousElementSibling,n.state=n.getStateFromDOM(),n.throttledRenderStyles=a((function(){return n.renderStyles()})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(e,t),n=e,(o=[{key:"getStateFromDOM",value:function(){var t,e=JSON.parse(this.node.getAttribute("data-current-styles")||"{}"),n=JSON.parse(this.node.getAttribute("data-current-context")),o=n.video,r=void 0===o?{}:o,i=n.backgroundImageId,c=void 0===i?"":i,a=n.backgroundMediaEffect,l=void 0===a?{}:a,u=n.divider,s=void 0===u?{}:u,d=n.typeName,f=void 0===d?"":d;return{styles:e,video:r,backgroundImageId:c||(null==e||null===(t=e.backgroundImage)||void 0===t?void 0:t.id)||"",backgroundMediaEffect:l,divider:s,typeName:f}}},{key:"applySectionHeight",value:function(t,e){var n=this.node.querySelector(".content-wrapper");this.node.style.minHeight="".concat(e,"vh"),"vertical-alignment--top"===t?(n.style.paddingTop="",n.style.paddingBottom="calc(".concat(e,"vmax / 5)")):"vertical-alignment--bottom"===t?(n.style.paddingTop="calc(".concat(e,"vmax / 5)"),n.style.paddingBottom=""):(n.style.paddingTop="calc(".concat(e,"vmax / 10)"),n.style.paddingBottom="calc(".concat(e,"vmax / 10)"))}},{key:"destroy",value:function(){A(j(e.prototype),"destroy",this).call(this)}}])&&S(n.prototype,o),r&&S(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,r}(l.l),T=function(t){return new C(t)}},18438:function(t,e,n){n(94226);var o=n(88235);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return t&&t.constructor&&"Object"===t.constructor.name}function c(t){var e=t.newPointer,n=t.oldPointer,o=new Set;return e.forEach((function(t){n.includes(t)||o.add(t)})),Array.isArray(n)&&n.forEach((function(t){e.includes(t)||o.add(t)})),Array.from(o)}e.A=function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("object"!==r(e)||"object"!==r(n))throw new Error("".concat(t.name," parameters must be Arrays or Objects, received: ").concat(e," and ").concat(n));if(!(0,o.A)(e,n)){if(Array.isArray(e)&&Array.isArray(n))return c({newPointer:e,oldPointer:n});var l=Object.keys(e).map((function(r){var l=e[r],u=n[r];if(!function(t,e){return!t&&!e||Array.isArray(t)&&Array.isArray(e)||i(t)&&i(e)||"string"==typeof t&&"string"==typeof e||!isNaN(t)&&!isNaN(e)}(l,u))return"".concat(a).concat(r);if(i(l)&&i(u))return t(l,u,"".concat(a).concat(r,"."));if(Array.isArray(l)){if((0,o.A)(l,u))return null;var s=c({newPointer:l,oldPointer:u});return"".concat(a).concat(r,"[").concat(s,"]")}return(0,o.A)(l,u)?null:"".concat(a).concat(r)})).filter((function(t){return!!t}));return c({newPointer:Object.keys(e),oldPointer:Object.keys(n)}).forEach((function(t){l.includes("".concat(a).concat(t))||l.push("".concat(a).concat(t))})),l.flat()}return[]}},88235:function(t,e,n){n(94226);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}e.A=function t(e,n){if(e===n)return!0;if(o(e)!==o(n)||"object"!==o(e)||null===e||null===n)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length||r.find((function(t){return i.indexOf(t)<0})))return!1;for(var c in e)if(!t(e[c],n[c]))return!1;return!0}}}]);