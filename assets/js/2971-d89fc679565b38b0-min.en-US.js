"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["2971"],{239715:function(_){_.exports={"custom-title-focus":"vBmeQhHd18v5KPen"}},443923:function(_){_.exports={}},755918:function(_,u,t){t.d(u,{Z:()=>y});var o=t(160553),e=t.n(o),r=t(642979),a=t.n(r),n=t(174161);const i=g=>new Promise((p,m)=>{const A=document.createElement("script");document.body.appendChild(A);const j=()=>{p(),setTimeout(()=>{document.body.removeChild(A)},0)};try{A.addEventListener("load",j),A.addEventListener("error",m),A.setAttribute("src",g)}catch(D){m(D)}});var c=t(199040),s=t(166455),l=t.n(s);const d=new c.Z("config-microfrontend",l().CONFIG_FRONTEND_ENG),E=new Map,I=new Map;let h=0;const $="sqsDefine",P=(g,p,m)=>{E.set(g,m().default)},k=()=>{if(h)return P;console.log("microfrontend-debugging","calling define despite not expecting to")},J=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(g.hasOwnProperty($))return;const p={};Object.defineProperty(p,"define",{get:k,set:()=>()=>{console.error("[config-appshell] Unexpected attempt to set window.define")}}),Object.freeze(p),Object.defineProperty(g,$,{value:p,writable:!1,configurable:!1})};(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(!(g.hasOwnProperty("define")&&g.define===k))try{Object.defineProperty(g,"define",{get:k,set:()=>()=>{console.error("[config-appshell] Unexpected attempt to set window.define")}});const p=Object.defineProperty;Object.defineProperty=function(m,A,j){if(m===g&&A==="define")throw new Error("Cannot redefine window.define");return p(m,A,j)}}catch(p){d.withSquarespaceScope(m=>{m.addBreadcrumb({message:"define already present on window object, unable to set define"}),d.captureException(p)})}})(),J();const it=async(g,p)=>(h++,I.has(g)||I.set(g,i(p)),await I.get(g).catch(()=>{console.error(`Failed to load module for '${g}'`)}),h=Math.max(h-1,0),E.get(g)),mt=async(g,p)=>{const m=await it(g,p);if(m)return m;console.error("Second attempt at loading",p),I.delete(g);const A=await it(g,p);return A||Promise.reject(new Error(`Failed to load module for '${g}'`))};var pt=t(995953),C=t(315337);class q extends n.Component{constructor(){super(...arguments),a()(this,"state",{element:null,error:null,errorEventId:void 0}),a()(this,"onHostElementMount",p=>{this.setState({element:p},this.renderRemote)}),a()(this,"handleError",(p,m)=>{let A=this.state.errorEventId;d.withSquarespaceScope(j=>{m&&j.setTag("microfrontend",m),A=d.captureException(p)}),this.setState({errorEventId:A,error:p})}),a()(this,"renderRemote",async()=>{const{element:p}=this.state,{fetchRemote:m,children:A,navigatorWithListener:j}=this.props,D=await m({locale:(0,C.Z)().translationLocale}).catch(z=>{console.log("microfrontend-debugging","unable to load fetchRemote"),this.handleError(z)});if(!D)return;const{libraryName:N,entrypoint:M}=D.data??D,G=await mt(N,M).catch(z=>{console.log("microfrontend-debugging","unable to load module for entrypoint",M),this.handleError(z,N)});if(G)try{A({element:p,module:G,navigatorWithListener:j})}catch(z){this.handleError(z,N)}})}render(){const{renderErrorFallback:p,children:m,fetchRemote:A,navigatorWithListener:j,...D}=this.props;return n.createElement(n.Fragment,null,this.state.error?p(this.state.errorEventId,this.renderRemote):null,n.createElement("div",e()({ref:this.onHostElementMount},D)))}}a()(q,"wrapperClassName","micro-frontend-remote"),a()(q,"defaultProps",{children:(0,pt.Z)()});const y=q},995953:function(_,u,t){t.d(u,{Z:()=>e});const o="https://go/config-frontend/microfrontends",e=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"importPackage",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"render";return n=>{let{element:i,module:c,navigatorWithListener:s}=n;c[r]().then(l=>{l[a](i,s)})}}},683296:function(_,u,t){t.d(u,{x:()=>i});var o=t(221661),e=t.n(o),r=t(998124),a=t(883036),n=t(225840);const i=c=>{var s,l,d;let{ownerTeam:E,dashboardName:I,schemaName:h,productArea:$}=c;const P=(0,a.getAccountContext)(),k=(0,n.getWebsiteContext)(),J=new(e())({customSchemaName:h,sourceEnvironment:window.location.hostname==="localhost"?o.SourceEnvironment.DEV:(0,r.isInternal)()?o.SourceEnvironment.STAGING:o.SourceEnvironment.PROD},{event_occurrence_timestamp:Date.now(),product_area:$,event_owner_team:E,event_source:"web",member_account_id:P==null||(s=P.authenticatedAccount)===null||s===void 0?void 0:s.id,context_website_id:k==null||(l=k.website)===null||l===void 0?void 0:l.id,website_id:k==null||(d=k.website)===null||d===void 0?void 0:d.id,dashboard_name:I});return{track:rt=>{J.track(rt)}}}},324167:function(_,u,t){t.d(u,{Bq:()=>c,LP:()=>r,aU:()=>e,c0:()=>a,h8:()=>i,n7:()=>n,vt:()=>o});let o=function(s){return s.USER="user",s}({}),e=function(s){return s.VIEW="view",s.CLICK="click",s.SELECT="select",s}({}),r=function(s){return s.PAGE="page",s.MENU="menu",s.MENU_ITEM="menuitem",s.MODAL="modal",s.BUTTON="button",s.LINK="link",s.CARD="card",s.SECTION="section",s.TOOLTIP="tooltip",s}({}),a=function(s){return s.MERCHANDISING="merchandising",s.SETUP="setup",s.MATURE="mature",s}({}),n=function(s){return s.ACTIVE="active",s.INACTIVE="inactive",s.TRIAL="trial",s.NOT_SPECIFIED="not_specified",s}({}),i=function(s){return s.KEY_FIGURES="key_figures",s.CHECKLIST="checklist",s.QUICK_LINKS="quick_links",s.HELP_CENTER="help_center",s.PLAN="plan",s.TIP="tip",s.CREATE_CARDS="create_cards",s.PROMO_HERO="promo_hero",s.FEATURE_PROMO="feature_promo",s.ACTION_BANNER="action_banner",s.MARKETING_BANNER="marketing_banner",s}({});const c="dashboard"},437002:function(_,u,t){t.d(u,{bt:()=>E,uj:()=>l,ZP:()=>I,xG:()=>s});var o=t(174161),e=t(625392),r=t.n(e),a=t(683296),n=t(324167);const i=h=>{const $=r()(()=>(0,a.x)({...h,schemaName:"DashboardNav",productArea:"commerce"})),P=O=>$().track({...O,dashboard_state:h.dashboardState??null,entry_point:h.entryPoint??n.Bq});return{userViewsDashboard:()=>P({event_name:"UserViewsDashboard",actor:n.vt.USER,action:n.aU.VIEW,object_type:n.LP.PAGE}),userClicksMerchandisingCard:O=>{let{cardName:v}=O;return P({event_name:"UserClicksMerchandisingCard",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.CARD,object_identifier:v})},userClicksHelpCenterLink:O=>{let{linkName:v}=O;return P({event_name:"UserClicksHelpCenterLink",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.LINK,object_identifier:v,widget_name:n.h8.HELP_CENTER})},userViewsDashboardWidget:O=>{let{widgetName:v,completedItems:B}=O;return P({event_name:"UserViewsDashboardWidget",actor:n.vt.USER,action:n.aU.VIEW,object_type:n.LP.SECTION,object_identifier:v,item_completion_list:B?[...B].sort((tt,yt)=>tt.localeCompare(yt)):void 0})},userClicksViewAll:O=>{let{widgetName:v,subWidgetName:B}=O;return P({event_name:"UserClicksViewAll",actor:n.vt.USER,action:n.aU.VIEW,object_type:n.LP.LINK,widget_name:v,sub_widget_name:B})},userClicksCreateMenu:()=>P({event_name:"UserClicksCreateMenu",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.MENU}),userSelectsCreateOption:O=>{let{optionName:v}=O;return P({event_name:"UserSelectsCreateOption",actor:n.vt.USER,action:n.aU.SELECT,object_type:n.LP.MENU_ITEM,object_identifier:v})},userClicksChecklistItem:O=>{let{actionName:v,positionIndex:B,totalItems:tt}=O;return P({event_name:"UserClicksChecklistItem",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.LINK,item_position_index:B,item_position_total:tt,widget_name:n.h8.CHECKLIST,object_identifier:v})},userClicksQuickLink:O=>{let{linkName:v}=O;return P({event_name:"UserClicksQuickLink",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.LINK,widget_name:n.h8.QUICK_LINKS,object_identifier:v})},userClicksTableItem:O=>{let{widgetName:v,tableContent:B}=O;return P({event_name:"UserClicksTableItem",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.LINK,widget_name:v,object_identifier:B})},userClicksTip:O=>{let{tipName:v,widgetName:B}=O;return P({event_name:"UserClicksTip",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.LINK,widget_name:B??n.h8.TIP,object_identifier:v})},userNavigatesForwardTips:O=>{let{tipName:v,widgetName:B}=O;return P({event_name:"UserNavigatesForwardTips",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.BUTTON,widget_name:B??n.h8.TIP,object_identifier:v})},userNavigatesBackwardTips:O=>{let{tipName:v,widgetName:B}=O;return P({event_name:"UserNavigatesBackwardTips",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.BUTTON,widget_name:B??n.h8.TIP,object_identifier:v})},userViewsTip:O=>{let{tipName:v,widgetName:B}=O;return P({event_name:"UserViewsTip",actor:n.vt.USER,action:n.aU.VIEW,object_type:n.LP.CARD,widget_name:B??n.h8.TIP,object_identifier:v})},userClicksPlanWidget:O=>{let{actionName:v,currentPlan:B}=O;return P({event_name:"UserClicksPlanWidget",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.BUTTON,widget_name:n.h8.PLAN,object_identifier:v,current_plan:B})},userViewsTooltip:O=>{let{widgetName:v,tooltipDescription:B}=O;return P({event_name:"UserViewsTooltip",actor:n.vt.USER,action:n.aU.VIEW,object_type:n.LP.TOOLTIP,widget_name:v,object_identifier:B})},userClicksSettingsIcon:()=>P({event_name:"UserClicksSettingsIcon",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.BUTTON}),userSelectsSettingsOption:O=>{let{optionName:v}=O;return P({event_name:"UserSelectsSettingsOption",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.LINK,object_identifier:v})},userViewsBanner:O=>{let{optionName:v,bannerName:B,bannerLocation:tt,bannerType:yt}=O;return P({event_name:"UserViewsBanner",actor:n.vt.USER,action:n.aU.VIEW,object_type:n.LP.SECTION,object_identifier:v,banner_name:B,banner_location:tt,banner_type:yt})},userClicksBannerCTA:O=>{let{optionName:v,widgetName:B,bannerName:tt,bannerLocation:yt,bannerType:At}=O;return P({event_name:"UserClicksBannerCTA",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.BUTTON,object_identifier:v,widget_name:B,banner_name:tt,banner_location:yt,banner_type:At})},userDismissesBannerCTA:O=>{let{optionName:v,widgetName:B,bannerName:tt,bannerLocation:yt,bannerType:At}=O;return P({event_name:"UserDismissesBannerCTA",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.BUTTON,object_identifier:v,widget_name:B,banner_name:tt,banner_location:yt,banner_type:At})},userClicksLink:O=>{let{linkName:v,widgetName:B}=O;return P({event_name:"UserClicksLink",actor:n.vt.USER,action:n.aU.CLICK,object_type:n.LP.LINK,object_identifier:v,widget_name:B})}}},c=o.createContext(void 0),s=()=>({events:(0,o.useContext)(c)}),l=()=>{const h=(0,o.useContext)(c);if(!h)throw new Error("useAnalyticEvents must be used within an AnalyticEventsContext");return{events:h}},d=h=>{const{children:$,dashboardName:P,ownerTeam:k,dashboardState:J,entryPoint:rt}=h,it=o.useMemo(()=>i({dashboardName:P,ownerTeam:k,dashboardState:J,entryPoint:rt}),[P,k,J,rt]);return(0,o.useEffect)(()=>{it.userViewsDashboard()},[it]),o.createElement(c.Provider,{value:it},$)},E=h=>{let{children:$,...P}=h;return o.createElement(c.Provider,{value:{userViewsDashboard:jest.fn(),userClicksCreateMenu:jest.fn(),userClicksSettingsIcon:jest.fn(),userSelectsCreateOption:jest.fn(),userSelectsSettingsOption:jest.fn(),userClicksHelpCenterLink:jest.fn(),userClicksQuickLink:jest.fn(),userClicksViewAll:jest.fn(),userClicksTableItem:jest.fn(),userClicksMerchandisingCard:jest.fn(),userNavigatesBackwardTips:jest.fn(),userViewsBanner:jest.fn(),userClicksBannerCTA:jest.fn(),userDismissesBannerCTA:jest.fn(),userClicksChecklistItem:jest.fn(),userClicksPlanWidget:jest.fn(),userClicksTip:jest.fn(),userNavigatesForwardTips:jest.fn(),userViewsDashboardWidget:jest.fn(),userViewsTip:jest.fn(),userViewsTooltip:jest.fn(),userClicksLink:jest.fn(),...P}},$)},I=d},397150:function(_,u,t){t.d(u,{s:()=>s});var o=t(221661),e=t.n(o),r=t(461761),a=t.n(r),n=t(1785),i=t(556072);const c=new(e())({customSchemaName:"InstantPayout",sourceEnvironment:i.T},{event_owner_team:n.a.EventOwnerTeam.PAYMENTS,event_source:n.a.EventSource.WEB,product_area:n.a.ProductArea.PAYMENTS,website_id:a()(window,[...i.cy,"id"],null),member_account_id:a()(window,[...i.UY,"id"],null),entrypoint_level2:n.a.InstantPayout.EntryPointLevel2.FINANCE_L1}),s={trackUserViewsInstantPayoutPopUpCard:l=>{let{paymentsAccountId:d}=l;c.track({event_name:n.a.InstantPayout.EventName.USER_VIEWS_INSTANT_PAYOUT_POP_UP_CARD,actor:n.a.Actor.USER,action:n.a.Action.VIEW,object_type:n.a.ObjectType.MODAL,object_identifier:n.a.InstantPayout.ObjectIdentifier.INSTANT_PAYOUT,sqsp_payments_account_id:d,entrypoint:n.a.InstantPayout.EntryPoint.POP_UP_CARD})},trackUserClicksGetInstantPayout:l=>{let{paymentsAccountId:d,entryPoint:E,objectIdentifier:I}=l;c.track({event_name:n.a.InstantPayout.EventName.USER_CLICKS_GET_INSTANT_PAYOUT,actor:n.a.Actor.USER,action:n.a.Action.VIEW,object_type:n.a.ObjectType.BUTTON,object_identifier:I,sqsp_payments_account_id:d,entrypoint:E})},trackUserClicksToDismissInstantPayoutModal:l=>{let{paymentsAccountId:d}=l;c.track({event_name:n.a.InstantPayout.EventName.USER_CLICKS_TO_DISMISS_INSTANT_PAYOUT_MODAL,actor:n.a.Actor.USER,action:n.a.Action.VIEW,object_type:n.a.ObjectType.BUTTON,object_identifier:n.a.InstantPayout.ObjectIdentifier.DISMISS_INSTANT_PAYOUT_MODAL,sqsp_payments_account_id:d})},trackUserClicksToDismissInstantPayoutPopUp:l=>{let{paymentsAccountId:d}=l;c.track({event_name:n.a.InstantPayout.EventName.USER_CLICKS_TO_DISMISS_INSTANT_PAYOUT_POP_UP,actor:n.a.Actor.USER,action:n.a.Action.VIEW,object_type:n.a.ObjectType.BUTTON,object_identifier:n.a.InstantPayout.ObjectIdentifier.DISMISS_INSTANT_PAYOUT_POPUP,sqsp_payments_account_id:d})},trackUserClicksSendInstantPayout:l=>{let{paymentsAccountId:d,entryPoint:E,payoutAmount:I,currencyCode:h}=l;c.track({event_name:n.a.InstantPayout.EventName.USER_CLICKS_SEND_INSTANT_PAYOUT,actor:n.a.Actor.USER,action:n.a.Action.VIEW,object_type:n.a.ObjectType.BUTTON,object_identifier:n.a.InstantPayout.ObjectIdentifier.SEND_INSTANT_PAYOUT,sqsp_payments_account_id:d,entrypoint:E,payout_amount:I,currency_code:h})},trackUserClicksGetInstantPayoutReminder:l=>{let{paymentsAccountId:d}=l;c.track({event_name:n.a.InstantPayout.EventName.USER_CLICKS_GET_INSTANT_PAYOUT_REMINDER,actor:n.a.Actor.USER,action:n.a.Action.CLICK,object_type:n.a.ObjectType.BUTTON,object_identifier:n.a.InstantPayout.ObjectIdentifier.GET_INSTANT_PAYOUT_REMINDER,sqsp_payments_account_id:d})}}},841353:function(_,u,t){t.d(u,{Z:()=>s});var o=t(456903);const e="/api/finance/v1/accounts",a={fetchInstantPayoutDetails:async l=>{const{data:d}=await o.default.get(`${e}/${l}/instant-payout-details`);return d}};var n=t(659765),i=t(541643);const s=(l,d)=>(0,i.Z)({apiMethod:a.fetchInstantPayoutDetails,apiArgs:[l],cacheId:n.oi.InstantPayoutDetails,config:d})},793036:function(_,u,t){t.r(u),t.d(u,{AFTERPAY_PDP_LOAD:()=>e,AFTERPAY_PDP_OPEN_MODAL:()=>o,KLARNA_PDP_LOAD:()=>n,KLARNA_PDP_OPEN_MODAL:()=>a,PDP_PAGE_LOAD:()=>r,PLP_PAGE_LOAD:()=>i});const o="commerce-merch-open-afterpay-pdp-modal",e="commerce-merch-load-afterpay-pdp-string",r="commerce-merch-pdp-page-load",a="commerce-merch-open-klarna-pdp-modal",n="commerce-merch-load-klarna-pdp-string",i="commerce-merch-plp-page-load"},284106:function(_,u,t){t.d(u,{HC:()=>q,w:()=>h,Bn:()=>pt,fY:()=>I,Kc:()=>k,QQ:()=>J,E0:()=>it,iL:()=>rt,ok:()=>mt,f0:()=>P,Tu:()=>C,O1:()=>$});var o=t(221661),e=t(994336),r=t.n(e),a=t(886346);const i=y=>/\.(sqsp|squarespace)\.net$/.test(y),c="SiteUserInfo",s=()=>{const y=r().get(c);if(!y)return null;try{return JSON.parse(y)}catch(g){return console.error("Could not parse user info cookie value",g),null}},l=()=>{const y=s();return!!(y!=null&&y.authenticated)},d=()=>{const y=s();return y==null?void 0:y.siteUserId},E=new o.SiteVisitorClient({customSchemaName:"CommerceShopping",sourceEnvironment:i(window.location.hostname)?o.SourceEnvironment.STAGING:o.SourceEnvironment.PROD},{event_source:"web",event_owner_team:"commerce_merchandising",product_area:"commerce_shopping"}),I=y=>{let{website_id:g,page_id:p,product_page:m,pdp_layout:A,product:j}=y;E.track({event_name:"CommerceShopping_VisitPDP",actor:"site_user",action:"view",object_type:"product",email_derived_user_id:d(),logged_in:l(),website_id:g,page_id:p,product_page:m,pdp_layout:A,end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7),...j})},h=y=>{let{websiteId:g,pageId:p}=y;E.track({event_name:"CommerceShopping_VisitPLP",actor:"site_user",action:"view",object_type:"shop",site_user_id:d(),end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7),logged_in:l(),website_id:g,page_id:p})},$=y=>{E.track({event_name:"CommerceShopping_ReviewsVitalsAnchorLink",actor:"site_user",action:"click",object_type:"link",email_derived_user_id:d(),ss_cvr:r().get(a.Y7),logged_in:l(),product_page:"pdp",end_user_session_id:r().get(a.oV),...y})},P=y=>{let{website_id:g,item_id:p,item_type:m,item_title:A,page_id:j,item_category_ids:D,item_category_names:N,item_collection_id:M,item_collection_name:G,pdp_layout:z,tabType:vt}=y;E.track({event_name:"CommerceShopping_ReviewsTab",actor:"site_user",action:"click",object_type:"tab",email_derived_user_id:d(),ss_cvr:r().get(a.Y7),logged_in:l(),website_id:g,item_id:p,item_type:m,item_title:A,page_id:j,item_category_ids:D,item_category_names:N,item_collection_id:M,item_collection_name:G,product_page:"pdp",pdp_layout:z,end_user_session_id:r().get(a.oV),object_identifier:vt})},k=y=>{let{website_id:g,page_id:p,cart_id:m,product_page:A,pdp_layout:j,is_quickview:D,has_custom_form:N,error_type:M,product:G}=y;E.track({event_name:"CommerceShopping_AddToCart",actor:"site_user",action:"add",object_type:"product",email_derived_user_id:d(),logged_in:l(),website_id:g,page_id:p,product_page:A,pdp_layout:j,cart_id:m,end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7),is_quickview:D,has_custom_form:N,error_type:M,...G})},J=y=>{let{website_id:g,cart_id:p,num_items_in_cart:m,product_types_list:A,cart_value:j,purchase_type_list:D,currency_code:N}=y;E.track({event_name:"CommerceShopping_ViewCart",actor:"site_user",action:"view",object_type:"cart",email_derived_user_id:d(),logged_in:l(),website_id:g,cart_id:p,num_items_in_cart:m,product_types_list:A,purchase_type_list:D,cart_value:j,currency_code:N,end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7)})},rt=y=>{let{website_id:g,cart_id:p,item_id:m,item_type:A,item_title:j,item_variant_object:D,item_price:N,currency_code:M,item_quantity:G}=y;E.track({event_name:"CommerceShopping_RemoveFromCart",actor:"site_user",action:"view",object_type:"cart",email_derived_user_id:d(),logged_in:l(),website_id:g,cart_id:p,item_id:m,item_type:A,item_title:j,item_variant_object:D,item_price:N,currency_code:M,item_quantity:G,end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7)})},it=y=>{let{website_id:g,item_ids:p,cart_id:m}=y;E.track({event_name:"CommerceShopping_RelatedProductDisplay",actor:"system",action:"display",object_type:"cart",email_derived_user_id:d(),logged_in:l(),website_id:g,related_product_item_ids:p,cart_id:m,end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7)})},mt=y=>{let{website_id:g,item_id:p,cart_id:m}=y;E.track({event_name:"CommerceShopping_RelatedProductAddToCart",actor:"site_user",action:"add",object_type:"product",email_derived_user_id:d(),logged_in:l(),website_id:g,item_id:p,cart_id:m,end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7)})},pt=y=>{let{website_id:g,item_id:p,cart_id:m}=y;E.track({event_name:"CommerceShopping_RelatedProductClick",actor:"site_user",action:"click",object_type:"product",email_derived_user_id:d(),logged_in:l(),website_id:g,item_id:p,cart_id:m,end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7)})},C=y=>{let{website_id:g,product_page:p,pdp_layout:m,is_quickview:A,item_variant_selector:j,product:D}=y;E.track({event_name:"CommerceShopping_OpenCustomProductForm",actor:"site_user",action:"open",object_type:"product_form",end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7),logged_in:l(),website_id:g,product_page:p,pdp_layout:m,has_custom_form:!0,is_quickview:A,item_variant_selector:j,...D})},q=y=>{let{website_id:g,product_page:p,pdp_layout:m,is_quickview:A,item_variant_selector:j,product:D}=y;E.track({event_name:"CommerceShopping_SaveCustomProductForm",actor:"site_user",action:"save",object_type:"product_form",end_user_session_id:r().get(a.oV),ss_cvr:r().get(a.Y7),logged_in:l(),website_id:g,product_page:p,pdp_layout:m,has_custom_form:!0,is_quickview:A,item_variant_selector:j,...D})}},254773:function(_,u,t){t.d(u,{Z:()=>d});var o=t(714487),e=t(122452),r=t(935154),a=t.n(r),n=t(967361);const i=(0,o.t)("New",null,{project:"apps.App.Commerce"}),c=e.Z.isStandaloneScheduling(),s=()=>n.Z.isFeatureEnabled(a().COMMERCE_NATIVE_PRODUCT_REVIEWS),d={ACCOUNTING:{title:(0,o.t)("Accounting",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/accounting",description:(0,o.t)("Download sales data as an Excel file.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/accounting-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/accounting-foreground-2.png"}},ANALYTICS:{title:(0,o.t)("Analytics",null,{project:"apps.App.Commerce"}),to:"/commerce/analytics#sales-overview"},APPS:{title:(0,o.t)("Apps",null,{project:"apps.App.Commerce"}),to:"/commerce/apps"},CHECKOUT:{title:(0,o.t)("Cart & Checkout",null,{project:"apps.App.Commerce"}),to:"/commerce/checkout"},COMMERCE:{title:(0,o.t)("Commerce",null,{project:"apps.App.Commerce"}),to:"/commerce"},CUSTOMER_ACCOUNTS:{title:(0,o.t)("Customer Accounts",null,{project:"apps.App.Commerce"}),to:"/commerce/customer-accounts"},CUSTOM_MERCH:{title:(0,o.t)("Custom Merch",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/custom-merch",description:(0,o.t)("Design and sell custom products with print on demand services powered by Printful.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/custom-merch-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/custom-merch-foreground-2.png"}},CUSTOMER_NOTIFICATIONS:{title:(0,o.t)("Customer Notifications",null,{project:"apps.App.Commerce"}),to:"/settings/customer-notifications",description:(0,o.t)("Customize the emails you automatically send to customers.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/customer-notifications-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/customer-notifications-foreground-2.png"}},CUSTOMERS:{title:(0,o.t)("Customers",null,{project:"apps.App.Commerce"}),to:c?"/commerce/customers/customers":"/commerce/customers"},DISCOUNTS:{title:(0,o.t)("Discounts",null,{project:"apps.App.Commerce"}),to:"/commerce/discounts"},DONATIONS:{title:(0,o.t)("Donations",null,{project:"apps.App.Commerce"}),description:(0,o.t)("Manage donations submitted through a Donation Block",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/donations",thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/donations-background.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/donations-foreground.png"}},EXTENSIONS:{title:(0,o.t)("Extensions",null,{project:"apps.App.Commerce"}),to:"/commerce/extensions"},FACEBOOK_AND_INSTAGRAM:{title:(0,o.t)("Products on Facebook & Instagram",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/facebook-and-instagram",description:(0,o.t)("Sell products from your Squarespace catalog on Facebook and Instagram.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/fb-and-ig-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/fb-and-ig-foreground-2.png"}},FINANCE:{title:(0,o.t)("Finance",null,{project:"apps.App.Commerce"}),to:"/commerce/finance"},GOOGLE:{title:(0,o.t)("Google Shopping",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/google-retail",detail:(0,o.t)("New",null,{project:"apps.App.Commerce"}),description:(0,o.t)("Display your products as listings on Google services.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/google-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/google-foreground-2.png"}},HELP:{title:(0,o.t)("Help",null,{project:"apps.App.Commerce"}),to:"/commerce/help"},INVENTORY:{title:(0,o.t)("Products",null,{project:"apps.App.Commerce"}),to:"/commerce/inventory"},INVOICES:{title:(0,o.t)("Invoicing",null,{project:"apps.App.Commerce",notes:"Client invoicing in the context of project selling"}),to:"/commerce/invoices"},MEMBERSHIP:{title:(0,o.t)("Memberships",null,{project:"apps.App.Commerce"}),to:"/commerce/memberships"},LOW_STOCK_ALERTS:{title:(0,o.t)("Low Stock Alerts",null,{project:"apps.App.Commerce"}),to:"/commerce/low-stock-alerts"},ORDERS:{title:(0,o.t)("Orders",null,{project:"apps.App.Commerce"}),to:"/commerce/orders"},PAYMENTS:{title:(0,o.t)("Payments",null,{project:"apps.App.Commerce"}),to:"/commerce/payments"},PRODUCTS:{title:(0,o.t)("Products",null,{project:"apps.App.Commerce"}),to:"/commerce/products"},SELLING_TOOLS:{title:(0,o.t)("Selling Tools",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools"},PAY_LINKS:{title:(0,o.t)("Pay Links",null,{project:"apps.App.Commerce"}),to:"/commerce/pay-links"},PICKUP:{title:(0,o.t)("Pickup",null,{project:"apps.App.Commerce"}),to:"/commerce/pickup"},POINT_OF_SALE:{title:(0,o.t)("Point of Sale",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/point-of-sale",description:(0,o.t)("Collect payments in person with Square and the Squarespace app.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/pos-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/pos-foreground-2.png"}},PRODUCT_REVIEWS:{title:(0,o.t)("Product Reviews",null,{project:"apps.App.Commerce"}),to:s()?"/commerce/selling-tools/product-reviews-dashboard":"/commerce/selling-tools/product-reviews",description:(0,o.t)("Collect and display reviews for physical, digital and service products.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/product-reviews-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/product-reviews-foreground-2.png"}},PRODUCT_STATUS:{title:(0,o.t)("Product Status",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/product-status",description:(0,o.t)("Add stock and availability badges to your physical, service, and download products.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/product-status-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/product-status-foreground-2.png"}},PROFILES:{title:(0,o.t)("Profiles",null,{project:"apps.App.Commerce"}),to:"/commerce/profiles"},PROJECT_MANAGEMENT:{title:(0,o.t)("Invoicing",null,{project:"apps.App.Commerce",notes:"Client invoicing in the context of project selling"}),to:"/commerce/project-management",detail:(0,o.t)("New",null,{project:"apps.App.Commerce"})},RELATED_PRODUCTS:{title:(0,o.t)("Related Products",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/related-products",description:(0,o.t)("Encourage customers to explore by suggesting related physical, service, or download products.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/related-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/related-foreground-2.png"}},SHIPPING:{title:(0,o.t)("Shipping",null,{project:"apps.App.Commerce"}),to:"/commerce/shipping",detail:i},TAXES:{title:(0,o.t)("Taxes",null,{project:"apps.App.Commerce"}),to:"/commerce/taxes"},URL_BUILDER:{title:(0,o.t)("URL Builder",null,{project:"apps.App.Commerce"}),description:(0,o.t)("Create unique, trackable links for ad campaigns on third-party platforms.",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/url-builder",thumbnail:{background:"//assets.squarespace.com/universal/images-v6/marketing/marketing-tools/url-builder-background.png",foreground:"//assets.squarespace.com/universal/images-v6/marketing/marketing-tools/url-builder-foreground.png"}},WAITLISTS:{title:(0,o.t)("Waitlists",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools/waitlists",description:(0,o.t)("Create and manage waitlists for out of stock products in your online store.",null,{project:"apps.App.Commerce"}),thumbnail:{background:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/waitlists-background-2.png",foreground:"//assets.squarespace.com/universal/images-v6/commerce/store-tools/waitlists-foreground-2.png"}}}},763189:function(_,u,t){t.d(u,{k:()=>d,x:()=>l});var o=t(940426),e=t(174161),r=t(192628),a=t.n(r),n=t(293702),i=t(260175),c=t(352635),s=t(714487);const l=[(0,i.i)(c.breakpoints).platform==="mobile"&&{title:(0,s.t)("Overview",null,{project:"apps.App.Commerce"}),to:"/invoicing"},{title:(0,s.t)("Invoices",null,{project:"apps.App.Commerce"}),to:"/invoicing/invoices"},{title:(0,s.t)("Projects",null,{project:"apps.App.Commerce"}),to:"/invoicing/projects"}].filter(Boolean),d=E=>{const I=h=>e.createElement(e.Fragment,null,e.createElement(n.Z,{items:l}),e.createElement(E,h));return a()(I,E)}},968636:function(_,u,t){t.d(u,{O:()=>d,x:()=>l});var o=t(940426),e=t(174161),r=t(293702),a=t(254773),n=t(352635),i=t(260175),c=t(373251),s=t(714487);const l=(0,c.Uj)()?[(0,i.i)(n.breakpoints).platform==="mobile"&&{title:(0,s.t)("Overview",null,{project:"apps.App.Commerce"}),to:"/commerce"},a.Z.PRODUCTS,a.Z.INVENTORY,a.Z.ORDERS,a.Z.FINANCE,a.Z.MEMBERSHIP].filter(Boolean):[(0,i.i)(n.breakpoints).platform==="mobile"&&{title:(0,s.t)("Overview",null,{project:"apps.App.Commerce"}),to:"/commerce"},a.Z.PRODUCTS,a.Z.INVENTORY,a.Z.ORDERS,a.Z.FINANCE,a.Z.DISCOUNTS,a.Z.MEMBERSHIP,a.Z.SELLING_TOOLS].filter(Boolean),d=E=>I=>e.createElement(e.Fragment,null,e.createElement(r.Z,{items:l}),e.createElement(E,I))},893741:function(_,u,t){t.d(u,{b:()=>l,x:()=>s});var o=t(940426),e=t(174161),r=t(293702),a=t(254773),n=t(352635),i=t(260175),c=t(714487);const s=[(0,i.i)(n.breakpoints).platform==="mobile"&&{title:(0,c.t)("Overview",null,{project:"apps.App.Commerce"}),to:"/commerce/selling-tools"},a.Z.DISCOUNTS,a.Z.PAY_LINKS].filter(Boolean),l=d=>E=>e.createElement(e.Fragment,null,e.createElement(r.Z,{items:s}),e.createElement(d,E))},606334:function(_,u,t){t.d(u,{FE:()=>r,L2:()=>n,ay:()=>a,eN:()=>e});const o="COLLECTION_REDIRECT_URL",e=i=>sessionStorage.setItem(o,i),r=()=>sessionStorage.getItem(o),a=()=>!!sessionStorage.getItem(o),n=()=>sessionStorage.removeItem(o)},379393:function(_,u,t){t.d(u,{T:()=>l,x:()=>s});var o=t(940426),e=t(174161),r=t(293702),a=t(260175),n=t(352635),i=t(714487),c=t(606334);const s=[(0,a.i)(n.breakpoints).platform==="mobile"&&{title:(0,i.t)("Overview",null,{project:"apps.App"}),to:"/content-and-memberships"},{title:(0,i.t)("Orders",null,{project:"apps.App"}),to:"/content-and-memberships/orders"},{title:(0,i.t)("Products",null,{project:"apps.App"}),to:"/content-and-memberships/products"},{title:(0,i.t)("Discounts",null,{project:"apps.App"}),to:"/content-and-memberships/discounts"}].filter(Boolean),l=d=>((0,c.L2)(),E=>e.createElement(e.Fragment,null,e.createElement(r.Z,{items:s}),e.createElement(d,E)))},935542:function(_,u,t){t.d(u,{p:()=>s,x:()=>c});var o=t(940426),e=t(174161),r=t(293702),a=t(260175),n=t(352635),i=t(714487);const c=[(0,a.i)(n.breakpoints).platform==="mobile"&&{title:(0,i.t)("Overview",null,{project:"apps.App"}),to:"/donations"},{title:(0,i.t)("Contributions",null,{project:"apps.App"}),to:"/donations/contributions"},{title:(0,i.t)("Funds",null,{project:"apps.App"}),to:"/donations/funds"}].filter(Boolean),s=l=>d=>e.createElement(e.Fragment,null,e.createElement(r.Z,{items:c}),e.createElement(l,d))},559278:function(_,u,t){t.d(u,{Z:()=>a});var o=t(456903);const e="/api/finance/v1/",a={fetchUpcomingPayoutDetails:async(n,i)=>{const{data:c}=await o.default.get(e+`accounts/${n}/subAccounts/${i}/upcoming-payout-details`);return c},fetchAccountBalanceSummary:async(n,i)=>{const{data:c}=await o.default.get(e+`accounts/${n}/subAccounts/${i}/account-balance-summary`);return c},fetchPayments:async(n,i,c)=>{const{data:s}=await o.default.get(e+`accounts/${n}/subAccounts/${i}/payments`,{headers:{"Content-Type":"application/json"},params:c}),{result:l,nextPageCursor:d,hasNextOffsetPage:E,totalCount:I}=s;return{result:l,nextPageCursor:d,hasNextOffsetPage:E,totalCount:I}},fetchPayouts:async(n,i,c)=>{const{data:s}=await o.default.get(e+`accounts/${n}/subAccounts/${i}/payouts`,{headers:{"Content-Type":"application/json"},params:c}),{result:l,nextPageCursor:d,hasNextOffsetPage:E,totalCount:I}=s;return{result:l,nextPageCursor:d,hasNextOffsetPage:E,totalCount:I}},createInstantPayout:async n=>{let{accountId:i,params:c}=n;const{data:s}=await o.default.post(e+`accounts/${i}/payouts`,JSON.stringify(c),{headers:{"Content-Type":"application/json"}});return{payoutId:s.id}},fetchPayoutConfig:async n=>{const{data:i}=await o.default.get(e+`accounts/${n}/payouts/config`);return i},createInstantPayoutBalanceReminder:async n=>{let{accountId:i,params:c}=n;await o.default.put(e+`accounts/${i}/payouts/reminder`,JSON.stringify(c),{headers:{"Content-Type":"application/json"}})}}},64093:function(_,u,t){t.d(u,{Z:()=>a});var o=t(456903);const e="/api/finance/v1",a={fetchReservesSummary:async(n,i)=>{const{data:c}=await o.default.get(`${e}/accounts/${n}/reserves/summary`,{params:{includeBalance:i}});return c},fetchReservesTransactionsList:async(n,i)=>{const{data:c}=await o.default.get(`${e}/accounts/${n}/reserves/transactions`,{params:i});return c}}},560213:function(_,u,t){t.d(u,{Hd:()=>o,O7:()=>a,wo:()=>r,xi:()=>e});var o=function(n){return n.OPEN_MODAL="OPEN_MODAL",n.CLOSE_MODAL="CLOSE_MODAL",n}({}),e=function(n){return n.ACCOUNT_BALANCE_MODAL="ACCOUNT_BALANCE_MODAL",n.INSTANT_PAYOUT_MODAL="INSTANT_PAYOUT_MODAL",n.PAYMENTS_ONBOARDING_MODAL="PAYMENTS_ONBOARDING_MODAL",n}({});const r={ACCOUNT_BALANCE_MODAL:{isOpen:!1,entryPoint:null},INSTANT_PAYOUT_MODAL:{isOpen:!1,entryPoint:null},PAYMENTS_ONBOARDING_MODAL:{isOpen:!1,entryPoint:null}},a=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,i=arguments.length>1?arguments[1]:void 0;const{financeModalId:c,entryPoint:s=null}=i.payload;switch(i.type){case"OPEN_MODAL":return{...n,[c]:{isOpen:!0,entryPoint:s}};case"CLOSE_MODAL":return{...n,[c]:{isOpen:!1}};default:return n}}},314954:function(_,u,t){t.d(u,{Z:()=>n});var o=t(174161),e=t(934951),r=t(714487);const n=i=>{let{instantPayoutBalance:c}=i;return c?o.createElement(e.T,{project:"apps.App",notes:"text displaying the amount available as an instant payout",instantPayoutAvailable:o.createElement("span",{style:{color:"#0862D1"}},o.createElement(e.T,{project:"apps.App",notes:"stylized text displaying the amount available for instant payout ",instantPayoutBalance:(0,r.lb)(c)},"{instantPayoutBalance} available"))},"{instantPayoutAvailable} for instant payout"):null}},557934:function(_,u,t){t.d(u,{Z:()=>c});var o=t(174161),e=t(516865),r=t(482053),a=t(934951),n=t(971060);const c=s=>{let{variant:l,...d}=s;const I=d.disabled?e.Z.Secondary:l==="modal"?e.Z.Primary:e.Z.Secondary,h=()=>d.disabled?"colors.disabled":l==="modal"?"white":"gray.100";return o.createElement(I,{size:"medium",width:l==="modal"?"100%":void 0,...d},o.createElement(r.Z,{sx:{whiteSpace:"nowrap"}},o.createElement(n.Z,{role:"img",sx:{height:16,width:16,mr:1,mt:"4px",color:h(),flex:"none"}}),o.createElement(a.T,{project:"apps.App",notes:"button to get an instant payout"},"GET INSTANT PAYOUT")))}},316230:function(_,u,t){t.d(u,{Z:()=>j});var o=t(174161),e=t(113043),r=t(560213),a=t(129920),n=t(490121),i=t(342059),c=t(418698),s=t(934951),l=t(482053),d=t(60318),E=t(886202),I=t(397150),h=t(1785),$=t(139717),P=t(571199),k=t(338465),J=t(967552),rt=t(538312),it=t(516865),mt=t(217169),pt=t(714487),C=t(842876),q=t(352635);const y=t.p+"instant-payout-popover-5de9b51428bc4c89.png",g={contentLocalStorageKey:"instant-payout-popover",resurfaceAfterXDays:90,numberOfTimesToResurface:2},m=(0,o.forwardRef)((D,N)=>{let{onClickInstantPayoutCTA:M}=D;const{sqspPaymentsAccountId:G}=(0,a.o)();return(0,o.useEffect)(()=>{I.s.trackUserViewsInstantPayoutPopUpCard({paymentsAccountId:G})},[G]),o.createElement(E.Z,g,z=>o.createElement($.Z,{anchor:N,isOpen:!0,offset:{x:0,y:11},arrowStyles:{backgroundColor:"#838383"}},o.createElement(mt.default,{disabled:!1,returnFocus:!0},o.createElement(l.Z,{flexDirection:"column",width:"284px"},o.createElement(k.Z,{minHeight:"144px",backgroundColor:"#838383",backgroundImage:`url(${y})`,backgroundSize:"cover"},o.createElement(J.Z.Element.Icon,{"aria-label":(0,pt.t)("button to dismiss popover",null,{project:"apps.App"}),m:0,onClick:()=>{I.s.trackUserClicksToDismissInstantPayoutPopUp({paymentsAccountId:G}),z()},sx:{position:"absolute",top:2,right:2}},o.createElement(C.Z,{"aria-label":(0,pt.t)("close icon",null,{project:"apps.App"}),role:"img",color:"white"}))),o.createElement(l.Z,{flexDirection:"column",px:4,py:3,alignItems:"start",gap:2},o.createElement(P.Z,{label:(0,pt.t)("Get paid faster",null,{project:"apps.App",notes:"benefit of instant payouts"}),usage:"badge",backgroundColor:"black",color:"white"}),o.createElement(l.Z,{flexDirection:"column",gap:"3px"},o.createElement(rt.Z.Body,{m:0,fontWeight:q.fontWeights.semibold},o.createElement(s.T,{project:"apps.App",notes:"text letting user know they are eligible for the instant payout feature"},"You're eligible for instant payouts")),o.createElement(rt.Z.Body,{m:0,fontWeight:q.fontWeights.book,color:"fg.muted"},o.createElement(s.T,{project:"apps.App",notes:"benefit of instant payouts"},"Skip the standard payout wait time and get your money in minutes."))),o.createElement(it.Z.Tertiary,{onClick:()=>{z(),M()}},o.createElement(s.T,{project:"gringotts",notes:"button label for initiating instant payout moda"},"try instant payout")))))))}),j=D=>{let{children:N,showPopover:M=!1,entryPoint:G}=D;var z,vt;const[at,x]=(0,o.useState)(null),[O,v]=(0,o.useState)(!1),{handleOpenModal:B}=(0,e.js)(),{instantPayoutDetails:tt,isAccountOwner:yt,sqspPaymentsAccountId:At,sqspPaymentsSubAccountId:V}=(0,a.o)(),Ut=(0,n.Z)(At,V,{enabled:tt==null?void 0:tt.eligible});if(!(tt!=null&&tt.eligible)||(0,d.w)(Ut)||!yt||!N)return null;const Bt=()=>{v(!0)},Dt=()=>{v(!1)},Vt=(z=Ut.data)===null||z===void 0?void 0:z.instantPayoutBalance,jt=!Vt||((vt=(0,i.cW)(Vt))===null||vt===void 0?void 0:vt.isZero()),Yt=Jt=>{(0,E.A)(g),B({financeModalId:r.xi.INSTANT_PAYOUT_MODAL,entryPoint:Jt})},Lt=o.cloneElement(N,{onClick:()=>{I.s.trackUserClicksGetInstantPayout({paymentsAccountId:At,entryPoint:G,objectIdentifier:h.a.InstantPayout.ObjectIdentifier.GET_INSTANT_PAYOUT}),Yt(G)},children:N.props.children,disabled:jt});return jt?o.createElement(l.Z,{position:"relative",ref:x,onMouseEnter:Bt,onMouseLeave:Dt,onFocus:Bt,onBlur:Dt},Lt,o.createElement(c.Z,{anchor:at,isOpen:O},o.createElement(s.T,{project:"apps.App",notes:"tooltip text for instant payout button"},"No funds currently available. Your available funds for instant payouts will update automatically as new payments come in."))):o.createElement(l.Z,{position:"relative",ref:x},Lt,M&&o.createElement(m,{ref:at,onClickInstantPayoutCTA:()=>{I.s.trackUserClicksGetInstantPayout({paymentsAccountId:At,entryPoint:h.a.InstantPayout.EntryPoint.POP_UP_CARD,objectIdentifier:h.a.InstantPayout.ObjectIdentifier.TRY_INSTANT_PAYOUT}),Yt(h.a.InstantPayout.EntryPoint.POP_UP_CARD)}}))}},1100:function(_,u,t){t.d(u,{TI:()=>a,jH:()=>e,p8:()=>r});var o=t(714487);const e={currentlyProcessing:(0,o.t)("Recent transactions that are on the way to your Squarespace Payments account.",null,{project:"apps.App",notes:"tooltip that describes what is included in currently processing"}),holdingPeriod:(0,o.t)("The time each amount is on hold. When the holding period ends, available funds release into your next payout.",null,{project:"apps.App",notes:"tooltip for holding period label"}),releasesOn:(0,o.t)("Once funds are released, it typically takes 1-3 days to appear in your bank account",null,{project:"apps.App",notes:"tooltip for release date label"})},r={reserves:(0,o.t)("Reserve funds",null,{project:"apps.App",notes:"Label for reserve balance under balance breakdown"}),total:(0,o.t)("Total",null,{project:"apps.App"}),currentlyProcessing:(0,o.t)("Processing funds",null,{project:"apps.App",notes:"Label for currently processing funds under balance breakdown"}),reserveAmount:(0,o.t)("Reserve amount",null,{project:"apps.App",notes:"Label for the value that denotes how much is held in reserve"}),holdingPeriod:(0,o.t)("Holding period",null,{project:"apps.App",notes:"Label for the value that denotes how long the funds are held"}),releasesOn:(0,o.t)("Releases On",null,{project:"apps.App",notes:"Label for date when funds are released"})},a={totalAmountOnHold:(0,o.t)("Total amount on hold",null,{project:"apps.App",notes:"Caption for total amount held in reserve"})}},113043:function(_,u,t){t.d(u,{I5:()=>n,js:()=>c,vV:()=>i});var o=t(174161),e=t(560213),r=t(860921),a=t.n(r),n=function(s){return s.MERCHANDISING="merchandising",s.SETUP="setup",s.MATURE="mature",s.ELIGIBLE_FOR_MIGRATION="eligible_for_migration",s.NOT_ELIGIBLE_FOR_MIGRATION="not_eligible_for_migration",s}({});const i=(0,o.createContext)({dashboardState:"merchandising",isLoadingDashboardState:!0,handleOnboardingAccountId:a(),handleOpenModal:a(),handleCloseModal:a(),financeModalsState:e.wo}),c=()=>{const s=(0,o.useContext)(i);if(!s)throw new Error("useFinanceDashboard must be used within a FinanceDashboardContext");return s}},129920:function(_,u,t){t.d(u,{Q:()=>r,o:()=>a});var o=t(174161);const e=[],r=(0,o.createContext)({isCapMigrationMerchant:!1,isConnectedToSqspPayments:!1,isAccountOwner:!1,isEligibleForAutoOnboarding:!1,sqspPaymentsAccountId:null,sqspPaymentsSubAccountId:null,paymentSettings:null,paymentAccount:null,instantPayoutDetails:null,bankAccounts:e,priorityCountryCode:""}),a=()=>{const n=(0,o.useContext)(r);if(!n)throw new Error("usePaymentsAccount must be used within a PaymentsAccountContext");return n}},490121:function(_,u,t){t.d(u,{Z:()=>n});var o=t(541643),e=t(659765),r=t(559278);const n=(i,c,s)=>(0,o.Z)({apiMethod:r.Z.fetchAccountBalanceSummary,apiArgs:[i,c],cacheId:e.oi.AccountBalanceSummary,config:s})},616470:function(_,u,t){t.d(u,{Z:()=>n});var o=t(64093),e=t(541643),r=t(659765);const n=(i,c,s)=>{const l=(c==null?void 0:c.includeBalance)??!1;return(0,e.Z)({apiMethod:o.Z.fetchReservesSummary,apiArgs:[i,l],cacheId:r.oi.ReservesSummary,config:s})}},797758:function(_,u,t){t.d(u,{J:()=>e,_:()=>o});var o=function(r){return r.CURRENTLY_PROCESSING="currently_processing",r.PAYMENT_ACCOUNT_STATUS_CARD="payment_account_status_card",r.RECENT_ORDERS="recent_orders",r.RECENT_PAYMENTS="recent_payments",r.RECENT_PAYOUTS="recent_payouts",r.TOTAL_PAYMENTS_VOLUME="total_payments_volume",r.UPCOMING_PAYOUT="upcoming_payout",r.ACCOUNT_BALANCE="account_balance",r.ACCOUNT_BALANCE_MODAL="account_balance_modal",r}({}),e=function(r){return r.ClickCapitalLearnMore="ClickCapitalLearnMore",r.ClickCapitalPermissionsLearnMore="ClickCapitalPermissionsLearnMore",r.CapitalSwitchToSqspPayments="SwitchCapitalToSqspPayments",r}({})},406546:function(_,u,t){t.d(u,{Lq:()=>e,s5:()=>r,zB:()=>o});var o=function(a){return a.ONE_TIME_HOLD="ONE_TIME_HOLD",a.FIXED_PLAN="FIXED_PLAN",a.ROLLING_PLAN="ROLLING_PLAN",a}({}),e=function(a){return a.RESERVES_HOLD="RESERVES_HOLD",a.RESERVES_RELEASE="RESERVES_RELEASE",a.RESERVES_RELEASE_CHARGEBACK="RESERVES_RELEASE_CHARGEBACK",a.RESERVES_RELEASE_REFUND="RESERVES_RELEASE_REFUND",a}({}),r=function(a){return a.ON_HOLD="HOLD",a.RELEASED="RELEASE",a}({})},454709:function(_,u,t){t.d(u,{d:()=>o});var o=function(e){return e.SQUARESPACE_CAPITAL="squarespace-capital",e.INSTANT_PAYOUT_EMAIL_REMINDER="sqspp-instant-payout-email-reminder",e.SQSP_BALANCE="sqsp_balance_page",e}({})},342059:function(_,u,t){t.d(u,{G2:()=>a,Yr:()=>e,cW:()=>r});var o=t(696049);const e=n=>n==null?null:Number(n),r=(n,i)=>n?new o.default(n.value,n.currency):i?new o.default(i.value,i.currency):null,a=n=>{const{decimalValue:i,currencyCode:c}=n.toJSON();return{value:i,currency:c}}},130067:function(_,u,t){t.d(u,{F$:()=>l,ZP:()=>E,pk:()=>n,tc:()=>i});var o=t(714487),e=t(574782),r=t(541895);const a="/finance",n={ROOT:a,PAYMENTS:`${a}/payments`,PAYOUTS:`${a}/payouts`,ORDERS:`${a}/orders`,CAPITAL:`${a}/capital`,RESERVES:`${a}/reserves`,BALANCE:`${a}/balance`},i={ACCOUNT_SETTINGS:"/settings/selling/payments/squarespace#account",PAYMENT_METHODS:"/settings/selling/payments/squarespace#payment-methods",PAYMENT_SETTINGS:"/settings/selling/payments",TAX_JAR_SETTINGS:"/settings/third-party-tools/extensions/taxjar",ACCOUNTING:"/commerce/selling-tools/accounting",TAXES:"/settings/selling/taxes"},c={SETTING_UP_YOUR_ACCOUNT:"https://support.squarespace.com/hc/articles/19848492736269-Getting-started-with-Squarespace-Payments",CHOOSING_PAYMENT_METHODS:"https://support.squarespace.com/hc/articles/19848492736269-Getting-started-with-Squarespace-Payments#toc-accepted-payment-methods",VERIFYING_YOUR_BUSINESS:"https://support.squarespace.com/hc/articles/25115829211405-Verifying-your-business-for-Squarespace-Payments",MANAGING_PAYMENTS_AND_PAYOUTS:"https://support.squarespace.com/hc/articles/19860658113037-Managing-payments-and-payouts-with-Squarespace-Payments",MANAGING_ACCOUNT_PERMISSIONS:"https://support.squarespace.com/hc/articles/19861823641997-Understanding-Squarespace-Payments-account-permissions",SWITCHING_TO_SQSP_PAYMENTS:"https://support.squarespace.com/hc/articles/25046619549965-Switching-to-Squarespace-Payments",SQUARESPACE_CAPITAL:"https://support.squarespace.com/hc/articles/33438575023117",SQUARESPACE_CAPITAL_CONTACT_SUPPORT:"https://support.squarespace.com/hc/requests/new?ticket_form_id=33282463246477",ACCOUNT_PERMISSIONS:"https://support.squarespace.com/hc/articles/19861823641997-Understanding-Squarespace-Payments-account-permissions",LEARN_MORE_ABOUT_RESERVES:"https://support.squarespace.com/hc/articles/31735564409869-Squarespace-Payments-risk-reserves"},s={SQUARESPACE_CAPITAL:"https://support.squarespace.com/hc/articles/35934009164429"};function l(I){switch((0,e.m_)()){case r.n.GB:return s[I]??c[I];default:return c[I]}}const E={PAYMENTS:{title:(0,o.t)("Payments",null,{project:"apps.App"}),to:n.PAYMENTS},PAYOUTS:{title:(0,o.t)("Payouts",null,{project:"apps.App"}),to:n.PAYOUTS},ORDERS:{title:(0,o.t)("Orders",null,{project:"apps.App"}),to:n.ORDERS},CAPITAL:{title:(0,o.t)("Capital",null,{project:"apps.App"}),to:n.CAPITAL},BALANCE:{title:(0,o.t)("Balance",null,{project:"apps.App"}),to:n.BALANCE}}},756651:function(_,u,t){t.d(u,{M:()=>e,m:()=>r});var o=t(113043);const e=a=>{switch(a){case o.I5.SETUP:return 2e3;case o.I5.MATURE:return 5e3;case o.I5.ELIGIBLE_FOR_MIGRATION:return 5e3;default:return 0}},r=(a,n)=>!a||!a.length?!1:a.some(i=>i.name===n)},664631:function(_,u,t){t.d(u,{L4:()=>a,dk:()=>r,ht:()=>n});var o=t(714487),e=t(406546);const r=i=>{switch(i){case e.zB.ONE_TIME_HOLD:return(0,o.t)("One-time Reserve",null,{project:"apps.App",notes:"label for one time holds details"});case e.zB.FIXED_PLAN:return(0,o.t)("Fixed Reserve",null,{project:"apps.App",notes:"label for fixed plan details"});case e.zB.ROLLING_PLAN:return(0,o.t)("Rolling Reserve",null,{project:"apps.App",notes:"label for fixed plan details"});default:return""}},a=i=>{const c=(0,o.uf)(i/100,{style:"percent"});return(0,o.t)("{percentage} of incoming charges",{percentage:c},{project:"apps.App",notes:"tooltip that describes what is included in currently processing"})},n=i=>(0,o._6)({one:"1 day",other:"{%n} days"},i,null,{notes:"states the number of days funds are held",project:"apps.App"})},477034:function(_,u,t){t.d(u,{h:()=>Ve,x:()=>Me});var o=t(940426),e=t(174161),r=t(192628),a=t.n(r),n=t(293702),i=t(352635),c=t(260175),s=t(714487),l=t(130067),d=t(911394),E=t(986921),I=t(251273),h=t(841353),$=t(574782),P=t(416387),k=t(124393),J=t(11856),rt=t(60318),it=t(758487),mt=t(969145),pt=t(762005),C=t(113043),q=t(129920),y=t(756651),g=t(437002),p=t(766400),m=t(482053);const j=K=>{let{children:S}=K;const{dashboardState:F,isLoadingDashboardState:L}=(0,C.js)();return L?e.createElement(m.Z,{height:"100%",justifyContent:"center",alignItems:"center"},e.createElement(p.Z,{"data-testid":"finance-dashboard-loading-indicator"})):e.createElement(g.ZP,{dashboardName:"finance",ownerTeam:"Payments",dashboardState:F},S)};var D=t(314347),N=t(560213),M=t(538312),G=t(338465),z=t(516865),vt=t(251196),at=t(685763),x=t(832251),O=t(775428),v=t(214978),B=t(421190),tt=t(484561),yt=t(837035),At=t(1785),V=t(934951),Ut=t(663634),Bt=t(454709),Dt=t(406546),Vt=t(616470),jt=t(557934),Yt=t(967552),Lt=t(906046),Jt=t(394954),ue=t(418698);const Tt=K=>{let{label:S,value:F,tooltip:L,isTotal:Z}=K;return{label:S,value:F,tooltip:L,isTotal:Z}},Ht=K=>{let{summaryLineItem:S,isBalanceBreakdown:F=!1}=K;const[L,Z]=e.useState(null),[R,b]=e.useState(!1),w=()=>b(!0),Y=()=>b(!1),Q=F?2:1;return e.createElement(e.Fragment,null,S.map((U,lt)=>e.createElement(e.Fragment,{key:U.label},U.isTotal&&e.createElement(vt.Z,{my:3}),e.createElement(Lt.Z.Container,{sx:{minHeight:"auto",pb:0,pt:lt>0&&!U.isTotal?Q:0}},e.createElement(Lt.Z.Shell,null,e.createElement(Lt.Z.Body,null,e.createElement(Jt.Z,{direction:"row",alignItems:"center"},e.createElement(M.Z.Body,{color:"gray.100",sx:{whiteSpace:"nowrap",paddingRight:"3px",...U.isTotal&&{fontWeight:"600"}},as:"label",my:0},U.label),U.tooltip&&e.createElement(e.Fragment,null,e.createElement(G.Z,{position:"relative"},e.createElement(Yt.Z.Element.WithoutFeedback,{ref:Z,"aria-label":(0,s.t)("Currently processing",null,{project:"apps.App"}),onBlur:Y,onFocus:w,onMouseLeave:Y,onMouseOver:w,sx:{cursor:"default",paddingLeft:"3px"}},e.createElement(x.Z,{role:"img",color:"gray.100",sx:{position:"absolute",top:"0",right:"-16px"}}))),e.createElement(ue.Z,{anchor:L,delay:{enter:500,exit:0},isOpen:R,position:"top",mt:3,mb:3},U.tooltip)))),e.createElement(Lt.Z.ExteriorAccessory,null,e.createElement(M.Z.Body,{sx:{color:F?"gray.100":"gray.300",my:0,textAlign:"right",...U.isTotal&&{fontWeight:"600"}}},U.value)))))))};var Et=t(1100),ht=t(342059),$t=t(664631),de=t(797758),me=t(316230),zt=t(696049),pe=t(314954),se=t(490121),re=t(64950),Ee=t(471099),qt=t(397150),ge=t(541643),te=t(559278);const ve=(K,S)=>(0,ge.Z)({apiMethod:te.Z.fetchPayoutConfig,apiArgs:[K],cacheId:"payout-config",config:S});var Xt=t(787592),Ae=t(166455),f=t.n(Ae);const T=(0,s.t)("Get instant payout reminder",null,{project:"apps.App",notes:"button to get an instant payout email reminder when you have an instant payout available"}),W=(0,s.t)("Email reminder activated",null,{project:"apps.App",notes:"text shown in disabled button when email reminder has been activated"}),Mt=K=>{let{onError:S}=K;var F;const{sqspPaymentsAccountId:L,instantPayoutDetails:Z,isAccountOwner:R}=(0,q.o)(),b=(0,Ut.cr)(Bt.d.INSTANT_PAYOUT_EMAIL_REMINDER)&&(Z==null?void 0:Z.eligible),w=ve(L,{enabled:b}),[Y,Q]=(0,e.useState)(!1);if(!b||!R)return null;const U=((F=w.data)===null||F===void 0?void 0:F.instantPayoutBalanceReminder)??!1;if(!w.isInitialRequestCompleted)return null;const lt=async()=>{if(!(Y||!L)){qt.s.trackUserClicksGetInstantPayoutReminder({paymentsAccountId:L}),Q(!0);try{await te.Z.createInstantPayoutBalanceReminder({accountId:L,params:{instantPayoutBalanceReminder:!0}}),w.refetch()}catch(et){const gt={title:(0,s.t)("Something went wrong",null,{project:"apps.App"}),description:(0,s.t)("There was an issue setting up your payout reminder. Refresh the page and try again.",null,{project:"apps.App"})};S&&S(gt),(0,Xt.$e)(X=>{X.setTag("project","payments"),X.setTag("owner",f().COMMERCE_PAYMENTS),(0,Xt.Tb)(et)})}finally{Q(!1)}}};return(0,Ut.cr)(Bt.d.INSTANT_PAYOUT_EMAIL_REMINDER)?e.createElement(z.Z.Secondary,{size:"medium",width:"100%",onClick:lt,disabled:U||Y},Y||w.isLoading?e.createElement(p.Z,{size:0}):U?e.createElement(e.Fragment,null,e.createElement(re.Z,{role:"img",sx:{height:16,width:16,mr:1,mt:"3px",color:"green.300",flex:"none"}}),W):e.createElement(e.Fragment,null,e.createElement(Ee.Z,{role:"img",sx:{height:16,width:16,mr:1,mt:"3px",color:"black",flex:"none"}}),T)):null},Rt=e.createElement("a",{key:"learnMoreLink",href:(0,l.F$)("LEARN_MORE_ABOUT_RESERVES"),target:"_blank",rel:"noreferrer"},e.createElement(V.T,{project:"apps.App"},"Learn more")),ee=K=>{let{isOpen:S,onClose:F}=K;var L,Z,R,b,w,Y;const{push:Q}=(0,B.Z)(),{formatMoney:U}=(0,tt.UU)(),{events:lt}=(0,g.uj)(),{sizes:et,easing:gt,time:X,breakpoints:ut}=(0,mt.F)(),[ot,st]=(0,e.useState)(null),H=()=>{lt.userClicksLink({linkName:"view_reserve_history",widgetName:de._.ACCOUNT_BALANCE_MODAL}),Q(l.pk.RESERVES)},{sqspPaymentsAccountId:Pt,sqspPaymentsSubAccountId:_t,instantPayoutDetails:It}=(0,q.o)(),Ot=(0,se.Z)(Pt,_t,{enabled:S}),Nt=(0,ht.cW)((L=Ot.data)===null||L===void 0?void 0:L.totalAmount),oe=U(Nt),xt=(0,ht.cW)((Z=Ot.data)===null||Z===void 0?void 0:Z.processingFunds),dt=(0,ht.cW)((R=Ot.data)===null||R===void 0?void 0:R.instantPayoutBalance),wt=(0,ht.cW)((b=Ot.data)===null||b===void 0?void 0:b.reservesBalance),ae=!!(wt&&!wt.isZero()),St=[Tt({label:Et.p8.currentlyProcessing,value:U(xt),tooltip:Et.jH.currentlyProcessing}),...ae?[Tt({label:Et.p8.reserves,value:U(wt)})]:[],Tt({label:Et.p8.total,value:oe,isTotal:!0})],Wt=(0,Vt.Z)(Pt,{includeBalance:!0},{enabled:S}),bt=((w=Wt.data)===null||w===void 0?void 0:w.reserves)||[],kt=bt.length>0,Gt=((Y=Wt.data)===null||Y===void 0?void 0:Y.hasHadReserves)||!1,Qt=Kt=>Kt?Kt.flatMap((Ct,Zt)=>{const Te=Kt.length>1,Ft=[];switch(Te&&Ft.push(e.createElement(M.Z.Label,{key:`header-${Zt}`,mt:0,mb:2},(0,$t.dk)(Ct.reservesType))),Ct.reservesType){case Dt.zB.ONE_TIME_HOLD:Ft.push(e.createElement(Ht,{key:`summary-${Ct.reservesType}-${(0,s.p6)(new Date(Ct.releaseDate),{date:"short"})}`,summaryLineItem:[Tt({label:Et.p8.reserveAmount,value:U((0,ht.cW)(Ct.amount))}),Tt({label:Et.p8.releasesOn,value:(0,s.p6)(new Date(Ct.releaseDate),{date:"long"})})]}));break;case Dt.zB.FIXED_PLAN:Ft.push(e.createElement(Ht,{key:`summary-${Ct.reservesType}`,summaryLineItem:[Tt({label:Et.p8.reserveAmount,value:(0,$t.L4)(Ct.percentage)}),Tt({label:Et.p8.releasesOn,value:(0,s.p6)(new Date(Ct.releaseDate),{date:"long"}),tooltip:Et.jH.releasesOn})]}));break;case Dt.zB.ROLLING_PLAN:Ft.push(e.createElement(Ht,{key:`summary-${Ct.reservesType}`,summaryLineItem:[Tt({label:Et.p8.reserveAmount,value:(0,$t.L4)(Ct.percentage)}),Tt({label:Et.p8.holdingPeriod,value:(0,$t.ht)(Ct.duration),tooltip:Et.jH.holdingPeriod})]}));break;default:break}return Zt<Kt.length-1&&Ft.push(e.createElement(vt.Z,{key:`divider-${Zt}`,my:4})),Ft}):[],fe=()=>It!=null&&It.eligible?dt!=null&&dt.isPositive()?e.createElement(M.Z.Caption,null,e.createElement(pe.Z,{instantPayoutBalance:dt})):e.createElement(m.Z,{alignItems:"center",gap:1},e.createElement(M.Z.Caption,null,e.createElement(V.T,{project:"apps.App",notes:"caption for when the merchant has $0 available for instant payout",zeroAmount:U(new zt.default(0,(dt==null?void 0:dt.currencyCode)??"USD"))},"{zeroAmount} available for instant payout")),e.createElement(yt.Z,{Icon:e.createElement(x.Z,{role:"img",color:"gray.300"})},(0,Ut.cr)(Bt.d.INSTANT_PAYOUT_EMAIL_REMINDER)?e.createElement(V.T,{project:"apps.App",notes:"tooltip text explaining how instant payouts become available with email reminder option"},"No funds currently available for instant payout. You can sign up for a reminder to get an email the next time funds are available for instant payout."):e.createElement(V.T,{project:"apps.App",notes:"tooltip text explaining how instant payouts become available"},"No funds currently available. Your available funds for instant payouts will update automatically as new payments come in."))):null,le=Kt=>{st(Kt)};return e.createElement(at.Z.Transition,null,S&&e.createElement(at.Z,{onRequestClose:F},e.createElement(at.Z.Overlay,null),e.createElement(at.Z.Position,{sx:{"& > div":{height:"100% !important"}},position:"top-right"},e.createElement(at.Z.Dialog,{height:"100%",css:{pointerEvents:"auto",right:0,position:"relative",transitionProperty:"right, opacity",width:et.sizes[750],[ut["mobile-0"]]:{width:"100vw"},[ut["mobile-100"]]:{width:"100vw"}},"data-test":"account-balance-modal",transitionStyles:{entering:{right:`calc(-1 * ${et.sizes[750]})`,opacity:0,[ut["mobile-0"]]:{right:"-100vw"},[ut["mobile-100"]]:{right:"-100vw"}},enteringActive:{right:0,transitionTimingFunction:gt.product.entrance,transitionDuration:X[200],opacity:1},exiting:{right:0,opacity:1},exitingActive:{right:`calc(-1 * ${et.sizes[750]})`,transitionTimingFunction:gt.product.exit,transitionDuration:X[150],opacity:0,[ut["mobile-0"]]:{right:"-100vw"},[ut["mobile-100"]]:{right:"-100vw"}}}},e.createElement(G.Z,{px:6,pt:4,pb:4,width:"sizes.750"},e.createElement(G.Z,{as:"div",sx:{paddingBottom:"7px",paddingTop:"7px"}},e.createElement(z.Z.Tertiary,{size:"small",css:{"&:focus:after":{outline:"none",border:"none"}},onClick:F},e.createElement(V.T,{project:"apps.App"},"Close"))),ot&&e.createElement(v.j.Error,null,e.createElement(v.j.Error.Main,null,e.createElement(v.j.Error.Row,null,e.createElement(v.j.Error.Glyph,null),e.createElement(v.j.Error.Column,null,e.createElement(v.j.Error.Title,null,ot==null?void 0:ot.title),e.createElement(v.j.Error.Body,null,ot==null?void 0:ot.description))))),e.createElement(M.Z.Title,{mt:3},e.createElement(V.T,{project:"apps.App"},"Account balance")),e.createElement(M.Z.Caption,null,e.createElement(V.T,{project:"apps.App",currentDate:(0,s.p6)(new Date,{date:"long"})},"as of {currentDate}")),e.createElement(m.Z,{flexDirection:"column",my:4,gap:1},e.createElement(M.Z.Figure,{m:0},oe),e.createElement(fe,null)),dt!=null&&dt.isPositive()?e.createElement(me.Z,{entryPoint:At.a.InstantPayout.EntryPoint.MODAL},e.createElement(jt.Z,{variant:"modal"})):e.createElement(Mt,{onError:le}),e.createElement(G.Z,{mt:8},e.createElement(M.Z.Body,{mb:2,fontWeight:500,fontSize:4},e.createElement(V.T,{project:"apps.App",notes:"header for detailed list of what makes up the balance"},"Balance breakdown")),e.createElement(m.Z,{flexDirection:"column",sx:{border:"1px solid #E5E5E5",borderRadius:"4px",px:4,py:4,"row-gap":1}},e.createElement(Ht,{isBalanceBreakdown:!0,summaryLineItem:St}))),(ae||Gt)&&e.createElement(G.Z,{mt:8},e.createElement(G.Z,{sx:{display:"flex",justifyContent:"space-between",alignContent:"center"},mb:2},e.createElement(M.Z.Body,{m:0,fontSize:4,fontWeight:500,mt:0},e.createElement(V.T,{project:"apps.App",notes:"header for reserve details"},"Reserves Details")),e.createElement(z.Z.Tertiary,{fontWeight:500,onClick:H,sx:{minHeight:"auto"}},e.createElement(V.T,{project:"apps.App",notes:"link to go to reserves page"},"VIEW HISTORY"),e.createElement(O.Z,{color:"gray.100",sx:{marginLeft:"3px",paddingTop:"2px"}}))),!kt&&e.createElement(M.Z,{sx:{lineHeight:1}},e.createElement(M.Z.Caption,null,e.createElement(V.T,{project:"apps.App",learnMoreLink:Rt,notes:"displayed above reserve details when there are no active holds for the account"},"No new reserves are being held. Any funds currently on hold will release into future payouts on their scheduled release date. {learnMoreLink}"))),kt&&e.createElement(e.Fragment,null,e.createElement(m.Z,{flexDirection:"column",sx:{border:"1px solid #E5E5E5",borderRadius:"4px",px:3,py:4,mb:2,"row-gap":1}},Qt(bt)),e.createElement(M.Z,{sx:{lineHeight:1}},e.createElement(M.Z.Caption,null,e.createElement(V.T,{project:"apps.App",learnMoreLink:Rt,notes:"displayed right below reserve details"},"Reserves are temporary holds on a portion of payments that help cover refunds and chargebacks. {learnMoreLink}"))))))))))};var Pe=t(627970),Ce=t(448201),ye=t(161421),ce=t(717186),_e=t(842876);const Ie=10,he=()=>{const{getCurrencyFractions:K}=(0,ce.Z)();return(0,e.useCallback)((F,L)=>{const Z=K(L).digits,R=Math.pow(10,Z);return Math.round(F*R)/R},[K])},ne={fontSize:"40px",lineHeight:"48px",fontWeight:400,padding:"0",margin:"0"},Oe=K=>({opacity:K?1:0,position:K?"static":"absolute",zIndex:K?1:-1,width:K?"auto":"1px",height:K?"auto":"1px"}),ct=(0,e.forwardRef)((K,S)=>{let{value:F={},formatCurrency:L,numberSymbols:Z,onChange:R,isDisabled:b,focused:w,onFocus:Y,onBlur:Q,mask:U,...lt}=K;const et=(0,e.useRef)(null);(0,e.useImperativeHandle)(S,()=>et.current);const gt={...F,mask:U},{inputProps:X,formatValue:ut}=(0,ye.ZP)(gt,R,et.current,Z,L);return e.createElement("input",{ref:et,...lt,...X,style:{...ne,textAlign:"center",...Oe(w)},maxLength:Ie,value:w&&U?U:X.value,onChange:ot=>{R(ut(ot.target.value))},onFocus:Y,onBlur:Q,"aria-label":"Enter amount",disabled:b})}),Ne=K=>{let{value:S,onChange:F,isDisabled:L=!1}=K;const[Z,R]=(0,e.useState)(!1),[b,w]=(0,e.useState)(""),Y=(0,e.useRef)(null),{getNumberSystemMetadata:Q,formatCurrency:U}=(0,ce.Z)(),lt=he(),et=H=>{let Pt=H.amount;isNaN(Pt)&&(Pt=0);const _t=lt(Pt,H.currency);w(H.mask),F({currency:H.currency,amount:_t})},gt=()=>{if(R(!0),Y.current){const H=S.amount>0?S.amount.toString():"";w(H)}},X=()=>{R(!1)},ut=()=>{Y.current&&(Y.current.value="",Y.current.focus()),w(""),F({currency:S.currency,amount:0})},ot=U(S.amount,S.currency),st=e.createElement(z.Z.Base,{onClick:ut,"aria-label":"Clear amount",height:"22px",width:"22px",display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(_e.Z,{color:"gray.300"}));return e.createElement(G.Z,{width:"100%",maxWidth:"300px",margin:"0 auto",textAlign:"center"},e.createElement(G.Z,{position:"relative"},e.createElement(m.Z,{alignItems:"center",justifyContent:"center"},!Z&&e.createElement(e.Fragment,null,e.createElement(M.Z.Title,{color:S.amount===0?"gray.700":"currentcolor",onClick:()=>{var H;return(H=Y.current)===null||H===void 0?void 0:H.focus()},style:{cursor:"pointer",...ne}},ot),S.amount>0&&!L&&st),e.createElement(ct,{ref:Y,formatCurrency:U,numberSymbols:Q().symbols,onChange:et,value:S,focused:Z,onFocus:gt,onBlur:X,isDisabled:L,mask:b}))))};var Le=t(134280),be=t(971060),Ue=t(400463),Be=t(170099);const je="payouts/InstantPayoutRiskCheckFailedException",xe=K=>{let{instantPayoutBalance:S,instantPayoutDetails:F,onSubmitInstantPayoutSuccess:L,onSubmitInstantPayoutError:Z,bankAccount:R}=K;const[b,w]=(0,e.useState)(S),[Y,Q]=(0,e.useState)(null),[U,lt]=(0,e.useState)(!1),{sqspPaymentsAccountId:et}=(0,q.o)(),{financeModalsState:gt}=(0,C.js)(),{percentFee:X,minFee:ut,minPayout:ot}=F,st=(0,ht.cW)(ot),H=(0,ht.cW)(ut),Pt=`${R==null?void 0:R.bankName} ${(0,Ue.oc)(R==null?void 0:R.last4,2,"\u2022")}`,_t=St=>{w(new zt.default(St.amount,St.currency))},It=()=>{if(!et)return;qt.s.trackUserClicksSendInstantPayout({paymentsAccountId:et,entryPoint:gt.INSTANT_PAYOUT_MODAL.entryPoint,payoutAmount:b.toSubunits(),currencyCode:b.currencyCode}),lt(!0),(async()=>{try{const{payoutId:bt}=await te.Z.createInstantPayout({accountId:et,params:{totalAmount:(0,ht.G2)(b)}});L({payoutId:bt,totalAmount:b})}catch(bt){var Wt;let kt={title:(0,s.t)("Something went wrong",null,{project:"apps.App"}),description:(0,s.t)("There was an issue sending your payout. Refresh the page and try again.",null,{project:"apps.App"})};const Gt=(Wt=bt.response)===null||Wt===void 0?void 0:Wt.data;(Gt==null?void 0:Gt.type)===je&&(kt={title:(0,s.t)("Instant payouts are paused",null,{project:"apps.App"}),description:(0,s.t)("Instant payouts are temporarily unavailable. Processing funds in your account will be sent in the next scheduled payout.",null,{project:"apps.App"})}),Z(kt),(0,Xt.$e)(Qt=>{Qt.setTag("project","payments"),Qt.setTag("owner",f().COMMERCE_PAYMENTS),(0,Xt.Tb)(bt)})}lt(!1)})()},Ot=(0,e.useMemo)(()=>b.compare(S)>0,[b,S]),Nt=(0,e.useMemo)(()=>!!st&&!b.isZero()&&b.compare(st)<0,[b,st]);(0,e.useEffect)(()=>{Q(Ot?(0,s.t)("Amount must be {maxAmount} or less",{maxAmount:(0,s.lb)(S)},{project:"apps.App"}):Nt&&st?(0,s.t)("Amount must be {minAmount} or more",{minAmount:(0,s.lb)(st)},{project:"apps.App"}):null)},[Nt,Ot,S,st]);const xt=(()=>{if(!X||!H)return new zt.default(0,b.getCurrencyCode());const St=b.multiply(X);return St.compare(H)<0?H:St})(),dt=b.isZero()||xt.isZero()||Ot||Nt,wt={currency:b.getCurrencyCode(),amount:b.toFloat()},ae=()=>b.isZero()?(0,s.lb)(new zt.default(0,xt.getCurrencyCode())):dt?e.createElement(vt.Z,{color:"gray.600",height:"1.5px",width:"12px"}):(0,s.lb)(xt);return e.createElement(e.Fragment,null,e.createElement(Ne,{value:wt,onChange:_t,isDisabled:U}),e.createElement(G.Z,null,Y?e.createElement(M.Z,{color:"red.300",textAlign:"center"},Y):e.createElement(M.Z,{color:"gray.300",textAlign:"center"},e.createElement(V.T,{project:"apps.App",notes:"The amount of money available for instant payout",availableBalanceAmount:(0,s.lb)(S)},"Up to {availableBalanceAmount} available"))),e.createElement(Jt.Z,{divider:e.createElement(vt.Z,null),spacing:1,marginTop:6},e.createElement(m.Z,{justifyContent:"space-between",alignItems:"center"},e.createElement(M.Z.Body,{marginY:2},e.createElement(V.T,{project:"apps.App",notes:"Label for the bank account payout will be sent to"},"Send to")),e.createElement(m.Z,{alignItems:"center",gap:1},e.createElement(Pe.Z,{color:"gray.300"}),e.createElement(M.Z.Body,{color:"gray.300",marginY:2},Pt))),X&&H&&e.createElement(m.Z,{justifyContent:"space-between",alignItems:"center"},e.createElement(Be.Z,{placement:"top-start",content:e.createElement(V.T,{project:"apps.App",notes:"tooltip text explaining fee for instant payout",percentFee:X*100,minFee:(0,s.lb)(H)},"Instant payout fees are {percentFee}% or {minFee}, whichever is greater. Fees are debited from your account balance.")},e.createElement(m.Z,{alignItems:"center",gap:1},e.createElement(M.Z.Body,{marginY:2},e.createElement(V.T,{project:"apps.App",notes:"Label for the service fee with percentage",percentFee:X*100},"Service fee ({percentFee}%)")),e.createElement(Ce.Z,null))),e.createElement(M.Z.Body,{color:"gray.300",marginY:2},ae()))),e.createElement(vt.Z,{marginBottom:2}),e.createElement(z.Z.Primary,{size:"1",onClick:It,width:"100%",disabled:dt||U,marginTop:4},U?e.createElement(Le.Z,{color:"gray.500"}):e.createElement(e.Fragment,null,e.createElement(be.Z,{role:"img",sx:{height:16,width:16,mr:1,color:dt?"gray.600":"white"}}),dt?e.createElement(V.T,{project:"apps.App",notes:"Instant payouts modal button label when disabled"},"Enter payout amount"):e.createElement(V.T,{project:"apps.App",notes:"Instant payouts modal button label",payoutAmount:(0,s.lb)(b)},"Send {payoutAmount} Payout Now"))))},We=K=>{let{isOpen:S,onClose:F}=K;var L;const{push:Z}=(0,B.Z)(),[R,b]=(0,e.useState)(null),[w,Y]=(0,e.useState)(null),{bankAccounts:Q,sqspPaymentsAccountId:U,sqspPaymentsSubAccountId:lt}=(0,q.o)(),et=(0,se.Z)(U,lt,{enabled:S}),gt=(0,h.Z)(U),X=gt.data,ut=(0,ht.cW)((L=et.data)===null||L===void 0?void 0:L.instantPayoutBalance);if(!ut||!X||!Q.length)return null;const ot=It=>{et.refetch(),b(It)},st=It=>{gt.refetch(),Y(It)},H=()=>{Z(`${l.pk.PAYOUTS}/${R==null?void 0:R.payoutId}`)},Pt=()=>{qt.s.trackUserClicksToDismissInstantPayoutModal({paymentsAccountId:U}),F()},_t=()=>R?e.createElement(m.Z,{flexDirection:"column",gap:2,mt:4,sx:{textAlign:"center"}},e.createElement(re.Z,{color:"green.300",sx:{width:40,height:40,alignSelf:"center"}}),e.createElement(M.Z.Title,{mt:1},e.createElement(V.T,{project:"apps.App",notes:"header for when instant payout is sent successfully"},"Instant payout sent")),e.createElement(M.Z.Subtitle,{color:"fg.muted"},e.createElement(V.T,{project:"apps.App",notes:"description for when instant payout is sent successfully",instantPayoutAmount:(0,s.lb)(R.totalAmount)},"Your {instantPayoutAmount} payout was sent to your connected bank account. It should arrive within 30 minutes.")),e.createElement(m.Z,{width:"100%",flexDirection:"column",gap:2,mt:2},e.createElement(z.Z.Primary,{onClick:Pt,size:"medium"},e.createElement(V.T,{project:"apps.App",notes:"button to close modal"},"done")),e.createElement(z.Z.Tertiary,{onClick:H,size:"medium"},e.createElement(V.T,{project:"apps.App",notes:"button to navigate to payout"},"view payout")))):e.createElement(e.Fragment,null,e.createElement(M.Z.Title,{mt:4,mb:2},e.createElement(V.T,{project:"apps.App",notes:"Instant payouts modal title"},"Enter payout amount")),e.createElement(M.Z.Body,{fontSize:"16px",fontWeight:"500",color:"gray.300"},e.createElement(V.T,{project:"apps.App",notes:"Instant payouts modal description"},"Instant payouts typically arrive in your bank account within 30 minutes.")),e.createElement(xe,{instantPayoutBalance:ut,instantPayoutDetails:X,onSubmitInstantPayoutSuccess:ot,onSubmitInstantPayoutError:st,bankAccount:Q[0]}));return e.createElement(at.Z.Transition,null,S&&e.createElement(at.Z,{onRequestClose:Pt},e.createElement(at.Z.Overlay,null),e.createElement(at.Z.Position,{position:"center"},e.createElement(at.Z.Dialog,null,e.createElement(G.Z,{px:6,pt:4,pb:R?4:8,width:"sizes.750"},e.createElement(z.Z.Tertiary,{size:"1",onClick:Pt},e.createElement(V.T,{project:"apps.App"},"Close")),w&&e.createElement(v.j.Error,null,e.createElement(v.j.Error.Main,null,e.createElement(v.j.Error.Row,null,e.createElement(v.j.Error.Glyph,null),e.createElement(v.j.Error.Column,null,e.createElement(v.j.Error.Title,null,w==null?void 0:w.title),e.createElement(v.j.Error.Body,null,w==null?void 0:w.description))))),_t())))))};var Ke=t(394493),Ze=t(823752);const Fe={[C.I5.MERCHANDISING]:At.a.Onboarding.EntryPoint.CONFIG_FINANCE_MERCHANDISING,[C.I5.SETUP]:At.a.Onboarding.EntryPoint.CONFIG_FINANCE_SETUP,[C.I5.ELIGIBLE_FOR_MIGRATION]:At.a.Onboarding.EntryPoint.CONFIG_FINANCE_ELIGIBLE_FOR_MIGRATION,[C.I5.MATURE]:void 0,[C.I5.NOT_ELIGIBLE_FOR_MIGRATION]:void 0},we=()=>{const{dashboardState:K,handleOnboardingAccountId:S,financeModalsState:F,handleCloseModal:L}=(0,C.js)(),Z=R=>F[R].isOpen;return e.createElement(e.Fragment,null,Z(N.xi.ACCOUNT_BALANCE_MODAL)&&e.createElement(ee,{isOpen:!0,onClose:()=>L({financeModalId:N.xi.ACCOUNT_BALANCE_MODAL})}),Z(N.xi.INSTANT_PAYOUT_MODAL)&&e.createElement(We,{isOpen:!0,onClose:()=>L({financeModalId:N.xi.INSTANT_PAYOUT_MODAL})}),Z(N.xi.PAYMENTS_ONBOARDING_MODAL)&&e.createElement(Ze.Z,{entryPoint:Fe[K],shouldInitiateOnboarding:!0,onOnboardingModalClose:R=>{R&&S(R),L({financeModalId:N.xi.PAYMENTS_ONBOARDING_MODAL})},RouterLink:Ke.Z}))},ke=[],Ge=K=>{let{children:S}=K;var F,L,Z,R,b,w,Y,Q;const[U,lt]=(0,e.useReducer)(N.O7,N.wo),[et,gt]=(0,e.useState)(null),[X,ut]=(0,e.useState)(0),ot=U.PAYMENTS_ONBOARDING_MODAL.isOpen,st=(0,d.Z)({enabled:!ot,pollingIntervalInMs:X}),H=(et||((F=st.data)===null||F===void 0?void 0:F.sqspPaymentsSettings.accountId))??"",Pt=((L=st.data)===null||L===void 0?void 0:L.sqspPaymentsSettings.subAccountId)??null,_t=(0,E.Z)(H,{enabled:!!H&&!ot,pollingIntervalInMs:X}),It=(0,I.Z)({enabled:!ot}),Ot=((Z=It.data)===null||Z===void 0?void 0:Z.eligibleForAutoOnboarding)||!1,Nt=(0,h.Z)(H),oe=(0,$.m_)(),xt=((R=It.data)===null||R===void 0?void 0:R.country)??"",dt=(0,P.M3)()??"",wt=xt||dt,St=((b=_t.data)===null||b===void 0?void 0:b.accountStatus)===k.p_.ONBOARDING_IN_PROGRESS,Wt=!!H&&!St,bt=(0,J.KA)((w=_t.data)===null||w===void 0?void 0:w.accountOwnerId),kt=((Y=_t.data)===null||Y===void 0?void 0:Y.capMigrationMerchant)??!1,Gt=()=>[st,_t,It,Nt].some(rt.w),{isConnectedToPaypal:Qt,isConnectedToSquare:fe,isConnectedToStripe:le}=(0,J.YO)(st.data),Kt=()=>{if(H)return St?C.I5.SETUP:C.I5.MATURE;const ft=(0,D.n)(),Re=(0,P.tY)({priorityCountryCode:oe}),ze=le&&!Ot,Xe=ft&&(Ot||Qt||fe),Qe=!ft||!le&&!Re||ze&&!Re;return Xe?C.I5.ELIGIBLE_FOR_MIGRATION:Qe?C.I5.NOT_ELIGIBLE_FOR_MIGRATION:C.I5.MERCHANDISING},Ct=Gt(),Zt=Kt(),Te=(0,it.Z)(H,{enabled:Zt===C.I5.MATURE});(0,e.useEffect)(()=>{const ft=(0,y.M)(Zt);ft!==X&&ut(ft)},[Zt,X]);const Ft=(0,e.useCallback)(ft=>{lt({type:N.Hd.OPEN_MODAL,payload:ft})},[]),Ye=(0,e.useCallback)(ft=>{lt({type:N.Hd.CLOSE_MODAL,payload:ft})},[]),He=(0,e.useCallback)(ft=>{gt(ft)},[]),$e=Nt.data?{...Nt.data,eligible:!!(!((Q=Nt.data)===null||Q===void 0)&&Q.eligible)}:{eligible:!1,percentFee:null,minFee:null,minPayout:null};return e.createElement(mt.Z.Provider,{theme:pt.rosetta.lightest},e.createElement(C.vV.Provider,{value:{dashboardState:Zt,isLoadingDashboardState:Ct,financeModalsState:U,handleOpenModal:Ft,handleCloseModal:Ye,handleOnboardingAccountId:He}},e.createElement(q.Q.Provider,{value:{isCapMigrationMerchant:kt,isConnectedToSqspPayments:Wt,isAccountOwner:bt,isEligibleForAutoOnboarding:Ot,instantPayoutDetails:$e,paymentSettings:st.data,paymentAccount:_t.data,sqspPaymentsAccountId:H,sqspPaymentsSubAccountId:Pt,bankAccounts:Te.data??ke,priorityCountryCode:wt}},e.createElement(j,null,S,e.createElement(we,null)))))},Me=[...(0,c.i)(i.breakpoints).platform==="mobile"?[{title:(0,s.t)("Overview",null,{project:"apps.App"}),to:l.pk.ROOT}]:[],l.ZP.ORDERS,l.ZP.PAYMENTS,l.ZP.PAYOUTS,l.ZP.CAPITAL,l.ZP.BALANCE],Ve=K=>{let{Component:S,requiresProviders:F=!0}=K;const L=Z=>e.createElement(e.Fragment,null,e.createElement(n.Z,{items:Me}),F?e.createElement(Ge,null,e.createElement(S,Z)):e.createElement(S,Z));return a()(L,S)}},482418:function(_,u,t){t.d(u,{Z:()=>n});var o=t(582827),e=t(456903),r=t(503408);const n=async i=>{let{locale:c}=i;return e.default.get("/api/rolodex/1/mfe-bundle",{params:{locale:c}}).then(s=>{let{data:l}=s;return l}).catch(s=>{throw new r.M("Could not load @sqs/rolodex remote entrypoint","getContactsRemoteEntrypoint",s)})}},53029:function(_,u,t){t.d(u,{s:()=>e,w:()=>o});const o="seo-dashboard",e="/seo"},262735:function(_,u,t){t.d(u,{K:()=>E,p:()=>d});var o=t(940426),e=t(174161),r=t(714487),a=t(293702),n=t(762379),i=t(444867),c=t.n(i),s=t(260175),l=t(352635);const d=[(0,s.i)(l.breakpoints).platform==="mobile"&&{title:(0,r.t)("Overview",null,{project:"apps.App"}),to:"/marketing/campaigns"},...n.Z.isFeatureEnabled(c().MARKETING_AUTOMATIONS)?[{to:"/marketing/automations",title:(0,r.t)("Automations",null,{project:"apps.App"})}]:[]].filter(Boolean),E=I=>h=>e.createElement(e.Fragment,null,e.createElement(a.Z,{items:d}),e.createElement(I,h))},596334:function(_,u,t){t.d(u,{p:()=>h,q:()=>P});var o=t(940426),e=t(989054),r=t(174161),a=t(714487),n=t(293702),i=t(941254),c=t(511556),s=t(916661),l=t(70426),d=t(901138),E=t(53029),I=t(762535);const h=[{to:"/pages",title:(0,a.t)("Pages",null,{project:"apps.App"})},s.Z.isSevenOne()?{to:"/site-styles",title:(0,a.t)("Styles",null,{project:"apps.App"}),onClick:()=>{i.Z.track({actor:c.aR.USER,action:c.om.CLICK,object_type:"button",object_value:"site-styles",object_identifier:"styles-nav",product_name:"config-panel",event_name:"UserClickSiteStyles"})}}:{to:"/design",title:(0,a.t)("Design",null,{project:"apps.App"})},(0,l.cW)({to:"/asset-library",title:(0,a.t)("Assets",null,{project:"apps.App"})}),(0,d.isSEODashboardEnabled)()&&{to:E.s,title:(0,a.t)("SEO / AIO",null,{project:"seo-dashboard",notes:"Acronyms for Search Engine Optimization and Artificial Intelligence Optimization"})}].filter(Boolean),$=()=>({customCssPath:(s.Z.isSevenOne()?I.Z.forDesignPanel():I.Z.forWebsiteTools())+"/custom-css"}),P=k=>J=>r.createElement(r.Fragment,null,r.createElement(n.Z,{items:h}),r.createElement(k,{routes:$(),...J}))},70288:function(_,u,t){t.d(u,{A:()=>$t});var o=t(940426),e=t(598347),r=t(714487),a=t(46553),n=t(352635),i=t(260175),c=t(259015),s=t(40543),l=t(968636),d=t(893741),E=t(379393),I=t(935542),h=t(763189),$=t(262735),P=t(596334),k=t(477034),J=t(885878),rt=t.n(J),it=t(286465),mt=t(629301),pt=t(373251),C=t(70426),q=t(132782),y=t(668903),g=t(743167),p=t(482418),m=t(130067),A=t(423394),j=t(582827),D=t(174161),N=t(192628),M=t.n(N),G=t(995953),z=t(755918);function vt(f){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,G.Z)("importPackageNav");return M()(()=>D.createElement(z.Z,{fetchRemote:f,renderErrorFallback:()=>D.createElement(D.Fragment,null)},T),z.Z)}var at=t(728662);const x={HOME:"home",SETUP_GUIDE:"setup_guide",COMMENTS:"comments",WEBSITE:"website",PRODUCTS_SERVICES:"products_services",SELLING_TOOLS:"selling_tools",CONTENT_MEMBERSHIPS:"content_memberships",SCHEDULING:"scheduling",DONATIONS:"donations",INVOICING:"invoicing",EMAIL_CAMPAIGNS:"email_campaigns",CONTACTS:"contacts",ANALYTICS:"analytics",FINANCE:"finance"};var O=t(663634);const v=()=>(0,O.cr)("homecoming-attached-acuity");var B=t(482053),tt=t(538312),yt=t(338465),At=t(53085),V=t(934951),Ut=t(239715),Bt=t.n(Ut);const Dt=Bt()["custom-title-focus"],Vt=f=>{let{isEditable:T,isEditing:W,isVisible:nt,isSelected:Mt}=f;const Rt=W&&(!nt||!T),ie=Mt?"fg.default":"fg.muted",ee=!W;return D.createElement(B.Z,{alignItems:"flex-start",color:Rt?"fg.disabled":ie,sx:{position:"relative",[`&:hover, .${Dt}:focus-visible &`]:{color:"gray.200"},[`&:hover .scheduling-link-icon-container, .${Dt}:focus-visible & .scheduling-link-icon-container`]:{visibility:"visible"}}},D.createElement(tt.Z.Subtitle,{color:"inherit",m:0},D.createElement(V.T,{project:"config-persistent-navigation"},"Scheduling")),ee&&D.createElement(yt.Z,{className:"scheduling-link-icon-container",sx:{visibility:"hidden",position:"absolute",right:"-22px"}},D.createElement(At.Z,{color:"inherit"})))};var jt=t(538117),Yt=t(225840);const Lt=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;const T=f.location.hostname,nt=((0,jt.ge)(f)||"").match(/qa(\d+)\.(?:sqsp|squarespace)\.net$/);return T==="localhost"||(0,jt.r8)(f)||(0,jt.Jl)(f)?"https://secure.dev.acuityscheduling.net":nt?`https://qa${nt[1].padStart(2,"0")}.acuityscheduling.net`:"https://secure.acuityscheduling.com"},ue=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var T,W;const nt=(W=(0,Yt.getWebsiteContext)())===null||W===void 0||(T=W.website)===null||T===void 0?void 0:T.id;if(!nt)return"scheduling";const Mt=Lt(f),Rt=`/oauth2/squarespace-attached?website_id=${encodeURIComponent(nt)}`;return`${Mt}${Rt}`};var Tt=t(991735),Se=t(24175),Ht=t.n(Se);const Et=f=>f.filter(Boolean),ht=()=>(0,A.mg)()==="ja-JP",$t=f=>{let{router:T,isMobile:W=(0,i.i)(n.breakpoints).platform==="mobile"}=f;const nt=(0,mt.l)(),Mt=it.Z.hasRole(rt().MODERATOR),Rt=$.p.some(ct=>T.isValidPath(ct.to)),ie=l.x.some(ct=>T.isValidPath(ct.to)),ee=(0,pt.Uj)()&&d.x.some(ct=>T.isValidPath(ct.to)),Pe=k.x.some(ct=>T.isValidPath(ct.to)),Ce=P.p.some(ct=>T.isValidPath(ct.to))&&!nt,ye=E.x.some(ct=>T.isValidPath(ct.to)),ce=I.x.some(ct=>T.isValidPath(ct.to)),_e=h.x.some(ct=>T.isValidPath(ct.to)),Ie=Tt.Z.hasPermission(Ht().CONFIG_SCHEDULING),he=(0,g.Z)(),ne=(0,at.Q)(),Oe=!ne;return[{key:"website-and-selling-navigation-group",items:Et([qt(ne),ge(Oe),Ee(Mt),...Ae(W,Ce,nt),De(W,ie),de(W,ye),pe(Ie),me(W,he,ce),zt(W,_e)])},{key:"secondary-navigation-group",items:Et([(0,pt.Uj)()&&ve(W,ee),te(W,Rt),re(W),se(nt),Xt(W,Pe)])}]};function de(f,T){return f?T&&(0,C.cW)({type:a.r.ACCORDION,key:"content-and-memberships",title:(0,r.t)("Content & Memberships",null,{project:"config-persistent-navigation"}),childComponent:(0,E.T)(()=>null),visibilityKey:c.NavItemKeyEnum.CONTENT_MEMBERSHIPS,metaData:{l1EventId:x.CONTENT_MEMBERSHIPS}}):(0,C.cW)({to:"/content-and-memberships",title:(0,r.t)("Content & Memberships",null,{project:"config-persistent-navigation"}),visibilityKey:c.NavItemKeyEnum.CONTENT_MEMBERSHIPS,metaData:{l1EventId:x.CONTENT_MEMBERSHIPS}})}function me(f,T,W){return f?T&&W&&(0,C.cW)({type:a.r.ACCORDION,key:"donations",title:(0,r.t)("Donations",null,{project:"config-persistent-navigation"}),childComponent:(0,I.p)(()=>null),visibilityKey:c.NavItemKeyEnum.DONATIONS,metaData:{l1EventId:x.DONATIONS}}):T&&(0,C.cW)({to:"/donations",title:(0,r.t)("Donations",null,{project:"config-persistent-navigation"}),visibilityKey:c.NavItemKeyEnum.DONATIONS,metaData:{l1EventId:x.DONATIONS}})}function zt(f,T){return f?T&&(0,C.cW)({type:a.r.ACCORDION,dataAttributes:{test:"/invoicing-menu-item-id"},key:"invoicing",title:(0,r.t)("Invoicing",null,{project:"config-persistent-navigation"}),childComponent:(0,h.k)(()=>null),visibilityKey:c.NavItemKeyEnum.INVOICING,metaData:{l1EventId:x.INVOICING}}):(0,C.cW)({dataAttributes:{test:"/invoicing-menu-item-id"},to:"/invoicing",title:(0,r.t)("Invoicing",null,{project:"config-persistent-navigation"}),childMountPoints:["/invoicing/invoices","/invoicing/projects"],hasLandingPage:!0,visibilityKey:c.NavItemKeyEnum.INVOICING,metaData:{l1EventId:x.INVOICING}})}function pe(f){const T=(0,s.getBillingContext)();if(v()){const W=ue();return f&&!ht()&&!(T!=null&&T.isStandaloneScheduling)&&(0,C.cW)({href:W,type:a.r.EXTERNAL,target:"_blank",customTitle:Vt,className:Dt,visibilityKey:c.NavItemKeyEnum.SCHEDULING,metaData:{l1EventId:x.SCHEDULING}})}return!ht()&&!(T!=null&&T.isStandaloneScheduling)&&(0,C.cW)({to:"/scheduling",title:(0,r.t)("Scheduling",null,{project:"config-persistent-navigation"}),visibilityKey:c.NavItemKeyEnum.SCHEDULING,metaData:{l1EventId:x.SCHEDULING}})}function se(f){return(0,C.cW)({to:"/analytics",title:(0,r.t)("Analytics",null,{project:"config-persistent-navigation"}),hasLandingPage:!!f,metaData:{l1EventId:x.ANALYTICS}})}function re(f){return f?(0,C.cW)({type:a.r.ACCORDION,key:"contacts",title:(0,r.t)("Contacts",null,{project:"config-persistent-navigation"}),childComponent:vt(p.Z),metaData:{l1EventId:x.CONTACTS}}):(0,C.cW)({to:"/profiles",selectedPathMatch:"/profiles/all*",title:(0,r.t)("Contacts",null,{project:"config-persistent-navigation"}),metaData:{l1EventId:x.CONTACTS}})}function Ee(f){return f&&(0,C.cW)({to:"/comment-settings",title:(0,r.t)("Comments",null,{project:"apps.App"}),metaData:{l1EventId:x.COMMENTS}})}function qt(f){return f&&(0,C.cW)({to:(0,at.M)()?"/":"/home",title:(0,r.t)("Home",null,{project:"apps.App",notes:"This refers to the Home dashboard page"}),metaData:{l1EventId:x.HOME}})}function ge(f){if(f){if((0,y.b)())return{to:"/",title:(0,r.t)("Home",null,{project:"apps.App"}),metaData:{l1EventId:x.SETUP_GUIDE}};if((0,q.isEligibleForGuidanceEngine)())return{to:"/setup-guide",customTitle:q.SetupGuideTitle,isNotReorderable:!0,visibilityKey:c.NavItemKeyEnum.SETUP_GUIDE,metaData:{l1EventId:x.SETUP_GUIDE}}}}function te(f,T){return f?T&&(0,C.cW)({type:a.r.ACCORDION,key:"campaigns",title:(0,r.t)("Email Campaigns",null,{project:"config-persistent-navigation"}),childComponent:(0,$.K)(()=>null),metaData:{l1EventId:x.EMAIL_CAMPAIGNS}}):(0,C.cW)({to:"/marketing/campaigns",title:(0,r.t)("Email Campaigns",null,{project:"config-persistent-navigation"}),childMountPoints:["/marketing/automations"],selectedPathMatch:"/marketing/campaigns*",hasLandingPage:!0,metaData:{l1EventId:x.EMAIL_CAMPAIGNS}})}function De(f,T){const W=(0,r.t)("Products & Services",null,{project:"config-persistent-navigation"});return f?T&&(0,C.cW)({type:a.r.ACCORDION,key:"commerce",title:W,childComponent:(0,l.O)(()=>null),visibilityKey:c.NavItemKeyEnum.PRODUCTS_SERVICES,metaData:{l1EventId:x.PRODUCTS_SERVICES}}):(0,C.cW)({to:"/commerce",dataAttributes:{test:"/selling-menu-item-id"},title:W,visibilityKey:c.NavItemKeyEnum.PRODUCTS_SERVICES,metaData:{l1EventId:x.PRODUCTS_SERVICES}})}function ve(f,T){const W=(0,r.t)("Selling Tools",null,{project:"config-persistent-navigation"});return f?T&&(0,C.cW)({type:a.r.ACCORDION,key:"selling-tools",title:W,childComponent:(0,d.b)(()=>null),metaData:{l1EventId:x.SELLING_TOOLS}}):(0,C.cW)({to:"/commerce/selling-tools",dataAttributes:{test:"/selling-tools-menu-item-id"},title:W,childMountPoints:["/commerce/discounts","/commerce/pay-links"],metaData:{l1EventId:x.SELLING_TOOLS}})}function Xt(f,T){const W=(0,r.t)("Finance",null,{project:"config-persistent-navigation"});return f?T&&(0,C.cW)({type:a.r.ACCORDION,key:"finance",title:W,childComponent:(0,k.h)({Component:()=>null}),metaData:{l1EventId:x.FINANCE}}):(0,C.cW)({to:m.pk.ROOT,dataAttributes:{test:"/finance-menu-item-id"},title:W,hasLandingPage:!0,metaData:{l1EventId:x.FINANCE}})}function Ae(f,T,W){const nt=(0,s.getBillingContext)();return nt!=null&&nt.isStandaloneScheduling||nt!=null&&nt.isStandaloneCampaigns?[]:(0,y.b)()||(0,at.M)()?[(0,C.cW)({to:"/website",title:(0,r.t)("Website",null,{project:"config-persistent-navigation"}),childMountPoints:P.p.map(Mt=>{let{to:Rt}=Mt;return Rt}),metaData:{l1EventId:x.WEBSITE}})]:f?[T&&(0,C.cW)({type:a.r.ACCORDION,key:"website",title:(0,r.t)("Website",null,{project:"config-persistent-navigation"}),metaData:{l1EventId:x.WEBSITE},childComponent:(0,P.q)(()=>null)}),W&&(0,C.cW)({to:"/",title:(0,r.t)("Website",null,{project:"config-persistent-navigation"}),metaData:{l1EventId:x.WEBSITE}})]:[(0,C.cW)({to:"/",title:(0,r.t)("Website",null,{project:"config-persistent-navigation"}),metaData:{l1EventId:x.WEBSITE}})]}},723365:function(_,u,t){t.d(u,{W:()=>r});var o=t(559409),e=t.n(o);const r=Object.values(e())},133971:function(_,u,t){t.d(u,{r:()=>n});var o=t(470407),e=t(714487);const r=new o.default(e.ZP),{parseNumber:a,getNumberSystemMetadata:n}=r},587175:function(_,u,t){t.d(u,{$f:()=>n,E1:()=>i,Wy:()=>c});var o=t(696049),e=t(554468),r=t(714487),a=t(133971);const n=s=>{const l=e.Z.getStoreCurrency(),d=(0,r.Wj)(l).digits,E=parseFloat(s)/Math.pow(10,d);return new o.default(E,l)},i=s=>{const l=String(s).replace(/[^\d\.,]/g,"");if(l==="")return 0;const d=e.Z.getStoreCurrency(),E=(0,r.Wj)(d).digits,I=(0,a.r)().symbols.decimal,h=l.split(I),[$,P]=h;let k=$;return P&&E>0&&(k+="."+P.substring(0,E)),Math.round(parseFloat(k)*Math.pow(10,E))},c=(s,l)=>{const d=(0,r.Wj)(l).digits,E=parseFloat(s)/Math.pow(10,d);return new o.default(E,l)}},373251:function(_,u,t){t.d(u,{Uj:()=>g,Z7:()=>y,nU:()=>mt,v1:()=>it,vO:()=>pt,vl:()=>C,w:()=>rt,wU:()=>J,yM:()=>q});var o=t(461761),e=t.n(o),r=t(413019),a=t(113580),n=t.n(a),i=t(437951),c=t.n(i),s=t(284106),l=t(793036),d=t(714487),E=t(554468),I=t(936177),h=t.n(I),$=t(663634),P=t(587175);const k=()=>{const p=e()(window,"Static.SQUARESPACE_CONTEXT"),m=p.pageType===n().CONTENT_ITEM,A=!!p.product;return m&&A},J=()=>{var p,m;const A=window!==window.top&&!!(!((m=window.top)===null||m===void 0||(p=m.Static)===null||p===void 0)&&p.IS_IN_CONFIG),j=e()(window,"Static.SQUARESPACE_CONTEXT"),{collection:D,pageType:N}=j;return!k()&&!A&&(D==null?void 0:D.type)===c().PRODUCTS&&N===n().CONTENT_COLLECTION},rt=()=>{(0,r.L8)(l.PLP_PAGE_LOAD);const p=e()(window,"Static.SQUARESPACE_CONTEXT"),{website:m,collection:A}=p;!m||!A||s.w({websiteId:m.id,pageId:A.id})},it=()=>{const p=document.querySelector(".product-details");let m;try{m=JSON.parse((p==null?void 0:p.getAttribute("data-current-context"))??"")}catch(A){h().trackCaughtError("commerce-merch","Failed to read subscription context",A.stack)}return m},mt=p=>{const m=E.Z.getStoreCurrency(),A=(0,P.Wy)(p,m);return(0,d.lb)(A)},pt=(p,m)=>{const A=document.createElement("div");A.textContent=`${mt(`${p}`)} `;const j=document.createElement("span");j.textContent=(0,d.t)("Sale Price: ",null,{project:"apps.Commerce"}),j.className="visually-hidden v6-visually-hidden",A.prepend(j);const D=document.createElement("span");D.textContent=(0,d.t)("Original Price: ",null,{project:"apps.Commerce"}),D.className="visually-hidden v6-visually-hidden",A.appendChild(D);const N=document.createElement("span");return N.className="original-price",N.textContent=mt(m),A.appendChild(N),A},C=p=>{const m=p.querySelector(".pdp-details-price .product-price");return m||document.querySelector("#pdp .product-details .product-price")},q=()=>e()(window,"Static.SQUARESPACE_CONTEXT").websiteSettings.storeSettings.expressCheckout,y=()=>(0,$.cr)("payment-links-enabled"),g=()=>(0,$.cr)("payment-links-enabled")&&(0,$.cr)("pay-links-navigation-enabled")}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/9f4fce0728d17ffd/2971-d89fc679565b38b0-min.en-US.js.map