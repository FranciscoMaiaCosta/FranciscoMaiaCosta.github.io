"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["64382"],{515887:function(R){R.exports={dialogContainer:"QwJxwjGravIW1mwZ"}},137134:function(R,f,t){t.r(f),t.d(f,{default:()=>$e});var e=t(174161),u=t(419467),I=t(795478),o=t.n(I),E=t(362187),c=t(505020),i=t(314123),d=t(440125),g=t(730842),Z=t(153088),y=t(284455),v=t(482053),n=t(714487),a=t(487558),s=t(173585),T=t(379958),N=t(753245),X=t(580774),J=t(696894),Q=t(769995),G=t(673092),H=t(85375),C=t(661614),V=t(778622),de=t(360410),ue=t(617801),me=t(912289);const Ee=r=>{try{if(r){const l=g.Z.getCollection(r.parentCollectionId||r.collectionId);(0,me.PT)({itemId:r.id,collectionType:l.typeName,collectionId:l.id})}}catch{(0,Q.uT)("track cancel collection item failed")}};var Ce=t(324270),ge=t(149912),z=t(507033);const _=()=>e.createElement(de.Z,null,e.createElement(v.Z,{height:"400px",alignItems:"center",justifyContent:"center"},e.createElement(y.CircularProgressIndicator,null))),ee=r=>{let{entity:l,categories:p,tags:j,initialRoute:D,isDirty:B,modalState:P,isNewItem:A,onCloseSettingsModal:S,onDeleteItem:x,onErrorsChange:U,onOpenConfirmModal:W}=r;const h=(0,u.get)(l,"collection.id")||(0,u.get)(l,"contentItem.id"),O=(0,J.c)(s.L6,h,l),m=P===z.Z.OPEN,L=P===z.Z.LOADING;(0,e.useEffect)(()=>{m&&(X.Z.accepts(s.L6,l)||(0,Q.uT)("Collection Editor Opened With No Settings Component",{level:"info",context:(0,ue.p6)(l)}))},[m,l]);const Y=()=>{!B&&!A?S():W({title:null,message:(0,n.t)("You have made changes. Are you sure you want to discard them?",null,{project:"apps.ContentBrowser"}),confirmLabel:(0,n.t)("Discard",null,{project:"apps.ContentBrowser"})},T.Hn,[],async()=>{l!=null&&l.contentItem&&(A?await x(l.contentItem.id,!1):Ee(l.contentItem)),S(),Ce.default.refresh()})};return!l||!l.collection&&!l.contentItem?null:e.createElement(ge.Z,null,e.createElement(N.K,{isOpen:m||L,initialRoute:D,onErrorsChange:U,isDirty:B,isNewItem:A},e.createElement(V.Z,{isOpen:m||L,onRequestClose:Y},L?e.createElement(_,null):e.createElement(e.Suspense,{fallback:e.createElement(_,null)},e.createElement(O,{...l,categories:p,tags:j,onCloseSettingsModal:S,onRequestClose:Y})))))};ee.propTypes={entity:o().object,categories:o().object,tags:o().object,initialRoute:o().string,isDirty:o().bool,modalState:o().oneOf(Object.values(z.Z)).isRequired,isNewItem:o().bool,onCloseSettingsModal:o().func,onDeleteItem:o().func.isRequired,onErrorsChange:o().func,onOpenConfirmModal:o().func.isRequired};const fe=(0,a.$j)(r=>({modalState:(0,C.yS)(r),isDirty:(0,C.CS)(r),entity:(0,C.CO)(r),categories:(0,C.fU)(r),tags:(0,C.H8)(r),initialRoute:(0,C.Oi)(r),isNewItem:(0,C.B$)(r)}),{onCloseSettingsModal:G.vJ,onErrorsChange:G.aC,onDeleteItem:c.wz,onOpenConfirmModal:H._5})(ee);var Ie=t(159510),K=t(685763),te=t(766400),pe=t(503105),ve=t(496099),Oe=t(989250);const ne=()=>e.createElement(K.Z.Dialog,null,e.createElement(v.Z,{justifyContent:"center",alignItems:"center",css:{width:"360px",height:"200px"}},e.createElement(te.Z,null))),oe=r=>{let{contentItem:l,modalState:p,isDirty:j,onCloseAddItemModal:D,onItemChange:B,onSave:P,onOpenConfirmModal:A}=r;const S=(0,Oe.V)(l),x=(0,ve.B)(S),U=async function(){for(var h=arguments.length,O=new Array(h),m=0;m<h;m++)O[m]=arguments[m];(0,pe.Z)(l);const L=await P(...O);return D(),L},W=()=>{j?A({title:null,message:(0,n.t)("You have made changes. Are you sure you want to discard them?",null,{project:"apps.ContentBrowser"}),confirmLabel:(0,n.t)("Discard",null,{project:"apps.ContentBrowser"})},T.Hn,[],D):D()};return e.createElement(e.Fragment,null,e.createElement(V.Z,{isOpen:p!==z.Z.CLOSED,onRequestClose:W},p===z.Z.LOADING?e.createElement(ne,null):e.createElement(e.Suspense,{fallback:e.createElement(ne,null)},e.createElement(x,{contentItem:l,onCloseAddItemModal:D,onItemChange:B,onRequestClose:W,onSave:U}))))};oe.propTypes={contentItem:o().object,modalState:o().oneOf(Object.values(z.Z)).isRequired,onCloseAddItemModal:o().func,onItemChange:o().func.isRequired,onSave:o().func};const Me=(0,a.$j)(r=>({contentItem:(0,C.W_)(r),modalState:(0,C.mi)(r),isDirty:(0,C.CS)(r)}),{onCloseAddItemModal:G.t_,onItemChange:r=>(0,G._g)({value:r}),onSave:c.$G,onOpenConfirmModal:H._5})(oe);var Pe=t(437951),he=t.n(Pe),F=t(180852),w=t(538312),Te=t(345521),Se=t(734622),re=t(421616),ye=t(618662),le=t(934951),De=t(868192),Ae=t(625517);const b={ONLY_STEP:"only-step",FAKE_SECOND_STEP:"fake-second-step"},se=r=>{let{isOpen:l,onRequestClose:p,pollNestedCategoriesMigration:j}=r;const[D]=(0,e.useState)(()=>new F.Z.History),[B,P]=(0,e.useState)(!1),A=De.STORE_PAGE_TYPES,S=async()=>{P(!0);const x=g.Z.getCollectionsOfType(he().PRODUCTS),U=await Promise.all(x.map(O=>g.Z.loadCollection(O.collectionId||O.id).then(m=>{let{collection:L}=m;return L}))),W=U.length,h=U.reduce((O,m)=>O+m.itemCount,0);(0,ye.X5)(W,h),Se.ZP.startMigration().then(O=>{j(O)})};return e.createElement(e.Fragment,null,e.createElement(K.Z.Transition,null,l&&e.createElement(K.Z,{closeOnEsc:!0,lockFocus:!1,onRequestClose:p},e.createElement(K.Z.Overlay,null),e.createElement(K.Z.Position,{position:"center"},e.createElement(K.Z.Dialog.ResponsiveProvider,null,e.createElement(K.Z.Dialog,null,B?e.createElement(v.Z,{justifyContent:"center",alignItems:"center",css:{height:"100%"}},e.createElement(te.Z,null)):e.createElement(F.Z.SplitScreen,null,e.createElement(F.Z.SplitScreen.Panel,null,e.createElement(F.Z,{closeButtonProps:{onClick:p},currentStepId:b.ONLY_STEP,history:D,renderProgress:()=>null},e.createElement(F.Z.Step,{id:b.ONLY_STEP,nextStepId:b.FAKE_SECOND_STEP,nextButtonProps:{css:{marginLeft:0},inverted:!0,label:(0,n.t)("Upgrade",null,{project:"apps.ContentBrowser"}),onClick:S}},e.createElement(F.Z.Step.Content,null,e.createElement(w.Z.Title,null,(0,n.t)("Upgrade Your Product Pages",null,{project:"apps.ContentBrowser"})),e.createElement(w.Z.Subtitle,{color:"gray.400",mt:4},e.createElement(le.T,{project:"apps.ContentBrowser",learnMore:e.createElement("a",{href:A},e.createElement(le.T,{project:"apps.ContentBrowser"},"Learn More"))},"We\u2019ve made it easier for customers to find products in your store. {learnMore}")),e.createElement(w.Z.Subtitle,{color:"gray.400",mb:6,ml:4,mt:6},e.createElement("ul",null,e.createElement("li",null,(0,n.t)("Add up to {maxProductCount} products or services",{maxProductCount:(0,n.uf)(Te.TYPE_TO_ITEMS_LIMIT.products)},{project:"apps.ContentBrowser"})),e.createElement("li",null,(0,n.t)("Group products across multiple SEO optimized category pages",null,{project:"apps.ContentBrowser"})),e.createElement("li",null,(0,n.t)("Organize and rearrange your categories any way you want",null,{project:"apps.ContentBrowser"})))))))),e.createElement(F.Z.SplitScreen.Panel,{style:{backgroundImage:`url(${Ae})`,backgroundSize:"cover",backgroundPosition:"50% 50%"}}))))))))};se.propTypes={isOpen:o().bool.isRequired,onRequestClose:o().func.isRequired,pollNestedCategoriesMigration:o().func.isRequired};const Re=(0,a.$j)(r=>({isOpen:(0,C.JE)(r)}),{onRequestClose:re.Qf,pollNestedCategoriesMigration:re.Yx})(se);var Ze=t(161381),Be=t(228946),Ue=t(889808);const Le="tertiary",ae=r=>{let{location:l={},collections:p,items:j,currentCollectionId:D,currentItemId:B,onUpdateCurrentLocation:P,onLoadItemsForCollection:A,error:S,onCloseErrorModal:x,onCloseConfirmModal:U,onConfirmAction:W,confirm:h,currentCategoryId:O}=r;const[m,L]=(0,e.useState)({}),{unmask:Y}=Be;(0,e.useEffect)(()=>{const M=(0,u.get)(l,"params.id"),$=(0,u.get)(l,"state.frameUrl"),k=(0,u.get)(l,"params.categoryId");L({collectionId:M,frameUrl:$,categoryId:k})},[l]),(0,e.useEffect)(()=>{const{collectionId:M}=m,$=p[M];g.Z.canHandleCollection($)&&M!==D&&(P({collectionId:M}),A({collectionId:M}))},[p,m,D,P,A]),(0,e.useEffect)(()=>{const{collectionId:M,frameUrl:$,categoryId:k}=m;if(!M)return;const ie=p[M];if(!ie)return;const ce=(0,Ue.EZ)($,ie.urlId);if(!ce)return;const q=Object.values(j).find(Ge=>Ge.urlId===ce);q&&q.id!==B&&P({collectionId:M,itemId:q.id,categoryId:k})},[p,B,m,j,P]),(0,e.useEffect)(()=>{const{categoryId:M,collectionId:$}=m;M&&O!==M&&P({categoryId:M,collectionId:$})},[m,P,O]);const ze=h.fsUnmask?Y:"",Ye=S.fsUnmask?Y:"";return e.createElement(e.Fragment,null,e.createElement(Re,null),e.createElement(Me,null),e.createElement(fe,null),e.createElement(V.Z,{isOpen:S.isOpen,onRequestClose:x},e.createElement(E.Z,{className:Ye,title:S.title,message:S.message,buttons:[e.createElement(E.Z.Button,{"data-test":"content-browser-error-ok-button",onClick:x},(0,n.t)("Ok",null,{project:"apps.ContentBrowser"}))]})),e.createElement(V.Z,{isOpen:h.isOpen,onRequestClose:U},e.createElement(E.Z,{className:ze,title:h.title,message:h.message,buttons:[e.createElement(E.Z.Button,{key:"cancel","data-test":"content-browser-cancel-button",onClick:U},(0,n.t)("Cancel",null,{project:"apps.ContentBrowser"})),e.createElement(E.Z.Button,{variant:h.confirmVariant||Le,key:"discard","data-test":"content-browser-confirm-button",onClick:(0,Ie.Z)(W,1e3,{leading:!0,trailing:!1}).callback},h.confirmLabel||(0,n.t)("Confirm",null,{project:"apps.ContentBrowser"}))]})))};ae.propTypes={location:o().object,collections:o().object,items:o().object,currentCollectionId:o().string,currentItemId:o().string,onUpdateCurrentLocation:o().func,onLoadItemsForCollection:o().func,error:o().object,onCloseErrorModal:o().func,onCloseConfirmModal:o().func,onConfirmAction:o().func,confirm:o().object};const Ne=(0,Ze.Z)((0,a.$j)(r=>({collections:(0,C.Lg)(r),currentCollectionId:(0,C.GC)(r),currentItemId:(0,C.g6)(r),error:(0,C.P6)(r),confirm:(0,C.Rn)(r),items:(0,C.kk)(r),currentCategoryId:(0,C.Ph)(r)}),{onUpdateCurrentLocation:i.G,onLoadItemsForCollection:c.LW,onCloseErrorModal:d.f,onCloseConfirmModal:H.OW,onConfirmAction:H.gH})(ae));function je(r,l,p){return l in r?Object.defineProperty(r,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[l]=p,r}class xe extends e.Component{componentDidCatch(l){(0,Q.Tb)(l),this.setState({hasError:!0})}render(){return this.state.hasError?null:this.props.children}constructor(...l){super(...l),je(this,"state",{hasError:!1})}}const We=xe;var Ke=t(337061),Fe=t(970671);const $e=()=>e.createElement(Ke.ZP,null,e.createElement(We,null,e.createElement(Fe.Z,null,e.createElement(Ne,null))))},778622:function(R,f,t){t.d(f,{Z:()=>y});var e=t(174161),u=t(685763);const I=()=>{const v=window.navigator.userAgent;return v.indexOf("MSIE ")>0||v.indexOf("Trident/")>0},o=230,E={closeOnEsc:!0,closeOnOverlayClicked:!0},c={position:"center"},{Transition:i,Overlay:d,Position:g}=u.Z,y=v=>{let{children:n,isOpen:a,modalProps:s=E,onRequestClose:T,onTransitionEnd:N=()=>null,positionProps:X=c,transitionDuration:J=o}=v;return e.createElement(i,{duration:J,onTransitionEnd:N},a&&e.createElement(u.Z,{onRequestClose:T,lockFocus:!I(),...s},e.createElement(d,null),e.createElement(g,X,n)))}},360410:function(R,f,t){t.d(f,{Z:()=>g});var e=t(174161),u=t(845076),I=t.n(u),o=t(685763),E=t(515887),c=t.n(E);const{Dialog:i}=o.Z,g=Z=>{let{children:y,className:v,...n}=Z;return e.createElement(i,{...n,className:I()(c().dialogContainer,v)},y)}},753245:function(R,f,t){t.d(f,{K:()=>c,Z:()=>o});var e=t(174161),u=t(620477);const I=e.createContext("content-browser-editor"),o=I,E=(0,u.default)((i,d,g,Z,y)=>({isOpen:i,initialRoute:d,onErrorsChange:g,isDirty:Z,isNewItem:y})),c=i=>{let{children:d,isOpen:g,initialRoute:Z,onErrorsChange:y,isDirty:v,isNewItem:n}=i;return e.createElement(I.Provider,{value:E(g,Z,y,v,n)},d)}},696894:function(R,f,t){t.d(f,{c:()=>I});var e=t(174161),u=t(580774);const I=function(o,E){for(var c=arguments.length,i=new Array(c>2?c-2:0),d=2;d<c;d++)i[d-2]=arguments[d];return(0,e.useMemo)(()=>u.Z.get(o,...i),[E])}},139382:function(R,f,t){t.d(f,{$:()=>g,Z:()=>v});var e=t(759352);const u=n=>n.hostname==="static1.squarespace.com",I=n=>{const a=n.hostname?n:(0,e.Mk)(n);return a.hostname==="images.squarespace-cdn.com"||a.hostname==="static1.squarespace.com"},o=(n,a)=>{const s=(0,e.Mk)(n),T=new URLSearchParams(s.search);T.set("format",a);const N=T.toString();return N?`${s.origin}${s.pathname}?${N}`:n},E=n=>{let a=n;if(!a)return null;if(a.trim&&(a=a.trim()),String(a)===String(parseInt(a)))return a;const s=Date.parse(a);return isNaN(s)?null:s},c=n=>{const a=`/${n.prefix}/${n.websiteId}/${n.collectionId}/${n.itemId}/`,s=E(n.updatedOn);return s?a+s+"/":a},i=n=>{const a=n.split("/").filter(T=>!!T),s={};return[s.prefix,s.websiteId,s.collectionId,s.itemId,s.updatedOn]=a,s},d=(n,a)=>{const s=(0,e.Mk)(n);if(!u(s))return n;const T=i(s.pathname);T.updatedOn=a;const N=c(T);return`${s.origin}${N}`},g=n=>!!(n.filename||n.thumbnailImage&&n.thumbnailImage.dataSize||n.hasFileData||n.imageUrl),Z=(n,a)=>{const s="100w";return I(n)?o(n,s):n},y=(n,a)=>{if(!g(n))return null;if(a)return n.imageUrl||null;if(n.thumbnailImage&&Array.isArray(n.thumbnailImage.assetUrls)){const s=n.thumbnailImage.assetUrls[0];return s?s.url:null}return n.assetUrl||null},v=(n,a)=>{let s=y(n,a);return s===null?null:(s=d(s,n.updatedOn),s=Z(s,n),s)}},503105:function(R,f,t){t.d(f,{Z:()=>c});var e=t(912289),u=t(730842),I=t(769995),o=t(139382);const c=i=>{try{if(i){const d=u.Z.getCollection(i.parentCollectionId||i.collectionId),g=(0,o.$)(i);(0,e.sk)({itemId:i.id,collectionType:d.typeName,collectionId:d.id,hasThumbnail:g})}}catch{(0,I.uT)("track save collection item failed")}}},889808:function(R,f,t){t.d(f,{EZ:()=>I,g8:()=>o,yz:()=>E});var e=t(655191),u=t(989250);const I=(c,i)=>c.replace(`/${i}/`,""),o=c=>{const i=(0,u.j)(c);return i===e.A.PRODUCT_COLLECTION?"p":i===e.A.VIDEO_COLLECTION?"v":null},E=(c,i)=>{const d=o(c);return d?`/${c.urlId}/${d}/${i.urlId}`:`/${c.urlId}/${i.urlId}`}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/4102d4ba292a0f9e/64382-3662a802c0cc7914-min.en-US.js.map