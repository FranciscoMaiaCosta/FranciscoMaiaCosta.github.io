"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["21780"],{191069:function(_){_.exports={stepSubTitle:"qjZxBlPa0bI9_cDw",modalContentInnerContainer:"FPrC_oXjLV0ok6AR",importSuccessContainer:"TBwz8jmAP14h_H6M",modalContentContainer:"LUrZpepaa3wJ74Bw",isMobileLayout:"s_pqTqMFuq4FYpbQ",mobileContainer:"LK8nqJRbpgY88ZzD",stepTitle:"KTR6wmYQTfw1tj6Z",stepBodyText:"H54oBjppCI8fX47M",stepBodyHeader:"KReaDqlxEhATM4mp",importFailureContainer:"ZEnnUjs3vUAVnCUh",modalImg:"nhMGO31zl_U0i4Dg"}},148469:function(_,C,e){e.d(C,{Z:()=>l});var o=e(456903);const a="/api/finance/v1",l={createBankAccount:async(c,n)=>{const{data:t}=await o.default.post(`${a}/accounts/${c}/bank-accounts`,JSON.stringify(n),{headers:{"content-type":"application/json"}});return t},fetchConnectedBankAccounts:async c=>{const{data:n}=await o.default.get(`${a}/accounts/${c}/bank-accounts`),{bankAccounts:t}=n;return t},initializeBankAccountOnboardingSession:async function(c){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en";const{data:t}=await o.default.post(`${a}/accounts/${c}/bank-accounts/onboarding-sessions?language=${n}`);return t},fetchBankAccountOnboardingSession:async c=>{const{data:n}=await o.default.get(`${a}/accounts/${c}/bank-accounts/onboarding-sessions`);return n},cancelInProgressBankAccountOnboardingSession:async c=>{await o.default.delete(`${a}/accounts/${c}/bank-accounts/onboarding-sessions`)},createBankAccountSession:async(c,n)=>{const{data:t}=await o.default.post(`${a}/accounts/${c}/bank-account-session`,null,{params:{language:n}}),{linkToken:v,expiration:d}=t;return{linkToken:v,expiration:d}},resumeBankAccountSession:async(c,n)=>{const{data:t}=await o.default.post(`${a}/accounts/${c}/bank-accounts/resume-bank-account-session`,null,{params:{language:n}}),{linkToken:v,expiration:d}=t;return{linkToken:v,expiration:d}},confirmBankAccountSession:async(c,n)=>{const t={linkSessionId:n};await o.default.post(`${a}/accounts/${c}/bank-accounts/confirm-bank-account-onboarding-session`,JSON.stringify(t),{headers:{"content-type":"application/json"}})},initializeBankStatementCollectSession:async c=>{const{data:n}=await o.default.post(`${a}/accounts/${c}/bank-accounts/initialize-bank-statement-collect-session`),{collectSessionUrl:t}=n;return{collectSessionUrl:t}},fetchDebitAuthorizationDetails:async(c,n)=>{const{data:t}=await o.default.get(`${a}/accounts/${c}/bank-accounts/${n}/debit-authorization-details`);return t},confirmDebitAuthorization:async(c,n)=>{await o.default.post(`${a}/accounts/${c}/bank-accounts/confirm-debit-authorization`,JSON.stringify(n),{headers:{"content-type":"application/json"}})}}},671167:function(_,C,e){e.d(C,{Z:()=>l});var o=e(456903);const a="/api/commerce",l={fetchPaymentSettings:async()=>{const{data:c}=await o.default.get(`${a}/settings/payment`,{headers:{"content-type":"application/json"}});return c},updateStorePaymentsTestMode:async c=>{let{enabled:n}=c;return o.default.put(`${a}/settings/payment/testmode`,n,{headers:{"content-type":"text/plain"}})},updateStoreCurrency:async c=>o.default.put(`${a}/settings/payment/store-currency`,c,{headers:{"content-type":"text/plain"}})}},643013:function(_,C,e){e.d(C,{Z:()=>gn});var o=e(766400),a=e(685763),r=e(443416),l=e(516865),c=e(482053),n=e(338465),t=e(174161),v=e(191069),d=e.n(v),D=e(116822),u=e(538312),U=e(938875),A=e(484561),y=e(870740),Z=e(717186),k=e(160553),f=e.n(k),g=e(453394),s=e(618054);const i=e.p+"desktop-79a33878f862eb52.png",O=e.p+"mobile-1cbc7c865468ab47.png",z=e.p+"desktop-bc92d7c5ea1c300e.png",G=e.p+"mobile-3169aa37657f839a.png",N=e.p+"desktop-edc0ba0888f8053c.png",je=e.p+"mobile-4e9bacae9d95675d.png",ve=e.p+"desktop-a57c0a6389de5411.png",x=e.p+"mobile-090b0f232cb6ee47.png",me=e.p+"desktop-37fcfc7e67b78aee.png",de=e.p+"mobile-72353726ab77c033.png",w=e.p+"desktop-0fa1c39d3675adf8.png",q=e.p+"mobile-f90e35c76dc1797c.png",L=e.p+"desktop-c64b28122809e5fd.png",Ce=e.p+"mobile-a3bf9e12d933fb8b.png",xe=e.p+"desktop-fd9e9cdc5d616d86.png",oe=e.p+"mobile-19ef72097c258a0e.png",E=e.p+"desktop-b5daa4c943d5f80e.png",B=e.p+"mobile-d4de0146c7481289.png",ie=e.p+"desktop-b3d40183d78ea31c.png",he=e.p+"mobile-aeca392425a8e33a.png",Oe=e.p+"desktop-6b44938783af00e3.png",ye=e.p+"mobile-20d2896370b3fe03.png",ue=e.p+"desktop-7e66bd7df098ee91.png",se=e.p+"mobile-4d346e1971f139b2.png",Tt=e.p+"desktop-7d14192af18fc435.png",_e=e.p+"mobile-692b290e4187c108.png",bt=e.p+"desktop-ef57175a4dc673b7.png",Ie=e.p+"mobile-13a3626f01eb799c.png",ke=e.p+"desktop-669dc271b02c909b.png",Xe=e.p+"mobile-9ce95d7a4bdc3753.png",At=e.p+"desktop-5b11387fdd240f14.png",We=e.p+"mobile-ea117a4600c55af3.png",$e=e.p+"desktop-37ac6dc8f9a8d6bd.png",Ke=e.p+"mobile-61f08cc28218920d.png",ut=e.p+"desktop-00bf4ce8c680b36d.png",V=e.p+"mobile-7874d90f010c6b22.png",Le=e.p+"desktop-669dc271b02c909b.png",He=e.p+"mobile-9ce95d7a4bdc3753.png",Ue=e.p+"desktop-669dc271b02c909b.png",Je=e.p+"mobile-9ce95d7a4bdc3753.png",qe=e.p+"desktop-669dc271b02c909b.png",pt=e.p+"mobile-9ce95d7a4bdc3753.png",et=e.p+"desktop-669dc271b02c909b.png",Et=e.p+"mobile-9ce95d7a4bdc3753.png",Pt=e.p+"desktop-669dc271b02c909b.png",Ct=e.p+"mobile-9ce95d7a4bdc3753.png",ot=e.p+"desktop-669dc271b02c909b.png",Ae=e.p+"mobile-9ce95d7a4bdc3753.png",at=e.p+"desktop-669dc271b02c909b.png",X=e.p+"mobile-9ce95d7a4bdc3753.png",F=e.p+"desktop-aa919c6dfe6bd091.png",yt=e.p+"mobile-f2c6f24fc9831272.png",Ge=e.p+"desktop-aa919c6dfe6bd091.png",Bt=e.p+"mobile-f2c6f24fc9831272.png",It=e.p+"desktop-aa919c6dfe6bd091.png",vt=e.p+"mobile-f2c6f24fc9831272.png",Zt=e.p+"desktop-aa919c6dfe6bd091.png",Dt=e.p+"mobile-f2c6f24fc9831272.png",nn=e.p+"desktop-aa919c6dfe6bd091.png",jt=e.p+"mobile-f2c6f24fc9831272.png",Rt=e.p+"desktop-aa919c6dfe6bd091.png",st=e.p+"mobile-f2c6f24fc9831272.png",Ut=e.p+"desktop-aa919c6dfe6bd091.png",zt=e.p+"mobile-f2c6f24fc9831272.png",Yt=e.p+"desktop-aa919c6dfe6bd091.png",Qt=e.p+"mobile-f2c6f24fc9831272.png",on=e.p+"desktop-008896463e49eae0.png",Xt=e.p+"mobile-2a86429c1762552f.png";let ae=function(p){return p[p.One=1]="One",p[p.Two=2]="Two",p[p.Three=3]="Three",p[p.Four=4]="Four",p[p.Five=5]="Five",p}({});const $t={[ae.One]:{"en-US":{[s.bB.Desktop]:i,[s.bB.Mobile]:O},"en-CA":{[s.bB.Desktop]:z,[s.bB.Mobile]:G},"fr-CA":{[s.bB.Desktop]:N,[s.bB.Mobile]:je},"en-GB":{[s.bB.Desktop]:ve,[s.bB.Mobile]:x},"en-IE":{[s.bB.Desktop]:me,[s.bB.Mobile]:de},"fr-FR":{[s.bB.Desktop]:w,[s.bB.Mobile]:q},"de-DE":{[s.bB.Desktop]:L,[s.bB.Mobile]:Ce},"de-AT":{[s.bB.Desktop]:xe,[s.bB.Mobile]:oe},"es-ES":{[s.bB.Desktop]:E,[s.bB.Mobile]:B},"fi-FI":{[s.bB.Desktop]:ie,[s.bB.Mobile]:he},"fr-BE":{[s.bB.Desktop]:Oe,[s.bB.Mobile]:ye},"nl-NL":{[s.bB.Desktop]:ue,[s.bB.Mobile]:se},"it-IT":{[s.bB.Desktop]:Tt,[s.bB.Mobile]:_e},"pt-PT":{[s.bB.Desktop]:bt,[s.bB.Mobile]:Ie}},[ae.Two]:{"en-US":{[s.bB.Desktop]:ke,[s.bB.Mobile]:Xe},"en-IE":{[s.bB.Desktop]:At,[s.bB.Mobile]:We},"fr-FR":{[s.bB.Desktop]:$e,[s.bB.Mobile]:Ke},"de-DE":{[s.bB.Desktop]:ut,[s.bB.Mobile]:V},"de-AT":{[s.bB.Desktop]:Le,[s.bB.Mobile]:He},"es-ES":{[s.bB.Desktop]:Ue,[s.bB.Mobile]:Je},"fi-FI":{[s.bB.Desktop]:qe,[s.bB.Mobile]:pt},"fr-BE":{[s.bB.Desktop]:et,[s.bB.Mobile]:Et},"nl-NL":{[s.bB.Desktop]:Pt,[s.bB.Mobile]:Ct},"it-IT":{[s.bB.Desktop]:ot,[s.bB.Mobile]:Ae},"pt-PT":{[s.bB.Desktop]:at,[s.bB.Mobile]:X}},[ae.Three]:{"en-US":{[s.bB.Desktop]:F,[s.bB.Mobile]:yt},"de-AT":{[s.bB.Desktop]:Ge,[s.bB.Mobile]:Bt},"es-ES":{[s.bB.Desktop]:It,[s.bB.Mobile]:vt},"fi-FI":{[s.bB.Desktop]:Zt,[s.bB.Mobile]:Dt},"fr-BE":{[s.bB.Desktop]:nn,[s.bB.Mobile]:jt},"nl-NL":{[s.bB.Desktop]:Rt,[s.bB.Mobile]:st},"it-IT":{[s.bB.Desktop]:Ut,[s.bB.Mobile]:zt},"pt-PT":{[s.bB.Desktop]:Yt,[s.bB.Mobile]:Qt}},[ae.Four]:{"en-US":{[s.bB.Desktop]:""}},[ae.Five]:{"en-US":{[s.bB.Desktop]:on,[s.bB.Mobile]:Xt}}};var Mt=e(845076),rt=e.n(Mt);const Jt=(p,S,I)=>(0,s.OL)({localizedAssets:$t[p],size:S?s.bB.Mobile:s.bB.Desktop,countryCode:I}),Ft=(0,t.createContext)(void 0),pe=()=>{const p=(0,t.useContext)(Ft);if(!p)throw new Error("useStepTemplate must be used within a StepTemplateProvider");return p},De=p=>{let{children:S}=p;const{t:I}=(0,y.Z)(),{currentStepId:b,isMobileLayout:P,paymentAccountCountryCode:J}=pe(),ne=Jt(b,!1,J);return t.createElement(c.Z,{className:rt()({[d().mobileContainer]:P}),overflow:"hidden",width:1308,height:768,sx:{[g.z.maxWidth1020]:{width:"100vw",height:"100vh"}}},t.createElement(c.Z,{flexDirection:"column",flex:1,minWidth:586,margin:6,height:"100%",sx:{[g.z.maxWidth1020]:{margin:0,maxWidth:"none",minWidth:"unset",alignItems:"center",height:"100vh"}}},t.createElement(c.Z,{flexDirection:"column",height:"100%",justifyContent:"space-between"},S)),!P&&ne&&t.createElement("img",{style:{width:"100%",height:"100%",objectFit:"cover",maxWidth:"654px"},src:ne,alt:I("onboarding modal background",null,{project:"payments"})}))},Ve=p=>{let{children:S}=p;return t.createElement(c.Z,{position:"sticky",top:0,backgroundColor:"white",zIndex:1,paddingBottom:6,sx:{[g.z.maxWidth1020]:{py:2,px:3}}},S)},Cn=p=>{let{children:S}=p;const{t:I}=(0,y.Z)(),{currentStepId:b,isMobileLayout:P,paymentAccountCountryCode:J}=pe(),ne=Jt(b,!0,J);return t.createElement(c.Z,{flex:1,overflowY:"auto",flexDirection:"column"},P&&ne&&t.createElement("img",{style:{height:"275px",objectFit:"cover",backgroundColor:"gray.300","@media only screen and (maxWidth: 730px)":{width:"100vw",maxHeight:"none",objectFit:"contain"}},src:ne,alt:I("onboarding modal background",null,{project:"payments"})}),t.createElement(n.Z,{paddingBottom:6,sx:{[g.z.maxWidth1020]:{padding:3}}},S))},yn=()=>{const{T:p}=(0,y.Z)(),S={target:"_blank",rel:"noopener noreferrer",style:{fontWeight:500,color:"black"}};return t.createElement(u.Z.Body,{className:d().termsOfService,fontSize:"12px",lineHeight:"16px"},t.createElement(p,{project:"payments",notes:"agreement regarding our terms of service and privacy policy",termsLink:t.createElement("a",f()({href:(0,s.DJ)()},S),t.createElement(p,{project:"payments"},"Squarespace Payments Terms")),policyLink:t.createElement("a",f()({href:(0,s.c9)()},S),t.createElement(p,{project:"payments"},"Privacy Policy"))},"By clicking Start Import, you agree to the {termsLink} and have read and understood our {policyLink}."))},re=p=>{let{children:S,showTermsOfService:I}=p;return t.createElement(c.Z,{flexDirection:"column",gap:3,position:"sticky",bottom:0,backgroundColor:"white",zIndex:1,paddingY:6,sx:{[g.z.maxWidth1020]:{py:2,px:4}}},I&&t.createElement(yn,null),t.createElement(c.Z,{gap:4,sx:{[g.z.maxWidth1020]:{flexDirection:"column",width:"100%",gap:2}}},S))};De.Header=Ve,De.Body=Cn,De.Footer=re;const Ee=De;var an=e(424841),wt=e(541895),qt=e(251273);const m=p=>{let{children:S}=p;return t.createElement(c.Z,{alignItems:"center",sx:{gap:2}},t.createElement(U.Z,{sx:{flexShrink:0}}),t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,fontSize:"16px"},S))},R=p=>{let{isCapMigrationMerchant:S}=p;const{T:I}=(0,y.Z)();return S?t.createElement(m,null,t.createElement(I,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Automatically apply payments towards your pre-existing Stripe financing with every sale")):t.createElement(m,null,t.createElement(I,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Manage all payments and payouts directly on Squarespace"))},T=p=>{let{isNpaPlan:S,isCapMigrationMerchant:I,paymentAccountCountryCode:b}=p;const{T:P}=(0,y.Z)();return I?t.createElement(m,null,t.createElement(P,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Get access to lower card rates and more payment methods, including all major credit cards, Klarna, and bank debits")):new Set([wt.n.IE,wt.n.FR]).has(b)?t.createElement(m,null,t.createElement(P,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Accept all major credit cards, Klarna, and Apple Pay \u2014 with even more payment methods coming soon")):b===wt.n.GB?t.createElement(m,null,t.createElement(P,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Accept all major credit cards, Klarna, Apple Pay, and Clearpay \u2014 with even more payment methods coming soon")):b===wt.n.US?S?t.createElement(m,null,t.createElement(P,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Activate lower rates with more payment methods, including all major credit cards, ACH, Apple Pay, and Afterpay")):t.createElement(m,null,t.createElement(P,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Accept ACH bank payments for a low 1% fee, as well as all major credit cards, Klarna, Apple Pay, and Afterpay")):t.createElement(m,null,t.createElement(P,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Accept all major credit cards, Klarna, Apple Pay, and Afterpay \u2014 with even more payment methods coming soon"))},M=p=>{let{isCapMigrationMerchant:S}=p;const{T:I}=(0,y.Z)();return S?t.createElement(m,null,t.createElement(I,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Qualify for new financing offers through Squarespace Capital")):t.createElement(m,null,t.createElement(I,{project:"payments",notes:"item in a list of benefits of using sqsp payments"},"Import your account from Stripe for instant setup, no change in fees, and no business interruption"))},W=p=>{var S,I;let{paymentAccountCountryCode:b,pricingRates:P}=p;const{T:J}=(0,y.Z)(),{formatDate:ne}=(0,Z.Z)(),{formatFlatRatePlusConstant:mt}=(0,A.UU)(),{isMobileLayout:le}=pe(),we=(0,qt.Z)(),en=(0,an.Z)(),{isNpaPlan:Ne}=en,ze=(we==null||(S=we.data)===null||S===void 0?void 0:S.isCapMigrationMerchant)??!1,St=b===wt.n.US,Sn={margin:0,fontSize:"19px",fontWeight:500,lineHeight:"24px"},Ht=P!=null&&(I=P.promotionalRates)!==null&&I!==void 0&&I.cardRate?mt(P.promotionalRates.cardRate):null,rn=P!=null&&P.promoExpiresOn?ne(new Date(P.promoExpiresOn),{date:"medium"}):"",Gt=()=>Ht?t.createElement(J,{project:"payments",promoRate:Ht,promoExpiry:rn,lineBreak:le?"":t.createElement("br",null),notes:"rate reads 2.50% + $0.30, promoRate reads December 31"},"Take advantage of our discounted rate of {lineBreak}{promoRate} on all card transactions until {promoExpiry}. Setup takes 2 steps."):ze?t.createElement(J,{project:"payments"},"Manage your money where you make it. Switch instantly with no interruption to your business or checkout experience."):Ne?t.createElement(J,{project:"payments"},"Activate your new processing rates with Squarespace Payments. Setup takes 2 steps."):St?t.createElement(J,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"Accept payment methods like Klarna and ACH, and manage your business on Squarespace. Setup takes 2 steps."):t.createElement(J,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"Accept payment methods like Klarna and manage your business on Squarespace. Setup takes 2 steps.");return en.isInitialRequestCompleted?t.createElement(c.Z,{flexDirection:"column"},t.createElement(u.Z.Title,{className:d().stepTitle,mb:3,fontSize:"72px",lineHeight:"72px",fontWeight:500},Ne||ze?t.createElement(J,{project:"payments",notes:"title for a modal about onboarding to sqsp payments"},"Switch to Squarespace Payments"):t.createElement(J,{project:"payments",notes:"title for a modal about onboarding to sqsp payments"},"Start using Squarespace Payments")),le?t.createElement(c.Z,{flexDirection:"column",className:d().stepSubTitle},t.createElement(u.Z.Body,Sn,Gt())):t.createElement(c.Z,{flexDirection:"column",mb:8},t.createElement(u.Z.Body,{className:d().stepSubTitle,pr:"95px",fontSize:"22px",fontWeight:500},Gt())),t.createElement(c.Z,{flexDirection:"column",pr:le?0:"100px",sx:{gap:2}},t.createElement(R,{isCapMigrationMerchant:ze}),t.createElement(T,{isNpaPlan:Ne,isCapMigrationMerchant:ze,paymentAccountCountryCode:b}),t.createElement(M,{isCapMigrationMerchant:ze}))):null};var Y=e(815517),ee=e(292165);const K=p=>{let{children:S,title:I}=p;return I?t.createElement(c.Z,{flexDirection:"row",sx:{gap:2}},t.createElement(U.Z,{sx:{flexShrink:0}}),t.createElement(c.Z,{flexDirection:"column"},t.createElement(u.Z.Body,{sx:{fontWeight:"bold"},m:0,fontSize:"16px"},I),t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,fontSize:"16px"},S))):t.createElement(c.Z,{alignItems:"center",sx:{gap:2}},t.createElement(U.Z,{sx:{flexShrink:0}}),t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,fontSize:"16px"},S))},h=p=>{var S;let{hasSavedPayments:I}=p;const{T:b}=(0,y.Z)(),{isMobileLayout:P}=pe(),J=(0,qt.Z)(),ne=(J==null||(S=J.data)===null||S===void 0?void 0:S.isCapMigrationMerchant)??!1;return t.createElement(c.Z,{className:d().stepContainer,flexDirection:"column"},t.createElement(u.Z.Title,{className:d().stepTitle,mb:3,fontSize:"56px",lineHeight:"56px",fontWeight:500,pr:P?0:"50px"},t.createElement(b,{project:"payments",notes:"title for a modal about onboarding to sqsp payments"},"What to know before you switch")),t.createElement(c.Z,{flexDirection:"column",sx:{gap:8}},ne?null:t.createElement(u.Z.Body,{className:d().stepSubTitle,pr:"95px",fontSize:"22px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"Switching to Squarespace Payments is a permanent change.")),t.createElement(c.Z,{flexDirection:"column",pr:P?0:"60px",pt:ne?"40px":0,sx:{gap:3}},t.createElement(Q,{isCapMigrationMerchant:ne}),t.createElement(H,{isCapMigrationMerchant:ne,hasSavedPayments:I}),t.createElement(ge,{isCapMigrationMerchant:ne,hasSavedPayments:I}))))};function Q(p){let{isCapMigrationMerchant:S}=p;const{T:I}=(0,y.Z)();if(S){const b=t.createElement(ee.Z,{href:Y.ZP.SQUARESPACE_CAPITAL.MIGRATION_FAQ},t.createElement(I,{project:"payments"},"Learn more"));return t.createElement(K,{title:t.createElement(I,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"Your pre-existing Stripe financing will continue to be paid without interruption")},t.createElement(I,{project:"payments",notes:"warning how switching to sqsp payments will affect user",learnMoreLink:b},"Payments toward your financing will be automatically applied from your Squarespace Payments sales. {learnMoreLink}"))}return t.createElement(K,null,t.createElement(I,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"Your Stripe account will be disconnected from Squarespace"))}function H(p){let{isCapMigrationMerchant:S,hasSavedPayments:I}=p;const{T:b}=(0,y.Z)();return S?t.createElement(K,{title:t.createElement(b,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"Your selling history will be preserved")},t.createElement(b,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"All of your customer information and past orders will still be accessible on Squarespace."),I&&t.createElement(b,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"Your customers\u2019 saved payment information will be transferred in 3\u201310 days.")):t.createElement(K,null,t.createElement(b,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"Your customer information and past orders will still be accessible on Squarespace"))}function ge(p){let{isCapMigrationMerchant:S,hasSavedPayments:I}=p;const{T:b}=(0,y.Z)();return S?t.createElement(K,{title:t.createElement(b,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"Your Stripe account will be detached from Squarespace")},t.createElement(b,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"You can view your financing history and previous payments processed with Stripe on stripe.com.")):I?t.createElement(K,null,t.createElement(b,{project:"payments",notes:"warning how switching to sqsp payments will affect user"},"Your customers' payment information will be transferred to your Squarespace Payments account in 3-10 days")):null}const $=h,ce=p=>{let{onSwitchToEmbeddedOnboarding:S,hasSavedPayments:I}=p;const{T:b,t:P}=(0,y.Z)(),{isMobileLayout:J}=pe(),ne=P("Customers' saved payment methods will not be transferred and some transactions may continue to process on Stripe.",null,{project:"payments"}),mt=I?ne:"";return t.createElement(c.Z,{className:d().stepContainer,flexDirection:"column",justifyContent:J?"flex-start":"space-between",height:"100%"},t.createElement(c.Z,{flexDirection:"column"},t.createElement(u.Z.Title,{className:d().stepTitle,mb:3,fontSize:"56px",lineHeight:"56px",fontWeight:500},t.createElement(b,{project:"payments",notes:"title for a modal about onboarding to sqsp payments"},"Import and activate")),t.createElement(c.Z,{flexDirection:"column",sx:{gap:J?0:4}},t.createElement(u.Z.Body,{className:d().stepSubTitle,m:0,pr:J?0:"117px",fontSize:"22px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"We'll import your identity and business information from Stripe to activate Squarespace Payments.")),t.createElement(c.Z,{flexDirection:"column",pr:J?0:"175px",sx:{gap:4}},t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,fontSize:"16px"},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"We may ask for some additional information if it's been a while since you set up Stripe.")),t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,fontSize:"16px"},t.createElement(b,{project:"payments",createAccountButton:t.createElement(ee.Z,{onClick:S},t.createElement(b,{project:"payments",notes:"a button to create a new payment account"},"create a new Squarespace Payments account")),additionalCopy:t.createElement(t.Fragment,null,mt),notes:"copy to let the customers know that they can opt to create an account. also adds note for save payment methods"},"If you don't want to transfer your information, {createAccountButton} instead. {additionalCopy}"))))))};var tt=e(697307),Re=e(64950);const Be=p=>{let{isMobileLayout:S,children:I,...b}=p;return t.createElement(c.Z,f()({className:"my-container",position:"relative",flexDirection:"column",alignItems:"center",width:S?"100%":"450px"},b),I)},ft=p=>{let{children:S}=p;return t.createElement(c.Z,{flexDirection:"column",alignItems:"center",sx:{gap:3,textAlign:"center"}},S)},Te=p=>{let{isSuccess:S,isError:I,children:b}=p;const{T:P}=(0,y.Z)(),{isMobileLayout:J}=pe(),ne={px:4,isMobileLayout:J},mt={margin:0},le=J?{...mt,fontSize:"19px"}:{...mt,fontSize:"22px"},we={m:0,fontWeight:400,fontSize:"16px"},en=t.createElement(P,{project:"payments",notes:"title text for when an import of user's information failed"},"Confirm your business information"),Ne=t.createElement(P,{project:"payments",notes:"description text for when an import of user's information failed"},"We need to confirm your business details to activate Squarespace Payments.");return I?t.createElement(Be,ne,t.createElement(ft,null,t.createElement(c.Z,{className:d().importFailureContainer,alignItems:"center",sx:{gap:1}},t.createElement(tt.Z,{color:"red.300"}),t.createElement(u.Z.Title,le,t.createElement(P,{project:"payments",notes:"text when a import failed"},"Something went wrong"))),t.createElement(u.Z.Subtitle,f()({},we,{mb:6}),t.createElement(P,{project:"payments",notes:"text for when an import failed"},"We encountered an error when importing your information. Please try connecting to Squarespace Payments again."))),b):S?t.createElement(Be,ne,t.createElement(c.Z,{className:d().importSuccessContainer},t.createElement(Re.Z,{color:"green.300"}),t.createElement(u.Z.Title,f()({},le,{color:"gray.300"}),t.createElement(P,{project:"payments",notes:"text when a import is successful"},"Information imported!"))),t.createElement(ft,null,t.createElement(u.Z.Title,f()({m:0},le),t.createElement(P,{project:"payments",notes:"text when a account activation is in progress"},"Activating your account...")),t.createElement(c.Z,{flexDirection:"column",mb:6},t.createElement(u.Z.Subtitle,we,t.createElement(P,{project:"payments",notes:"text for when account activation is in progress"},"This may take another minute or two.")),t.createElement(u.Z.Subtitle,we,t.createElement(P,{project:"payments",notes:"text for when account activation is in progress"},"We'll send you an email when your account is activated.")))),b):t.createElement(Be,ne,t.createElement(ft,null,t.createElement(u.Z.Title,f()({m:0},le),t.createElement(P,{project:"payments",notes:"text when a import is in progress"},"Importing your information")),t.createElement(u.Z.Subtitle,f()({},we,{mb:6}),t.createElement(P,{project:"payments",notes:"text for when an import is in progress"},"This can take up to 60 seconds to complete. Don't close this window or refresh the page until the import is finished."))),b)};var fe=e(206317);const Me=p=>{let{activationStatus:S,paymentAccountCountryCode:I}=p;const{T:b}=(0,y.Z)(),{isMobileLayout:P}=pe(),J=P?{}:{mt:"215px"},ne=(0,A.bb)(I);return S===fe.oN.SUCCESS?t.createElement(c.Z,f()({className:d().stepContainer},J,{flexDirection:"column"}),t.createElement(u.Z.Title,{className:d().stepTitle,mb:3,fontSize:"56px",lineHeight:"56px",fontWeight:500},t.createElement(b,{project:"payments",notes:"title for a modal about onboarding to sqsp payments"},"Welcome to Squarespace Payments")),P?t.createElement(t.Fragment,null,t.createElement(u.Z.Body,{className:d().stepSubTitle,m:0,mb:8,fontSize:"18px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments",CHECKING_ACCOUNT_STRING:ne},"Payments from your customers will start coming through Squarespace Payments. Connect your preferred {CHECKING_ACCOUNT_STRING} for no interruption in payouts.")),t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,mb:8,fontSize:"18px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments",CHECKING_ACCOUNT_STRING:ne},"Connect your preferred {CHECKING_ACCOUNT_STRING} for no interruption in payouts."))):t.createElement(u.Z.Body,{className:d().stepSubTitle,m:0,mb:8,fontSize:"18px",fontWeight:500,pr:"125px"},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments",CHECKING_ACCOUNT_STRING:ne},"Payments from your customers will now come through Squarespace Payments. Connect your preferred {CHECKING_ACCOUNT_STRING} for no interruption in payouts."))):S===fe.oN.MORE_TIME_NEEDED?t.createElement(c.Z,f()({className:d().stepContainer},J,{flexDirection:"column"}),t.createElement(u.Z.Title,{className:d().stepTitle,mt:6,mb:3,fontSize:"56px",lineHeight:"56px",fontWeight:500,pr:P?0:"60px"},t.createElement(b,{project:"payments",notes:"title for a modal about onboarding to sqsp payments"},"We need some more time")),t.createElement(c.Z,{flexDirection:"column",pr:P?0:"125px",sx:{gap:P?0:3}},t.createElement(u.Z.Body,{className:d().stepSubTitle,m:0,fontSize:"18px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"Activating your account is taking longer than expected. In the meantime, payments will continue to process through Stripe.")),t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,fontSize:"18px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"We'll send you an email when Squarespace Payments is connected.")))):S===fe.oN.MORE_INFO_NEEDED?t.createElement(c.Z,f()({className:d().stepContainer},J,{flexDirection:"column"}),t.createElement(u.Z.Title,{className:d().stepTitle,mt:6,mb:3,fontSize:"56px",lineHeight:"56px",fontWeight:500,pr:P?0:"60px"},t.createElement(b,{project:"payments",notes:"title for a modal about onboarding to sqsp payments"},"We need some more information")),t.createElement(c.Z,{flexDirection:"column",pr:P?0:"115px",sx:{gap:P?0:3}},t.createElement(u.Z.Body,{className:d().stepSubTitle,m:0,fontSize:"18px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"Your account has been successfully imported, but there are a few details we're still missing.")),t.createElement(u.Z.Body,{className:d().stepBodyText,m:0,fontSize:"18px",fontWeight:500},t.createElement(b,{project:"payments",notes:"subtitle for a modal about onboarding to sqsp payments"},"Payments will continue to process through Stripe until you provide this information.")))):null};var nt=e(986921),Nt=e(260175),_t=e(352635),xt=e(416387),gt=e(574782),Lt=e(556072),kt=e(553481),te=e(379344),lt=e(659765),Pe=e(1785),Wt=e(313695),sn=e(67637),Fe=function(p){return p.Desktop="desktop",p.Tablet="tablet",p.Mobile="mobile",p}(Fe||{});const fn=1024,Ze=450,Kt=p=>{var S,I,b;let{isOpen:P,onCreateAccount:J,onClose:ne,onSwitchToEmbeddedOnboarding:mt}=p;const{T:le}=(0,y.Z)(),we=(0,t.useRef)(null),en=(0,Nt.i)(_t.breakpoints).platform==="mobile",[Ne,ze]=(0,t.useState)(ae.One),[St,Sn]=(0,t.useState)(!1),[Ht,rn]=(0,t.useState)(!1),[Gt,Rn]=(0,t.useState)(!1),[bn,An]=(0,t.useState)(!1),[cn,Mn]=(0,t.useState)(null),[ln,Nn]=(0,t.useState)(en?Fe.Mobile:Fe.Desktop),Hn=t.createElement(le,{project:"payments",notes:"text for button to confirm user's information after import failure"},"CONFIRM INFORMATION"),mn=ln===Fe.Mobile||ln===Fe.Tablet,Pn=Ne===ae.Four&&!St&&!Ht,hn=!!cn&&St&&Ne===ae.Four,xn=(0,nt.Z)(cn||"",{enabled:hn,pollingIntervalInMs:2e3}),dn=(0,qt.Z)(),On=((S=dn.data)===null||S===void 0?void 0:S.country)??"",tn=((I=dn.data)===null||I===void 0?void 0:I.hasSavedPayments)||!1,Ln=(b=dn.data)===null||b===void 0?void 0:b.websiteId,dt=xn.data,In=dt==null?void 0:dt.paymentsFeature.statusCode,un=(dt==null?void 0:dt.countryCode)??On,Bn=(0,xt.M3)()??"",Zn=On||Bn,jn=(0,kt.Z)(Ln,Zn,{isPriorityCountryCodeLoaded:dn.isInitialRequestCompleted}),Ye=In===te.DR.OK?fe.oN.SUCCESS:In===te.DR.ONBOARDING_VERIFICATION_FAILED?fe.oN.MORE_INFO_NEEDED:Gt?fe.oN.MORE_TIME_NEEDED:null,Un=(0,A.bb)(un),Fn=()=>{var be;const Qe=new URLSearchParams(window.location.search).get(lt.gk.SOURCE);if(Qe)return Qe;const Ot=(0,gt.L9)();return Ot===lt.bk.COMMERCE_DASHBOARD_ROOT?Pe.a.AutoKyc.EntryPoint.SELLING_DASHBOARD_BANNER:Ot===lt.bk.SETTINGS_STORE_PAYMENTS?Pe.a.AutoKyc.EntryPoint.PAYMENTS_SETTINGS_PAGE:(be=window.top)===null||be===void 0?void 0:be.location.pathname};(0,t.useEffect)(()=>{let be;return hn&&!Gt&&(be=window.setTimeout(()=>{Rn(!0)},55e3)),()=>{clearTimeout(be)}},[hn,Gt]),(0,t.useEffect)(()=>{Ye!==null&&ze(ae.Five)},[Ye]),(0,t.useEffect)(()=>{if(!P)return;const be=Fn(),ht={[ae.One]:Pe.a.AutoKyc.ObjectIdentifier.GET_STARTED,[ae.Two]:Pe.a.AutoKyc.ObjectIdentifier.WARNINGS,[ae.Three]:Pe.a.AutoKyc.ObjectIdentifier.START_IMPORT,[ae.Four]:St?Pe.a.AutoKyc.ObjectIdentifier.LOADING_STATE_2:Pe.a.AutoKyc.ObjectIdentifier.LOADING_STATE_1,[ae.Five]:Pe.a.AutoKyc.ObjectIdentifier.OUTCOME},Qe=()=>Ye===fe.oN.SUCCESS?Pe.a.AutoKyc.OutcomeState.SUCCESS:Ye===fe.oN.MORE_INFO_NEEDED?Pe.a.AutoKyc.OutcomeState.HOP_INTRO:Ye===fe.oN.MORE_TIME_NEEDED?Pe.a.AutoKyc.OutcomeState.VERIFICATION_PENDING:Pe.a.AutoKyc.OutcomeState.ERROR;Ne===ae.Five?Lt.ZP.trackAutoKycModal({entryPoint:be,objectIdentifier:ht[Ne],outcomeState:Qe(),hasSavedPayments:tn}):Lt.ZP.trackAutoKycModal({entryPoint:be,objectIdentifier:ht[Ne],hasSavedPayments:tn})},[Ye,Ne,St,P,tn]);const pn=(0,t.useCallback)(()=>{if(we.current){const be=we.current.getBoundingClientRect().width,Qe=be<=Ze?Fe.Mobile:be<=fn?Fe.Tablet:Fe.Desktop;Qe!==ln&&Nn(Qe)}},[ln]);(0,t.useEffect)(()=>{pn()},[pn]),(0,t.useEffect)(()=>{const be=()=>{pn()};return window.addEventListener("resize",be),()=>{window.removeEventListener("resize",be)}},[pn]);const wn=()=>{ze(Ne-1)},vn=()=>{ze(Ne+1)},Dn=async()=>{ze(ae.Four),rn(!1);const be=1;let ht=!0,Qe=0;for(;ht&&Qe<=be;)try{const Ot=await J(On);Ot&&(await D.Z.initiateAutoOnboarding(Ot),Mn(Ot),Sn(!0),ht=!1)}catch(Ot){Qe===be&&(Wt.Z.withSquarespaceScope(()=>{Wt.Z.captureException(new Error("Failed to start import during AutoOnboarding",{cause:Ot}))}),rn(!0)),Qe++}},Vt=()=>{Pn||(ne(),ze(ae.One),An(!1))},_n=()=>{Vt(),mt()},kn=()=>{An(!0)},En=()=>t.createElement(l.Z.Tertiary,{onClick:Vt,alignSelf:"start"},t.createElement(le,{project:"payments",notes:"a button to close the modal"},"CLOSE")),Tn=()=>t.createElement(l.Z.Tertiary,{onClick:wn,alignSelf:"start"},t.createElement(r.Z,null),t.createElement(le,{project:"payments",notes:"a button to go back a step in the wizard"},"BACK")),Wn=()=>Pn?null:St?Tn():En(),Kn=()=>{switch(Ne){case ae.One:return t.createElement(Ee,null,t.createElement(Ee.Header,null,En()),t.createElement(Ee.Body,null,t.createElement(W,{paymentAccountCountryCode:un,pricingRates:jn})),t.createElement(Ee.Footer,null,t.createElement(l.Z.Primary,{size:"large",onClick:vn},t.createElement(le,{project:"payments",notes:"text for button to get started onboarding to sqsp payments"},"GET STARTED")),t.createElement(l.Z.Tertiary,{size:"large",as:"a",href:Y.ZP.LEARN_MORE.MIGRATING_TO_SQSP_PAYMENTS,target:"_blank"},t.createElement(le,{project:"payments",notes:"text to learn more about sqsp payments"},"LEARN MORE"))));case ae.Two:return t.createElement(Ee,null,t.createElement(Ee.Header,null,mn?En():Tn()),t.createElement(Ee.Body,null,t.createElement($,{hasSavedPayments:tn})),t.createElement(Ee.Footer,null,t.createElement(l.Z.Primary,{size:"large",onClick:vn},t.createElement(le,{project:"payments",notes:"text for button to accept onboarding conditions"},"Accept and continue"))));case ae.Three:return t.createElement(Ee,null,t.createElement(Ee.Header,null,mn?En():Tn()),t.createElement(Ee.Body,null,t.createElement(ce,{onSwitchToEmbeddedOnboarding:_n,hasSavedPayments:tn})),t.createElement(Ee.Footer,{showTermsOfService:!0},t.createElement(l.Z.Primary,{size:"large",onClick:Dn},t.createElement(le,{project:"payments",notes:"text for button to start importing onboarding data"},"START IMPORT"))));case ae.Four:return t.createElement(Ee,null,t.createElement(Ee.Header,null,Wn()),t.createElement(c.Z,{flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center"},t.createElement(Te,{isSuccess:St,isError:Ht},Ht?t.createElement(l.Z.Primary,{size:"large",onClick:Dn},t.createElement(le,{project:"payments",notes:"text for button to try importing onboarding data again after failure"},"TRY AGAIN")):t.createElement(o.Z,null))));case ae.Five:return Ye?t.createElement(Ee,null,t.createElement(Ee.Body,null,t.createElement(Me,{paymentAccountCountryCode:un??null,activationStatus:Ye})),Ye===fe.oN.SUCCESS&&t.createElement(Ee.Footer,null,t.createElement(l.Z.Primary,{size:"large",onClick:kn},t.createElement(le,{project:"payments",notes:"text for button that starts flow for connecting a checking account",CHECKING_ACCOUNT_STRING:Un.toLocaleUpperCase()},"CONNECT {CHECKING_ACCOUNT_STRING}")),t.createElement(l.Z.Tertiary,{onClick:Vt},t.createElement(le,{project:"payments",notes:"a button to close the modal instead of performing next steps"},"DO THIS LATER"))),Ye===fe.oN.MORE_TIME_NEEDED&&t.createElement(Ee.Footer,null,t.createElement(l.Z.Primary,{size:"large",onClick:Vt},t.createElement(le,{project:"payments",notes:"button that closes modal"},"CLOSE"))),Ye===fe.oN.MORE_INFO_NEEDED&&t.createElement(Ee.Footer,null,t.createElement(l.Z.Primary,{size:"large",onClick:mt},t.createElement(le,{project:"payments",notes:"button that continues onboarding process on external page"},"CONTINUE")),t.createElement(l.Z.Tertiary,{onClick:ne},t.createElement(le,{project:"payments",notes:"a button to close the modal instead of performing next steps"},"DO THIS LATER")))):null;default:break}};return t.createElement(t.Fragment,null,t.createElement(a.Z.Transition,null,P&&t.createElement(a.Z,{onRequestClose:Vt,closeOnEsc:!1,closeOnOverlayClicked:!1,closeOnBackButton:!1},t.createElement(a.Z.Overlay,null),t.createElement(a.Z.Position,{position:"center"},t.createElement(a.Z.Dialog,{sx:{visibility:bn?"hidden":"visible"}},t.createElement(n.Z,{ref:we,className:rt()(d().modalContentContainer,{[d().isMobileLayout]:mn}),gridConstraint:12,"data-testid":"auto-onboarding-modal"},t.createElement(Ft.Provider,{value:{currentStepId:Ne,isMobileLayout:mn,paymentAccountCountryCode:un}},Kn())))))),cn&&t.createElement(sn.Z,{accountId:cn,paymentAccountCountryCode:dt==null?void 0:dt.countryCode,shouldInitiateSession:bn,onModalClose:Vt}))},gn=t.memo(Kt)},67637:function(_,C,e){e.d(C,{Z:()=>A});var o=e(160553),a=e.n(o),r=e(174161),l=e(374344),c=e(87858),n=e(416387),t=e(823752),v=e(206317),d=e(32819),D=e(394493),u=e(730062);const A=y=>{let{paymentAccountCountryCode:Z,accountId:k,loadingIcon:f,onModalClose:g,lockFocus:s,unlockFocus:i,...O}=y;const z="shouldInitiateSession"in O?O.shouldInitiateSession:!1,G="children"in O?O.children:null;if((0,l.c)(c.D.STRIPE_BANK_CONNECTION)&&(0,n.ks)(Z)){const ve={onboardingApiType:v.Vg.BankConnection,RouterLink:D.Z,onOnboardingModalClose:g};if(z)return r.createElement(t.Z,a()({shouldInitiateOnboarding:z},ve));if(G)return r.createElement(t.Z,ve,G)}const je={plaidApiType:d.zA.BANK_ACCOUNT_SESSION,accountId:k,loadingIcon:f,onModalClose:g,lockFocus:s,unlockFocus:i};return z&&r.createElement(u.Z,a()({initiatePlaidSession:z},je)),G?r.createElement(u.Z,je,G):null}},823752:function(_,C,e){e.d(C,{Z:()=>oe});var o=e(766400),a=e(174161),r=e(671167),l=e(116822),c=e(911394),n=e(11856),t=e(574782),v=e(556072),d=e(685763),D=e(482053),u=e(516865),U=e(538312),A=e(870740);const Z=E=>{let{onClose:B,onConfirm:ie}=E;const{T:he,t:Oe}=(0,A.Z)(),ye=a.createElement(D.Z,{width:"100%",pb:4},a.createElement(u.Z.Tertiary,{onClick:B,m:0},a.createElement(he,{project:"payments"},"CLOSE"))),ue=()=>{const se=Oe('This will make Squarespace Payments your primary payment processor, and your Stripe account will be <strong style="font-weight: bold;">detached</strong>. This means:',null,{project:"payments"});return a.createElement(D.Z,{flexDirection:"column",justifyContent:"center",alignItems:"center",tabIndex:0,p:6,width:"sizes.750"},ye,a.createElement(D.Z,{flexDirection:"column"},a.createElement(U.Z.Title,{m:0,mb:3},a.createElement(he,{project:"payments"},"Turn On Squarespace Payments")),a.createElement(D.Z,{flexDirection:"column",mb:6},a.createElement(U.Z.Subtitle,{color:"gray.300",m:0,dangerouslySetInnerHTML:{__html:se}}),a.createElement("ul",{style:{margin:0,paddingLeft:"22px"}},a.createElement("li",null,a.createElement(U.Z.Subtitle,{color:"gray.300",m:0},a.createElement(he,{project:"payments"},"Existing customer subscriptions and saved payment methods will remain active through Stripe."))),a.createElement("li",null,a.createElement(U.Z.Subtitle,{color:"gray.300",m:0},a.createElement(he,{project:"payments"},"All other new orders will be processed through Squarespace Payments."))))),a.createElement(D.Z,{alignItems:"center",sx:{gap:2}},a.createElement(u.Z.Secondary,{onClick:B,size:"medium",width:"100%"},a.createElement(he,{project:"payments"},"Close")),a.createElement(u.Z.Primary,{onClick:ie,size:"medium",minWidth:"191px"},a.createElement(he,{project:"payments"},"CONTINUE")))))};return a.createElement(d.Z.Transition,null,a.createElement(d.Z,{onRequestClose:B,"data-testid":"pre-account-creation-modal"},a.createElement(d.Z.Overlay,null),a.createElement(d.Z.Position,{position:"center"},a.createElement(d.Z.Dialog,null,ue()))))};var k=e(305170);const f={PROD:"a7fb9315a9",SANDBOX:"1f4ae92b44"},g=()=>{var E;if((E=window)!==null&&E!==void 0&&(E=E.top)!==null&&E!==void 0&&(E=E.Static)!==null&&E!==void 0&&(E=E.SQUARESPACE_CONTEXT)!==null&&E!==void 0&&E.impersonatedSession)return;function B(){const ie=document.createElement("script");ie.src="https://cdn.sift.com/s.js",document.body.appendChild(ie)}document.readyState==="complete"?B():window.attachEvent?window.attachEvent("onload",B):window.addEventListener("load",B,!1)},s=E=>{var B;if((B=window)!==null&&B!==void 0&&(B=B.top)!==null&&B!==void 0&&(B=B.Static)!==null&&B!==void 0&&(B=B.SQUARESPACE_CONTEXT)!==null&&B!==void 0&&B.impersonatedSession)return;const ie=window._sift=window._sift||[];ie.push(["_setAccount",f.PROD]),ie.push(["_setUserId",E]),ie.push(["_setSessionId",(0,k.Z)()])},i=()=>{var E;if((E=window)!==null&&E!==void 0&&(E=E.top)!==null&&E!==void 0&&(E=E.Static)!==null&&E!==void 0&&(E=E.SQUARESPACE_CONTEXT)!==null&&E!==void 0&&E.impersonatedSession)return;(window._sift=window._sift||[]).push(["_trackPageview"])},O=E=>{s(E),i()},z=g;var G=e(986921),N=e(251273),je=e(643013),ve=e(206317),x=e(659765),me=e(148435),de=e(124393),w=e(138946),q=e(477135),L=e(313695);const Ce=(0,n.jx)(),oe=E=>{var B,ie,he,Oe,ye;let{onOnboardingModalOpen:ue,onOnboardingModalClose:se,RouterLink:Tt,entryPoint:_e,onboardingApiType:bt=ve.Vg.Connect,...Ie}=E;const[ke,Xe]=(0,a.useState)(!1),[At,We]=(0,a.useState)(!1),[$e,Ke]=(0,a.useState)(!1),[ut,V]=(0,a.useState)(!1),[Le,He]=(0,a.useState)(!1),[Ue,Je]=(0,a.useState)(null),[qe,pt]=(0,a.useState)(!1),et=new URLSearchParams(window.location.search),Et=et.get(x.gk.IS_ONBOARDING),Pt=et.get(x.gk.SOURCE),Ct="shouldInitiateOnboarding"in Ie?Ie.shouldInitiateOnboarding:!1,ot="children"in Ie?Ie.children:null,Ae=(0,c.Z)(),at=(B=Ae.data)===null||B===void 0?void 0:B.sqspPaymentsSettings.accountId,F=Ue||at,yt=((ie=Ae.data)===null||ie===void 0?void 0:ie.stripeSettings.connected)??!1,Ge=(0,G.Z)(F,{enabled:!!F}),Bt=((he=Ge.data)===null||he===void 0?void 0:he.accountStatus)===de.p_.REJECTED,It=(0,N.Z)(),vt=(Oe=It.data)===null||Oe===void 0?void 0:Oe.eligibleForAutoOnboarding,Zt=(0,a.useCallback)(()=>{Ke(!0),ue&&ue()},[ue]),Dt=(0,a.useCallback)(()=>{We(!0),ue&&ue()},[ue]),nn=()=>Pt||_e||null,jt=async pe=>{Xe(!0);try{const De={accountOwnerCountry:pe??de.ss,websiteName:(0,t.z7)(window.location.hostname)},Ve=await l.Z.createPaymentAccount(De);return Xe(!1),Je(Ve.id),O(Ve.id),r.Z.updateStorePaymentsTestMode({enabled:!1}),r.Z.updateStoreCurrency(Ve.primaryCurrency),Ve.id}catch(De){throw Xe(!1),L.Z.withSquarespaceScope(Ve=>{Ve.setTag("onboarding_type",de.HZ.AUTO_ONBOARDING),Ve.setTag("is_impersonated",Ce),L.Z.captureException(new Error("Failed to create payment account with AutoOnboarding",{cause:De}))}),new Error("Failed to create payment account")}},Rt=nn(),st=(0,a.useCallback)(async()=>{var pe;v.ZP.connectSqspPayments(Rt);const De=(0,n.KA)((pe=Ge.data)===null||pe===void 0?void 0:pe.accountOwnerId);if(F&&!De){He(!0);return}if(vt){Zt();return}if(!F&&yt){V(!0);return}Dt()},[F,Zt,Dt,vt,yt,Rt,(ye=Ge.data)===null||ye===void 0?void 0:ye.accountOwnerId]);(0,a.useEffect)(()=>{Ae.isInitialRequestCompleted&&(F&&!Ge.isInitialRequestCompleted||(Ct&&!qe&&(pt(!0),st()),!Ct&&qe&&pt(!1)))},[Ct,qe,st,Ae.isInitialRequestCompleted,Ge.isInitialRequestCompleted,F]),(0,a.useEffect)(()=>{!Ae.isLoading&&!F&&z()},[F,Ae.isLoading]),(0,a.useEffect)(()=>{Et==="true"&&It.isInitialRequestCompleted&&st()},[Et,It.isInitialRequestCompleted,st]);const Ut=()=>{const pe=new URL(window.location.href);Object.values(x.gk).forEach(De=>{pe.searchParams.delete(De)}),window.history.pushState({},"",pe)},zt=(0,a.useCallback)(()=>{Ut(),Ke(!1),se&&se(Ue)},[se,Ue]),Yt=()=>{Ut(),We(!1),se&&se(Ue)},Qt=()=>{He(!1),se&&se(null)},on=()=>{V(!1),se&&se(null)},Xt=async()=>{V(!1),Dt()},ae=async pe=>{pe.key==="Enter"&&(pe.stopPropagation(),st())},$t=Ae.isLoading,Mt=Ae.error,rt=()=>ot?a.cloneElement(ot,{onClick:st,onKeyDown:ae,disabled:$t||Mt||ke||Bt,children:ke?a.createElement(o.Z,{size:0}):ot.props.children}):null,Jt=()=>{We(!0)},Ft=At&&(at||!Ae.isEnabled||Ae.isInitialRequestCompleted);return a.createElement(q.a.Provider,{value:{RouterLink:Tt,entryPoint:_e}},rt(),ut&&a.createElement(Z,{onClose:on,onConfirm:Xt}),$e&&a.createElement(je.Z,{onCreateAccount:jt,isOpen:$e,onClose:zt,onSwitchToEmbeddedOnboarding:Jt}),Ft&&a.createElement(me.ZP,{accountIdFromPaymentSettings:at,entryPoint:Rt,onboardingApiType:bt,paymentAccount:Ge.data,isOpen:At,onClose:Yt,onCreateAccount:jt}),a.createElement(w.Z,{isModalOpen:Le,onCancel:Qt}))}},477135:function(_,C,e){e.d(C,{a:()=>r,g:()=>l});var o=e(174161),a=e(394493);const r=(0,o.createContext)({RouterLink:a.Z}),l=()=>{const c=(0,o.useContext)(r);if(!c)throw new Error("useConnectPaymentsProvider must be used within a ConnectPaymentsProviderContext");return c}},886202:function(_,C,e){e.d(C,{A:()=>A,Z:()=>k});var o=e(174161),a=e(313695),r=e(805187),l=e.n(r);const c="ss-payments-dismissed-content",n=f=>{for(const[g,s]of Object.entries(f))typeof s=="string"&&(f[g]={dismissedTimestamp:Number(s),dismissedCount:1});return f},t=()=>{const f=localStorage.getItem(c);try{const g=f?JSON.parse(f):{};if(!l()(g)){const s=n(g);return localStorage.setItem(c,JSON.stringify(s)),s}return{}}catch(g){return console.error("Failed to parse dismissed content local storage value",g),a.Z.withSquarespaceScope(()=>{a.Z.captureException(g)}),{}}},v=1e3*60*60*24,d=(f,g)=>{const s=new Date(f);return(new Date().getTime()-s.getTime())/v>=g},D=f=>{const g=t();if(!Object.hasOwn(g,f))return!1;const s=g[f],i=s.numberOfTimesToResurface??0,O=s.dismissedCount??1;if(i>0){const z=O>i;if(!(s!=null&&s.resurfaceAfterXDays)||z)return!0;const{dismissedTimestamp:G,resurfaceAfterXDays:N}=s;if(d(G,N))return!1}return!0},u=f=>{let{contentLocalStorageKey:g,numberOfTimesToResurface:s,resurfaceAfterXDays:i}=f;const O=t();let z;Object.hasOwn(O,g)&&(z={dismissedCount:(O[g].dismissedCount??1)+1});const G={dismissedTimestamp:new Date().getTime(),dismissedCount:1,numberOfTimesToResurface:s,resurfaceAfterXDays:i};return{...O,[g]:{...G,...z}}},U=f=>{try{localStorage.setItem(c,JSON.stringify(f))}catch(g){console.error("Error saving dismissible content to localStorage:",g),a.Z.withSquarespaceScope(()=>{a.Z.captureException(g)})}},A=f=>{if(D(f.contentLocalStorageKey))return;const s=u(f);U(s)},y=f=>{let{contentLocalStorageKey:g}=f;const[s,i]=(0,o.useState)(!1),O=D(g);return(0,o.useEffect)(()=>{O&&i(!0)},[g,O]),{isContentHidden:s,setIsContentHidden:i}},k=f=>{let{contentLocalStorageKey:g,children:s,numberOfTimesToResurface:i=0,resurfaceAfterXDays:O=0}=f;const{isContentHidden:z,setIsContentHidden:G}=y({contentLocalStorageKey:g}),N=(0,o.useCallback)(()=>{A({contentLocalStorageKey:g,numberOfTimesToResurface:i,resurfaceAfterXDays:O}),G(!0)},[g,i,O,G]);return z?null:s(N)}},148435:function(_,C,e){e.d(C,{ZP:()=>qt});var o=e(766400),a=e(685763),r=e(482053),l=e(516865),c=e(338465),n=e(174161),t=e(538312),v=e(481017),d=e(378257),D=e(815517),u=e(352635),U=e(260175);let A=function(m){return m.Desktop="desktop",m.Tablet="tablet",m.Mobile="mobile",m}({});const Z=m=>{let{maxWidthTablet:R,maxWidthMobile:T}=m;const M=(0,U.i)(u.breakpoints).platform==="mobile",[j,W]=(0,n.useState)(M?A.Mobile:A.Desktop),Y=(0,n.useCallback)(()=>{const ee=document.documentElement.clientWidth,h=ee<=T?A.Mobile:ee<=R?A.Tablet:A.Desktop;h!==j&&W(h)},[j,T,R]);return(0,n.useEffect)(()=>{Y()},[Y]),(0,n.useLayoutEffect)(()=>(window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)),[Y]),{layout:j}},k=(0,n.createContext)({layout:A.Desktop}),f=()=>{const m=(0,n.useContext)(k);if(!m)throw new Error("useLayoutContext must be used within a LayoutContext");return m};var g=e(902863),s=e(556072),i=e(1785),O=e(870740);const G=()=>{const{T:m}=(0,O.Z)(),{layout:R}=f(),T=R===A.Mobile,M=n.createElement(t.Z.Body,{m:0,fontWeight:500},n.createElement(m,{project:"payments",notes:"title for a help section"},"Have questions?")),j=n.createElement(t.Z.Caption,null,n.createElement(m,{project:"payments",notes:"description for a help section"},"Explore answers to common questions about setting up Squarespace Payments.")),W=()=>{s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_CLICKS_PAYMENTS_HELP_CENTER,objectType:i.a.ObjectType.BUTTON,objectIdentifier:i.a.Onboarding.ObjectIdentifier.HELP_CENTER})};return T?n.createElement(d.Z,{as:"a",href:D.ZP.LEARN_MORE.EMBEDDED_ONBOARDING,target:"_blank",rel:"noopener noreferrer",onClick:W,flexDirection:"row",bg:"white",py:3,px:4,sx:{alignItems:"center",justifyContent:"space-between",textDecoration:"none"}},n.createElement(r.Z,{flexDirection:"column",sx:{gap:1}},M,j),n.createElement(g.Z,{sx:{flexShrink:0}})):n.createElement(d.Z,{flexDirection:"column",bg:"white",py:3,px:4,sx:{alignItems:"start",gap:1}},M,j,n.createElement(l.Z.Tertiary,{as:"a",href:D.ZP.LEARN_MORE.EMBEDDED_ONBOARDING,target:"_blank",rel:"noopener noreferrer",onClick:W,sx:{minHeight:"fit-content"}},n.createElement(m,{project:"payments",notes:"link to external help article"},"HELP CENTER")))};var N=e(938875),je=e(863678),ve=e(477743),x=e(206317),me=e(124299),de=e(484561),w=e(574782),q=e(416387),L=e(541895),Ce=e(717186),xe=e(407628),oe=e(678140),E=e(191441);const B=()=>{const{T:m}=(0,O.Z)(),R=n.createElement(me.Z,{textStyle:"body",color:"#0E0E0E",href:D.ZP.LEARN_MORE.ADDITIONAL_FEES},n.createElement(m,{project:"payments",notes:"a link to a help article"},"Learn more about fees")),T=n.createElement(me.Z,{textStyle:"body",color:"#0E0E0E",href:D.ZP.PLAN_SELECTOR},n.createElement(m,{project:"payments",notes:"a link to the plan selector page"},"select plans")),M=n.createElement(l.Z.Tertiary,{as:"a",href:D.ZP.LEARN_MORE.NPA_RATES,sx:{textDecoration:"none",minHeight:"fit-content"},target:"_blank",rel:"noopener noreferrer"},n.createElement(m,{project:"payments",notes:"a link to transactions fees KB"},"VIEW DETAILS")),j=n.createElement(me.Z,{textStyle:"body",color:"#0E0E0E",href:D.ZP.LEARN_MORE.PROMOTIONAL_PRICING},n.createElement(m,{project:"payments",notes:"a link to a help article"},"Learn more"));return{learnMoreAboutFeesLink:R,selectPlansLink:T,viewDetailsLink:M,learnMoreAboutPromoPricing:j}},ie=m=>{var R,T,M,j;let{entryPoint:W,isNpaPlan:Y,layout:ee,selectedCountryCode:K,pricingRatesForSelectedCountry:h}=m;const{T:Q,t:H}=(0,O.Z)(),{formatDate:ge}=(0,Ce.Z)(),{formatFlatRatePlusConstant:$,formatRateTypePercentOnly:Se}=(0,de.UU)(),{learnMoreAboutFeesLink:ce,learnMoreAboutPromoPricing:tt,viewDetailsLink:Re}=B(),[Be,ft]=(0,n.useState)(!1),ct=ee===A.Tablet,Te=h==null?void 0:h.promotionalRates,fe=h!=null&&h.promoExpiresOn?ge(new Date(h==null?void 0:h.promoExpiresOn),{date:"medium"}):"",it=h==null||(R=h.rates)===null||R===void 0?void 0:R.cardRate,Me=h==null||(T=h.rates)===null||T===void 0?void 0:T.achRate,nt=$(it),Nt=Se(Me),_t=h==null||(M=h.rates)===null||M===void 0?void 0:M.hasDiscountedBasicCCRate,xt=h==null||(j=h.rates)===null||j===void 0?void 0:j.hasDiscountedAchRate,gt=(0,n.useCallback)(()=>{if(Te)return n.createElement(Q,{project:"payments",notes:"a value prop for sqsp payments. feeRatePlusConstant reads 2.5% + $0.30 USD",learnMoreLink:tt,feeRatePlusConstant:$(Te.cardRate),expiry:fe},"Discounted card fees starting at {feeRatePlusConstant} until {expiry}. {learnMoreLink}");if((0,w.QY)()&&(0,w.oA)()&&!(0,w.Kt)()){const te=n.createElement(oe.Z,{checkoutType:E.CheckoutTypes.NEW_PURCHASE},n.createElement(xe.Z,{fontSize:"14px",fontWeight:400,color:"gray.100"},n.createElement(Q,{project:"payments",notes:"a button open plan selector"},"select plans")));return n.createElement(Q,{project:"payments",notes:"a value prop for sqsp payments. feeRatePlusConstant reads 2.5% + $0.30 USD",selectPlansButton:te,feeRatePlusConstant:$((0,w.Ae)(K))},"Discounted card rates as low as {feeRatePlusConstant} on {selectPlansButton}.")}return Y?_t?n.createElement(Q,{project:"payments",notes:"a value prop for sqsp payments. feeRatePlusConstant could read 2.5% + $0.30",feeRatePlusConstant:nt,viewDetailsLink:Re},"Discounted card processing rates of {feeRatePlusConstant} per transaction."):xt?n.createElement(Q,{project:"payments",notes:"a value prop for sqsp payments. achRate could read 1%",achRate:Nt,viewDetailsLink:Re},"Discounted ACH processing rate of {achRate} per transaction."):n.createElement(Q,{project:"payments",notes:"a value prop for sqsp payments. feeRatePlusConstant could read 2.5% + $0.30",feeRatePlusConstant:nt,viewDetailsLink:Re},"Process card payments at {feeRatePlusConstant} per transaction."):n.createElement(Q,{project:"payments",notes:"a value prop for sqsp payments. feeRatePlusConstant could read 2.9% + $0.30",learnMoreAboutFeesLink:ce,feeRatePlusConstant:nt},"Low fees starting at only {feeRatePlusConstant} per transaction. {learnMoreAboutFeesLink}")},[Te,K,Y,Q,ce,nt,tt,$,fe,_t,xt,Re,Nt]),Lt=(0,n.useMemo)(()=>{const te={LOW_FEES:gt(),PAYMENT_MANAGEMENT:H("Payment and payout management on Squarespace",null,{project:"payments",notes:"a value prop for sqsp payments"}),SQUARESPACE_CAPITAL:H("Access to flexible business financing through Squarespace Capital",null,{project:"payments",notes:"a value prop for sqsp payments"}),AUTOMATIC_PAYOUTS:H("Payouts automatically sent to your bank",null,{project:"payments",notes:"a value prop for sqsp payments"}),DISPUTE_TOOL:H("Built-in dispute tool helps you monitor chargebacks and protect your business",null,{project:"payments",notes:"a value prop for sqsp payments"}),SECURE_CHECKOUT:H("Safe and secure checkout with data encryption and instant risk monitoring",null,{project:"payments",notes:"a value prop for sqsp payments"})};return{[x.WD.DEFAULT]:[te.LOW_FEES,te.PAYMENT_MANAGEMENT,...K==="US"?[te.SQUARESPACE_CAPITAL]:[],te.AUTOMATIC_PAYOUTS,te.DISPUTE_TOOL,te.SECURE_CHECKOUT],[x.WD.INVOICING]:[te.LOW_FEES,te.PAYMENT_MANAGEMENT,...K==="US"?[te.SQUARESPACE_CAPITAL]:[],te.AUTOMATIC_PAYOUTS,te.DISPUTE_TOOL,te.SECURE_CHECKOUT],[x.WD.DONATIONS]:[te.LOW_FEES,te.PAYMENT_MANAGEMENT,...K==="US"?[te.SQUARESPACE_CAPITAL]:[],te.AUTOMATIC_PAYOUTS,te.SECURE_CHECKOUT]}[W].map(Pe=>n.createElement(r.Z,{key:Pe.toString(),sx:{gap:1},alignItems:"center"},n.createElement(N.Z,{sx:{flexShrink:0}})," ",n.createElement(t.Z.Body,{m:0},Pe)))},[gt,H,K,W]),kt=()=>{Be||s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_CLICKS_MORE_INFORMATION_DROPDOWN,objectType:i.a.ObjectType.BUTTON,objectIdentifier:i.a.Onboarding.ObjectIdentifier.EVERYTHING_YOU_GET_WITH_SQUARESPACE_PAYMENTS}),ft(te=>!te)};return n.createElement(r.Z,{flexDirection:"column",alignItems:"start",sx:{gap:3},overflowY:"hidden",pb:4},n.createElement(l.Z.Base,{onClick:kt,fontSize:"14px",textTransform:"none",fontWeight:400,sx:{gap:1,whiteSpace:"nowrap",letterSpacing:0}},Be?n.createElement(je.Z,null):n.createElement(ve.Z,null),n.createElement(Q,{project:"payments",notes:"header for a list of sqsp payments value props"},"Everything you get with Squarespace Payments")),Be&&n.createElement(r.Z,{flexDirection:"column",ml:ct?0:5,maxWidth:"295px",sx:{gap:4},overflowY:"auto"},Lt))},Oe=m=>{let{children:R,entryPoint:T,isEditingExistingAccount:M,isNpaPlan:j,hasRequirementsDue:W,selectedCountryCode:Y,restartSetupButton:ee,pricingRatesForSelectedCountry:K}=m;const{T:h}=(0,O.Z)(),{layout:Q}=f(),H=Q===A.Mobile,ge=(0,q.UX)(Y)?"ACH,":"",$=()=>{if(M&&W)return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Providing this information will help us protect your account and ensure no interruption in payments or payouts.");if(M)return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Powerful payments designed for your business.");if(T===x.WD.DONATIONS)return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Start accepting donations right away. Donors can support you with all major credit cards and Apple Pay \u2014 with more payment methods coming soon.");if(T===x.WD.INVOICING)switch(Y){case L.n.CA:return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Start accepting invoice payments right away. Clients can pay with all major credit cards, Klarna, Apple Pay, and Afterpay \u2014 with more methods coming soon.");case L.n.GB:return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Start accepting invoice payments right away. Clients can pay with all major credit cards, Klarna, Apple Pay, and Clearpay \u2014 with more methods coming soon.");default:return n.createElement(h,{project:"payments",notes:"description for sqsp payments",optionalACHText:ge},"Start accepting invoice payments right away. Clients can pay with all major credit cards, {optionalACHText} Klarna, Apple Pay, and Afterpay \u2014 with more methods coming soon.")}switch(Y){case L.n.CA:return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Start accepting payments right away. Customers can pay with all major credit cards, Klarna, Apple Pay, and Afterpay \u2014 with more methods coming soon.");case L.n.GB:return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Start accepting payments right away. Customers can pay with all major credit cards, Klarna, Apple Pay, and Clearpay \u2014 with more methods coming soon.");case L.n.ES:case L.n.IT:case L.n.NL:case L.n.PT:case L.n.BE:case L.n.FI:case L.n.AT:case L.n.LU:case L.n.DE:case L.n.IE:case L.n.FR:return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Start accepting payments right away. Customers can pay with all major credit cards, Klarna, and Apple Pay \u2014 with more methods coming soon.");case L.n.AU:case L.n.NZ:return n.createElement(h,{project:"payments",notes:"description for sqsp payments"},"Start accepting payments right away. Customers can pay with all major credit cards, Klarna, Apple Pay, Google Pay and Afterpay \u2014 with more methods coming soon.");default:return n.createElement(h,{project:"payments",notes:"description for sqsp payments",optionalACHText:ge},"Start accepting payments right away. Customers can pay with all major credit cards, Klarna, Apple Pay, {optionalACHText} and Afterpay \u2014 with more methods coming soon.")}};return n.createElement(r.Z,{flexDirection:"column",justifyContent:"space-between",alignItems:"start",width:H?"100%":"440px",pt:H?3:4,px:H?3:6,pb:H?3:6,bg:"gray.900",border:H?"1px solid":"none",borderColor:H?"gray.800":"",sx:{gap:H?3:0}},n.createElement(r.Z,{flexDirection:"column",alignItems:"start",sx:{gap:3},overflow:"auto"},n.createElement(r.Z,{flexDirection:"column",alignItems:"start",sx:{gap:3}},R,n.createElement(v.t,null),!H&&n.createElement(t.Z.Body,{my:1},$())),!M&&!H&&n.createElement(ie,{entryPoint:T,layout:Q,isNpaPlan:j,selectedCountryCode:Y,pricingRatesForSelectedCountry:K})),n.createElement(r.Z,{flexDirection:"column",sx:{gap:2}},ee,n.createElement(G,null)))};var ye=e(53612),ue=e(116822),se=e(11856),Tt=e(154198),_e=e(618054),bt=e(32819),Ie=e(313695),ke=e(124393),Xe=e(148469);const We=m=>{let{accountId:R,onboardingApiType:T=x.Vg.Connect,isEditingExistingAccount:M,onExit:j}=m;const[W,Y]=(0,n.useState)(""),[ee,K]=(0,n.useState)();(0,n.useEffect)(()=>{M&&T===x.Vg.Connect&&s.ZP.trackOnboarding({action:i.a.Action.OPEN,eventName:i.a.Onboarding.EventName.USER_STARTS_EDITING_ONBOARDING_FORM,objectType:i.a.ObjectType.FORM,onboardingFlow:i.a.Onboarding.Flow.EMBEDDED}),T===x.Vg.BankConnection&&s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_INITIATES_MANUAL_BANK_ENTRY,objectType:i.a.ObjectType.BUTTON,objectIdentifier:i.a.Onboarding.ObjectIdentifier.BANK_ENTRY_INITIATED})},[]);const h=(0,n.useCallback)(async()=>{if(!R)return"";try{let $,Se;if(T===x.Vg.Connect){const ce=await ue.Z.initiateEmbeddedOnboardingSession(R);$=ce.platformAccountPublicApiKey,Se=ce.sessionSecret}else if(T===x.Vg.BankConnection){var H,ge;const ce=await Xe.Z.initializeBankAccountOnboardingSession(R,(0,w.ht)());if(ce.bankAccountSessionProviderType!==bt.L.STRIPE)return"";$=(H=ce.stripeSession)===null||H===void 0?void 0:H.platformAccountPublicApiKey,Se=(ge=ce.stripeSession)===null||ge===void 0?void 0:ge.sessionSecret}return $&&Y($),Se??""}catch($){return Ie.Z.withSquarespaceScope(Se=>{Se.setTag("is_impersonated",(0,se.jx)()),Se.setTag("onboarding_type",ke.HZ.EMBEDDED_ONBOARDING),Se.setTag("onboarding_api_type",T),Ie.Z.captureException(new Error("Failed to initiate onboarding session",{cause:$}))}),""}},[R,T]);(0,n.useEffect)(()=>{h()},[]),(0,n.useEffect)(()=>{K((0,Tt.x)({publishableKey:W,fetchClientSecret:h,appearance:{variables:{colorPrimary:"#0E0E0E",colorText:"#0E0E0E",colorBackground:"#FFFFFF",buttonSecondaryColorBackground:"#FFFFFF",buttonSecondaryColorBorder:"#E7E7E7",buttonSecondaryColorText:"#0E0E0E",colorSecondaryText:"#0E0E0E",actionPrimaryColorText:"#000000",actionSecondaryColorText:"#666666",colorBorder:"#E7E7E7",formHighlightColorBorder:"#0E0E0E",formAccentColor:"#666666",colorDanger:"#C32D38",badgeNeutralColorBackground:"#E7E7E7",badgeNeutralColorBorder:"#E7E7E7",badgeNeutralColorText:"#0E0E0E",badgeSuccessColorBackground:"#CDEDDB",badgeSuccessColorBorder:"#CDEDDB",badgeSuccessColorText:"#1B754F",badgeWarningColorBackground:"#FDE696",badgeWarningColorBorder:"#FDE696",badgeWarningColorText:"#925B20",badgeDangerColorBackground:"#FEE0DE",badgeDangerColorBorder:"#FEE0DE",badgeDangerColorText:"#C23D38",offsetBackgroundColor:"#D3D3D3",formBackgroundColor:"#F2F2F2",borderRadius:"0px",buttonBorderRadius:"0px",badgeBorderRadius:"14px",spacingUnit:"11px",fontFamily:"Clarkson",fontSizeBase:"16px",headingXlFontSize:"22px",headingXlFontWeight:"600",headingMdFontSize:"22px",headingMdFontWeight:"600",headingSmFontSize:"22px",headingSmFontWeight:"600",headingXsFontSize:"12px",bodyMdFontSize:"16px",bodyMdFontWeight:"400",bodySmFontSize:"14px",bodySmFontWeight:"400",labelMdFontSize:"11px",labelMdFontWeight:"300",labelMdTextTransform:"uppercase",labelSmFontSize:"12px"}}}))},[h,W]);const Q=()=>{j()};return ee?n.createElement(ye.AW,{connectInstance:ee},n.createElement(ye.Nc,{onExit:Q,fullTermsOfServiceUrl:(0,_e.DJ)(),privacyPolicyUrl:(0,_e.c9)(),collectionOptions:{fields:"currently_due",futureRequirements:"include"}})):null};var $e=e(160553),Ke=e.n($e),ut=e(102258),V=e(129534),Le=e(477135),He=e(1097),Ue=e(793564),Je=e(292165);const pt=()=>{const{T:m}=(0,O.Z)();return n.createElement(r.Z,{mt:1,flexDirection:"column",gap:6},n.createElement(t.Z.Caption,null,n.createElement(m,{project:"payments",notes:"helpful tip for country select dropdown"},"Select the country where your bank is located.")),n.createElement(r.Z,{flexDirection:"column",backgroundColor:"gray.950",borderRadius:"4px",p:3,gap:1},n.createElement(r.Z,{alignItems:"center",gap:1,p:"1px"},n.createElement(Ue.Z,{width:"14px",height:"14px"}),n.createElement(t.Z.Subtitle,{fontSize:2,m:0},n.createElement(m,{project:"payments",notes:"header for a list of things to keep in mind when selecting a country"},"Keep in mind"))),n.createElement("ul",{style:{color:"#666666",margin:"0px 18px",lineHeight:"16px"}},n.createElement("li",null,n.createElement(t.Z.Caption,{textTransform:"initial"},n.createElement(m,{project:"payments",notes:"helpful tip for country select dropdown"},"Your bank account must use your country's official currency"))),n.createElement("li",null,n.createElement(t.Z.Caption,{textTransform:"initial"},n.createElement(m,{project:"payments",notes:"info to keep in mind when selecting a country",learnMoreLink:n.createElement(Je.Z,{textStyle:"caption",href:D.ZP.LEARN_MORE.ADDITIONAL_FEES,display:"inline",target:"_blank",rel:"noopener noreferrer"},n.createElement(m,{project:"payments"},"Learn more"))},"Payment processing rates are determined by your country of business operation. {learnMoreLink}"))))))};var et=e(870963),Et=e(906046),Pt=e(251196),Ct=e(805163),ot=e(612020),Ae=e(448201),at=e(837035),X=e(151543);const F=()=>{const[m,R]=(0,n.useState)(!1),{T}=(0,O.Z)();return n.createElement(et.Z,{body:n.createElement(et.Z.Body,{isOpen:m},n.createElement(t.Z.Body,{color:"gray.300",my:1,fontSize:u.fontSizes[2],lineHeight:u.lineHeights[1]},n.createElement(T,{project:"payments",notes:"Section which explains what to do if the user is setting up Payments for someone else"},"Use the account owner\u2019s information to complete Squarespace Payments setup. You\u2019ll be able to transfer management access after you create the account."))),trigger:n.createElement(et.Z.Trigger,{isOpen:m,onToggle:()=>R(!m)},n.createElement(r.Z,{alignItems:"center",gap:1,pt:1},n.createElement(t.Z.Body,{color:"gray.300",m:0,p:0,fontSize:u.fontSizes[2],lineHeight:u.lineHeights[1]},n.createElement(T,{project:"payments",notes:"Heading for a section that explains what to do if the user is setting up Payments for someone else"},"Are you setting this up for someone else?")),m?n.createElement(Ct.Z,{color:"gray.300"}):n.createElement(ot.Z,{color:"gray.300"}))),variant:"contained"})},yt=()=>{const{T:m}=(0,O.Z)(),R=(0,w.WP)(),T=(0,w.YW)(),M=(0,w.Lf)();return R?n.createElement(r.Z,{flexDirection:"column",pt:6},n.createElement(r.Z,{alignItems:"center",mb:1},n.createElement(t.Z.Label,{color:"gray.100",mb:0},n.createElement(m,{project:"payments",notes:"header for a section that shows the SQSP payments account owner"},"Payments Manager")),n.createElement(at.Z,{Icon:n.createElement(Ae.Z,{height:"16px",width:"16px"}),touchableElementProps:{sx:{display:"inline",marginLeft:"3px",height:"16px"}}},n.createElement(m,{project:"payments",notes:"tooltip text that gives more context on what the payment manager is"},"The only Squarespace login that\u2019s able to:"),n.createElement("br",null),"\u2022\xA0",n.createElement(m,{project:"payments",notes:"tooltip text that gives more context on what the payment manager is"},"Act as the financial beneficiary for this business"),n.createElement("br",null),"\u2022\xA0",n.createElement(m,{project:"payments",notes:"tooltip text that gives more context on what the payment manager is"},"Connect or update bank accounts"),n.createElement("br",null),"\u2022\xA0",n.createElement(m,{project:"payments",notes:"tooltip text that gives more context on what the payment manager is"},"Respond to verification requests"),n.createElement("br",null),"\u2022\xA0",n.createElement(m,{project:"payments",notes:"tooltip text that gives more context on what the payment manager is"},"Update payments access in the future"))),n.createElement(Et.Z,{display:"flex",p:0,label:n.createElement(r.Z,{alignItems:"center",gap:1},M&&n.createElement(X.q,{url:T,initials:M}),n.createElement(t.Z.Body,{m:0},R),n.createElement(t.Z.Body,{color:"gray.300"},n.createElement(m,{project:"payments",notes:"tag shown next to the SQSP payments account owner name"},"(You)")))}),n.createElement(Pt.Z,null),n.createElement(F,null)):null};var Ge=e(374344),Bt=e(87858),It=e(543314),vt=e.n(It);const Zt=m=>n.createElement(ut.Z.Dropdown.Overlay,Ke()({},m,{placement:"bottom",focusLockIsDisabled:!0,style:{zIndex:4e4}})),Dt=m=>{let{websiteCountryCode:R}=m;const{T}=(0,O.Z)(),{getCountryName:M}=(0,He.Z)(),j=n.createElement(me.Z,{href:D.ZP.STORE_PAYMENTS},n.createElement(T,{project:"payments",notes:"a link appended to the end of an error message pointing to payment settings page"},"View all payment processors"));switch(R){case L.n.US:return n.createElement(T,{project:"payments",paymentProcessorsLink:j,notes:"a message displayed to merchants explaining why they cannot continue with onboarding."},"Your subscription plan only supports Squarespace Payments for businesses operating in the United States. {paymentProcessorsLink}");default:return n.createElement(T,{project:"payments",paymentProcessorsLink:j,country:M(R),notes:"a message displayed to merchants explaining why they cannot continue with onboarding."},"Your subscription plan only supports Squarespace Payments for businesses operating in {country}. {paymentProcessorsLink}")}},jt=m=>{let{isProcessingAccountCreation:R,selectedCountryCode:T,onSelectCountry:M,onSubmit:j,isNpaPlan:W,onClose:Y}=m;const ee=(0,Ge.c)(Bt.D.DISABLE_COUNTRY_MISMATCH_CHECK),K=(0,Ge.c)(Bt.D.PAO_TRANSFERS),{t:h,T:Q}=(0,O.Z)(),{getCountryName:H}=(0,He.Z)(),{layout:ge}=f(),{RouterLink:$,entryPoint:Se}=(0,Le.g)(),ce=ge===A.Mobile,tt=(0,w.m_)()||L.n.US,Re=T===tt,Be=Dt({websiteCountryCode:tt}),ct=ee?!1:!!(((0,w.QY)()||W)&&!Re);(0,n.useEffect)(()=>{s.ZP.trackOnboarding({action:i.a.Action.START,eventName:i.a.Onboarding.EventName.USER_STARTS_PAYMENTS_ONBOARDING,objectType:i.a.ObjectType.PAGE,onboardingFlow:i.a.Onboarding.Flow.EMBEDDED})},[]);const Te=Me=>{M(Me)},fe=()=>[...(0,q.Hq)()].map(Me=>n.createElement(ut.Z.Option,{key:Me,value:Me,px:2},H(Me))),it=()=>{if((0,w.Ex)()||Se===i.a.Onboarding.EntryPoint.CONFIG_FINANCE_MERCHANDISING||Se===i.a.Onboarding.EntryPoint.PAYMENT_SETTINGS)return null;const Me=()=>{s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_CLICKS_VIEW_ALL_PAYMENT_OPTIONS,objectType:i.a.ObjectType.BUTTON,objectIdentifier:i.a.Onboarding.ObjectIdentifier.VIEW_ALL_PAYMENT_OPTIONS}),Y()};return n.createElement($,{className:vt().routerLink,to:"/settings/selling/payments"},n.createElement(l.Z.Tertiary,{size:ce?"large":"medium",width:"100%",onClick:Me},n.createElement(Q,{project:"payments",notes:"button that links to payment settings"},"VIEW ALL PAYMENT OPTIONS")))};return n.createElement(r.Z,{flexDirection:"column"},n.createElement(t.Z.Title,{fontSize:"28px",fontWeight:500,m:0,mb:3},n.createElement(Q,{project:"payments",notes:"title for section to start onboarding"},"Let's set up your account")),n.createElement(t.Z.Subtitle,{m:0,mb:4},n.createElement(Q,{project:"payments",notes:"subtitle for section to start onboarding"},"Provide information about your business to start using Squarespace Payments.")),n.createElement(t.Z.Subtitle,{fontSize:ce?"16px":"14px",fontWeight:400,m:0,mb:ce?6:8},n.createElement(Q,{project:"payments",notes:"subtitle for section to start onboarding"},"We'll use this information to verify your identity and keep your account safe.")),n.createElement(r.Z,{flexDirection:"column"},n.createElement(t.Z.Label,{id:"country-select-label",mb:1,color:"gray.100"},n.createElement(Q,{project:"payments",notes:"label for dropdown to select country"},"country of business operation")),n.createElement(ut.Z,{"aria-labelledby":"country-select-label",onChange:Te,placeholder:h("Select country",null,{project:"payments",notes:"placeholder for country select dropdown"}),value:T,variant:"default",renderDropdown:Zt},fe()),n.createElement(pt,null),ct&&n.createElement(t.Z.Body,{fontSize:ce?"16px":"14px",fontWeight:400,color:"fg.danger",mt:6,css:{a:{"&:hover":{color:"#C32D38"}}},sx:{alignItems:"start",display:"flex"},"data-testid":"mismatched-country-error-message"},n.createElement(V.Z,{color:"inherit",sx:{mr:1,flexShrink:0,marginTop:"4px",width:"16px",height:"16px"}}),Be),K&&n.createElement(yt,null)),n.createElement(r.Z,{flexDirection:"column",sx:{gap:2}},n.createElement(l.Z.Primary,{size:ce?"large":"medium",onClick:j,disabled:T===null||R||ct,width:"100%",mt:6},R?n.createElement(o.Z,null):n.createElement(n.Fragment,null,n.createElement(Q,{project:"payments",notes:"label for a button to continue onboarding"},"continue"),n.createElement(g.Z,{color:"currentColor",sx:{ml:2}}))),n.createElement(it,null)))},Rt="guidance_engine_task__complete",Ut={detail:{taskType:"CONNECT_PAYMENT_PROCESSOR",skipPersist:!0}},zt=()=>{var m;(m=window)===null||m===void 0||(m=m.top)===null||m===void 0||m.dispatchEvent(new CustomEvent(Rt,Ut))};var Yt=e(823810),Qt=e(108e3);const Xt=m=>{let{accountId:R,onClose:T}=m;const{T:M}=(0,O.Z)(),{RouterLink:j}=(0,Le.g)(),{layout:W}=f(),Y=W===A.Mobile;(0,n.useEffect)(()=>{zt()},[]);const ee=()=>{const K={size:Y?"large":"medium",width:"100%"},h=()=>{s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_CLICKS_MANAGE_PAYMENT_METHODS,objectType:i.a.ObjectType.BUTTON,objectIdentifier:i.a.Onboarding.ObjectIdentifier.MANAGE_PAYMENT_METHODS,accountId:R||void 0})};return(0,w.Ex)()?n.createElement(l.Z.Primary,Ke()({},K,{onClick:()=>{h(),(0,Yt._)(Qt.C.POST_LOCATION_TO_CONFIG.SQSP_PAYMENTS_METHODS)}}),n.createElement(M,{project:"payments",notes:"button that links to payment methods"},"MANAGE PAYMENT METHODS")):n.createElement(j,{className:vt().routerLink,to:"/settings/selling/payments/squarespace#payment-methods"},n.createElement(l.Z.Primary,Ke()({},K,{onClick:()=>{h(),T()}}),n.createElement(M,{project:"payments",notes:"button that links to payment methods"},"MANAGE PAYMENT METHODS")))};return n.createElement(r.Z,{flexDirection:"column"},n.createElement(t.Z.Title,{fontWeight:Y?600:500,m:0,fontSize:"28px"},n.createElement(M,{project:"payments",notes:"title for success screen"},"You're connected to Squarespace Payments")),n.createElement(t.Z.Subtitle,null,n.createElement(M,{project:"payments",notes:"helpful information about state of new payments account"},"You'll be ready to accept payments as soon as we finish verifying your information. This may take a couple of minutes.")),n.createElement(t.Z.Body,{fontSize:"14px",m:0,mb:6},n.createElement(M,{project:"payments",notes:"helpful information about what will happen after creating new payments account"},"We'll send you an email when you're ready to accept payments.")),n.createElement(r.Z,{flexDirection:"column",sx:{gap:2}},n.createElement(ee,null),n.createElement(l.Z.Tertiary,{size:"medium",onClick:T},n.createElement(M,{project:"payments",notes:"button to close modal"},"CLOSE"))))},$t=m=>{let{accountId:R,onClick:T}=m;const{T:M}=(0,O.Z)();return(0,n.useEffect)(()=>{s.ZP.trackOnboarding({action:i.a.Action.VIEW,eventName:i.a.Onboarding.EventName.USER_VIEWS_ERROR_STATE,objectType:i.a.ObjectType.PAGE,objectIdentifier:i.a.Onboarding.ObjectIdentifier.SOMETHING_WENT_WRONG,accountId:R||void 0})},[]),n.createElement(r.Z,{flexDirection:"column"},n.createElement(t.Z.Title,{fontWeight:500,m:0,fontSize:"28px"},n.createElement(M,{project:"payments",notes:"title for error screen"},"Something went wrong")),n.createElement(t.Z.Subtitle,{mb:6},n.createElement(M,{project:"payments",notes:"description for error screen"},"We encountered an error while processing your information. Please try submitting it again.")),n.createElement(l.Z.Primary,{size:"medium",onClick:T},n.createElement(M,{project:"payments",notes:"button retries previous action"},"TRY AGAIN")))};var Mt=e(98872),rt=function(m){return m.TOO_MANY_REQUESTS="TOO_MANY_REQUESTS",m.UKNOWN="UNKNOWN",m}(rt||{});const Ft=m=>{let{accountId:R,isOpen:T,onCancel:M,onConfirm:j}=m;const{t:W}=(0,O.Z)(),[Y,ee]=(0,n.useState)(null),K=()=>{ee(null),M()},h=async()=>{if(ee(null),s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_RESTARTS_SETUP,objectType:i.a.ObjectType.BUTTON,objectIdentifier:i.a.Onboarding.ObjectIdentifier.RESTART_SETUP,accountId:R||void 0}),!!R)try{await ue.Z.disconnectPaymentAccount(R),j()}catch(ge){var H;((H=ge.response)===null||H===void 0?void 0:H.data.message)==="Unable to disconnect account created too recently"?ee(rt.TOO_MANY_REQUESTS):ee(rt.UKNOWN),Ie.Z.withSquarespaceScope(()=>{Ie.Z.captureException(new Error("Failed to disconnect payment account",{cause:ge}))})}},Q=W("CLOSE",null,{project:"payments",notes:"text for a button that closes the modal"});if(Y)switch(Y){case rt.TOO_MANY_REQUESTS:return n.createElement(Mt.Z,{isOpen:T,title:W("Restart available soon",null,{project:"payments",notes:"a title for a modal"}),message:W("Please wait a minute and try again.",null,{project:"payments",notes:"a message in a modal"}),cancelText:Q,onCancel:K});default:return n.createElement(Mt.Z,{isOpen:T,title:W("Something went wrong",null,{project:"payments",notes:"a title for a server error modal"}),message:W("Please wait a minute and try again.",null,{project:"payments",notes:"a message in a modal"}),cancelText:Q,onCancel:K})}return n.createElement(Mt.Z,{isOpen:T,title:W("Are you sure you want to restart?",null,{project:"payments",notes:"a title for a modal"}),message:W("This will clear any information you've already entered.",null,{project:"payments",notes:"a message in a modal"}),cancelText:Q,confirmText:W("RESTART SETUP",null,{project:"payments",notes:"text for a button that restarts the onboarding flow"}),confirmButtonColor:"red.300",onConfirm:h,onCancel:K})},De=m=>{let{accountId:R,onSuccess:T}=m;const{T:M}=(0,O.Z)(),[j,W]=(0,n.useState)(!1),{layout:Y}=f(),ee=Y===A.Mobile,K=()=>{W(!1)},h=()=>{K(),T()};return n.createElement(n.Fragment,null,n.createElement(r.Z,{alignItems:"center",justifyContent:ee?"center":"start",sx:{gap:"3px"}},n.createElement(t.Z.Caption,null,n.createElement(M,{project:"payments",notes:"header for a button to restart onboarding process"},"Need to start over?")),n.createElement(l.Z.Base,{textTransform:"none",fontSize:"12px",fontWeight:400,width:"fit-content",letterSpacing:0,sx:{textDecoration:"underline",minHeight:"16px",color:"gray.300",textTransform:"none"},onClick:()=>W(!0)},n.createElement(M,{project:"payments",notes:"label a for a button to restart onboarding process"},"Restart setup"))),n.createElement(Ft,{accountId:R,isOpen:j,onCancel:K,onConfirm:h}))};var Ve=e(251273),Cn=e(553481),yn=e(424841);let re=function(m){return m.COUNTRY_SELECT="COUNTRY_SELECT",m.EMBEDDED_ONBOARDING="EMBEDDED_ONBOARDING",m.SUCCESS="SUCCESS",m.GENERAL_ERROR="GENERAL_ERROR",m}({});const Ee=(0,se.jx)(),an="ss-payments-account-creation-timestamp",qt=m=>{var R;let{entryPoint:T,accountIdFromPaymentSettings:M,paymentAccount:j,onboardingApiType:W,isOpen:Y,onClose:ee,onCreateAccount:K}=m;const{T:h}=(0,O.Z)(),Q=(j==null?void 0:j.accountStatus)===ke.p_.ONBOARDING_IN_PROGRESS,H=j!==null&&!Q,ge=j==null?void 0:j.countryCode,[$,Se]=(0,n.useState)(re.COUNTRY_SELECT),[ce,tt]=(0,n.useState)(!1),[Re,Be]=(0,n.useState)(null),[ft,ct]=(0,n.useState)(!1),[Te,fe]=(0,n.useState)(M||null),{layout:it}=Z({maxWidthMobile:850,maxWidthTablet:1024}),Me=it===A.Mobile,nt=!!Te&&Q&&$===re.EMBEDDED_ONBOARDING,Nt=(0,w.Ws)()??"",_t=(0,w.m_)()??L.n.US,{isNpaPlan:xt}=(0,yn.Z)(Nt,_t,{enabled:ce}),gt=(0,Ve.Z)(),Lt=(R=gt.data)===null||R===void 0?void 0:R.country,kt=(0,q.M3)(),te=(0,Cn.Z)(Nt,Re,{isPriorityCountryCodeLoaded:ce});(0,n.useEffect)(()=>{Te&&$===re.COUNTRY_SELECT&&Se(re.EMBEDDED_ONBOARDING)},[Te,$]),(0,n.useEffect)(()=>{if(!ce){if(ge){Be(ge),tt(!0);return}if(gt.isInitialRequestCompleted){const Ze=Lt??kt??L.n.US;Be(Ze),tt(!0)}}},[gt.isInitialRequestCompleted,ce,kt,ge,Lt]);const lt=()=>{const Ze={[re.COUNTRY_SELECT]:i.a.Onboarding.FormStage.SELECT_COUNTRY,[re.EMBEDDED_ONBOARDING]:i.a.Onboarding.FormStage.STRIPE_FORM,[re.SUCCESS]:i.a.Onboarding.FormStage.COMPLETE,[re.GENERAL_ERROR]:i.a.Onboarding.FormStage.ERROR};s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_CLOSES_ONBOARDING_FORM,objectType:i.a.ObjectType.BUTTON,objectIdentifier:$===re.EMBEDDED_ONBOARDING?i.a.Onboarding.ObjectIdentifier.SAVE_AND_EXIT:i.a.Onboarding.ObjectIdentifier.EXIT,formStage:Ze[$],accountId:Te||void 0}),ee()},Pe=()=>{H?(s.ZP.trackOnboarding({action:i.a.Action.CLICK,eventName:i.a.Onboarding.EventName.USER_SAVES_EDITS_ON_ONBOARDING_FORM,objectType:i.a.ObjectType.BUTTON,objectIdentifier:i.a.Onboarding.ObjectIdentifier.SAVE_EDITS,onboardingFlow:i.a.Onboarding.Flow.EMBEDDED,accountId:Te||void 0}),ee()):(Se(re.SUCCESS),localStorage.removeItem(an))},Wt=async()=>{fe(null),Se(re.COUNTRY_SELECT)},sn=async()=>{if(s.ZP.trackOnboarding({action:i.a.Action.SELECT,eventName:i.a.Onboarding.EventName.USER_INPUTS_COUNTRY_OF_OPERATION,objectType:i.a.ObjectType.DROPDOWN,objectIdentifier:Re||void 0}),Re){ct(!0);try{const Ze=await K(Re);localStorage.setItem(an,Date.now().toString()),Ze&&fe(Ze),ct(!1),Se(re.EMBEDDED_ONBOARDING)}catch(Ze){ct(!1),Se(re.GENERAL_ERROR),Ie.Z.withSquarespaceScope(Kt=>{Kt.setTag("onboarding_type",ke.HZ.EMBEDDED_ONBOARDING),Kt.setTag("is_impersonated",Ee),Ie.Z.captureException(new Error("Failed to create payment account with EmbeddedOnboarding",{cause:Ze}))})}}},Fe=()=>{if(!ce)return n.createElement(o.Z,{m:"auto","data-testid":"preselected-country-loading-indicator"});switch($){case re.COUNTRY_SELECT:return n.createElement(jt,{isProcessingAccountCreation:ft,selectedCountryCode:Re,onSelectCountry:Be,onSubmit:sn,isNpaPlan:xt,onClose:lt});case re.EMBEDDED_ONBOARDING:return n.createElement(r.Z,{flexDirection:"column",sx:{gap:3},"data-testid":"embedded-onboarding-container"},n.createElement(We,{accountId:Te,onboardingApiType:W,onExit:Pe,isEditingExistingAccount:H}),nt&&Me&&n.createElement(De,{accountId:Te,onSuccess:Wt}));case re.SUCCESS:return n.createElement(Xt,{accountId:Te,onClose:lt});case re.GENERAL_ERROR:return n.createElement($t,{accountId:Te,onClick:sn});default:break}},fn=()=>{const Ze=n.createElement(l.Z.Tertiary,{onClick:lt},$===re.EMBEDDED_ONBOARDING&&!Me?n.createElement(h,{project:"payments",notes:"label for a button to save onboarding progress"},"CLOSE & SAVE FOR LATER"):n.createElement(h,{project:"payments",notes:"button to close moda"},"CLOSE")),Kt=((j==null?void 0:j.accountRequirements.length)||0)>0,gn=()=>T===i.a.Onboarding.EntryPoint.DONATIONS?x.WD.DONATIONS:T===i.a.Onboarding.EntryPoint.INVOICE_DASHBOARD||T===i.a.Onboarding.EntryPoint.INVOICING_BANNER?x.WD.INVOICING:x.WD.DEFAULT,p=n.createElement(Oe,{entryPoint:gn(),isEditingExistingAccount:H,isNpaPlan:xt,onRestartSetup:Wt,hasRequirementsDue:Kt,showRestartSetupButton:nt,selectedCountryCode:Re,restartSetupButton:nt&&!Me?n.createElement(De,{accountId:Te,onSuccess:Wt}):null,pricingRatesForSelectedCountry:te},Ze);if(it===A.Mobile)return n.createElement(a.Z.Dialog,{overflow:"hidden"},n.createElement(r.Z,{flexDirection:"column",width:"fullwidth",height:"100vh",overflow:"auto"},$===re.EMBEDDED_ONBOARDING?p:n.createElement(c.Z,{p:3,pb:1,alignSelf:"start"},Ze),n.createElement(r.Z,{p:"3",pt:$===re.EMBEDDED_ONBOARDING?"5px":3},n.createElement(r.Z,{flexDirection:"column",width:"100%",sx:{gap:2}},Fe(),n.createElement(r.Z,{display:"block",minHeight:"33px"})))));const S=$===re.EMBEDDED_ONBOARDING?"52px":"85px";return it===A.Tablet?n.createElement(a.Z.Dialog,{overflow:"hidden"},n.createElement(r.Z,{height:"sizes.900"},p,n.createElement(r.Z,{justifyContent:"center",width:"867px",pt:S,pb:"85px",overflowY:"auto"},n.createElement(r.Z,{flexDirection:"column",width:"420px",sx:{gap:2}},Fe(),n.createElement(r.Z,{display:"block",minHeight:"33px"}))))):n.createElement(a.Z.Dialog,{overflow:"hidden"},n.createElement(r.Z,{height:"sizes.900",maxHeight:"100vh"},p,n.createElement(r.Z,{justifyContent:"center",width:"867px",pt:S,pb:"85px",overflowY:"auto"},n.createElement(r.Z,{flexDirection:"column",width:"420px",sx:{gap:2}},Fe(),n.createElement(r.Z,{display:"block",minHeight:"33px"})))))};return n.createElement(n.Fragment,null,n.createElement(a.Z.Transition,null,Y&&n.createElement(k.Provider,{value:{layout:it}},n.createElement(a.Z,{"data-testid":"embedded-onboarding-modal",onRequestClose:lt,closeOnEsc:!1,closeOnOverlayClicked:!1,closeOnBackButton:!1},n.createElement(a.Z.Overlay,null),n.createElement(a.Z.Position,{position:"center"},fn())))))}},730062:function(_,C,e){e.d(C,{Z:()=>ve});var o=e(174161),a=e(719181),r=e(116822),l=e(148469),c=e(32819),n=e(11856),t=e(313695);const v=(0,n.jx)(),D=x=>{let{plaidApiType:me=c.zA.BANK_ACCOUNT_SESSION,accountId:de,plaidLinkToken:w,onDestroyPlaidLinkToken:q,onRequestSuccess:L,lockFocus:Ce,unlockFocus:xe}=x;const oe=(0,o.useCallback)(async(Oe,ye)=>{if(!de){q();return}if(me===c.zA.ENTER_MICRODEPOSIT_VERIFICATION_CODE){if(!w){console.log("Plaid link token was not available"),q();return}try{await l.Z.confirmBankAccountSession(de,w),L&&L()}catch(ue){t.Z.withSquarespaceScope(se=>{se.setTag("is_impersonated",v),t.Z.captureException(new Error("Error confirming bank account session",{cause:ue}))})}}if(me===c.zA.BANK_ACCOUNT_SESSION&&Oe)try{await l.Z.createBankAccount(de,{plaid:{publicToken:Oe,status:ye.accounts[0].verification_status}}),L&&L()}catch(ue){t.Z.withSquarespaceScope(se=>{se.setTag("is_impersonated",v),t.Z.captureException(new Error("Error creating plaid bank account",{cause:ue}))})}if(me===c.zA.IDENTITY_VERIFICATION_SESSION){try{await r.Z.updateAccountIdentityVerification(de,{linkSessionId:ye.link_session_id})}catch(ue){t.Z.withSquarespaceScope(se=>{se.setTag("is_impersonated",v),t.Z.captureException(new Error("Error storing identity verification results",{cause:ue}))})}L&&L()}q()},[de,me,q,w,L]),E=(0,o.useCallback)((Oe,ye)=>{console.log(Oe,ye),q(),Ce&&Ce()},[Ce,q]),B={token:w,onSuccess:oe,onExit:E},{open:ie,ready:he}=(0,a.usePlaidLink)(B);(0,o.useEffect)(()=>{he&&w&&(xe&&xe(),ie())},[he,ie,w,xe])};var u=e(911394),U=e(766400),A=e(418698),y=e(513738),Z=e(825059),k=e(574782),f=e(98872),g=e(538312),s=e(986921),i=e(328909),O=e(124393),z=e(870740),G=e(623562);const N=(0,n.jx)(),ve=x=>{var me,de;let{accountIdFromProps:w,children:q,loadingIcon:L,plaidApiType:Ce,lockFocus:xe,unlockFocus:oe,onModalOpen:E,onModalClose:B,initiatePlaidSession:ie,notifications:he}=x;const{T:Oe,t:ye}=(0,z.Z)(),[ue,se]=(0,o.useState)(null),[Tt,_e]=(0,o.useState)(!1),[bt,Ie]=(0,o.useState)(null),[ke,Xe]=(0,o.useState)(!1),[At,We]=(0,o.useState)(!1),$e=(0,o.useRef)(null),Ke=(0,u.Z)({enabled:!w}),V=(()=>{var X;if(w)return w;if((X=Ke.data)!==null&&X!==void 0&&X.sqspPaymentsSettings.accountId){var F;return(F=Ke.data)===null||F===void 0?void 0:F.sqspPaymentsSettings.accountId}})(),Le=(0,i.Z)(V,{enabled:!!V&&he===void 0}),He=(0,s.Z)(V||"",{enabled:!!V}),Ue=(0,n.KA)((me=He.data)===null||me===void 0?void 0:me.accountOwnerId),Je=(0,k.ht)(),qe=(0,o.useCallback)(async()=>{if(V){Xe(!0);try{let X;if(Ce===c.zA.BANK_ACCOUNT_SESSION)try{const{status:F}=await l.Z.fetchBankAccountOnboardingSession(V);F===c.T5.IN_PROGRESS?We(!0):{linkToken:X}=await l.Z.createBankAccountSession(V,Je)}catch{({linkToken:X}=await l.Z.createBankAccountSession(V,Je))}else Ce===c.zA.IDENTITY_VERIFICATION_SESSION?{linkToken:X}=await r.Z.createIdentityVerificationSession(V):Ce===c.zA.ENTER_MICRODEPOSIT_VERIFICATION_CODE&&({linkToken:X}=await l.Z.resumeBankAccountSession(V,Je));X&&(Ie(X),E&&E())}catch(X){t.Z.withSquarespaceScope(F=>{F.setTag("is_impersonated",N),F.setTag("is_sqspp_account_owner",Ue),t.Z.captureException(new Error("Error creating PlaidLinkToken",{cause:X}))})}Xe(!1)}},[V,Ce,Je,E,Ue]);(0,o.useEffect)(()=>{ie&&qe()},[ie,qe]);const pt=(0,o.useCallback)(()=>{if(!V)return;(0,k._S)(Le.data||[],[Z.r.CONNECT_BANK,Z.r.CONNECT_BANK_EXEMPT_FROM_INITIAL_HOLD,Z.r.UPDATE_BANK_ACCOUNT]).forEach(F=>(0,k.gt)(V,F.id))},[V,Le.data]),et=(0,o.useCallback)(()=>{if(!V)return;(0,k._S)(Le.data||[],[Z.r.PAST_DUE_IDENTITY_VERIFICATION]).forEach(F=>{(0,k.gt)(V,F.id)})},[V,Le.data]),Et=(0,o.useCallback)(()=>{if(!V)return;(0,k._S)(Le.data||[],[Z.r.BANK_ACCOUNT_ONBOARDING_PENDING_MANUAL_MICRODEPOSIT]).forEach(F=>(0,k.gt)(V,F.id))},[V,Le.data]);D({plaidApiType:Ce,accountId:V,plaidLinkToken:bt,onDestroyPlaidLinkToken:()=>{Ie(null),B&&B()},onRequestSuccess:{[c.zA.BANK_ACCOUNT_SESSION]:pt,[c.zA.ENTER_MICRODEPOSIT_VERIFICATION_CODE]:Et,[c.zA.IDENTITY_VERIFICATION_SESSION]:et}[Ce],lockFocus:xe,unlockFocus:oe});const ot=async()=>{try{var X;await l.Z.cancelInProgressBankAccountOnboardingSession(V),(X=$e.current)===null||X===void 0||X.show({content:o.createElement(g.Z.Body,{m:0},o.createElement(Oe,{project:"payments",notes:"a success message after cancelling bank verification"},"Successfully cancelled bank verification"))})}catch(yt){var F;(F=$e.current)===null||F===void 0||F.show({content:o.createElement(g.Z.Body,{m:0},o.createElement(Oe,{project:"payments",notes:"an error message when unable to cancel bank verification"},"Error: Unable to cancel bank verification"))}),console.error(yt)}We(!1)},Ae=((de=He.data)===null||de===void 0?void 0:de.accountStatus)===O.p_.SUSPENDED,at=()=>{var X;if(!q)return null;const F=()=>L===null?o.createElement("span",{style:{opacity:.8}},q.props.children):L||o.createElement(U.Z,{size:0,color:"dark"});return o.createElement(G.Z.PaymentAccountOwner,{accountOwnerId:(X=He.data)===null||X===void 0?void 0:X.accountOwnerId},o.cloneElement(q,{onClick:qe,children:ke?F():q.props.children,disabled:!V||ke||Ae&&Ce!==c.zA.IDENTITY_VERIFICATION_SESSION,ref:se}))};return o.createElement(o.Fragment,null,o.createElement(A.Z,{placement:"top",anchor:ue,isOpen:Tt&&Ae&&Ce===c.zA.BANK_ACCOUNT_SESSION,mountAt:document.body},o.createElement(Oe,{project:"payments",notes:"tooltip explaining to a user why a button is disabled"},"Your Squarespace Payments account is suspended. Contact Support for help.")),o.createElement("span",{onMouseEnter:()=>_e(!0),onMouseLeave:()=>_e(!1)},at()),o.createElement(f.Z,{isOpen:At,title:ye("We're still verifying your recently connected bank account",null,{project:"payments",notes:"a title for a modal"}),message:ye("You'll need to cancel your pending bank verification in order to edit your payout account. Canceling verification will remove your pending bank connection from Squarespace Payments and keep your current bank as the default payout bank account.",null,{project:"payments",notes:"a message in a modal"}),cancelText:ye("GO BACK",null,{project:"payments",notes:"text for a button that closes the modal"}),confirmText:ye("CANCEL VERIFICATION",null,{project:"payments",notes:"text for a button that cancels bank verification"}),onConfirm:ot,onCancel:()=>We(!1)}),o.createElement(y.Z.Container,{ref:$e,mountAt:document.body}))}},678140:function(_,C,e){e.d(C,{Z:()=>U});var o=e(913170),a=e.n(o),r=e(191441),l=e(174161),c=e(815517),n=e(559409),t=e.n(n),v=e(574782);const d={[t().PAID]:r.CheckoutTypes.BILLING_PLAN_SWITCH,[t().EXPIRED]:r.CheckoutTypes.NEW_PURCHASE,[t().PASTDUE]:r.CheckoutTypes.NEW_PURCHASE,[t().TRIAL]:r.CheckoutTypes.NEW_PURCHASE,[t().BETA]:r.CheckoutTypes.NEW_PURCHASE,[t().REMOVED]:r.CheckoutTypes.NEW_PURCHASE,[t().INTERNAL]:r.CheckoutTypes.NEW_PURCHASE,[t().COMPED]:r.CheckoutTypes.NEW_PURCHASE,[t().V5_LINKED]:r.CheckoutTypes.NEW_PURCHASE,[t().ACTIVE_PARKING_PAGE]:r.CheckoutTypes.NEW_PURCHASE,[t().RESOLD]:r.CheckoutTypes.NEW_PURCHASE,[t().RESOLD_GRACE_PERIOD]:r.CheckoutTypes.NEW_PURCHASE,[t().ENTERPRISE]:r.CheckoutTypes.NEW_PURCHASE,[t().CONTAINER]:r.CheckoutTypes.NEW_PURCHASE},D=A=>{if(A)return A;const y=(0,v.dg)();return!y||!Object.hasOwn(d,y)?r.CheckoutTypes.NEW_PURCHASE:d[y]},U=A=>{let{planType:y=a().WEBSITE,checkoutType:Z,children:k}=A;const f=D(Z);(0,l.useEffect)(()=>{const s=O=>{let{detail:{purchaseCompleted:z}}=O;z&&window.location.assign(`${window.location.origin}${c.ZP.STORE_PAYMENTS}`)},i=new r.UCMessageEventEmitter(r.UCEventType.CLOSE_START);return i.subscribe(s),()=>{i.unsubscribe()}},[]);const g=()=>{(0,r.OpenUC)(y,f)};return l.cloneElement(k,{onClick:g,children:k.props.children})}},138946:function(_,C,e){e.d(C,{Z:()=>d});var o=e(174161),a=e(98872),r=e(815517),l=e(124299),c=e(870740),n=e(374344),t=e(87858);const d=D=>{let{isModalOpen:u,onCancel:U}=D;const{t:A,T:y}=(0,c.Z)();return(0,n.c)(t.D.PAO_TRANSFERS)?o.createElement(a.Z,{isOpen:u,title:A("Payments manager permissions required",null,{project:"payments",notes:"a title for a modal gating an action to payment managers"}),message:o.createElement(y,{project:"payments",notes:"explains why the action is gated"},"Only the Squarespace Payments manager can take this action. If you believe you should have access, ask the current payments manager to transfer ownership to you."),confirmText:A("Learn more",null,{project:"payments",notes:"text for a button to learn more about transferring payments manager permissions"}),onConfirm:()=>{window.open(r.ZP.PAO_TRANSFER_OWNERSHIP,"_blank")},onCancel:U}):o.createElement(a.Z,{isOpen:u,title:A("Account ownership required",null,{project:"payments",notes:"a title for a modal gating an action to account owners"}),message:o.createElement(y,{project:"payments",notes:"explains why the action is gated",learnMoreLink:o.createElement(l.Z,{textStyle:"body",color:"#0E0E0E",href:r.ZP.MANAGING_PAYMENTS_ACCOUNT},o.createElement(y,{project:"payments",notes:"a link to a help article"},"Learn more"))},"Only the Squarespace Payments account owner can take this action while logged into their account. They can also transfer ownership to another admin by contacting Customer Support. {learnMoreLink}"),confirmText:A("contact support",null,{project:"payments",notes:"text for a button to contact support"}),onConfirm:()=>{window.open(r.ZP.CONTACT_SUPPORT,"_blank")},onCancel:U})}},623562:function(_,C,e){e.d(C,{Z:()=>n});var o=e(174161),a=e(11856),r=e(138946);const n={PaymentAccountOwner:t=>{let{accountOwnerId:v,children:d}=t;const[D,u]=(0,o.useState)(!1),U=(0,a.KA)(v),A=y=>{if(!U){u(!0);return}d.props.onClick&&d.props.onClick(y)};return o.createElement(o.Fragment,null,o.cloneElement(d,{onClick:A}),o.createElement(r.Z,{isModalOpen:D,onCancel:()=>u(!1)}))}}},98872:function(_,C,e){e.d(C,{Z:()=>n});var o=e(174161),a=e(362187),r=e(685763),l=e(870740);const n=t=>{let{cancelText:v,confirmText:d,isOpen:D,message:u,position:U="center",title:A,onCancel:y,onConfirm:Z,confirmBtnVariant:k="tertiary",confirmButtonColor:f,testId:g="alert-dialog"}=t;const{t:s}=(0,l.Z)(),i=G=>{let{onRequestClose:N}=G;return o.createElement(a.Z.Button,{"data-testid":"cancel-btn",key:"close",onClick:N},v||s("Cancel",null,{project:"payments"}))},z=Z?[i,()=>o.createElement(a.Z.Button,{"data-testid":"confirm-btn",key:"confirm",onClick:Z,variant:k,sx:{color:f}},d||s("Confirm",null,{project:"payments"}))]:[i];return o.createElement(r.Z.Transition,null,D&&o.createElement(r.Z,{onRequestClose:y,"data-testid":g},o.createElement(r.Z.Overlay,null),o.createElement(r.Z.Position,{position:U},o.createElement(a.Z,{title:A,message:u,buttons:z}))))}},151543:function(_,C,e){e.d(C,{q:()=>l});var o=e(174161),a=e(870740),r=e(352635);const l=c=>{let{url:n,initials:t,size:v="24px"}=c;const{t:d}=(0,a.Z)();return n?o.createElement("img",{src:n,alt:d("Your avatar",null,{project:"payments",notes:"Alt text for the avatar image"}),style:{width:v,height:v,borderRadius:"50%"}}):o.createElement("div",{style:{width:v,height:v,color:r.colors.white,borderRadius:"50%",boxSizing:"border-box",backgroundColor:r.colors.gray[400],fontSize:"8px"}},o.createElement("span",{style:{display:"block",width:"100%",height:"100%",lineHeight:v,textAlign:"center"}},t))}},407628:function(_,C,e){e.d(C,{Z:()=>n});var o=e(160553),a=e.n(o),r=e(516865),l=e(174161);const n=t=>{let{onClick:v,children:d,...D}=t;return l.createElement(r.Z.Base,a()({onClick:v,letterSpacing:0,sx:{textTransform:"none",textDecoration:"underline",minHeight:0}},D),d)}},124299:function(_,C,e){e.d(C,{Z:()=>n});var o=e(160553),a=e.n(o),r=e(292165),l=e(174161);const n=t=>{let{color:v,href:d,children:D,...u}=t;return!d||d==="/"?null:l.createElement(r.Z,a()({href:d,target:"_blank",rel:"noopener noreferrer"},u,{css:{color:v,"&:visited":{color:v}}}),D)}},108e3:function(_,C,e){e.d(C,{C:()=>o,g:()=>a});const o={BASE_API_PATH:"/api/finance/v1/",POST_LOCATION_TO_CONFIG:{COMMERCE:"/commerce",STORE_PAYMENTS_SETTINGS:"/settings/selling/payments",SQSP_PAYMENTS_METHODS:"/settings/selling/payments/squarespace#payment-methods"}},a={enabled:!0,pollingIntervalInMs:0}},453394:function(_,C,e){e.d(C,{z:()=>o});const o={maxWidth800:"@media only screen and (max-width: 800px)",maxWidth900:"@media only screen and (max-width: 900px)",maxWidth1020:"@media only screen and (max-width: 1020px)",maxWidth1105:"@media only screen and (max-width: 1105px)"}},815517:function(_,C,e){e.d(C,{T:()=>o,ZP:()=>l,nH:()=>r});const o="/finance",a={FINANCE_DASHBOARD:{ROOT:o,PAYMENTS:`${o}/payments`,PAYOUTS:`${o}/payouts`,RESERVES:`${o}/reserves`},LEARN_MORE:{CONNECTING_SQSP_PAYMENTS:"https://support.squarespace.com/hc/articles/19848492736269 ",MIGRATING_TO_SQSP_PAYMENTS:"https://support.squarespace.com/hc/articles/25046619549965",PAYOUTS_PAUSED:"https://support.squarespace.com/hc/articles/19848508230285",RESTRICTED:"/",REQUEST_APPEAL:"https://support.squarespace.com/hc/requests/new#choose-topic",ADDITIONAL_FEES:"https://support.squarespace.com/hc/articles/27853679334157",BANK_ONBOARDING:"https://support.squarespace.com/hc/articles/23128413582221",DISPUTED_PAYMENT:"/",EMBEDDED_ONBOARDING:"https://support.squarespace.com/hc/articles/19848492736269-Getting-started-with-Squarespace-Payments",UPLOAD_BANK_STATEMENT:"https://support.squarespace.com/hc/articles/25115829211405-Verifying-your-business-for-Squarespace-Payments",BANK_DEBIT_AUTHORIZATION:"https://www.squarespace.com/debit-bank-account-authorization",NPA_RATES:"https://support.squarespace.com/hc/articles/29215717722637",PROMOTIONAL_PRICING:"https://www.squarespace.com/s/sqsp-promotion-terms-and-conditions.pdf"},SQUARESPACE_CAPITAL:{GETTING_STARTED:"https://support.squarespace.com/hc/articles/33438575023117",CONTACT_SUPPORT:"https://support.squarespace.com/hc/requests/new?ticket_form_id=33282463246477",FAQ:"https://support.squarespace.com/hc/articles/33438570317709",MIGRATION_FAQ:"https://support.squarespace.com/hc/en-us/articles/33438570317709-Squarespace-Capital-FAQ"},CONTACT_SUPPORT:"https://support.squarespace.com/hc/requests/new",PAYMENT_METHODS:"/config/commerce/payments",DEFAULT_HOP_URL:"/",STORE_PAYMENTS:"/config/settings/selling/payments",ACCOUNT_SETTINGS:"/config/settings/payments/squarespace",PLAN_SELECTOR:"/config/settings/billing/subscriptions/website",MANAGING_PAYMENTS_ACCOUNT:"https://support.squarespace.com/hc/articles/19848508230285-Managing-your-Squarespace-Payments-account#toc-squarespace-payments-account-transfers",PAO_TRANSFER_OWNERSHIP:"https://support.squarespace.com/hc/articles/38138069267597",SQSP_PAYMENTS_IDV_KB:"https://support.squarespace.com/hc/articles/37647666413069"},r="initialSignup",l=a},251273:function(_,C,e){e.d(C,{Z:()=>c});var o=e(116822),a=e(659765),r=e(541643);const c=n=>(0,r.Z)({apiMethod:o.Z.fetchAutoOnboardingEligibility,cacheId:a.oi.AutoOnboardingEligibility,config:n})},758487:function(_,C,e){e.d(C,{Z:()=>c});var o=e(541643),a=e(148469),r=e(659765);const c=(n,t)=>(0,o.Z)({apiMethod:a.Z.fetchConnectedBankAccounts,apiArgs:[n],cacheId:r.oi.ConnectedBankAccounts,config:t})},541643:function(_,C,e){e.d(C,{Z:()=>A});var o=e(174161),a=e(659765),r=e(108e3);const l=3e4,c=!1,n=new Map,t=y=>n.get(y)||{},v=(y,Z)=>{try{return JSON.stringify(y||[])}catch(k){console.error("Failed to stringify apiArgs for: ",Z,k)}return"[]"},d=y=>{if(!n.has(y))return Date.now();const Z=n.get(y);return Date.now()-((Z==null?void 0:Z.lastFetchTimestampInMs)||0)},D=y=>y!=null&&y.length?y==null?void 0:y.some(Z=>Z==null||Z===""):!1,u=(y,Z)=>{const k=D(Z);return y&&k?!1:y},A=y=>{let{apiMethod:Z,apiArgs:k,cacheId:f,config:g}=y;const s=g||{},{pollingIntervalInMs:i}={...r.g,...s},O=!!i,z=Object.hasOwn(s,"enabled")?!!(g!=null&&g.enabled):!!r.g.enabled,G=(0,o.useMemo)(()=>k,[v(k,f)]),N=u(z,G),[je,ve]=(0,o.useState)({data:null,status:a.eE.IDLE,error:null,isLoading:N!==!1,isInitialRequestCompleted:!1,isEnabled:N,refetch:()=>{}}),x=(0,o.useMemo)(()=>`${f}_${v(G,f)}`,[f,G]),me=(0,o.useCallback)(oe=>{const E=Date.now();x&&n.set(x,{data:oe,lastFetchTimestampInMs:E,inflightRequest:null}),ve(B=>({...B,data:oe,status:a.eE.SUCCEEDED,error:null,isLoading:!1,isInitialRequestCompleted:!0,lastFetchTimestampInMs:E}))},[x]),de=(0,o.useCallback)(oe=>{ve(E=>({...E,data:null,status:a.eE.FAILED,error:oe,isLoading:!1,isInitialRequestCompleted:!0,lastFetchTimestampInMs:Date.now()})),x&&n.set(x,{...t(x),inflightRequest:null})},[x]),w=(0,o.useCallback)(()=>{const oe=n.get(x),B=d(x)>=l;return(oe==null?void 0:oe.data)&&!B},[x]),q=(0,o.useCallback)(async function(){let{useCache:oe=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(N){if(oe&&n.has(x)&&!c){const E=t(x);if(E!=null&&E.inflightRequest){E.inflightRequest.then(me).catch(de);return}if(w()){ve(B=>({...B,data:E==null?void 0:E.data,status:a.eE.SUCCEEDED,error:null,isLoading:!1,isInitialRequestCompleted:!0,lastFetchTimestampInMs:Date.now()}));return}}ve(E=>({...E,error:null,status:a.eE.FETCHING,isLoading:!0}));try{const E=Z(...G||[]);x&&n.set(x,{...t(x),inflightRequest:E});const B=await E;me(B)}catch(E){de(E)}}},[G,Z,x,w,de,me,N]);(0,o.useEffect)(()=>{q()},[x,q,N]);const L=(0,o.useCallback)(()=>setInterval(()=>q({useCache:!1}),i),[q,i]);(0,o.useEffect)(()=>{if(!N)return;let oe;O&&(oe=L());const E=()=>{document.visibilityState==="visible"&&N?(q({useCache:!O}),O&&(oe=L())):clearInterval(oe)};return document.addEventListener("visibilitychange",E),()=>{clearInterval(oe),document.removeEventListener("visibilitychange",E)}},[q,N,O,L]);const Ce=(0,o.useCallback)(()=>{q({useCache:!1})},[q]),xe=t(x);return{...je,data:w()&&!c?xe==null?void 0:xe.data:je.data,isEnabled:N,refetch:Ce}}},394279:function(_,C,e){e.d(C,{Z:()=>D});var o=e(456903),a=e(574782);const r="/api/finance/v1/pricing",c={fetchDefaultRateSheetByCountryCode:async u=>{const U=(0,a.QY)(),{data:A}=await o.default.get(`${r}/rate-sheet-sets/${u}/default`,{params:{isNpaEligible:U}});return{rateSheet:A}}};var n=e(541895),t=e(659765),v=e(541643);const D=(u,U)=>(0,v.Z)({apiMethod:c.fetchDefaultRateSheetByCountryCode,apiArgs:[u??n.n.US],cacheId:t.oi.DefaultRateSheet,config:U})},986921:function(_,C,e){e.d(C,{Z:()=>c});var o=e(116822),a=e(659765),r=e(541643);const c=(n,t)=>(0,r.Z)({apiMethod:o.Z.fetchPaymentAccount,apiArgs:[n],cacheId:a.oi.PaymentAccount,config:t})},328909:function(_,C,e){e.d(C,{Z:()=>c});var o=e(116822),a=e(659765),r=e(541643);const c=(n,t)=>(0,r.Z)({apiMethod:o.Z.fetchPaymentAccountNotifications,apiArgs:[n],cacheId:a.oi.PaymentAccountNotifications,config:t})},911394:function(_,C,e){e.d(C,{Z:()=>n});var o=e(671167),a=e(108e3),r=e(659765),l=e(541643);const n=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.g;return(0,l.Z)({apiMethod:o.Z.fetchPaymentSettings,cacheId:r.oi.PaymentSettings,config:t})}},553481:function(_,C,e){e.d(C,{Z:()=>v});var o=e(174161),a=e(116822),r=e(659765),l=e(541643),c=e(394279),n=e(911394);const v=(d,D,u)=>{var U,A,y,Z;const[k,f]=(0,o.useState)({rates:null,promotionalRates:null,promoApplied:!1,promoExpiresOn:null,requestsComplete:!1}),g=(0,n.Z)(),s=(U=g.data)===null||U===void 0?void 0:U.sqspPaymentsSettings.accountId,i=(0,l.Z)({apiMethod:a.Z.fetchAccountRates,apiArgs:[s,D],cacheId:r.oi.AccountRates,config:{enabled:u.isPriorityCountryCodeLoaded}}),O=(0,l.Z)({apiMethod:a.Z.fetchPricingRates,apiArgs:[d,D],cacheId:r.oi.PricingRates,config:{enabled:u.isPriorityCountryCodeLoaded&&(g.isInitialRequestCompleted&&!s||i.isInitialRequestCompleted&&!((A=i.data)!==null&&A!==void 0&&A.rateSheet))}}),z=(0,c.Z)(D,{enabled:O.isInitialRequestCompleted&&!((y=O.data)!==null&&y!==void 0&&y.rateSheet)}),G=N=>{f({rates:N.rateSheet,promotionalRates:N.promoRateSheet,promoApplied:!!N.promoRateSheet,promoExpiresOn:N.promoExpiresOn,requestsComplete:!0})};return(0,o.useEffect)(()=>{var N;(N=i.data)!==null&&N!==void 0&&N.rateSheet&&G(i.data)},[i.data]),(0,o.useEffect)(()=>{var N;(N=O.data)!==null&&N!==void 0&&N.rateSheet&&G(O.data)},[O.data]),(0,o.useEffect)(()=>{if(z.isInitialRequestCompleted){var N;G({rateSheet:(N=z.data)===null||N===void 0?void 0:N.rateSheet,promoRateSheet:null,promoExpiresOn:null})}},[(Z=z.data)===null||Z===void 0?void 0:Z.rateSheet,z.isInitialRequestCompleted]),k}},424841:function(_,C,e){e.d(C,{Z:()=>n});var o=e(116822),a=e(659765),r=e(574782),l=e(541643);const n=function(){var t;let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,r.Ws)(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,r.m_)(),D=arguments.length>2?arguments[2]:void 0;const u=(0,l.Z)({apiMethod:o.Z.fetchWebsiteRateSheet,apiArgs:[v,d],cacheId:a.oi.WebsiteRateSheet,config:D}),U=u==null||(t=u.data)===null||t===void 0?void 0:t.rateSheet;return{isNpaPlan:!!U,websiteBasedRateSheet:U,...u}}},481017:function(_,C,e){e.d(C,{t:()=>a});var o=e(174161);const a=()=>o.createElement("svg",{width:"292",height:"40",viewBox:"0 0 292 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9887 11.7859L21.6866 13.494L10.7926 24.4531C9.60029 25.6526 8.01177 26.314 6.32045 26.314C4.62951 26.314 3.04176 25.653 1.84941 24.4535C-0.616469 21.9733 -0.616469 17.9366 1.84941 15.456L11.2491 6L12.947 7.70767L3.54692 17.1636C2.01715 18.7026 2.01715 21.2069 3.54692 22.7458C5.0763 24.2844 7.56537 24.284 9.09514 22.7451L19.9887 11.7859ZM18.0226 9.84812L7.18002 20.8235L5.4905 19.1129L16.3331 8.13792C17.5199 6.93626 19.1005 6.27468 20.7835 6.27429C22.4672 6.27429 24.0475 6.93587 25.2343 8.13714L26.079 8.99224L24.3891 10.7028L23.5443 9.84773C22.8085 9.10205 21.8283 8.69241 20.7843 8.69241C19.7395 8.69241 18.7593 9.10244 18.0226 9.84812ZM32.4645 15.5463C31.2726 14.3468 29.6848 13.6862 27.9931 13.6862C26.3018 13.6865 24.7132 14.3472 23.5209 15.5471L12.6277 26.506L14.3248 28.2141L25.2188 17.2548C26.7489 15.7158 29.2376 15.7162 30.767 17.2544C31.5068 17.9986 31.9142 18.9893 31.9142 20.045C31.9142 21.101 31.5068 22.0921 30.767 22.8363L21.3673 32.2924L23.0652 34.0002L32.4645 24.5444C34.9308 22.0637 34.9308 18.027 32.4645 15.5463ZM16.2914 30.1516L27.1338 19.1763L28.8233 20.8869L17.9809 31.8619C16.7938 33.0635 15.2136 33.7251 13.5306 33.7255C11.8465 33.7255 10.2663 33.0639 9.07956 31.8626L8.23482 31.0075L9.92469 29.2969L10.7694 30.152C12.2916 31.6932 14.7685 31.6925 16.2914 30.1516ZM44.3275 22.857C44.4673 23.5573 44.7951 24.1056 45.3099 24.5006C45.8244 24.8964 46.5014 25.0939 47.341 25.0939C48.1671 25.0939 48.8057 24.8995 49.2571 24.5104C49.7086 24.1216 49.9342 23.6094 49.9342 22.9738C49.9342 22.6626 49.8738 22.4 49.7532 22.186C49.6322 21.9721 49.4639 21.7906 49.2479 21.6413C49.0312 21.4928 48.7646 21.3658 48.4468 21.2623C48.129 21.1585 47.7729 21.0484 47.3786 20.9316L46.3493 20.64C45.7387 20.4715 45.192 20.2673 44.709 20.0271C44.2256 19.7872 43.8126 19.5051 43.4695 19.181C43.1263 18.8569 42.8655 18.4842 42.6876 18.0625C42.5097 17.6412 42.4205 17.1513 42.4205 16.594C42.4205 16.0105 42.535 15.4724 42.764 14.9794C42.9926 14.4872 43.3169 14.0651 43.7365 13.7152C44.1561 13.3652 44.6644 13.0897 45.2623 12.8883C45.8594 12.688 46.5329 12.5873 47.2833 12.5873C48.6946 12.5873 49.8131 12.9274 50.64 13.6082C51.4661 14.2893 51.9491 15.2001 52.0893 16.3413L49.8008 16.5357C49.6606 15.9521 49.3813 15.4983 48.9617 15.1742C48.5421 14.8501 47.9573 14.6879 47.2073 14.6879C46.508 14.6879 45.9612 14.8532 45.5674 15.184C45.1728 15.5148 44.9757 15.9396 44.9757 16.4581C44.9757 16.7563 45.0333 17.0055 45.1478 17.2066C45.2623 17.408 45.4271 17.5828 45.6434 17.7317C45.8594 17.881 46.1234 18.0139 46.4346 18.1303C46.7462 18.2471 47.0989 18.3709 47.4931 18.5002L48.466 18.8114C49.0758 19.0058 49.626 19.21 50.1151 19.4239C50.6047 19.6379 51.0212 19.8942 51.3643 20.1925C51.7078 20.4907 51.9717 20.8473 52.1558 21.2623C52.3402 21.6774 52.4324 22.1896 52.4324 22.799C52.4324 23.4476 52.3053 24.0409 52.0513 24.5786C51.7965 25.117 51.4411 25.574 50.9831 25.9498C50.5255 26.326 49.9822 26.618 49.3524 26.8249C48.7231 27.0322 48.0272 27.1365 47.2645 27.1365C45.8532 27.1365 44.6771 26.7995 43.7365 26.125C42.7955 25.4505 42.2173 24.4328 42.0009 23.0709L44.3275 22.857ZM60.4371 15.3399C60.9771 15.0824 61.5905 14.9533 62.2765 14.9533C62.9629 14.9533 63.5794 15.0824 64.1255 15.3399C64.6721 15.5978 65.133 15.9523 65.5079 16.4029C65.8828 16.8539 66.172 17.3953 66.3752 18.0261C66.5784 18.6572 66.6802 19.3465 66.6802 20.094C66.6802 20.8539 66.5784 21.5529 66.3752 22.1907C66.172 22.8281 65.8828 23.3727 65.5079 23.8232C65.133 24.2746 64.6752 24.6257 64.1355 24.8769C63.5951 25.1281 62.9821 25.2533 62.2957 25.2533C61.6093 25.2533 60.9959 25.1215 60.4563 24.8578C59.9158 24.5933 59.458 24.2293 59.0835 23.7659C58.7086 23.3017 58.419 22.7544 58.2162 22.1232C58.0126 21.4917 57.9112 20.809 57.9112 20.0745C57.9112 19.3403 58.0096 18.6608 58.2062 18.0354C58.4033 17.4113 58.6894 16.8698 59.0647 16.4123C59.4392 15.9551 59.8966 15.5978 60.4371 15.3399ZM65.1173 13.3949C64.2657 13.0399 63.3251 12.8624 62.2957 12.8624C61.2663 12.8624 60.3291 13.0434 59.4837 13.4043C58.6383 13.7659 57.917 14.266 57.3201 14.905C56.7225 15.5439 56.2619 16.3058 55.9381 17.1893C55.614 18.0741 55.4519 19.045 55.4519 20.1033C55.4519 21.1492 55.614 22.1139 55.9381 22.9978C56.2619 23.8825 56.7194 24.6436 57.3105 25.2826C57.9013 25.9215 58.6195 26.4185 59.4649 26.7735C60.3099 27.1281 61.2598 27.306 62.3149 27.306C62.8991 27.306 63.4457 27.2479 63.9542 27.1316C64.462 27.0154 64.9391 26.8543 65.3838 26.6479L66.6613 28.2352H68.987V27.5576L67.1568 25.3696C67.8052 24.7244 68.3034 23.9598 68.6536 23.0754C69.0028 22.1915 69.1776 21.201 69.1776 20.1033C69.1776 19.045 69.0124 18.0705 68.6821 17.18C68.351 16.2894 67.8874 15.5248 67.2905 14.8854C66.6928 14.2465 65.9684 13.7499 65.1173 13.3949ZM78.5108 25.134C79.4861 25.134 80.2459 24.8264 80.7905 24.2104C81.3348 23.5944 81.6073 22.6512 81.6073 21.3805V12.8624H84.0011V21.4388C84.0011 22.4502 83.8744 23.3154 83.621 24.0352C83.3672 24.7547 83.0067 25.3448 82.5382 25.8052C82.0697 26.2657 81.4933 26.6026 80.8097 26.8166C80.1257 27.0305 79.3594 27.1371 78.5108 27.1371C77.6492 27.1371 76.8799 27.0305 76.2028 26.8166C75.5249 26.6026 74.952 26.2657 74.4835 25.8052C74.015 25.3448 73.654 24.7547 73.4002 24.0352C73.1469 23.3154 73.0206 22.4502 73.0206 21.4388V12.8624H75.4143V21.3805C75.4143 22.6512 75.6865 23.5944 76.2311 24.2104C76.7758 24.8264 77.5356 25.134 78.5108 25.134ZM95.4394 20.8789H90.8589L91.6513 18.6996C91.8188 18.2409 91.9605 17.8392 92.0766 17.4956C92.1926 17.1513 92.2985 16.8455 92.3955 16.5778C92.4921 16.3105 92.5789 16.0682 92.6564 15.8513C92.7335 15.6349 92.811 15.418 92.8885 15.2016H93.4873C93.6287 15.6095 93.7899 16.0809 93.9706 16.6163C94.1509 17.1513 94.3888 17.8461 94.6855 18.6996L95.4394 20.8789ZM91.4002 13.1367L86.4717 26.1934V26.8624H88.7332L90.1245 22.9434H96.1352L97.5265 26.8624H99.9228V26.1934L95.0531 13.1367H91.4002ZM105.316 19.407H107.402C108.321 19.407 109.045 19.2394 109.574 18.9051C110.104 18.5704 110.369 18.0242 110.369 17.2658C110.369 16.4954 110.101 15.9589 109.565 15.6558C109.029 15.353 108.308 15.2013 107.402 15.2013H105.316V19.407ZM113.374 26.8624H111.058L106.866 21.4715H105.316V26.8624H102.942V13.1367H107.402C108.104 13.1367 108.771 13.1845 109.402 13.28C110.034 13.3755 110.605 13.5955 111.116 13.9394C112.2 14.6528 112.743 15.7297 112.743 17.1691C112.743 17.7939 112.65 18.3385 112.465 18.8038C112.279 19.2687 112.034 19.6635 111.728 19.9886C111.421 20.3137 111.067 20.5779 110.666 20.7813C110.264 20.9854 109.846 21.1383 109.412 21.24L113.374 26.193V26.8624ZM125.318 13.1367H116.394V26.8624H125.453V24.7594H118.755V20.8978H124.858V18.8333H118.755V15.2393H125.318V13.1367ZM130.799 22.857C130.938 23.5573 131.266 24.1056 131.781 24.5006C132.296 24.8964 132.973 25.0939 133.812 25.0939C134.638 25.0939 135.277 24.8995 135.728 24.5104C136.18 24.1216 136.405 23.6094 136.405 22.9738C136.405 22.6626 136.345 22.4 136.224 22.186C136.103 21.9721 135.935 21.7906 135.719 21.6413C135.503 21.4928 135.236 21.3658 134.918 21.2623C134.6 21.1585 134.244 21.0484 133.85 20.9316L132.82 20.64C132.21 20.4715 131.663 20.2673 131.18 20.0271C130.697 19.7872 130.284 19.5051 129.941 19.181C129.598 18.8569 129.337 18.4842 129.159 18.0625C128.981 17.6412 128.892 17.1513 128.892 16.594C128.892 16.0105 129.006 15.4724 129.235 14.9794C129.464 14.4872 129.788 14.0651 130.208 13.7152C130.627 13.3652 131.136 13.0897 131.733 12.8883C132.33 12.688 133.004 12.5873 133.754 12.5873C135.166 12.5873 136.284 12.9274 137.111 13.6082C137.937 14.2893 138.42 15.2001 138.56 16.3413L136.272 16.5357C136.132 15.9521 135.852 15.4983 135.433 15.1742C135.013 14.8501 134.428 14.6879 133.678 14.6879C132.979 14.6879 132.432 14.8532 132.038 15.184C131.644 15.5148 131.447 15.9396 131.447 16.4581C131.447 16.7563 131.504 17.0055 131.619 17.2066C131.733 17.408 131.898 17.5828 132.115 17.7317C132.33 17.881 132.594 18.0139 132.906 18.1303C133.218 18.2471 133.57 18.3709 133.964 18.5002L134.937 18.8114C135.547 19.0058 136.097 19.21 136.586 19.4239C137.076 19.6379 137.492 19.8942 137.835 20.1925C138.179 20.4907 138.443 20.8473 138.627 21.2623C138.811 21.6774 138.904 22.1896 138.904 22.799C138.904 23.4476 138.776 24.0409 138.522 24.5786C138.267 25.117 137.912 25.574 137.454 25.9498C136.996 26.326 136.453 26.618 135.824 26.8249C135.194 27.0322 134.498 27.1365 133.736 27.1365C132.325 27.1365 131.148 26.7995 130.208 26.125C129.267 25.4505 128.688 24.4328 128.472 23.0709L130.799 22.857ZM147.24 19.5216H144.905V15.2012H147.279C147.694 15.2012 148.079 15.2362 148.437 15.3056C148.793 15.3749 149.101 15.4916 149.361 15.6561C149.62 15.8205 149.824 16.0447 149.974 16.329C150.123 16.6132 150.197 16.9633 150.197 17.3801C150.197 17.7845 150.123 18.1257 149.974 18.4034C149.824 18.6815 149.617 18.9026 149.351 19.0667C149.085 19.2312 148.773 19.3479 148.417 19.4172C148.06 19.4869 147.668 19.5216 147.24 19.5216ZM147.571 13.1367H142.472V26.8624H144.905V21.586H147.376C148.193 21.586 148.926 21.5002 149.575 21.328C150.223 21.1558 150.774 20.8978 151.229 20.5538C151.683 20.2095 152.03 19.7731 152.27 19.2443C152.509 18.7154 152.629 18.0945 152.629 17.3804C152.629 16.7815 152.542 16.2238 152.367 15.7081C152.192 15.1916 151.906 14.7425 151.511 14.3604C151.115 13.9775 150.596 13.6783 149.954 13.4618C149.312 13.2449 148.517 13.1367 147.571 13.1367ZM157.566 20.8789H162.146L161.392 18.6996C161.096 17.8461 160.857 17.1513 160.677 16.6163C160.497 16.0809 160.335 15.6095 160.194 15.2016H159.595C159.518 15.418 159.44 15.6349 159.363 15.8513C159.286 16.0682 159.198 16.3105 159.102 16.5778C159.005 16.8455 158.899 17.1513 158.783 17.4956C158.667 17.8392 158.526 18.2409 158.358 18.6996L157.566 20.8789ZM153.178 26.1934L158.107 13.1367H161.759L166.63 26.1934V26.8624H164.233L162.842 22.9434H156.831L155.44 26.8624H153.178V26.1934ZM180.322 24.7468C180.675 24.2738 180.96 23.7695 181.179 23.2336L178.771 22.8315C178.45 23.4568 177.998 23.9862 177.414 24.4199C176.829 24.8536 176.088 25.0707 175.189 25.0707C174.496 25.0707 173.88 24.9434 173.341 24.689C172.802 24.4349 172.343 24.0826 171.964 23.6315C171.585 23.18 171.296 22.6468 171.098 22.03C170.898 21.4135 170.799 20.7431 170.799 20.0187C170.799 19.307 170.895 18.64 171.088 18.0174C171.28 17.3944 171.56 16.8542 171.926 16.397C172.291 15.9394 172.741 15.5804 173.273 15.3198C173.806 15.0592 174.413 14.9289 175.093 14.9289C175.941 14.9289 176.663 15.1297 177.26 15.5315C177.856 15.9332 178.322 16.4853 178.656 17.1866L181.102 16.7085C180.678 15.5477 179.956 14.6162 178.935 13.9149C177.915 13.2136 176.646 12.8624 175.132 12.8624C174.092 12.8624 173.152 13.044 172.311 13.408C171.47 13.7711 170.749 14.2723 170.148 14.9096C169.547 15.5477 169.085 16.3037 168.761 17.1773C168.438 18.0513 168.276 18.9986 168.276 20.0187C168.276 21.0396 168.438 21.9868 168.761 22.8604C169.085 23.7344 169.544 24.4866 170.138 25.1185C170.733 25.7496 171.451 26.2442 172.291 26.6009C173.132 26.9582 174.066 27.1371 175.093 27.1371C175.902 27.1371 176.637 27.0338 177.298 26.8279C177.959 26.6221 178.541 26.3422 179.041 25.9882C179.542 25.6343 179.968 25.2199 180.322 24.7468ZM184.319 12.9716H193.294V15.0945H186.693V18.7233H192.831V20.8078H186.693V24.7068H193.43V26.8302H184.319V12.9716ZM203.942 12.9549V26.831H205.577V20.9946H208.282C211.181 20.9946 213.146 19.7577 213.146 16.9554C213.146 14.2498 211.336 12.9549 208.301 12.9549H203.942ZM205.577 19.6031V14.3657H208.204C210.111 14.3657 211.511 15.0422 211.511 16.9748C211.511 18.9267 210.111 19.6031 208.262 19.6031H205.577ZM221.665 26.831H223.086C223.066 26.5798 223.066 26.2706 223.066 26V20.1829C223.066 17.4193 221.374 16.3756 219.039 16.3756C216.626 16.3756 215.05 17.7285 214.797 19.6031L216.373 19.7384C216.587 18.4435 217.482 17.6512 219.039 17.6512C220.654 17.6512 221.49 18.5595 221.49 19.6611C221.49 20.2022 221.276 20.4341 220.615 20.5501C220.406 20.5879 220.202 20.6245 220.004 20.6602L220.003 20.6602L220.003 20.6603C216.35 21.3164 214.408 21.6653 214.408 24.0481C214.408 25.884 215.809 27.0243 218.105 27.0243C219.661 27.0243 220.945 26.4638 221.646 25.3622H221.685C221.685 25.4997 221.68 25.6321 221.675 25.7621L221.675 25.7631C221.67 25.8887 221.665 26.012 221.665 26.1353V26.831ZM221.549 22.2701V22.6952C221.549 24.6278 220.187 25.8261 218.338 25.8261C216.957 25.8261 216.062 25.169 216.062 24.0287C216.062 22.7159 217.156 22.5039 219.225 22.103L219.226 22.1029L219.227 22.1028L219.227 22.1027C219.594 22.0315 219.992 21.9545 220.42 21.8642L221.607 21.613C221.549 21.8449 221.549 22.0575 221.549 22.2701ZM232.533 16.6655H234.225L229.964 27.836C229.283 29.6333 228.699 30.3483 226.87 30.3483C226.52 30.3483 226.462 30.3483 226.034 30.329L225.781 29.0149C226.189 29.0342 226.481 29.0342 226.812 29.0342C227.843 29.0342 228.232 28.4351 228.777 26.831L224.827 16.6655H226.578L228.232 21.2458C228.699 22.5406 229.147 23.8162 229.556 25.0723H229.614L229.615 25.0693C230.043 23.7948 230.47 22.5203 230.918 21.2458L232.533 16.6655ZM237.68 17.3226V16.6655H236.162C236.182 17.2453 236.182 17.5739 236.182 18.3082V26.831H237.758V21.1878C237.758 19.1393 238.808 17.7478 240.598 17.7478C242.155 17.7478 242.953 18.7721 242.953 20.9752V26.831H244.509V21.0332C244.509 19.3325 245.307 17.7478 247.272 17.7478C248.985 17.7478 249.724 18.8687 249.724 21.0332V26.831H251.3V20.5887C251.3 18.0377 250.191 16.395 247.623 16.395C245.813 16.395 244.665 17.3999 244.12 18.4822C243.614 17.0907 242.486 16.395 240.968 16.395C239.275 16.395 238.147 17.3419 237.699 18.3082H237.66C237.68 17.999 237.68 17.6512 237.68 17.3226ZM263.551 22.0382H255.203C255.262 24.106 256.487 25.7874 258.725 25.7874C260.418 25.7874 261.449 24.8211 261.897 23.9514L263.395 24.28C262.617 26 260.924 27.1402 258.686 27.1402C255.534 27.1402 253.627 24.8984 253.627 21.7289C253.627 18.7141 255.612 16.337 258.686 16.337C261.819 16.337 263.551 18.6754 263.551 21.9222V22.0382ZM255.242 20.8206H261.936C261.78 18.9847 260.554 17.6125 258.667 17.6125C256.565 17.6125 255.398 19.1779 255.242 20.8206ZM267.493 18.2889V17.2453V16.6655H265.976C265.995 17.11 265.995 17.6512 265.995 18.1343V26.831H267.571V21.5937C267.571 19.3712 268.447 17.7478 270.47 17.7478C272.261 17.7478 272.961 18.9653 272.961 21.1492V26.831H274.537V20.5887C274.537 18.057 273.409 16.395 270.86 16.395C269.108 16.395 268.058 17.3419 267.532 18.2889H267.493ZM276.441 17.9024V16.6655H277.92V13.9406H279.477V16.6655H281.306V17.9024H279.477V23.9901C279.477 25.3622 279.73 25.5748 280.8 25.5748C281.053 25.5748 281.286 25.5748 281.462 25.5555L281.228 26.831L281.126 26.839C280.919 26.8553 280.737 26.8697 280.469 26.8697C278.465 26.8697 277.92 26.4252 277.92 24.4539V17.9024H276.441ZM284.271 23.9321L282.714 24.1447C283.162 26.0966 284.68 27.1209 287.092 27.1209C289.349 27.1209 291.101 26 291.101 23.9708C291.101 22.1928 289.797 21.613 287.871 21.0912L286.8 20.8013C285.419 20.4728 284.699 20.0862 284.699 19.1972C284.699 18.2503 285.575 17.6318 286.937 17.6318C288.221 17.6318 289.057 18.2309 289.408 19.2166L290.906 19.062C290.517 17.3419 289.116 16.3756 286.956 16.3756C284.796 16.3756 283.103 17.4579 283.103 19.2939C283.103 21.1105 284.427 21.7289 286.158 22.1734L287.423 22.502C288.785 22.8692 289.505 23.1977 289.505 24.106C289.505 25.1883 288.493 25.8261 287.112 25.8261C285.672 25.8261 284.66 25.1497 284.271 23.9321Z",fill:"black"}))},206317:function(_,C,e){e.d(C,{Vg:()=>r,WD:()=>o,oN:()=>a});let o=function(l){return l.DEFAULT="DEFAULT",l.INVOICING="INVOICING",l.DONATIONS="DONATIONS",l}({}),a=function(l){return l.SUCCESS="SUCCESS",l.MORE_TIME_NEEDED="MORE_TIME_NEEDED",l.MORE_INFO_NEEDED="MORE_INFO_NEEDED",l}({}),r=function(l){return l[l.Connect=0]="Connect",l[l.BankConnection=1]="BankConnection",l}({})},313695:function(_,C,e){e.d(C,{Z:()=>l});var o=e(199040),a=e(166455),r=e.n(a);const l=new o.Z("payments",r().COMMERCE_PAYMENTS)}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/0bae6b9010ad0b3d/21780-8563c90450d1ac62-min.en-US.js.map