"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["55628"],{207824:function(R){R.exports={reactFirst:"VMuHaalUKYqdWVVF",white:"EMiOdIzod_woEnsW"}},414466:function(R){R.exports={errorPanel:"_K9WGvy0eGYH0Fl_"}},150825:function(R,C,t){t.d(C,{Z:()=>a});var e=t(963351),l=t.n(e);const a={[l().COVER_PAGE]:"cover-page",[l().LOCK_SCREEN]:"lock-screen",[l().POPUP_OVERLAY]:"popup-overlay",[l().SSO_SCREEN]:"sso-screen"}},980109:function(R,C,t){var e;e={value:!0},Object.defineProperty(C,"broadcastRequestNewScreenshotEvent",{enumerable:!0,get:function(){return l.broadcastRequestNewScreenshotEvent}});var l=t(996129)},952717:function(R,C,t){t.d(C,{Z:()=>o});var e=t(852747);const o=()=>(0,e.Z)().then(a=>a.annotationControllers.find(u=>u.name==="SiteHeaderAnnotationController"))},125662:function(R,C,t){t.d(C,{Z:()=>a});var e=t(347560);class l{constructor(){this.generateActions("bootstrap","close","debugSetState","forceOpen","startSession","submit","userFinishedUsingNonPageCollectionEditor","userFinishedUsingPageEditor","userSavesDesignPanel","userViewsDesignPanel","userTogglesDeviceView","userViewsCustomerNotificationPanel","userViewsProductDetailsPage","userFulfillsSecondDetailsOrder","userViewsOrderStatus")}}const o=e.Z.createActions(l);window.userSurveyForceOpen=o.forceOpen;const a=o},816046:function(R,C,t){t.d(C,{Z:()=>n});var e=t(153088),l=t(815211),o=t.n(l),a=t(883583),u=t(125852),r=t(358627),d=t(771661),c=t(32153),E=t(273867),S=t(95460),h=t(744792),U=t(869942),L=t(818212),m=t(608671),f=t(245118),T=t(197490),y=t(972450),B=t(380745),x=t(760736),$=t(188994),tt=t(423975),et=t(201037),q=t(76667),W=t(655191),at=t(989250);const{CHOWNOW:Q}=o(),Z={[W.A.ALBUM_COLLECTION]:u.Z,[W.A.INDEX_PAGE_70]:r.Z,[W.A.FOLDER]:d.Z,[W.A.CUSTOM_COLLECTION_70]:c.Z,[W.A.GALLERY_COLLECTION_70]:E.Z,[W.A.REGULAR_PAGE]:S.Z,[W.A.REGULAR_PAGE_DRAFT]:S.Z,[W.A.COVER_PAGE_70]:h.Z,[W.A.BLOG_COLLECTION]:U.Z,[W.A.PRODUCT_COLLECTION]:L.Z,[W.A.EVENT_COLLECTION]:m.Z,[W.A.PORTFOLIO_COLLECTION]:f.Z,[W.A.MEMBER_AREA]:T.Z,[W.A.COURSE_COLLECTION]:y.Z,[W.A.VIDEO_COLLECTION]:B.Z},P={[W.A.BLOG_COLLECTION]:x.Z,[W.A.COURSE_COLLECTION]:$.Z,[W.A.MEMBER_AREA]:T.Z,[W.A.VIDEO_COLLECTION]:tt.Z};function n(O){let{collectionInternalType:D,item:I}=O;const Y=D??(0,at.j)(I);if(!Y)return null;if(Y===W.A.LINK){var k;return((k=I.externalLink)===null||k===void 0?void 0:k.externalServiceProviderType)===Q?et.Z:q.Z}return("pagePermissionType"in I&&(0,a.t8)(I.pagePermissionType,a.ZP.PRICING_PLAN)?P[Y]:Z[Y])??null}},431190:function(R,C,t){t.d(C,{VX:()=>c,eS:()=>d,i6:()=>r});var e=t(44348),l=t.n(e),o=t(963699),a=t(478750);const u=h=>h.workflowState===WorkflowStates.PUBLISHED||isPortfolioDraftsEnabled()&&h.workflowState===ContentServiceWorkflowStates.PUBLISHED,r=h=>h.workflowState===l().SCHEDULED||(0,a.Z)()&&h.workflowState===o.Z.SCHEDULED,d=h=>h.workflowState===l().NEEDS_REVIEW||(0,a.Z)()&&h.workflowState===o.Z.NEEDS_REVIEW,c=h=>h.workflowState===l().DRAFT||(0,a.Z)()&&h.workflowState===o.Z.DRAFT,E=h=>h.workflowState===WorkflowStates.PRIVATE||isPortfolioDraftsEnabled()&&h.workflowState===ContentServiceWorkflowStates.PRIVATE,S=h=>h.workflowState===WorkflowStates.DELETED||isPortfolioDraftsEnabled()&&h.workflowState===ContentServiceWorkflowStates.DELETED},832155:function(R,C,t){t.d(C,{S:()=>a});var e=t(174161),l=t(487558),o=t(608280);function a(u){function r(d){return e.createElement(l.SB,null,e.createElement(u,d))}return r.displayName=`withContentBrowserStore(${(0,o.default)(u)})`,r}},791397:function(R,C,t){t.d(C,{Z:()=>L});var e=t(283635),l=t(461761),o=t.n(l);const a=new e.Z("CommerceDeveloperPlatformWeb",{event_owner_team:"CommerceDeveloperPlatform",event_source:"web",product_area:"commerce-dev-platform",website_id:o()(window,"Static.SQUARESPACE_CONTEXT.website.id",null)});function u(m){a.track({actor:"user",action:"view",object_type:"page",object_identifier:m.id,product_page:m.id,event_name:"Extension_Directory_View"})}function r(m){a.track({actor:"user",action:"view",object_type:"page",object_identifier:"extension-details",product_page:"extension-details",event_name:"Extension_Details_View",extension_name:m})}function d(m,f){a.track({actor:"user",action:"click",object_type:"card",object_identifier:"extension-card",product_page:f,event_name:"Extension_Card_Click",extension_name:m})}function c(m,f){a.track({actor:"user",action:"click",object_type:"card",object_identifier:"extension-card",product_page:f,event_name:"Extension_Card_Click",non_extension_name:m})}function E(m){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"extension-details";a.track({actor:"user",action:"click",object_type:"button",object_identifier:"extension-details-connect",product_page:f,event_name:"Extension_Connect_Clicked",extension_name:m})}function S(m,f){a.track({actor:"user",action:"click",object_type:"button",object_identifier:"extension-details-disconnect-confirm",product_page:f,event_name:"Extension_Disconnect_Confirm_Clicked",extension_name:m})}function h(m,f){a.track({actor:"user",action:"input",object_type:"searchquery",object_identifier:"extension-search-input",product_page:f.id,event_name:"Extension_Directory_Search",object_value:m})}function U(m,f,T){a.track({actor:"user",action:"click",object_type:"filter",object_identifier:m,product_page:T.id,event_name:"Extension_Directory_Filter",object_value:f.join(", ")})}const L={trackDirectoryPageViewed:u,trackExtensionDetailsPageViewed:r,trackExtensionCardClicked:d,trackNonExtensionCardClicked:c,trackConnectClicked:E,trackDisconnectConfirmClicked:S,trackSearchTerms:h,trackFilter:U}},550373:function(R,C,t){t.d(C,{b:()=>h,D:()=>U});var e=t(630056),l=t(337061),o=t(586350),a=t(138002);class u{async discardTweak(){if(this.tweak.isDirty)return a.Z.discard(),await a.Z.fetchCleanCss()}discard(){return Promise.all([(0,l.GE)((0,o.eJ)()),this.discardTweak()])}constructor({tweak:m}){this.tweak=m}}var r=t(125662),d=t(730842),c=t(938077),E=t(655191),S=t(989250);function h(){const L=(0,c.Zxu)((0,l.d6)());if(L){const m=d.Z.getCollection(L);(0,S.j)(m)===E.A.REGULAR_PAGE?r.Z.userFinishedUsingPageEditor():r.Z.userFinishedUsingNonPageCollectionEditor()}}const U=()=>new u({tweak:e.Z.getState()}).discard()},746933:function(R,C,t){t.d(C,{AG:()=>r,bR:()=>d,c:()=>a,it:()=>u});var e=t(174161),l=t(300879),o=t.n(l);const a=new(o()),u=(0,e.createContext)(null),r=c=>{let{children:E}=c;const[S,h]=(0,e.useState)(null),[U,L]=(0,e.useState)(null),f={overlayDocumentRef:(0,e.useRef)(null),overlayEventEmitter:a,mouseDownAt:U,setMouseDownAt:L,cursorStyle:S,setCursorStyle:h};return e.createElement(u.Provider,{value:f},E)};function d(){const c=(0,e.useContext)(u);if(!c)throw new Error("useFrameInteractionContext must be used within a FrameInteractionProvider");return c}},621928:function(R,C,t){t.d(C,{Z:()=>l});var e=t(174161);const l=e.createContext({})},549842:function(R,C,t){t.d(C,{Z:()=>u});var e=t(347560),l=t(324270);const o={isEditingCustomCss:!1};class a{onSetEditingCustomCss(d){this.setState({isEditingCustomCss:d})}constructor(){this.state={...o},this.bindActions(l.default)}}const u=e.Z.createStore(a,"FrameToolbarStore")},631064:function(R,C,t){t.d(C,{IP:()=>c,Lx:()=>E,pC:()=>S,qb:()=>U});var e=t(174161),l=t(337061),o=t(938077),a=t(324270),u=t(158744),r=t(600557);let d={};const c=()=>{const L=(0,l.Ze)(o.EeC);return(0,e.useEffect)(()=>{L&&(Object.values(d).forEach(m=>{m()}),d={})},[L]),null},E=(L,m)=>(d[L]&&(0,u.$e)(T=>{(0,r.Tb)(new Error("ensureFrameInitialized already set for key. Discarding previous one")),T.setExtra("reason",L)}),(0,o.EeC)((0,l.d6)())?(m(),{destroy:()=>{}}):(d[L]=m,{destroy:()=>{delete d[L]}})),S=(L,m)=>{d.setFrameUrlAndThen=m,a.default.setUrl(L)},h=L=>{const m=(0,l.Ze)(o.EeC);(0,e.useEffect)(()=>{m&&L()},[m,L])},U=L=>{let{onEveryFrameLoad:m}=L;return h(m),null}},313888:function(R,C,t){t.d(C,{Z:()=>l});var e=t(663634);const l=()=>(0,e.cr)("collection-draft-publish")},614282:function(R,C,t){t.d(C,{Ak:()=>o,Y5:()=>r,gm:()=>u,tC:()=>a,x2:()=>l});const e=d=>async function(){for(var c=arguments.length,E=new Array(c),S=0;S<c;S++)E[S]=arguments[S];return(await t.e("9884").then(t.bind(t,317742)))[d](...E)},l=e("preloadPageSectionRenderContext"),o=e("preloadHeaderRenderContext"),a=e("renderPageSection"),u=e("renderHeader"),r=e("fetchSectionRenderData")},590530:function(R,C,t){t.d(C,{Z:()=>Q});var e=t(938077),l=t(337061),o=t(35045),a=t(936177),u=t.n(a),r=t(730842),d=t(586350),c=t(695960),E=t(787592),S=t(166455),h=t.n(S),U=t(487558),L=t(661614),m=t(655191),f=t(989250),T=t(294646),y=t(478750),B=t(313888);function x(Z,P,n){return P in Z?Object.defineProperty(Z,P,{value:n,enumerable:!0,configurable:!0,writable:!0}):Z[P]=n,Z}const $=async Z=>{if(!Z)return null;const P=(0,f.V)(Z);if(!P||P===m.J.PRODUCT_ITEM||!(0,y.Z)()&&P===m.J.PORTFOLIO_ITEM||!(0,B.Z)()&&P===m.J.VIDEO_ITEM)return null;if((0,y.Z)()&&P===m.J.PORTFOLIO_ITEM)try{const{entityLocation:n}=await r.Z.loadItem(Z.id),O={...Z,entityLocation:n};return r.Z.updateItem(O)}catch(n){throw new Error("Failed to load and save collection item",{cause:n})}try{return r.Z.updateItem(Z)}catch(n){throw new Error("Failed to save collection item",{cause:n})}},tt=async Z=>{const P=(0,l.d6)(),n=(0,e.Zxu)(P),O=(0,e.x38)(P),D=(0,e.ZyN)(P);if(!n||!D)return;const I=window.Y.Squarespace.ContentCollectionCache.getById(n);if(!I||O&&(0,f.j)(r.Z.getCollection(n))!==m.A.PRODUCT_COLLECTION)return;const Y=D.find(V=>V.sectionName===c.Z.MAIN_CONTENT);let k=!1;if(Y){const V=Y.typeName;if(V&&I.get("typeName")!==V){const J=(0,f.j)(I.getAttrs());I.set("typeName",V),k=!0;const st=(0,f.j)(I.getAttrs());J!==st&&E.$e(rt=>{rt.setExtra("collectionTypes",`${J} ${st}`),E.uT("Collection type changed during saveAllSections")})}const nt=Y.itemLayoutKey,b=I.get("itemLayoutKey");typeof nt=="string"&&b!==nt&&O&&(I.set("itemLayoutKey",nt),k=!0)}if(Z.enableCollectionOnSave&&(I.set("enabled",!0),k=!0),!k)return;const X=new Promise((V,nt)=>{I.save(b=>{b?(u().trackCaughtError("seven-one","Save Collection Error: "+JSON.stringify(I.toJSON()),b),nt(b)):V(I.get("fullUrl"))})});try{return await X}catch(V){throw new Error("Failed to save collection by content collection",{cause:V})}},et=async Z=>{const P=(0,l.d6)(),n=(0,e.Zxu)(P),O=!!(0,e.x38)(P);let D=(0,e.o1x)(P);if(!(!n||!D||O)){Z.enableCollectionOnSave&&(D={...D,enabled:!0});try{const I=await r.Z.updateCollection(D);return I&&"fullUrl"in I?I.fullUrl:void 0}catch(I){throw u().trackCaughtError("seven-one","Save Collection Error: "+JSON.stringify(D),I),new Error("Failed to save collection by content browser",{cause:I})}}},q=async Z=>{const P=(0,l.d6)(),n=(0,e.o1x)(P);return n&&(0,f.j)(n)===m.A.COURSE_COLLECTION?et(Z):tt(Z)};class W extends AggregateError{constructor(...P){super(...P),x(this,"didItemSaveFail",!1),x(this,"didCollectionSaveFail",!1),x(this,"didReduxSaveFail",!1)}}const Q=async function(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(window.__saveOpenBlockEditor)try{await window.__saveOpenBlockEditor()}catch(D){throw new Error("Failed to save all sections - error thrown saving open block editors",{cause:D})}const P=(0,e.gEH)((0,l.d6)()),n=(0,e.Zxu)((0,l.d6)()),O=n&&(0,L.Lg)((0,U.UT)())[n];try{const[D,I,Y]=await Promise.allSettled([$(P),q(Z),(0,l.GE)((0,d.a1)({websiteId:o.default.getState().get("id")})).unwrap()]),k=D.status==="rejected",X=I.status==="rejected",V=Y.status==="rejected";if(k||X||V){const st=new W([k?D.reason:null,X?I.reason:null,V?Y.reason:null].filter(rt=>rt!==null));throw st.didItemSaveFail=k,st.didCollectionSaveFail=X,st.didReduxSaveFail=V,st}O&&(0,f.j)(O)===m.A.REGULAR_PAGE_DRAFT&&r.Z.refreshCollection(n);const b=D.value;b&&(0,l.GE)((0,T.i)(b,{undoable:!1}));const J=I.value;return{itemFullUrl:b==null?void 0:b.fullUrl,collectionFullUrl:J}}catch(D){throw E.$e(I=>{I.setTag("owner",h().WEBSITE_EDITOR),D instanceof W&&(I.setTag("item-save-failed",D.didItemSaveFail),I.setTag("collection-save-failed",D.didCollectionSaveFail),I.setTag("redux-save-failed",D.didReduxSaveFail)),E.Tb(new Error("Failed to Save Sections (saveAllSections)",{cause:D}))}),D}}},423423:function(R,C,t){t.d(C,{Z:()=>r});var e=t(174161),l=t(787592),o=t(934951);function a(d,c,E){return c in d?Object.defineProperty(d,c,{value:E,enumerable:!0,configurable:!0,writable:!0}):d[c]=E,d}class u extends e.Component{componentDidCatch(c,E){const{additionalSentryTags:S}=this.props;(0,l.$e)(h=>{h.setTag("user_facing","true"),S&&h.setTags(S),(0,l.Tb)(c)}),this.setState({hasError:!0}),this.props.componentDidCatch&&this.props.componentDidCatch(c,E)}renderError(){return e.createElement("div",{className:this.props.errorClassName},e.createElement("p",null,e.createElement(o.T,{project:"apps.App"},"Our system has encountered an error. This exception has been automatically logged and reported. We will return shortly.")))}render(){return this.state.hasError?this.renderError():this.props.children}constructor(...c){super(...c),a(this,"state",{hasError:!1})}}const r=u},681601:function(R,C,t){t.d(C,{Z:()=>L});var e=t(174161),l=t(845076),o=t.n(l),a=t(721247),u=t(181298);const r=u.default["global-transition-easing"],{loadStyles:d,convertTranslateToMatrix:c}=a.utils,E=d("CSSTG-SlideVariableWidth",{".group":{overflow:"hidden",transition:`width .4s ${r}`},".slide":{overflow:"hidden",transition:`transform .4s ${r}, min-height .4s ${r}, max-height .4s ${r}, opacity .4s ${r}`,display:"inline-block"},".leave":{overflow:"hidden",position:"absolute",top:0,left:0},".right":{position:"absolute",top:0,right:0}}),S=(m,f,T,y)=>({appear:{className:E.slide,from:{opacity:0},to:{opacity:1}},enter:{className:E.slide,from:{...T!=null&&T.includes("transform")?{}:{transform:B=>{const x=B.nextSibling||B.previousSibling,$=m>0?B:x;return c(-m*$.scrollWidth,0)}},...T!=null&&T.includes("opacity")?{}:{opacity:0}},to:{...T!=null&&T.includes("transform")?{}:{transform:B=>c(0,0)},...T!=null&&T.includes("opacity")?{}:{opacity:1}}},leave:{className:o()(E.slide,E.leave),from:{...y!=null&&y.includes("transform")?{}:{transform:B=>c(0,0)},...y!=null&&y.includes("opacity")?{}:{opacity:1}},to:{...y!=null&&y.includes("transform")?{}:{transform:B=>{const x=B.nextSibling||B.previousSibling,$=m>0?x:B;return c(m*$.scrollWidth,0)}},...y!=null&&y.includes("opacity")?{}:{opacity:0}}}}),h=(m,f)=>(T,y)=>S(m,f,T,y),U={className:E.group,rightClassName:E.right,transitions:{toLeft:h(-1,0),toRight:h(1,0),toTop:h(0,-1),toBottom:h(0,1)}};class L extends e.Component{render(){const{transitionDirection:f,children:T,transitionKey:y="TG",width:B,height:x,right:$,disableEntryAttrs:tt,disableExitAttrs:et}=this.props,q=this.props.transition||U.transitions[f](tt,et);return e.createElement(a.CSSTransitionGroup,{key:y,transitions:q,className:o()(U.className,{[U.rightClassName]:$}),wrapChildWithTag:!1,style:{overflow:"hidden",width:B,height:x??"100%"}},T)}}},149912:function(R,C,t){t.d(C,{Z:()=>u});var e=t(174161),l=t(681636),o=t(916661);const u=r=>{let{children:d}=r;return o.Z.isSevenOne()?e.createElement(l.Z,null,d):e.createElement(e.Fragment,null,d)}},681636:function(R,C,t){t.d(C,{Z:()=>Te});var e=t(174161),l=t(161381),o=t(419467),a=t(795478),u=t.n(a),r=t(537465),d=t.n(r),c=t(374335),E=t.n(c),S=t(994882),h=t(44348),U=t.n(h),L=t(723796),m=t(530773),f=t(980109),T=t(549842),y=t(429593),B=t(978422),x=t(912289),$=t(843156),tt=t(952717),et=t(950570),q=t(631064),W=t(636707),at=t(966819),Q=t(324270),Z=t(550373),P=t(590530),n=t(621928),O=t(730842),D=t(347560),I=t(480433),Y=t.n(I),k=t(614282),X=t(879549),V=t(834105),nt=t(559409),b=t.n(nt),J=t(134798),st=t(746933),rt=t(916661),ct=t(472575),mt=t(655191),Ct=t(989250),ut=t(489204),Vt=t(852747);const Ht=()=>(0,Vt.Z)().then(F=>F.annotationControllers.find(g=>g.name==="SiteHeaderAnnotationController"));var K=t(938077),N=t(337061),G=t(897820),St=t(874644);const kt=F=>{let{handleEdit:g,router:_,isLoaded:s,isReady:i,previousFrameUrl:v}=F;return(p,A)=>{var M,j,H,it;if((0,K.jJ3)((0,N.d6)()))return A(!1);const z=p!=null&&p.pathname?_.match(p.pathname):null,ot=_.getCurrentRoute(),At=(z==null?void 0:z.width)!==ut.Z.FULL_WITHOUT_TUCKED_FRAME&&(ot==null?void 0:ot.width)===ut.Z.FULL_WITHOUT_TUCKED_FRAME&&!(!((M=p.state)===null||M===void 0)&&M.showFrameUrl);!i&&At&&Q.default.refresh.defer("SevenOneLifecycleProvider handleRouterBeforeChange"),!s&&(z!=null&&z.isSiteStyles)&&!(ot!=null&&ot.isSiteStyles)&&g(),!((j=p.state)===null||j===void 0)&&j.withHeaderEditor&&g(()=>{Ht().then(ft=>{ft&&setTimeout(()=>{ft.openLanguagePickerMenu()},0)})});const Dt=(p==null||(H=p.state)===null||H===void 0?void 0:H.frameUrl)&&v.current&&p.state.frameUrl!==v.current,It=z&&(z.width===ut.Z.FULL||z.width===ut.Z.FULL_WITHOUT_TUCKED_FRAME),yt=(0,K.aEP)((0,N.d6)());if(!(0,St.qN)(yt)||!Dt&&!It){var dt;v.current=p==null||(dt=p.state)===null||dt===void 0?void 0:dt.frameUrl,A();return}if((0,K.Z3A)((0,N.d6)())){(0,N.GE)((0,G.fm)({afterBackOut:()=>A(!1),afterConfirmDiscard:()=>A(),afterConfirmSaveDiscard:()=>{A(!1)}}));return}!((it=_.getCurrentRoute())===null||it===void 0)&&it.isSiteStyles||(0,ct.I6)(ct.ie),A()}},$t=F=>{var g;const _=(0,e.useRef)(F.isReady),s=(0,e.useRef)(F.isLoaded);_.current=F.isReady,s.current=F.isLoaded;const{handleEdit:i,router:v}=F,p=(0,e.useRef)((g=F.router.getCurrentLocation())===null||g===void 0?void 0:g.state.frameUrl);return(0,e.useEffect)(()=>{const A=kt({handleEdit:i,router:v,isLoaded:s,isReady:_,previousFrameUrl:p});return v.onBeforeChange(A)},[i,v,s,_]),null};var Yt=t(434451),wt=t(173606),lt=t(586350),Et=t(121857),bt=t(561755),Xt=t(230924),Ut=t(861385),Jt=t(768809);function Qt(F){return{type:Jt.h,payload:F}}var zt=t(45614),Wt=t(611268),qt=t(469231),Bt=t(338465),Zt=t(538312),ht=t(685763),te=t(800598),Nt=t(362187),ee=t(613672),Ft=t.n(ee),ne=t(714487),gt=t(934951),se=t(985078),oe=t(479348),Pt=t(29606);const ie=F=>{let{isOpen:g,handleDismissMultilingualWarning:_}=F;(0,e.useEffect)(()=>{g&&Pt.Z.viewMultilingualEditModal()},[g]);const[s,i]=(0,e.useState)(!1),v=()=>{Pt.Z.clickMultilingualEditModal({source:"open-weglot"})},p=()=>{Pt.Z.clickMultilingualEditModal({source:"continue-editing"}),s&&oe.Z.grantAchievement(Ft().MULTILINGUAL_EDIT_WARNING_SUPPRESSED),_()};return se.Z.hasAchievement(Ft().MULTILINGUAL_EDIT_WARNING_SUPPRESSED)?null:e.createElement(ht.Z.Transition,null,g&&e.createElement(ht.Z,{"data-test":"multilingual-warning",onRequestClose:p},e.createElement(ht.Z.Overlay,null),e.createElement(ht.Z.Position,{position:"center"},e.createElement(Nt.Z,{py:5,maxWidth:"381px",title:(0,ne.t)("Edit translations?",null,{project:"src.seven-one"}),message:e.createElement(Bt.Z,null,e.createElement(Zt.Z.Body,null,e.createElement(gt.T,{weglotDashboard:e.createElement(Bt.Z,{as:"a",href:"https://dashboard.weglot.com/translations",target:"_blank",onClick:v,"data-test":"weglot-link"},e.createElement(gt.T,{project:"src.seven-one"},"Weglot Dashboard")),project:"src.seven-one"},"To edit a translation, open your {weglotDashboard}.")),e.createElement(Zt.Z.Body,{as:"label",fontSize:2,css:{display:"inline-flex"}},e.createElement(te.Z,{checked:s,onChange:M=>i(M),mr:2,"data-test":"do-not-show-again"}),e.createElement(gt.T,{project:"src.seven-one"},"Don\u2019t show again"))),buttons:[M=>{let{onRequestClose:j}=M;return e.createElement(Nt.Z.Button,{key:"accept","data-test":"accept-button",onClick:j},e.createElement(gt.T,{project:"src.seven-one"},"Continue Editing"))}]}))))};var Kt=t(335598),ae=t(929698),re=t(762379),le=t(444867),de=t.n(le),ce=t(102825),xt=t(865428),ue=t(431190),pt=t(413019),Tt=t(69637),Ee=t(166455),he=t.n(Ee);function w(F,g,_){return g in F?Object.defineProperty(F,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):F[g]=_,F}const vt=(0,L.hu)("SevenOneLifecycleProvider","#47a");var ge;class Ot extends(ge=e.Component){componentDidMount(){if(!rt.Z.isSevenOne())throw new Error("7.1 Lifecycle Provider cannot exist on 7.0");this.actionListener=new(Y())(D.Z);const{isRootUsage:g,cmsDispatch:_,router:s}=this.props;g&&(_((0,Xt.I)()),this.actionListener.addActionListener(Q.default.ENTER_ITEM_EDITING_MODE,this.enterItemEditingMode.bind(this,void 0)),this.actionListener.addActionListener(Q.default.ENTER_ITEM_INLINE_EDITING_MODE,this.enterItemInlineEditingMode),this.actionListener.addActionListener(Q.default.EXIT_SITE_STYLES_EDIT_MODE,this.doExitSiteStylesEditing),this.configWebsiteUnsubscribe=(0,ct.QA)(ct.ie,()=>this.doDiscardChangesAndExitEditMode()),s.getCurrentRoute().isSiteStyles&&this.handleEdit(),(0,xt.Z)()&&this.attemptToRestoreWorkInProgress(),this.attachActionsToYui())}componentWillUnmount(){if(this.enableEditingTimeout&&clearTimeout(this.enableEditingTimeout),this.restoreStateTimeout&&clearTimeout(this.restoreStateTimeout),this.actionListener&&(this.actionListener.removeAllActionListeners(),this.actionListener=null),this.removeRouterOnBeforeChange&&this.removeRouterOnBeforeChange(),this.configWebsiteUnsubscribe&&this.configWebsiteUnsubscribe(),this.props.isRootUsage){var g,_;!((_=window.Y)===null||_===void 0||(g=_.Global)===null||g===void 0)&&g.SevenOneLifecycleActions&&delete window.Y.Global.SevenOneLifecycleActions}}componentDidUpdate(g){this.handleFrameDidUpdate(g),this.attachActionsToYui()}async handleFrameDidUpdate(g){var _,s;const{frameMode:i,isReady:v,isSavingSiteStyles:p}=this.props;this.finishSavingSiteStyles&&!p&&(this.finishSavingSiteStyles(),this.finishSavingSiteStyles=null),this.finishSavingHeaderNav&&(this.finishSavingHeaderNav(),this.finishSavingHeaderNav=null),this.finishSavingBrandIdentity&&(this.finishSavingBrandIdentity(),this.finishSavingBrandIdentity=null),!((s=this.context)===null||s===void 0||(_=s.overlayDocumentRef)===null||_===void 0)&&_.current&&g.isReady!==v&&v&&i!==St.hn.PAGE_EDIT_FULL_SCREEN&&this.queuedEditMode&&(this.handleEdit(this.queuedEditMode.callback),this.queuedEditMode=!1)}getIframeWindow(){const g=document.getElementById("sqs-site-frame");return g?g.contentWindow:null}isEditingContentItem(){return!!this.props.itemId}isEditingBlogItem(){const{collection:g}=this.props;return(0,Ct.j)(g)===mt.A.BLOG_COLLECTION}isEditingProductItem(){const{collection:g}=this.props;return(0,Ct.j)(g)===mt.A.PRODUCT_COLLECTION}async handleEditPage(g){await this.cloneIfDemoPage(),this.enableEditing(g)}handleEditCollectionSettings(){const g=window.CONFIG_PANEL.get("contentBridge").get("controller").get("contextCollection");window.Y.Squarespace.CollectionDialogPortal.showCollectionConfigurationDialog(g.get("id"))}handleEditSiteTitle(){this.handleEdit(()=>{(0,tt.Z)().then(g=>{var _;g==null||(_=g.openHeaderModal)===null||_===void 0||_.call(g,{initialEditorRoute:"headerTitleLogoRoute"})})})}shouldShowMultilingualWarning(){var g,_,s,i,v;const p=this.getIframeWindow(),A=p==null||(g=p.Weglot)===null||g===void 0?void 0:g.getCurrentLang(),M=((i=window.Static)===null||i===void 0||(s=i.SQUARESPACE_CONTEXT)===null||s===void 0||(_=s.website)===null||_===void 0?void 0:_.language)||"",j=S.LocaleResolver.parseLocale(M).language(),H=(v=this.props.router)===null||v===void 0?void 0:v.getCurrentLocation().state.withHeaderEditor;return!!A&&j!==A&&!H}shouldEnterItemEditingMode(){return this.isEditingContentItem()&&!this.isEditingProductItem()}frameToolbarEditStart(){const{isReady:g}=this.props;g&&this.queuedEditMode||$.Z.frameToolbarEditStart()}async attemptToRestoreWorkInProgress(){const{cmsDispatch:g}=this.props;try{const _=await this.loadStateFromLocalForage();_&&this.handleEdit(()=>{g(Qt(_))})}catch(_){console.error(_)}}async loadStateFromLocalForage(){try{let g;if((await d().keys()).forEach(i=>{const v=/^cmsAppState#([a-z0-9]+)$/,p=i.match(v);p&&(g=p[1])}),!g)throw new Error("no collectionId!");return await d().getItem(`cmsAppState#${g}`)}catch(g){console.error("Error loading state from localForage:",g);return}}render(){return e.createElement(n.Z.Provider,{value:{isDirty:this.props.isDirty,doDiscardChangesAndExitEditMode:this.doDiscardChangesAndExitEditMode,doSaveAllChanges:this.doSaveAllChanges,doEnterSiteStylesEditing:this.doEnterSiteStylesEditing,doExitSiteStylesEditing:this.doExitSiteStylesEditing,doToggleEditModePreview:this.doToggleEditModePreview,doSaveAllChangesAndExitWithRedirect:this.doSaveAllChangesAndExitWithRedirect,doDiscardAllChangesAndExitWithRedirect:this.doDiscardAllChangesAndExitWithRedirect,handleEdit:this.handleEdit,handleEditSettings:this.handleEditSettings,handleEditSiteTitle:this.handleEditSiteTitle,disableEditing:this.disableEditing}},this.props.children,e.createElement(ie,{isOpen:this.state.showMultilingualEditWarning,handleDismissMultilingualWarning:this.handleDismissMultilingualWarning}),this.props.isRootUsage&&e.createElement($t,{router:this.props.router,handleEdit:this.handleEdit,isLoaded:this.props.isLoaded,isReady:this.props.isReady}))}constructor(...g){var _;super(...g),_=this,w(this,"state",{isFrameLoaded:!1,showMultilingualEditWarning:!1}),w(this,"attachActionsToYui",()=>{var s;!((s=window.Y)===null||s===void 0)&&s.Global&&(window.Y.Global.SevenOneLifecycleActions={doDiscardChangesAndExitEditMode:this.doDiscardChangesAndExitEditMode,doSaveAllChanges:this.doSaveAllChanges})}),w(this,"cloneIfDemoPage",()=>{var s,i;const v=(i=this.getIframeWindow())===null||i===void 0||(s=i.Static)===null||s===void 0?void 0:s.SQUARESPACE_CONTEXT;if(!v)return;const p=v.collectionId;return new Promise((A,M)=>{window.top.Y.Squarespace.ContentCollectionCache.getCollectionById(p,async H=>{H.get("isDemoCollection")?(await H.cloneToNewCollection({silent:!0}),(0,x.D9)("page"),(0,q.pC)("/"+H.get("urlId"),A)):A()})})}),w(this,"enterItemInlineEditingMode",s=>{(0,xt.Z)()&&this.isEditingBlogItem()?(0,ce.sendEvent)("openBlogPost",{collectionId:this.props.collectionId,postId:this.props.itemId}).catch(i=>console.error(`Could not send event through Mobile Web Bridge.
            If you are debugging in a web environment then this should be okay.
            Otherwise, check that the Mobile Web Container library (@sqs/mobile-web container)
            is functioning properly.`,i)):this.enableEditing(s)}),w(this,"enterItemEditingMode",s=>{var i,v;const p=(v=this.getIframeWindow())===null||v===void 0||(i=v.Static)===null||i===void 0?void 0:i.SQUARESPACE_CONTEXT;if(!p)return;const A=window.top.Y.Squarespace.ContentCollectionCache,M=p.collectionId;A.getCollectionById(M,async j=>{if(j.get("isDemoCollection")){const H=p.itemId;if(!H)return;const{itemFullUrl:it}=await j.cloneToNewCollectionWithItem(H,{silent:!0});(0,x.D9)(j.get("typeName")),(0,q.pC)(it,()=>{this.enterItemInlineEditingMode(s)})}else this.enterItemInlineEditingMode(s)})}),w(this,"_handleItemScheduleSave",s=>(this.props.cmsDispatch((0,lt.f1)({workflowState:U().SCHEDULED,publishOn:s})),this.setState({isSchedulerModalOpen:!1}),this._doSave())),w(this,"handleEditSettings",()=>{if(!this.isEditingContentItem()){try{const{collection:v}=this.getIframeWindow().Static.SQUARESPACE_CONTEXT;$.Z.clickCollectionSettingsGear(v.id,"toolbar")}catch(v){vt(v)}this.handleEditCollectionSettings();return}const{collection:s}=this.getIframeWindow().Static.SQUARESPACE_CONTEXT,{persistedCollectionItem:i}=this.props;(0,x.So)(i),(0,Ct.j)(s)===mt.A.PRODUCT_COLLECTION?y.Z.commerceOpenCreateProductDialog({productId:i.id}):O.Z.showCollectionItemSettingsEditor(i)}),w(this,"handleEdit",s=>{const{isReady:i,isMultilingualConnected:v,router:p}=this.props;if(V.Z.getState().siteStatus===b().EXPIRED){console.error("Can not edit page when expired!");return}v&&this.shouldShowMultilingualWarning()&&this.setState({showMultilingualEditWarning:!0});try{if(T.Z.getState().isEditingCustomCss||(0,Yt.F5)(p))return;if(this.frameToolbarEditStart(),(0,pt.B1)("enter-edit-mode-to-start-edit",{tracer:Tt.Z,spanAttributes:{team:he().WEBSITE_EDITOR}}),(0,k.Y5)(),!i){this.queuedEditMode={callback:s};return}if(this.shouldEnterItemEditingMode()){this.enterItemEditingMode(s);return}this.props.editingSectionArea!==J.Z.FOOTER&&this.handleEditPage(s)}catch(A){const M=window.SQUARESPACE_SENTRY;M&&M.withScope(function(j){j.setTag("project","seven_one_toolbar_edit"),M.captureException(A)})}}),w(this,"_enableEditingAtEndOfCallstackAwait",function(i){(0,Wt.zZ)("cms-enable-editing",(async function(){const{isLoaded:p,cmsDispatch:A}=this.props,M=this.getIframeWindow();if(!(M!=null&&M.document))return;vt("_enableEditingAtEndOfCallstack");let j=null;if(!p)try{j=await A((0,lt.fV)(M))}catch(H){throw new Error("Failed to load sections while enabling editing",{cause:H})}return A((0,G.kI)()),A((0,G.xu)(J.Z.PAGE)),B.Z.load(),A((0,wt.Tj)()),p||A((0,Et.eF)()),typeof i=="function"&&i(),p?void 0:j}).bind(this))}),w(this,"_enableEditingAtEndOfCallstackWithPotentialRaceConditions",function(i){(0,Wt.zZ)("cms-enable-editing",(async function(){const{isLoaded:p,cmsDispatch:A}=this.props,M=this.getIframeWindow();if(!(M!=null&&M.document))return;if(vt("_enableEditingAtEndOfCallstack"),A((0,G.kI)()),A((0,G.xu)(J.Z.PAGE)),B.Z.load(),A((0,wt.Tj)()),p){typeof i=="function"&&i();return}let j;try{j=await A((0,lt.fV)(M))}catch(H){throw new Error("Failed to load sections while enabling editing",{cause:H})}return A((0,Et.eF)()),typeof i=="function"&&i(),j}).bind(this))}),w(this,"_enableEditingAtEndOfCallstack",function(i){re.Z.isFeatureEnabled(de().AWAIT_SECTION_DATA_LOADING)?this._enableEditingAtEndOfCallstackAwait(i):this._enableEditingAtEndOfCallstackWithPotentialRaceConditions(i)}),w(this,"enableEditing",s=>{window.clearTimeout(this.enableEditingTimeout),this.enableEditingTimeout=window.setTimeout(this._enableEditingAtEndOfCallstack.bind(this,s),0)}),w(this,"disableEditing",()=>{const{cmsDispatch:s,isHeaderModalOpen:i}=this.props;vt("disableEditing"),window.clearTimeout(this.enableEditingTimeout),s((0,G.xu)(J.Z.NOT_EDITING)),(0,Z.b)(),i&&s((0,G.jJ)(!1))}),w(this,"_doSave",async s=>{const{cmsDispatch:i}=this.props;Kt.Z.saveUploads(A=>(0,ae.q5)(A.fieldId));const v=[(0,P.Z)(s)];v.push(this.doSaveSiteStyles()),v.push(this.doSaveHeaderNav()),v.push(this.doSaveBrandIdentity());const[p]=await Promise.all(v);if(p instanceof Error)throw p;return m.Z.requestNewScreenshot().then(A=>{let{data:M}=A;(0,f.broadcastRequestNewScreenshotEvent)({token:M==null?void 0:M.id})}).catch(A=>{throw new Error("Failed to request new screenshot when saving edit",{cause:A})}),p}),w(this,"_doSaveAndExitEditMode",async s=>{const i=await this._doSave(s);if(i){const{itemFullUrl:v,collectionFulUrl:p}=i;return this.doExitEditMode(v||p)}}),w(this,"_doSaveAndPublish",async()=>{let s={enableCollectionOnSave:!0};if(this.isEditingContentItem()){const i={workflowState:U().PUBLISHED};(0,ue.VX)(this.props.currentCollectionItem)&&(i.publishOn=new Date().getTime()),this.props.cmsDispatch((0,lt.f1)(i)),s=null}this._doSaveAndExitEditMode(s)}),w(this,"navigateAwayFromSiteStyles",()=>{var s;const{router:i,preSiteStylesLocation:v}=this.props;!((s=i.getCurrentRoute())===null||s===void 0)&&s.isSiteStyles&&i.push((v==null?void 0:v.pathname)||"/design")}),w(this,"doEnterSiteStylesEditing",async function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qt.ZP.ROOT;await _.cloneIfDemoPage(),_.props.router.push(s);const{cmsDispatch:i,isLoaded:v}=_.props;i((0,G.Pj)(!1)),i((0,G.hp)()),window.clearTimeout(_.enableEditingTimeout),i((0,G.xu)(J.Z.NOT_EDITING)),i((0,G.is)());const p=_.getIframeWindow();if(!v)try{await i((0,lt.fV)(p))}catch(M){throw new Error("Failed to load sections while entering site styles editing",{cause:M})}await i((0,Et.eF)());const A=document.querySelector(".sqs-configuration-menu-header button");A&&A.focus()}),w(this,"doExitSiteStylesEditing",()=>{this.enableEditing(()=>{this.navigateAwayFromSiteStyles()})}),w(this,"doToggleEditModePreview",s=>{const{cmsDispatch:i}=this.props;s?(i((0,G.Iw)()),i((0,G.is)()),i((0,G.xu)(J.Z.NOT_EDITING)),i((0,G.Pj)(s))):(i((0,G.xu)(J.Z.PAGE)),i((0,G.NF)(!0)),i((0,G.Pj)(s)),this.restoreStateTimeout=setTimeout(()=>{i((0,G.dT)())},0))}),w(this,"doExitEditMode",s=>{var i,v;(v=window.Y)===null||v===void 0||(i=v.Global)===null||i===void 0||i.detachAll("section:theme:change"),this.navigateAwayFromSiteStyles(),this.disableEditing(),this.props.cmsDispatch((0,G.Pj)(!1)),this.props.cmsDispatch((0,G.Rw)()),(0,et._w)().setIsSettingsOpen({isSettingsOpen:!1,openSettingsId:"",openSectionToolbarRect:null}),s&&(0,o.isString)(s)?Q.default.setUrl.defer(s):Q.default.refresh.defer("FrameToolbar doExitEditMode")}),w(this,"doSaveSiteStyles",()=>{if(this.props.isSiteStylesDirty){const{cmsDispatch:s}=this.props,i=window.Static.SQUARESPACE_CONTEXT,{tweakApi:v}=(0,X.Z)(i.pageType,i);return s((0,Ut.Ne)(v)),s((0,bt.FC)()),new Promise((p,A)=>{this.finishSavingSiteStyles=p})}}),w(this,"doSaveHeaderNav",()=>{if(this.props.isHeaderNavDirty){const{contentBrowserDispatch:s,currentHeaderNav:i}=this.props;return s((0,zt.k_)(i)),new Promise((v,p)=>{this.finishSavingHeaderNav=v})}}),w(this,"doSaveBrandIdentity",()=>{if(this.props.isBrandIdentityDirty){const{cmsDispatch:s}=this.props;return s((0,Et.wW)()),new Promise((i,v)=>{this.finishSavingBrandIdentity=i})}}),w(this,"doDiscardChangesAndExitEditMode",async(s,i)=>{const{cmsDispatch:v,frameMode:p,isSiteStylesDirty:A}=this.props;if((0,St.qN)(p)){if(A&&(v((0,Ut.XF)()),i)){this.doExitEditMode();return}Kt.Z.clearUploads(),(0,Z.D)(),this.doExitEditMode(s)}}),w(this,"doSaveAllChanges",async s=>{if(s&&s.hasOwnProperty("publish"))return this._doSaveAndPublish();if(s&&s.hasOwnProperty("scheduleOn"))return this._handleItemScheduleSave(s.scheduleOn);if(s&&s.hasOwnProperty("exit"))return this._doSaveAndExitEditMode();await this._doSave()}),w(this,"doSaveAllChangesAndExitWithRedirect",async s=>{if(await this._doSaveAndExitEditMode(),s){const{router:i}=this.props;i.push(s)}}),w(this,"doDiscardAllChangesAndExitWithRedirect",async s=>{if(await this.doDiscardChangesAndExitEditMode(),s){const{router:i}=this.props;i.push(s)}}),w(this,"handleDismissMultilingualWarning",()=>{this.setState({showMultilingualEditWarning:!1})})}}w(Ot,"propTypes",{isDirty:u().bool,editingSectionArea:u().string,isReady:u().bool,itemId:u().string,collection:u().object,router:u().object,isSavingSiteStyles:u().bool,isSiteStylesDirty:u().bool,isRootUsage:u().bool,isHeaderNavDirty:u().bool,isBrandIdentityLoading:u().bool,isBrandIdentityLoaded:u().bool,isBrandIdentityDirty:u().bool}),w(Ot,"contextType",st.it);let _t=null;function ve(F){const g=F.toJS();return(0,o.isEqual)(_t,g)||(_t=g),_t}const fe={getStores(){return[W.Z,at.default]},getPropsFromStores(F){const{collectionId:g,item:_,itemId:s}=F,{isControllerInitialized:i}=W.Z.getState(),v=g&&at.default.getState().get(g)||null;return{collection:v?ve(v):null,isReady:i&&!!(!g||v)&&!!(!s||_)}}},me=E()(fe,Ot);var Gt=t(487558),Ce=t(661614),jt=t(504049),Se=t(52151),Pe=t(832155);const pe=F=>{let{children:g,isRootUsage:_,location:s,router:i}=F;const v=(0,N.zC)(),p=(0,Gt.Sb)(),A=(0,N.Ze)(K.gEH),M=(0,N.Ze)(K.Mlk),j=(0,N.Ze)(K.aEP),H=(0,N.Ze)(K.Zl0),it=(0,N.Ze)(K.J34),z=(0,N.Ze)(K.FCp),ot=(0,N.Ze)(K.dzl),At=(0,N.Ze)(K.Hlz),Dt=(0,N.Ze)(K.U75),It=(0,N.Ze)(K.Zxu),yt=(0,N.Ze)(K.gEH),dt=(0,N.Ze)(K.x38),ft=(0,N.Ze)(K.Z3A),Oe=(0,N.Ze)(K.gqq),_e=(0,N.Ze)(K.fPO),Ae=(0,N.Ze)(K.K87),De=(0,N.Ze)(K.UYk),Ie=(0,N.Ze)(K.aWX),ye=(0,Gt.k1)(Ce.$q),Lt=(0,N.Ze)(K.e9i),Le=(0,o.isEqual)(Lt,Se.l),Me=(0,N.Ze)(K.csp),Re=(0,N.Ze)(K.m77),we=(0,N.Ze)(K.lsC);return(0,e.useEffect)(()=>{var Mt;if(_&&!(!((Mt=i.getCurrentRoute())===null||Mt===void 0)&&Mt.isSiteStyles)){const Rt=s.pathname;v((0,G.ou)({pathname:Rt})),Rt==="/"&&(v((0,jt.s3)("")),v((0,jt.u9)(!1))),Rt==="/pages"&&((0,pt.B1)("click-pages-nav-to-plus-button-ready",{tracer:Tt.Z}),(0,pt.B1)("click-pages-nav-to-pages-panel-ready",{tracer:Tt.Z}))}},[v,_,i,s]),e.createElement(me,{cmsDispatch:v,contentBrowserDispatch:p,isRootUsage:_,router:i,currentCollectionItem:A,persistedCollectionItem:M,frameMode:j,isLoaded:H,isSiteStylesDirty:it,isSavingSiteStyles:z,preSiteStylesLocation:ot,deviceView:At,isMultilingualConnected:Dt,collectionId:It,item:yt,itemId:dt,isDirty:ft,isSaving:Oe,editingSectionArea:_e,isHeaderModalOpen:Ae,canRedo:De,siteTitle:Ie,isHeaderNavDirty:!Le&&!(0,o.isEqual)(Lt,ye),currentHeaderNav:Lt,isBrandIdentityLoaded:Re,isBrandIdentityLoading:Me,isBrandIdentityDirty:we},g)},Te=(0,Pe.S)((0,l.Z)(pe))},999140:function(R,C,t){t.d(C,{Z:()=>d});var e=t(174161),l=t(845076),o=t.n(l),a=t(414466),u=t.n(a),r=t(423423);class d extends e.Component{render(){return e.createElement(r.Z,{componentDidCatch:this.componentDidCatch,errorClassName:o()("sqs-damask-panel",u().errorPanel)},e.createElement("div",{className:this.props.className},this.props.children))}}},434451:function(R,C,t){t.d(C,{F5:()=>d,ML:()=>E,PK:()=>r,gW:()=>c,wj:()=>u});var e=t(175424),l=t(874644);const o=["/config/commerce/customer-notifications","/config/commerce/product-tax-code","/config/design/checkout","/config/design/lock-screen","/config/design/access-denied-screen","/config/design/404","/config/pages/system-pages/checkout","/config/pages/system-pages/lock-screen","/config/pages/system-pages/access-denied-screen","/config/pages/system-pages/404","/config/pages/checkout","/config/pages/lock-screen","/config/pages/access-denied-screen","/config/pages/404","/config/marketing/popup-overlay","/config/paywall"],a=[/^\/config\/pages\/[^/]+\/paywall/i],u=(S,h)=>{const U="/config/replace-fonts";return S.startsWith(U)&&h===l.hn.PREVIEW_LEFT_PANEL},r=S=>o.some(h=>S.startsWith(h))||a.some(h=>h.test(S)),d=S=>{const h=["/cart"],U=".system-page";if(h.some(m=>{var f;return m===((f=S.getCurrentLocation())===null||f===void 0?void 0:f.state.frameUrl)}))return!0;try{var L;return!!(!((L=(0,e.wo)())===null||L===void 0)&&L.querySelector(U))}catch{}return!1},c=S=>{var h;return((h=S.getCurrentRoute())===null||h===void 0?void 0:h.isSiteStyles)&&d(S)},E=["/config/design/checkout","/config/pages/system-pages/checkout","/config/pages/checkout","/config/marketing/popup-overlay"]},339951:function(R,C,t){t.d(C,{N:()=>u});var e=t(976003),l=t.n(e),o=t(174161);function a(r,d,c){let E=d(r.getState());return r.listen(S=>{const h=d(S);l()(E,h)||(c({prevValue:E,newValue:h}),E=h)})}function u(r,d){const[c,E]=(0,o.useState)(d(r.getState()));return(0,o.useEffect)(()=>{const S=a(r,d,h=>{let{newValue:U}=h;E(U)});return()=>S()},[r,d]),c}},899118:function(R,C,t){t.d(C,{g:()=>l,o:()=>u});var e=t(802671);const l=r=>r&&r.classList&&r.classList.contains(e.OQ),o={style:{type:"text/css"}},a={element:"div",styles:{},attrs:{},className:"",content:"",id:""},u=r=>{const d={...a,...r};d.className+=" "+e.OQ;const c=document.createElement(d.element);c.className=d.className,c.id=d.id,c.innerHTML=d.content||"";const E={...d.element in o?o[d.element]:{},...d.attrs};return Object.keys(E).forEach(S=>{c[S]=E[S]}),Object.keys(d.styles).forEach(S=>{c.style[S]=d.styles[S]}),c}},246895:function(R,C,t){t.d(C,{Z:()=>L});var e=t(419467),l=t.n(e),o=t(456903),a=t(929759),u=t(723796),r=t(759352),d=t(347709),c=t(899118),E=t(916661),S=t(462011);const h=(0,u.$S)("StyleTweakAPI"),U={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};class L extends S.Z{save(f){const{tweakValues:T,siteThemeSettings:y}=f,B={tweakJson:T,siteThemeSettings:y},x=(0,r.Mq)(B);return o.default.post(`${this.apiRoot}/template/SetTemplateTweakSettings`,x,U)}async reset(){return(await o.default.get(`${this.apiRoot}/tweaks/default`)).data.tweakValues}async fetchTemplateTweakSettings(){const f=`${this.apiRoot}/template/GetTemplateTweakSettings`,T="?version=3",y=await o.default.get(`${f}${T}`);return this.removeUnusedTweaks(y.data)}async fetchCleanCss(){const{data:f}=await o.default.get("/site.css?t="+Date.now());return f}getTargetNode(){return this.target=this.getFrameWindow().document.body,this.target}getStyleNode(){const f=this.getFrameWindow().document;return f.getElementById("_siteCss")||f.querySelector(d.lJ)}injectCustomCssNode(f){const T=this.getFrameWindow(),y=(0,e.get)(T,"document.head");y?y.appendChild(f):h("Tried to inject a custom css node but document not available",{iframeWindow:T,node:f})}injectTweakStyleNode(f,T){const y=this.getFrameWindow(),B=(0,e.get)(y,"document.head");B?B.insertBefore(f,T):h("Tried to inject a tweak style node but document not available",{iframeWindow:y,node:f,customCssNode:T})}cleanCss(f){const T=this.getFrameWindow(),y=(0,e.get)(T,"document.head");y?y.appendChild((0,c.o)({id:"_siteCss",element:"style",content:f})):h("Tried to inject css cleanup style tag but document not available",{iframeWindow:T,cleanCss:f})}trackSaveChanges(f){(0,a.rI)("styles");for(const T of f)(0,a.IV)("styles",T)}trackCancelChanges(){(0,a.gI)("styles")}async fetchTweakEngineProperties(){const f=`${this.apiRoot}/tweak-engine?tweakValues=false`,{data:T}=await o.default.get(f);return T}removeUnusedTweaks(f){let T=["mobile-site-navigation-font","mobile-site-navigation-font-font-size-override"];if(!E.Z.isSevenOne()||(T=T.concat(["tweak-product-quick-view-lightbox-background-color","tweak-product-quick-view-lightbox-text-color"])),T.length>0){const B=f.tweakDefinitions.filter(x=>!T.includes(x.title));f.tweakDefinitions=B}return f}}},462011:function(R,C,t){t.d(C,{Z:()=>a});var e=t(456903),l=t(759352);function o(u,r,d){return r in u?Object.defineProperty(u,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[r]=d,u}class a{async fetchCustomCss(){const{data:{css:r}}=await e.default.get(`${this.apiRoot}/template/GetTemplateCustomCss`);return r}async saveCustomCss(r){const d=(0,l.Mq)({css:r}),c={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};return await e.default.post(`${this.apiRoot}/template/SetTemplateCustomCss`,d,c),r}setFrameWindow(r){this.frameWindow=r}getFrameWindow(){return this.frameWindow}setFramePositionGetter(r){this.framePositionGetter=r}getFramePosition(){return this.framePositionGetter?this.framePositionGetter():{}}async waitForReady(){}trackSaveChanges(r){}trackCancelChanges(){}async fetchTweakEngineProperties(){return{}}constructor(r={}){o(this,"apiRoot","/api"),o(this,"settings",void 0),o(this,"target",void 0),o(this,"data",void 0),o(this,"frameWindow",null),o(this,"framePositionGetter",void 0),this.apiRoot="/api",this.settings={...r}}}},879549:function(R,C,t){t.d(C,{Z:()=>Z});var e=t(113580),l=t.n(e),o=t(564666),a=t(456903),u=t(347709),r=t(899118),d=t(462011);function c(P,n,O){return n in P?Object.defineProperty(P,n,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[n]=O,P}class E extends d.Z{getUrl(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"/tweaks";const{slideId:O}=this.data;return`${this.apiRoot}/slides/${O}${n}`}save(n){const{tweakValues:O}=n,D={tweakValues:O},I={...this.data,...D};return a.default.put(this.getUrl(),I)}async reset(){const{data:{tweakValues:n}}=await a.default.get(this.getUrl("/tweaks/default"));return n}async fetchCleanCss(){const{data:n}=await a.default.get(this.getUrl("/styles"));return n}getTargetNode(){const n=(0,u.QA)(this.pageType);return this.target=this.getFrameWindow().document.querySelector(`${n} .sqs-slide-container`),this.target}getStyleNode(){return this.getFrameWindow().document.getElementById(u.Xs)}injectCustomCssNode(n){this.target.appendChild(n)}injectTweakStyleNode(n,O){this.target.insertBefore(n,O)}cleanCss(n){const O=this.getStyleNode();O?O.innerHTML=n:this.getFrameWindow().document.head.appendChild((0,r.o)({id:u.Xs,element:"style",content:n}))}constructor(...n){super(...n),c(this,"pageType",o.Z.SPLASH_PAGE)}}class S extends E{async fetchTemplateTweakSettings(){const O=`/api/content-collections/${this.settings.collectionId}/slide-tweaks?version=3`,{data:D}=await a.default.get(O);return this.data=D,D}}const h=S;function U(P,n,O){return n in P?Object.defineProperty(P,n,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[n]=O,P}class L extends E{async fetchTemplateTweakSettings(){const{data:n}=await a.default.get("/api/lock-screen/slide-tweaks?t="+Date.now()+"&version=3");return this.data=n,n}constructor(...n){super(...n),U(this,"pageType",o.Z.LOCK_SCREEN)}}const m=L;function f(P,n,O){return n in P?Object.defineProperty(P,n,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[n]=O,P}class T extends E{async fetchTemplateTweakSettings(){const{data:n}=await a.default.get(`${this.apiUrl}/slide-tweaks?t=${Date.now()}&version=3`);return this.data=n,n}constructor(...n){super(...n),f(this,"apiUrl",`${this.apiRoot}/sso-screen`),f(this,"pageType",o.Z.SSO_PAGE)}}function y(P,n,O){return n in P?Object.defineProperty(P,n,{value:O,enumerable:!0,configurable:!0,writable:!0}):P[n]=O,P}class B extends E{async fetchTemplateTweakSettings(){const{data:n}=await a.default.get("/api/popup-overlay/slide-tweaks?t="+Date.now()+"&version=3");return this.data=n,n}async waitForReady(){if(!this.getTargetNode())return new Promise(n=>{window.Y.Global.once("popupOverlay:ready",n,this)})}constructor(...n){super(...n),y(this,"pageType",o.Z.POPUP_OVERLAY)}}var x=t(929759),$=t(246895);class tt extends $.Z{getUrl(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return`${this.apiRoot}/system-pages/checkout/tweaks${n}`}async fetchTemplateTweakSettings(){return a.default.get(this.getUrl()+"?version=3").then(n=>(this.data=n.data,n.data))}save(n){var O;const{tweakValues:D}=n,I=((O=this.data)===null||O===void 0?void 0:O.tweakValues)??{},Y=Object.keys(I).length===0,k={tweakValues:D},X={...this.data,...k};return Y?a.default.post(this.getUrl(),X).catch(V=>{if(V.response.status===400)return a.default.put(this.getUrl(),X);throw V}):a.default.put(this.getUrl(),X)}async reset(){const{data:{tweakValues:n}}=await a.default.get(this.getUrl("/defaults"));return n}async fetchCleanCss(){return a.default.get(this.getUrl("/stylesheet")).then(n=>n.data)}setFrameWindow(){for(var n=arguments.length,O=new Array(n),D=0;D<n;D++)O[D]=arguments[D];super.setFrameWindow(...O);const I=(0,r.o)({element:"style",content:`#sqs-standard-checkout.in-design-mode #checkout-page{
        pointer-events: all !important;
      }`});this.getTargetNode().appendChild(I)}getStyleNode(){return this.getFrameWindow().document.getElementById(u.qn)}cleanCss(n){const O=this.getStyleNode();if(O)O.innerHTML=n;else{const D=this.getFrameWindow().document.head;if(!D)return;D.appendChild((0,r.o)({id:u.qn,element:"style",content:n}))}}trackSaveChanges(n){(0,x.rI)("checkout");for(const O of n)(0,x.IV)("checkout",O)}trackCancelChanges(){(0,x.gI)("checkout")}}const et={[l().SPLASH_PAGE]:o.Z.SPLASH_PAGE,[l().LOCK_SCREEN]:o.Z.LOCK_SCREEN,[l().CHECKOUT]:o.Z.CHECKOUT,[l().POPUP_OVERLAY]:o.Z.POPUP_OVERLAY,[l().SSO_PAGE]:o.Z.SSO_PAGE},q=new $.Z,W={[o.Z.SPLASH_PAGE]:P=>{const{collectionId:n}=P;return new h({collectionId:n})},[o.Z.LOCK_SCREEN]:()=>new m,[o.Z.CHECKOUT]:()=>new tt,[o.Z.POPUP_OVERLAY]:()=>new B,[o.Z.SSO_PAGE]:()=>new T,[o.Z.STYLE]:()=>q},Z=(P,n)=>{const O=et[P]||o.Z.STYLE;return{tweakApi:W[O](n),pageType:O}}},29606:function(R,C,t){t.d(C,{Z:()=>r});var e=t(283635),l=function(d){return d.MULTILINGUAL="multilingual",d.LANGUAGE_PANEL="language-panel",d.CUSTOMER_NOTIFICATIONS_PANEL="customer-notifications-panel",d}(l||{});const o=l;var a=t(791397);class u extends e.Z{viewMultilingualEditModal(){this.track({event_name:"Multilingual_UserViewsEditModal",action:"view",object_type:"modal",product_area:o.MULTILINGUAL})}clickMultilingualEditModal(c){let{source:E}=c;this.track({event_name:"Multilingual_UserClicksEditModal",action:"click",object_type:"modal",object_identifier:E,product_area:o.MULTILINGUAL})}clickLanguagePanelLink(c){let{source:E,productArea:S=o.LANGUAGE_PANEL}=c;this.track({event_name:"LanguagePanel_UserClicksLink",action:"click",object_type:"link",object_identifier:E,product_area:S})}clickLanguagePanelMultilingualButton(c){let{source:E,planStatus:S}=c;this.track({event_name:"LanguagePanel_UserClicksMultilingualButton",action:"click",object_type:"button",object_identifier:E,plan_status:S,product_area:o.LANGUAGE_PANEL}),E==="connect"?a.Z.trackConnectClicked("weglot","language-region-panel"):E==="disconnect"&&a.Z.trackDisconnectConfirmClicked("weglot","language-region-panel")}clickMultilingualLanguageDropdown(c){let{source:E}=c;this.track({event_name:"LanguagePanel_UserClicksMultilingualDropdown",action:"click",object_type:"dropdown",object_identifier:E,product_area:o.LANGUAGE_PANEL})}viewLanguagePanelModal(c){let{source:E}=c;this.track({event_name:"LanguagePanel_UserViewsModal",action:"view",object_type:"modal",object_identifier:E,product_area:o.LANGUAGE_PANEL})}clickMultilingualCustomerNotificationsOptOutToggle(c){let{isOptOut:E}=c;this.track({event_name:"Multilingual_UserTogglesCustomerNotifications",product_area:o.MULTILINGUAL,action:"click",object_type:"toggle",object_identifier:"multilingual-customer-notifications",is_opt_out_multilingual_customer_notifications:E})}clickCustomerNotificationsPanelLink(c){let{source:E}=c;this.track({event_name:"CustomerNotificationsPanel_UserClicksLink",product_area:o.CUSTOMER_NOTIFICATIONS_PANEL,action:"click",object_type:"link",object_identifier:E})}clickCustomerNotificationsEmailPreviewLanguage(c){let{source:E,previewLanguage:S}=c;this.track({event_name:"CustomerNotificationsPanel_UserClicksEmailPreviewLanguage",product_area:o.CUSTOMER_NOTIFICATIONS_PANEL,action:"click",object_type:"dropdown",object_identifier:E,multilingual_email_preview_language:S})}constructor(){super("LanguageRegion",{event_owner_team:"i18n_engineering",event_source:"web",actor:"user"})}}const r=new u},347709:function(R,C,t){t.d(C,{QA:()=>S,Xs:()=>d,lJ:()=>r,qG:()=>E,qn:()=>c});var e=t(963351),l=t.n(e),o=t(564666),a=t(150825);const u={[o.Z.POPUP_OVERLAY]:`.sqs-slide-wrapper[data-slide-type="${a.Z[l().POPUP_OVERLAY]}"]`,[o.Z.SPLASH_PAGE]:`.sqs-slide-wrapper[data-slide-type="${a.Z[l().COVER_PAGE]}"]`,[o.Z.LOCK_SCREEN]:`.sqs-slide-wrapper[data-slide-type="${a.Z[l().LOCK_SCREEN]}"]`,[o.Z.SSO_PAGE]:`.sqs-slide-wrapper[data-slide-type="${a.Z[l().SSO_SCREEN]}"]`},r='link[href*="site.css"]',d="slide-styles",c="checkout-page-styles",E=h=>`.sqs-slide-wrapper[data-slide-type="${a.Z[h]}"]`,S=h=>(h?u[h]:"")||""}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/4af66e461476f171/55628-128c31a776102f5f-min.en-US.js.map