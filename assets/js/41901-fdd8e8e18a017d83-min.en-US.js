"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["41901"],{114971:function(j,R,r){r.d(R,{Z:()=>g});var N=r(221661),f=r(981491),U=r(994336),O=r.n(U),l=r(886346);const b="SiteUserInfo",y=()=>{const s=O().get(b);if(!s)return null;try{return JSON.parse(s)}catch(d){return console.error("Could not parse user info cookie value",d),null}},L={isAuthenticated(){const s=y();return!!(s!=null&&s.authenticated)},getSiteUserId(){const s=y();return s==null?void 0:s.siteUserId}};function T(){return{end_user_session_id:O().get(l.oV),ss_cvr:O().get(l.Y7),email_derived_user_id:L.getSiteUserId()}}class k{constructor(d,m){this.tracker=new N.SiteVisitorClient({customSchemaName:d,sourceEnvironment:f.isInternal()?N.SourceEnvironment.STAGING:N.SourceEnvironment.PROD},m)}track(d){const m=T();m.ss_cvr&&this.tracker.track({...m,...d})}}const g=k},46612:function(j,R,r){r.d(R,{gH:()=>it,rS:()=>st,CY:()=>ct,nR:()=>_t,ct:()=>vt,w0:()=>dt,JY:()=>q,kM:()=>Ct,xd:()=>H,f$:()=>Et,Ij:()=>rt,AE:()=>Pt,NQ:()=>$,tz:()=>Z,nI:()=>et,l5:()=>z,bR:()=>ot,Nj:()=>ut,ep:()=>gt,f4:()=>lt,Au:()=>tt,mt:()=>mt,JU:()=>nt});var N=r(714011),f=r(283635),U=r(456903),O=r(461761),l=r.n(O),b=r(696049),y=r(566856),u=r.n(y),L=r(714487),T=function(t){return t.FREE="free",t.OTP="one_time",t.RECURRING="recurring",t.INSTALLMENTS="installments",t}({});function k(t){var e;return t?t.subscribable?((e=t.subscriptionPlan)===null||e===void 0?void 0:e.numBillingCycles)===0?"recurring":"installments":"one_time":"free"}function g(t){var e;return((e=t.pricingOptions)===null||e===void 0?void 0:e.length)||0}function s(t){return t.pricingType===u().FREE?"free":g(t)?t.pricingType===u().RECURRING?"recurring":t.pricingOptions[0].numBillingCycles>1?"installments":"one_time":null}function d(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.pricingType===u().RECURRING&&g(t)&&t.pricingOptions[e].billingPeriod?t.pricingOptions[e].billingPeriod.value:null}function m(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.pricingType!==u().FREE&&g(t)&&t.pricingOptions[e].billingPeriod?t.pricingOptions[e].billingPeriod.unit:null}function D(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(t.pricingType!==u().FREE&&g(t)&&t.pricingOptions[e].price){const i=t.pricingOptions[e].price,o=(0,L.Wj)(i.currency).digits;return b.default.fromJson(i).toSubunits(o)}return null}function K(t){return g(t)?t.pricingOptions.map((e,i)=>({membership_billing_frequency:d(t,i),membership_duration_timeframe:m(t,i),membership_fee:D(t,i)})):null}function V(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.pricingType!==u().FREE&&g(t)&&t.pricingOptions[e].price?b.default.fromJson(t.pricingOptions[e].price).currencyCode:null}function M(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return g(t)?t.pricingOptions[e].numBillingCycles:null}function J(t){return t.benefits.map(e=>e.description)}var c=r(228946),n=r(679085),F=r(114971),Q=r(162286),W=r.n(Q);const S=new f.Z("DigitalProductsPricing",{event_owner_team:"digital_products",event_source:"web",product_area:"pricing_plan",website_id:l()(window,"Static.SQUARESPACE_CONTEXT.website.id",null),member_account_id:l()(window,"Static.SQUARESPACE_CONTEXT.authenticatedAccount.id",null)}),E=new f.Z("MemberAreas",{event_owner_team:"digital_products",event_source:"web",product_area:"DigitalProducts",website_id:l()(window,"Static.SQUARESPACE_CONTEXT.website.id",null),member_account_id:l()(window,"Static.SQUARESPACE_CONTEXT.authenticatedAccount.id",null)}),X=new f.Z("MemberAreas",{event_owner_team:"member_areas",event_source:"web",product_area:"member_areas",website_id:l()(window,"Static.SQUARESPACE_CONTEXT.website.id",null),member_account_id:l()(window,"Static.SQUARESPACE_CONTEXT.authenticatedAccount.id",null)}),p=new F.Z("MemberAreasSiteVisitors",{event_owner_team:"member_areas",event_source:"web",product_area:"member_areas",website_id:l()(window,"Static.SQUARESPACE_CONTEXT.website.id",null),context_website_id:l()(window,"Static.SQUARESPACE_CONTEXT.website.id",null)}),w=t=>{var e;return((e=t.pricingOptions)===null||e===void 0?void 0:e.length)||0},Y=t=>w(t)?t.pricingOptions.map((e,i)=>({payment_frequency_count:d(t,i),payment_frequency_unit:m(t,i),payment_value:D(t,i)})):(console.warn(`EventTracker was unable to determine pricing options for pricingPlanId: ${t.id}`),null);function I(t,e){var i,o,P,C,_;const{pricingPlan:v,websiteId:A}=t,a=v.selectedPricingOption,G=a==null||(i=a.price)===null||i===void 0?void 0:i.value;return{actor:n.Tc.USER,action:n.aO.VIEW,website_id:A,member_area_id:v.id,member_area_name:v.name,member_area_description:v.description,membership_fee_type:x(v.pricingType),membership_fee:G&&Math.round(Number(G)*100),currency_code:a==null||(o=a.price)===null||o===void 0?void 0:o.currency,membership_billing_frequency:a==null||(P=a.billingPeriod)===null||P===void 0?void 0:P.value,membership_duration_timeframe:a==null||(C=a.billingPeriod)===null||C===void 0?void 0:C.unit,num_billing_cycles:a==null?void 0:a.numBillingCycles,total_ma_benefits:((_=v.benefits)===null||_===void 0?void 0:_.length)??0,event_name:e,object_type:n.g.MODAL}}function x(t){return t===u().FREE?T.FREE:t===u().FIXED_AMOUNT?T.OTP:t===u().RECURRING?T.RECURRING:T.FREE}var St=null,H=function(t){return t.COLLECTION_PANEL="CollectionPanel",t.MEMBER_SITE_SETTINGS="MemberSiteSettings",t.BANNER="banner",t.MODAL="modal",t}({}),Z=function(t){return t.COURSE="course",t.VIDEO_COLLECTION="video-collection",t.MEMBER_SITE="member-site",t.BLOG="blog",t}({});function $(t){const e={actor:n.Tc.USER,action:n.aO.CLICK,event_name:"DigitalProducts_Click_AddDigitalProductsPage",object_type:n.g.BUTTON,object_value:t},{event_name:i,...o}=e;E.track(e),c.fireEvent(i,o)}function z(t){const e={actor:n.Tc.USER,action:n.aO.SELECT,event_name:"DigitalProducts_Remove_PricingPlan",object_type:n.g.BUTTON,object_value:n.Qo.ADD,...h(t)},{event_name:i,...o}=e;S.track(e),c.fireEvent(i,o)}function q(t){const e={actor:n.Tc.USER,action:n.aO.SELECT,event_name:"DigitalProducts_Add_PricingPlan",object_type:n.g.BUTTON,object_value:n.Qo.ADD,...h(t)},{event_name:i,...o}=e;S.track(e),c.fireEvent(i,o)}function tt(){const t={actor:n.Tc.USER,action:n.aO.VIEW,event_name:"DigitalProducts_View_PricingPlan",object_type:n.g.PANEL},{event_name:e,...i}=t;S.track(t),c.fireEvent(e,i)}function et(){const t={actor:n.Tc.USER,action:n.aO.VIEW,event_name:"DigitalProducts_View_MaxPricingPlanReached",object_type:n.g.PANEL,object_value:n.Qo.MAX_PRICING_PLAN_REACHED},{event_name:e,...i}=t;S.track(t),c.fireEvent(e,i)}function nt(){const t={actor:n.Tc.USER,action:n.aO.SELECT,event_name:"DigitalProducts_Click_AddExistingPricingPlan",object_type:n.g.BUTTON,object_value:n.Qo.EXISTING_PRICING_PLAN},{event_name:e,...i}=t;S.track(t),c.fireEvent(e,i)}function it(){const t={event_name:"DigitalProducts_View_CustomerAccountsSSLModal",action:n.aO.VIEW,actor:n.Tc.USER,object_type:n.g.MODAL,object_value:n.Qo.DP_SUPPORT_MODAL,modal_version:"digital_products"},{event_name:e,...i}=t;E.track(t),c.fireEvent(e,i)}function ot(){const t={event_name:"DigitalProducts_Click_DismissCustomerAccountsSSLModal",action:n.aO.CLICK,actor:n.Tc.USER,object_type:n.g.BUTTON,object_value:n.Qo.NOT_NOW_DP_SUPPORT_MODAL,modal_version:"digital_products"},{event_name:e,...i}=t;E.track(t),c.fireEvent(e,i)}function Tt(t){const e={event_name:"DigitalProducts_Click_UpgradeSubscription",action:ACTIONS.CLICK,actor:ACTORS.USER,object_type:OBJECT_TYPES.BUTTON,object_value:OBJECT_VALUES.UPGRADE_SUBSCRIPTION,modal_type:t.modalType,modal_version:"digital_products"},{event_name:i,...o}=e;E.track(e),FullStory.fireEvent(i,o)}function rt(t){const e={event_name:"DigitalProducts_Click_UpgradeSubscriptionPlan",action:n.aO.CLICK,actor:n.Tc.USER,object_type:n.g.BUTTON,object_value:n.Qo.UPGRADE_SUBSCRIPTION,modal_type:t.modalType,modal_version:"digital_products",entrypoint:t.productPage,entrypoint_level2:t.collectionType},{event_name:i,...o}=e;E.track(e),c.fireEvent(i,o)}function pt(t){const e={event_name:"DigitalProducts_Click_DismissUpgradeSubscriptionPlan",action:ACTIONS.CLICK,actor:ACTORS.USER,object_type:OBJECT_TYPES.BUTTON,object_value:OBJECT_VALUES.DISMISS_UPGRADE_SUBSCRIPTION,modal_type:t.modalType,modal_version:"digital_products",entrypoint_level2:t.collectionType},{event_name:i,...o}=e;E.track(e),FullStory.fireEvent(i,o)}function ct(t){const e=I(t,"SiteVisitor_ViewSignUp");p.track({...e})}const at=async t=>await U.default.get(`/api/content-monetization/pricing-plans/${t}?includeDigitalProducts=true&includePricingDetails=true`);async function st(t){let e=null;try{if(t){const{data:C}=await at(t);e=C}}catch{}const i={actor:n.Tc.USER,action:n.aO.CONNECT,event_name:"MemberAreas_ConnectBlock",object_type:n.g.BLOCK,member_area_id:t,...e&&{member_area_name:e.name,member_area_description:e.description,membership_fee_type:s(e),membership_fee:D(e),currency_code:V(e),membership_billing_frequency:d(e),membership_duration_timeframe:m(e),num_billing_cycles:M(e),num_pricing_options:w(e),pricing_options:K(e),total_ma_benefits:e.benefits.length??0,benefits_displayed_list:J(e)}},{event_name:o,...P}=i;X.track(i),c.fireEvent(o,P)}function lt(t){const e={event_name:"DigitalProducts_Click_EditPaywallSettings",action:n.aO.CLICK,actor:n.Tc.USER,object_type:n.g.BUTTON,object_value:n.Qo.EDIT_PAYWALL_SETTINGS,modal_type:t.modalType,modal_version:"digital_products",entry_point:t.entryPoint},{event_name:i,...o}=e;E.track(e),c.fireEvent(i,o)}function _t(t){const e={event_name:"DigitalProducts_Click_SavePaywallSettings",action:n.aO.CLICK,actor:n.Tc.USER,object_type:n.g.BUTTON,object_value:n.Qo.SAVE_PAYWALL_SETTINGS,modal_type:t.modalType,saved_content:t.savedContent,modal_version:"digital_products"},{event_name:i,...o}=e;E.track(e),c.fireEvent(i,o)}function ut(t){const e={actor:n.Tc.USER,action:n.aO.CLICK,event_name:"DigitalProducts_Click_PaywallContentIntoMemberSite",object_type:n.g.BUTTON,object_value:t.objectValue},{event_name:i,...o}=e;E.track(e),c.fireEvent(i,o)}function dt(t){const e={actor:n.Tc.USER,action:n.aO.CLICK,event_name:"DigitalProducts_Click_EyeIcon",object_type:n.g.BUTTON,object_value:t.hideShowValue},{event_name:i,...o}=e;S.track(e),c.fireEvent(i,o)}function gt(){const t={actor:n.Tc.USER,action:n.aO.CLICK,event_name:"DigitalProducts_Click_ReorderPricingPlan",object_type:n.g.BUTTON},{event_name:e,...i}=t;S.track(t),c.fireEvent(e,i)}function B(t){let e=t;return e&&(e=e.toLowerCase()===W().MEMBER_AREA_BLOCK?"block":"paywall"),e}function mt(t){const e=B(t.loginOrigin),i=I(t,"SiteVisitor_ViewLogin");p.track({...i,...e&&{entrypoint:e}})}function Et(t){const e=I(t,"SiteVisitor_CreateAccountToJoinMemberArea");p.track({...e,action:n.aO.SUBMIT})}function vt(t){const e=I(t,"SiteVisitor_LogInToJoinMemberArea");p.track({...e,action:n.aO.SUBMIT})}function Pt(t){const e=I(t,"SiteVisitor_JoinMemberArea");p.track({...e,action:n.aO.JOIN})}function Ct(t){const e=B(t.loginOrigin),i=I(t,"SiteVisitor_ClickCTADigitalProductsBlock");p.track({...i,action:n.aO.CLICK,object_type:n.g.BUTTON,...e&&{entrypoint:e}})}function h(t){var e,i,o;const P=t.digitalProducts.reduce((_,v)=>{const A=v.type;return _[A]||(_[A]=[]),_[A].push(v.id),_},{}),C=[];for(const _ in P)C.push({product_type:_,product_type_id_list:P[_]});return{pricing_plan_id:t.id,pricing_plan_name:t.name,description:t.description,benefits_count:t.benefits.length,pricing_option:s(t),payment_count:M(t),payment_value:D(t),currency_code:V(t),payment_frequency_count:d(t),payment_frequency_unit:m(t),pricing_amounts:Y(t),included_products_count:(e=t.digitalProducts)===null||e===void 0?void 0:e.length,included_products:C,sign_up_limits_enabled:!!(!((i=t.enrollmentDates)===null||i===void 0)&&i.startDate||!((o=t.enrollmentDates)===null||o===void 0)&&o.endDate)}}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/88ddc86636c45099/41901-fdd8e8e18a017d83-min.en-US.js.map