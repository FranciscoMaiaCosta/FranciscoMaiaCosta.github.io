(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["87034"],{401126:function(P){"use strict";P.exports={ignoreUserInteraction:"Vdyb_savKxMtrJ25"}},589637:function(P){"use strict";P.exports={uploadIcon:"CwKfGFPrLMMRVGsg",bounce:"ri17shIZY4Vz2mS2"}},66156:function(P){"use strict";P.exports={logo_bounce:"nxEgLFOSg_JW0bnb"}},543608:function(P){"use strict";P.exports={toggleVisible:"UF8FDHlPyNoy_FXs",toggleNotVisible:"psdYMyx6UA1PlmBd",toggleSlideIn:"Pn8rqgGLtMAPLbCO",toggleFadeIn:"BCNNYvm7ME8lxsN0",toggleSlideOut:"UqFqZbwvtr46RJSi",toggleFadeOut:"CCkKyUC1zwQ0gQWq",toggleWrapper:"gfjdUrNo1BMpgFb4",editing:"CUE2HG7ISEu3tW_5",customNavNotTriggered:"J08rY1Gop6omZS8s",notEditing:"QdbHjo5r3fUS50Kw"}},543314:function(P){"use strict";P.exports={keyboardAccessibleElement:"njW16QvfxUgAfwDO",nonFocusedKeyboardAccessibleElement:"aSTxwYqd6IRwHxPs",routerLink:"jAZJ7ckWlESzY2SC"}},402804:function(P){"use strict";P.exports={noBorder:"BW9Cz_IB2ow5ETQZ",noSpaceBetween:"HYcRnAdUoV8bsNQV",accordionGroup:"dfVllw7pwtwDWCEJ",staticNavContainer:"Gzw4c2VembY4Dgu9",staticNavText:"XqVzdBi7si400Wxg"}},633894:function(P){"use strict";P.exports={fieldContainer:"wwCSV65k1O_Eg1ZR"}},71439:function(P){"use strict";P.exports={categoryCell:"THZKjPlFtxwHwB8M"}},237640:function(P){"use strict";P.exports={editModal:"gF8uckb7jm4ELIms",header:"qz9LeoJSsheleidY",headerTitle:"LiplSvqa7IRmtZgw"}},734177:function(P){"use strict";P.exports={container:"kXZkZZaUn4I1eInE",rteEditor:"tqWpt3Z7f_4J7XE8","is-editor-empty":"Bza5iibAwMEz5jfg",editorWrapper:"et_5oBi1gIURZ7eI",isCollapsed:"aYRclZG9vwPWAg9A"}},909001:function(P){"use strict";P.exports={container:"Y1tkTsE2dvwuODOw",isDragging:"ZyuqDktjltMHGRBW",dragProxy:"ogGe17vWx28KPSvO",moreMenuButton:"KxxFCyjgqxg8xl9F",trashButton:"_o8duGfMIU9dZaMD",setAsThumbnailButton:"MRhNKyFiPSk84mzv",isVisible:"J7CRm75qLFk6Mgak",protectedImageContainer:"DiVF2NXCpmM57F6L",protectedImage:"Xhfyh18M63oRQH_N",isProcessing:"iaqAnzNrNpYaSRCk"}},394782:function(P){"use strict";P.exports={container:"o_4H8TSHy9gPSc4Z",grid:"hYA6ZB2eH80EOyMS"}},950180:function(P){"use strict";P.exports={fileInput:"CZXIKvlzGG8JVdpX",uploadable:"dfJROhy7T301nLf3",thumbnailImage:"GlhOGeWFCuwtOtFN",isProcessing:"v1ArvAMkzmPuhLBH"}},869767:function(P){"use strict";P.exports={container:"qZUrxmdxMt0X0m0O",uploadTile:"iInHtrYL80XesrM6"}},174886:function(P){"use strict";P.exports={fileInput:"gM5KbFfzT2oCCGUW"}},120302:function(P){"use strict";P.exports={tableCell:"w8pAWPlGBkZkZX3Q",tableGrid:"PclszUPqPQ7Kpz5I",tableHeaderCell:"TOxwtEx1Yf0jQ5V2",mainImage:"qqoCqTdi7asZRzvd",skuCell:"TUaicHaWkwRW1uDW",priceCell:"v1aNM2cf8IgNIIVh",rightAligned:"pFtjqcZh5AMEgCkw",addVariantButton:"uCq37t0BBA6fA7eE",addCell:"mBWdbYFGTzQ6Kpol",moreMenu:"FLDFjnzpA8QNtjSJ",leftAligned:"GOa59OiCQVUGlHhX"}},733876:function(P){"use strict";P.exports={priceInput:"YxQQHyYTVdIayIVw",originalPrice:"kBDWMsfD7fcEcqik"}},207599:function(P){"use strict";P.exports={productName:"SSfmwX0wxkwuE5my"}},956436:function(P){"use strict";P.exports={thumbnail:"czbrzK4nel4uPqBz"}},95317:function(P){"use strict";P.exports={fileInput:"rPBtOYkgULkeVLu9",image:"s4oTQyhFqFMVv5TW"}},271810:function(P){"use strict";P.exports={formOverride:"ykl6vLyvNEZyk_bl",panelOverride:"dc5vHUVz0gAcx3jx",fieldHeading:"GgV8vHRCzsMRBNk_",fields:"IxSSTUJ6rc2Vljf_",container:"cPaeEiVub8W56kbl",tagManager:"HMs7DT8NRRQI2j0_"}},295322:function(P){"use strict";P.exports={container:"WbD0HiuT1DwJtdzu"}},695903:function(P){"use strict";P.exports={subscriptionDisabled:"ELyLraKjQZUBYRaT"}},895493:function(P){"use strict";P.exports={searchInput:"xgUwFUcPn0QjiRbr"}},205476:function(P){"use strict";P.exports={container:"pTkbwDtFvJUoZ4Pa",popover:"FcQGeEX9qcI2mkcT"}},535090:function(P){"use strict";P.exports={noFlex:"E6V9Rl0hvSsufl8B",previewPanel:"P4ZFwjcXkxMeFD9y",previewImage:"Ips2Q6C_EFkMix3e",drawerContainer:"RUTfuFEkc3WfuAwz"}},170805:function(P){"use strict";P.exports={container:"QsIvbi16rCwP7oSD",isMobile:"DskGJtQCoTUk0UdV",variantGeneratorModal:"g1wbqkWYaL8x_yG8",formSectionHeader:"RCcF3kH1Uaskm7h3",formSectionTitle:"pdtYf82vOcBNzh8Q"}},259200:function(P){"use strict";P.exports={chip:"ZonCZ3rkJosHJLKO",removeInput:"QFRCQf3AccoGkmkm",sortableHelper:"Q0mZRhqcZ0miQ_UV",dragHandle:"DQeBxtxwgYZNKPAH",deleteButton:"TfAelsOWn7sZqjs3"}},184823:function(P){"use strict";P.exports={container:"U5R8FsR67pY03g4x",variantChipContainer:"cRIY5WcYkZgKkr82",header:"WM9380AWc40qC7PK",description:"EhIpBiqPqzcbPVZl",optionContainer:"J1RXQ4CJKhwdKuGe",isFullWidth:"yqTMa1Z_GRI811w3",option:"QwYsKR10esIOAXiS",moreMenu:"RQQE_9rqkEIw3ies",isAlwaysVisible:"PWJeCnMJIOKxt9SN",dragHandle:"HVNWHqEfO_oXmAtv",actionListFocused:"gCx2WMl89QFKM1GS",tagManager:"sDnRq_39v0otOAXb",labelContextField:"z8OyCNJx1c4JIPbd",plusIcon:"lraD0BWj3g7V3uHK",previewContainer:"JDsaiDF05y0eYAch",listItem:"AHgFHrXO5kHp9S_j",optionList:"eNQbTufLt8UCA4cX",sortableHelper:"T_FXHzpHviw3C6GC"}},239216:function(P){"use strict";P.exports={loadingSpinner:"QewTD5o319klxT2n",toolbar:"wErII5jETOYaPMkT",mainImage:"n9VIKW5fsdACpHkh",container:"fNzZPwUI3icavBpd",hidden:"TAMcOhTMIQ8cM6ED"}},78275:function(P){"use strict";P.exports={loadingSpinner:"yIULfCaNPYAKf7O2",toolbar:"HUqsoL0I5EhHCxdF",mainImage:"SKFeYvTsm5M6rxMC"}},786158:function(P){"use strict";P.exports={tableGrid:"OUCaGbmDT01kfVzp",isHorizontalScroll:"sFAAFJdmkiAjuAGb",tableCell:"O2lREG4peGMqtWa8",isDisabled:"btySHxoO0VM9KFM7",tableRow:"xyFm1fx7lyIF65Tw",mainImage:"Ss2oEaC0SgWWaWis",skuCell:"PQvoLdleosOgvUbW",deleteButton:"ZIIhn5spfMQrBr1c"}},110942:function(P){"use strict";P.exports={tableGrid:"L3lEQohI4xw9NILC",isHorizontalScroll:"aCCdaxsXGobWd_Ri",container:"P4wx0dPxWqwZVUFM",row:"ZmQRoPgrTqkYtXJ_"}},87696:function(P){"use strict";P.exports={tableGrid:"Obelkv0E5WMGZ3jR",isHorizontalScroll:"G4dkVFboGE8c5G4h",tableFooter:"alXowwZPqWQkCi_S",subscriptionFooter:"jiuT3MxQuMMInCU9"}},76645:function(P){"use strict";P.exports={tableGrid:"VRWGFm7rIgUu13Uo",isHorizontalScroll:"scV85oHO2kf6t7xD",tableHeader:"qaTOqBXBoO0LytZZ",tableRow:"aVY9xxbLlnY2Befv",tableHeaderCell:"Bw0abtWRFM2rPAa_",rightAligned:"NO6lCOnuBvAYdF2W"}},142380:function(P){"use strict";P.exports={tableGrid:"IFBwULmSpXQXcTO2",isHorizontalScroll:"DmOrnHqY0saTlL0D"}},673703:function(P){"use strict";P.exports={variantContainer:"c3JSBxPIflk5ZlfO",variant:"k8AO7_88F8ITjkbg",separator:"gmXExLeI8JcPK2uU"}},297699:function(P){"use strict";P.exports={container:"oXv1ERz7IQc73U3F",popover:"IivNCe0ZbEwMT4CD",popoverContainer:"Opoq6fo13HUfN1x2"}},448337:function(P){"use strict";P.exports={sku:"w6yb7ngPL8kh35ly"}},259904:function(P){"use strict";P.exports={modal:"eoa8ojcziI50lDsm",toolbar:"QTBxepyZuLAtk9pA"}},205306:function(P){"use strict";P.exports={option:"KiRxMyaXfTkpFYDM",dragHandle:"ggX2s0ws9y8TxIhi",isAlwaysVisible:"w_0gH76bASHcAfAv",listItem:"oYs6otrJ5fEb_Ay0",sortableHelper:"zigoeDWdbUM2i0Bm"}},384735:function(P){"use strict";P.exports={paddingHack:"dkPQOnaYF8u_TnX5"}},876559:function(P){"use strict";P.exports={uploadIcon:"qoodyG3hAee298gE"}},177027:function(P){"use strict";P.exports={search:"tiCdmlDIg3oKbmks",add:"ySJKVoaUXovFRP5X",clear:"bCtA0bzmAngS3uSo",clearLight:"XwfkZTlJR9wMxQqj",trash:"LiyZjUhPPQXWwT7e",trashLight:"CWIm_sjWhdoYRKUU",check:"xOy7gpoonWIxCSMr",checkDark:"srTVlT_onysdHp29",checkAfter:"qDb2bTX8j3A2gaq0",checkDarkAfter:"eL1Cmq0AKLUS9QP8",checkDarkSmallAfter:"b0zoy3JYBJ0jbSAN",checkDarkBefore:"P1BTrhByFEasfiLS",aureusCheck:"G910UFe1cPYJGxqL",upload:"x82aS37VXkbbTCLl",avatar:"OW5DVK7nwmM9jyBw",gearSmall:"IQ8nrYBdbjQqJxve",pencilSmall:"mVbB3vVhpfAIt4Df",trashSmall:"RDF9KRMwJQM7tLRJ",chevronLight:"ME6lHjQMXL4BU70K",chevronRight:"EU4pS7GQWtYvklw7",chevronDark:"cW2vbY1KlN8L__JV",circleLogoDark:"XSdvitOUdGYMW__h",gettyLogo:"obcCJajnBcHzEjjd",gettyIconLight:"IAFsxQPa1eYONLS5",chevronUpDark:"BcGEzvJiHg_3twNL",chevronDownDark:"IXmQA4zS9r0y53tH",arrowDark:"iQAG3xpznImHlG3l",file:"U3tiPqxaAC4WvnSs",shoppingCart:"DgddkiDS77kYwhlh",squarespace:"ieg9A_uddPoZoRqA",zoomin:"WjnMcUofp_kvowe2",zoomout:"yqDSCvREK1Q6nH7o",squarespaceLight:"NuPpuVJF7slaOzVT",dropdownStyles:"lMOuOVJ2rwQD12rD",zIndexOverride:"cN_JbfJbMrYqv8no",error:"h5Zndrr0yNMjRmkv",levelTwoCategory:"Vcg3X2yoBw4g7AN7",levelThreeCategory:"FIKB9_lO2wYSHcuo",damaskify:"GZ9pmULD8mk8Bome"}},14850:function(P){P.exports={"0bac17cbdae871c7711aa2b0aa2a4643":"Invoices image","0defced83a7846cb105943280a1293ff":"technology","106bb30dc564725105360d5c8514978c":"Turn form submissions into clients","1a2e1d39c31bbd42ca626e6a5aae806e":"photography","1c0dee511400f0cb2e0298fd64d1c4cb":"health and beauty","1f946dfe01a9f1333fa026d9dfb1e2be":"personal and cv","212da6f0962d2c4975a4aee3f3f0d95c":"marketing","339c686152995a6b8bf16e252c35ba06":"restaurants","451907ae75e85368b3743c3bb09f2167":"education","488de48efccc0064f3bba3d15614a2f3":"nature and animals","58ec13e2232211a21263b5783f62ca5e":"New","65f4da203d087f7f619c6e27ad037edc":"weddings","6d889cb80ab38fb9fe791266c65e33c0":"Send invoices that match your website and brand.","718f46038dfc76be48252425e89c9b6e":"Go to invoicing","80299a47b5a44a819dbb865b27dd0375":"Included with all plans","89ab85976f3612c6cf274a0d75386bfe":"interior design","963cbacb5229a23adecaba4b3d087d2a":"real estate properties",ad8a80708e4b6c4b5b962556c52cf12b:"jewelry",b2b280aa948328c97f557f990e3eb2eb:"design",ba09bf2f322ecf9c5fd9e123822702c4:"art",bd15ed1976e7708334f0514e478d813e:"media and podcasts",c76846af917cdce1ae7c6c0af3fd420f:"fitness",c7d45460ea4a5de89a602d5c4adc4e6b:"magazine",d05dcb16115f1b83a55cb3b62c3e4823:"food",d5d494ebd15fe95175ee6971da60eb46:"gaming",e0a2b4807d8ff3238b7797e76b18035e:"travel",e287f1dc922e0930b8667b63d36f5493:"Form submissions are seamlessly stored as contacts so you can quickly create and send professional invoices.",e32f32447a8859c21c138a326f4df368:"nonprofit",e54f163c9b027bd02f0b79a29b415403:"consulting",e64b2df111988ae4cccf9a9f9db9ceca:"music",e993cf2fee1b32e3d4ea1eb96a3f0caf:"politics",ec16e94bbcdb55921a8649ae86b1cc5c:"fashion",f1df8648ada0279844d8d2820daf29e7:"Invoicing"}},275233:function(P){P.exports={"057127517ac59fdcfff08c25e79d3476":"{quantity} pages are missing metadata","0792af4822d8da08e010ebb598de015a":"All","094614c28c7a19fb565829c686144ef2":"AI","0d864535538c33e8ac310e7c79985c41":"Type","0de3b52551b4fd4490d28461b1c1a17a":"Confirm","0f3f150d89d1d28c023e5ae61b1f6883":"Generating SEO details...","10df3bf4e1b6209a51fbfb62ab19afd2":"Try again later.","15651731934f2ac844c1878aaeff280b":"Learn more","1829ea7fbd2d65bf56bbc6f50ca7272f":"Unable to save changes. Try again later.","1d859ad494b5068cebce18904a9cb5f9":"Select From Library","1e65821c68e254ac3f1f6530074713d7":"You have exceeded the {imageLimit} image limit.","2447c511f6a0b02b3e3fbb4ea4b41923":"Try again later. If this problem persists, you can edit image alt text in the Editor.","25f0b82d9a92223e4f73ec732037d182":"You can edit the product details below, reject them and go back to what you had before, or try again with new prompt inputs.","2dac1a0939968d16ab1136f0ec749b9f":"Cancel","2f3869467655e39e6db5ce6e9522f7d6":"Review SEO metadata","2f5261df39edb676836ca103993556de":"Squarespace AI","31cdbe7e6044c4ea3dfc1e4da4bc0a63":"Unable to generate page metadata for all pages.","331408e28ec10da427e66e7310999012":"By using {squarespaceAiLink}, you agree to the {termsLink} and that you are publishing the text and responsible for any use.","36f51a753f5fc1dd4034b7d55fefdfb2":"{all} images have alt text","39a3ef3acf6bca3fe56f4bc93e51fe9f":"Service","3c4f26efd7eb821d895374cb88fa22bd":"Improve with AI","3d85d559b404e3235ab771632f37815c":"Close","40c4b12a3fb0a36e93368ec2e7e97c10":"Try again later. If this problem persists, you can edit page metadata in the Pages Panel.","40ea32984e99cc903977f627dacd0e47":"Generating product description...","41d7a6c4b19e029dbf065587ff8a68a8":"Leave","44a5332f61651f0be3795f927d7f97bd":"To review the remaining, run the tool again after completion.","4b455f00674870274cd6269b7d73927b":"Save and continue","50ab6cacf7dfbd02d78b18b6cad0cdaf":"Changes have been saved","53ceeeb734eda68eae9768193b3e4a10":"Alt text does not display on your site - but can improve SEO, and make images more accessible to visually impaired site visitors. {learnMore}","574b63b7ce1b491b9123ccd1058a9ee5":"{all} pages have metadata","5988956aabbdaf960501e40a13e73335":"SEO Report","5be50e3da4a14a43fe44bb4eb1d5a641":"{quantity} images are missing alt text","5cc6712c1cfeb29388d2bc9dcbe8750e":"Cannot generate details.","5db7ee90d1ced0f3558d306655e18f7f":"You will lose all your changes.","5fafa18732c9b980bfa5e1628ea4f569":"Generating product name...","60310bd746417ba26bf01bf22a4474b9":"Analyzing content...","6514190070ed5e0f208ac39e9a08cf3f":"Unable to generate recommendations. Try again later.","6a1df642fa20ce1c092315e455b3c985":"Get Started","6a32b902aa88cde3a9b67421b67f5c44":"Content Generation Terms","6afc12e3c6c29b0b5e9350c7f114fbdc":"Generate details with AI","6b59eb23c81380c11983c97845a75b91":"Generate with AI","6eda5240d08c86b35bd832b7b4bebc41":"Try Again","71879389d6b57ae388e759416882705a":"How your {title} page will show up in search results","71ba5200aded348b2013a5a71a2d4bcf":"Learn More","742528cd20514fcac9d33de7f0523121":"The AI Product Generator can be accessed {newLine} from this button","746d487048cd5107e288855600494ddb":"You have exceeded the {pageLimit} page limit. ","764d5bcfb6f2903b33448afd4283d661":"Use this image to generate additional product details","79454fc5d3565c906e8c1c9c7e4d6607":"Unable to generate alt text for all images.","812a9ef7e325976a28b81f13abf59f7c":"What are you selling?","8723162472df32e0ff31a5e40b29ecc8":"Scanning your site...","8a79e52c2fc08e683b205ce11013ee64":"Unable to save some changes. Try again later.","8fd37953dcf4549280ca57015aebb45c":"Saving your recommendations","91b0b2cedf5a1e5df967edd1039f2724":"Review AI-generated content","928e65a719374f07ba73feea588ce538":"These details will appear in browser tabs and search engine results. {learnMore}","92a2b5cc7fb2d160f112252e365ef9d3":"Beacon","9a6a4033c739a60bce34795376fb3f86":"Upload File","9b62b723c6231459cd9675b49452b9e8":"Something went wrong.","9cdcf966b1c64840da8571ef82784eb6":"Short Product Description",a91b2f582de4b74254bb4a23618a1cd7:"Go back",aaf99f274e1f82162a52102686b72ff6:"Regenerate",ab2fa25a71e349c97120fb3767fa86b6:"Leave without saving?",ae6b17610549b24fc692ff3b2b1b82b3:"Providing recommendations...",b10de0a39804842908136a83c1fc4dae:"Scanning images...",bfd55be6ce1ab6bacdc42d0d878c451e:"Unable to generate recommendation.",c45aedd2bd6456320d5396e2279b42be:"Go Back",ca44a1272b7647e092361f405483e7fd:"Save",ca4d15171e8d215dbfc9f1772970e489:"Generating price...",cafbc437afba994b2fd34327b6a49798:"By using Squarespace AI, you agree to the {termsLink} and that you are publishing the text and responsible for any use.",cf7deb36c66abf90c700c19d6cb4ba7d:"Image",d0fcb34f1faffe0976dc83752d0cfd24:"Unable to generate report.",d56355f6011eed5dd0fda8c4847a9b31:"Add both an image and a product name for more accurate results.",d860ba7be8f29b96f9760e5d5903edce:"Title",d888d0f12dc0d70d34db7e4cde500c2c:"Answer a quick prompt, and Squarespace AI will fill out most of your product details for you.",da02382485f2257a2887d56f575de8a5:"Reject",dca99cc306c2b5d561af367cf1cdcbbc:"Review Alt Text",e6a3dffebd6f25035373d6378a81083f:"Your most recent changes will not be saved.",e80656d1f94fbdeb2d7e0f6bbe33332f:"Description",ea7066634477682aae1c3964f137dc11:"Are you sure you want to leave?",ec30251c9288ad4d17ebd2aa1a32def5:"Unable to generate alt text",ec492b056309c3f88ccf7e44dcaea61f:"Image failed to upload",ec55e913e27b8ac7f1397c7e8afa0e04:"Physical",f2e3eaed9755811129ac86c534d7f32c:"Dismiss",f659c67b910b09201070442819f0392a:"Instead of manually typing in a description, upload an image and get AI-generated product details",f883ade0d5f1bec1ae914f1f50aa21ea:"Edit",fe6a1971cc1273362bce805e41efecb1:"An unexpected error occurred."}},680850:function(P){P.exports={"04ef39c11b81b1b979d2f05c9bed9671":"Automatically assigned to all new products.","0807d138233dd8e58dfca4c981a16459":"Add new profile","0ef4c9b92042b6c3485bdc4958bad63d":"Close","126045556a14bd8ff4cecd717ae67522":"Default Profile","16d620437d9a6e4e75e50b2f9797883d":"Learn more","18d26340053f3681eb34b50a7db4405c":"Discard changes?","199f164152522b764388c7b5d46e302a":"Unable to delete custom profile. Try again or refresh the page.","20c4c5cd35c557a35690b53e6463e2a9":"Any products using this profile will be assigned the default profile.","2a0a0bbde4fdd87bd7d90652af53209e":"Unable to assign fulfillment profile. Try again or refresh the page.","2e1d70fb8f95382fba46f3d013df5c4f":"Edit custom profile","2f6b15a6b90cc25c3e3c26678ad2458c":"edit delete options","3315f2aa2c3dc96218d858e506cb9032":"This will update the fulfillment options for all products assigned to this profile.","37bc084932e60710a358951a62559748":"Confirm","3bbb2aef88dbfceda2c661fa8c98f07d":"This will discard any unsaved changes you've recently made.","4842ad1d3279e4ea9f32aa43ba7e9373":"Fulfillment profiles","492589c8b86070aaf6efdf4c63ac1239":"Select all options","4bf0c8dbbc27409327d2368597ef8daf":"Unable to launch fulfillment profiles. Try again or refresh the page.","51cdd66b86a4aea9da24210f01cb1a14":"Apply","563124187d9c02ca77f0470f806181a9":'Enter name (e.g. "Fragile products")',"58a294ffd32b3f215296f880321725b1":"Add Custom Profile","5bf37e16abc1338dab21d47ad9a0895e":"Default","5ce2fcfd0a4d5c04df307cfa5bc47656":"Create a profile name and select the fulfillment options you would like to include.","658803b523d885598d17f30d2a2eb07a":"You will need to set up a fulfillment option to add, edit, or use a custom profile.","6b6b23856551515400e38653e4e37d69":"Default profile","77fb8815de8ee62d3e3dc7667edb0019":"Delete","7a4281f84031cb4fa8156026d4d3ac52":"Customers will not see this.","839d26e5dc6b9f40d3aa7d865aee049d":"fulfillment profile","852bcd4f70960f9fa276e734c7ed2f37":"Edit","875ce484b9f3284643a1a432111eeddf":"Delete custom profile?","888ba4adc8214375b4af55babc31bf5c":"Unable to save custom profile. Try again or refresh the page.","888fdd91aaf84c110192ec2a95ce92bd":"Set up shipping","8feda3743d8922b01d55a46f998dc580":"Done","9626d868ee8e523dd1755fcad04fd5d1":"loading data","970934dda8f67113702326a398ac4db3":"Name","9ce96737af7c000745a85e366498277b":"Reset",a2806c2d1691dc8dcfdecf43985213f8:"Try Again",a8ba13efc86c63384ff65c533a609ebd:"Custom Profiles",b074c4956969aad8305268f41dacac0b:"Save",b6dfd4f905c69d025af5705d745f0088:"Maximum length is 50 characters.",b7be2349d5e5e81e79d693ad0f0b9c7b:"Set up pickup",b9040e2f265419175df5367bdd11424a:"Which fulfillment profile do you want to assign to these products?",b9d47acc779bdcf1eee612373ffcdff3:"Includes all of your fulfillment options.",c18570db0e1174a67bfc6f448d4ca94c:{one:"Includes {%n} fulfillment option.",other:"Includes {%n} fulfillment options."},c345d4bdeeadc67ffa9362e5f054545c:"Discard",c3a6f9cb13df992cce00a35a57c882ff:"Fulfillment Options",c50116a48c69cd4559a37b2f9d2065ca:"Need fulfillment option.",c7ee23a03bb635f18bec33c878a25b6d:"Apply profile updates?",cc0aeb9588287b5802e107a241d7e517:"Something went wrong",d6064c19c7148ab9bd20f66624598e63:"Must be manually assigned to products.",d8092d8557a23f1072b9a0bfdf421cd9:"Cancel",df4f52e24cfb24cecfdb7dfe89656733:"Assign custom sets of fulfillment options to individual products in your inventory. {learnMoreLink}",ed7a1079a1313d91372ed347d9a59154:"Fulfillment options needed"}},686591:function(P){P.exports={"021018b01330473ab3b1f0004247de69":"Mastercard","023326176a05e1209d2f20d88260f9fe":"View charge in Square","042c8eae52d99ef6ebc5ae892a15e21b":"Payment in progress","0443ce495a3fe763dd804030028a7324":"Copy tracking number to clipboard","053d51d8c68392b1ea9efb5bc09fa14d":"Delete","070efa356b237ca71c9c8565d2098817":"Contribution summary","071fc1f2e7725c1cad043f56d4be055f":"Pickup","0b2e7002b77d633fa86878e7fed7c0f5":"View charge in Paypal","0b5b87d7e88f8434b8b5aca960a08e75":"#{orderNumber}","0c5911634d7f100e593a1bafe52b9e00":"Cancel order","0cd4e2e13b4af4c16b477608b2746fd4":"This order was paid with ACH Direct Debit. Refunds usually take 4-5 business days to be credited to the customer's bank account. {learnMoreLink}","0d118aebb13322243b8536ef26b3f94f":"Something went wrong when processing these orders.","0d616ca6237c554634a1343d804824c1":{one:"Tracking number",other:"Tracking numbers"},"0eeeafee5af2949c98b9926e4cb4a460":"PayPal","1391da0e00c4961143d7624275ac9c02":"{productName} is popular with your customers.","153e94126f5432e63427677b04f4eafa":"Activity","16227884f0f67fb845fdfab0032b816f":"Print label","165a2d774cc4ea3e9c6e1a6698009142":"Order Details dropdown menu button","16a3c0c8a81553890e587918ecec543c":"Refund","17b2bed7072019d8ff1ae97c24ee77d8":"View charge in Stripe","19c3167cc268517423e8c8d272befb3d":"Other","1d82664126c1faae5450074c7edbcbcb":"Mark as fulfilled","201af673919be9e007895d34d4680569":"Gift card","20d286410f57b4a6959bdccaf5c2ae40":"Please note: If you don't have enough funds in your Squarespace Payments account to cover a refund and it results in a negative account balance, that amount will be debited from your connected bank account the next business day. {learnMoreLink}","2242d54ea3277b38842de8efeb9ccae2":"The requested refund amount is greater than the order total.","2289bcce85949e9424c1f21131e337f0":"Cancel","22aeb7e8a8ddec2d15703f87407c3add":"UPS","24ce367b04b541fabbc20e46c499ac47":"Mark as ready for pickup","265bd69fb8ef6f5800482edc5e88cebe":"DPD","26766b26dd9fcb0fb42086cc26e7e5cb":"Gift card email","2a3c884aca186d8de49482e32e4b740e":"View order status page","2d10a1edf910595cf42ce893db8578d5":"Amount paid","2e4ea01a4023730cb4e9aa25e1adc21b":"Local Delivery","3068bca2d1f0b02a47e6dddad4ab8569":"Donor","312eb6993ccee6d7e7978da48fff8a4a":"Email customers that their orders are out for delivery","31c5429d1f214e9fd11e227c50de9a29":"Issue refund","333927fa34c6b07f1dc88804c3e2a479":"Total","335d8235cbebd6f74d8fa5c5a28f0785":"Discover","34d10e4eac32b9322ab4fab09da321b9":"Refund up to the full order total. The refund will add value to any used gift cards. If there's a remaining amount, it will be refunded to the customer's other payment method.","34e7c035e054e2d1d857a3438e7562c8":"Set up as subscription","35491653db105107efdd57e491d1222d":"Diners Club","35f13c389f55cacd5da7eff83f2b8c18":"Type of notification","36fa05798af357093fc02dab3e9e51df":"Order fulfilled","3755950ad00763e354cb0e09de377e29":"Tracking Number","37ee92de60cbbb5c4b9435430184fe8a":"Canceled","37fcfe1014fe557fb98aa1c582fcbc4d":"American Express","38201deadfca2c585101b38ed5ac5fbb":"This order was paid with ACH Direct Debit. Refunds usually take 4-5 business days to be credited to the customer's bank account. ","3b875a5b91bed15a730c1a3ba8112507":"Email customers that their orders have been fulfilled","3b945cc221f94ab64bb3eac49ec7898d":"+{number}","3ca1da2db40fdbe51d3324cf83503c7b":"Shipping","40bf413c863aeee98a84817ea6e54212":"Please provide a valid email address","40d23f5b9fab5ad5496c7902008094f5":"Pickup info","415f2f14d7948263e75ce652e5533414":"Failed to issue refund","418c0420d634338b4d4ff3c4f9b09263":"FedEx","449f61571d67e8782ae9aa0b0cfb55f1":"Cancel","44b291eb67e27ef3a863c06df89bc56a":"Tax","4512090d449dfb1180efeda19c49adb9":"Learn more","4543a81b43fdfe090506460971b6d054":"View profile","456daa1e6d92969c8d6aa29c123f52a5":"Send","46432fef8bf416c4e42bb2d00b947af4":"Save","48ce2a57d2db16c4e5498bbe8be83977":"Failed to cancel order","48e448e99d75d0a764bad3e455851865":"by {actorName} on {eventDateTime}","4904eeab791319936763320ecc2eebef":"Royal Mail","49526366a0095f76c3aa4bd73963303b":"Cancel giftcard","4a1bec40c18125bd659eae913483d2e0":"Ready for pickup","4a2d68373a77184c6ad29a2ac1226069":"Cancel","4b13436fe1c9c56947e889f8550d8a38":"Re-send email notification","4b73ee2ad60ac52ef0c4bed431b5eca1":"Delivery Option","50976802e65910f90a0f23651c3d4fc2":"Authorized","50da95a13f2eb0c13098419f988e969d":"Purchase Label","50f5d07f0b5954ac8e6822164c55c84a":"UnionPay","50f75f2066b8d264441c002f36c2eea9":"Refund in progress","5245f261f031feebef2f9e489e90e19f":"Refund issued","54550e58a7484bf682eeb1280b0eb5a2":"iDEAL","54a3409d98f3722035c3970056c8da2c":"USPS","54a68ca828aaa3ba03176cf23e3f0813":"Close","54f7a344556dfb6ca7610543d35a9557":"Select if your third-party integration doesn\u2019t send fulfillment notifications to customers","552583cbc5971c03a058fbdc796cc91e":"Email the customer that their order has been fulfilled","568737784b3075f118a1f8790605bcc4":"Additional information","58ca34d999ff915381dabce4db983ef2":{one:"This order was paid with ACH Direct Debit. ACH payments usually take 4-5 business days to complete and be reflectedin your payments balance. You may want to wait until the payment finishes processing before fulling this order.",other:"One or more orders were paid with ACH direct Debit. ACH payments usually take 4-5 business days to complete and be reflectedin your payments balance. You may want to wait until the payment finishes processing before fulfilling these orders."},"5b90b015153ab930d9a28267fa955559":"Delivers to","5bc865099c34d1ef8c5d598c1a5d7b81":"Cash","5cc7f4be3afdb0c8dfb38f46f53340d0":{one:"Mark {%n} order as fulfilled",other:"Mark {%n} orders as fulfilled"},"5e62abe2bf8fe4483c5e295634f20b4d":{one:"{%n} test order deleted",other:"{%n} test orders deleted"},"5ef4e583ef24d69b7424aa5ea0b590d5":"Apple Pay","5f35e86e45ba873b70c3cb646f1c2459":"Not Specified","60d7ea7d91df7667a58e6b8f421f076b":"on {eventDateTime}","642f9181d4d55706736a62449fde1b3f":"Refund to customer","652d14b278beff99a654b30f1fdb15ab":"Confirm","65560dee173e5c47d8b33fbfe3154040":"Bills to","6561abda4e4be2ff76f40a338cbdf364":"Email the customer that their order is out for delivery","666a6b3c8354b7d0a7626432529a344f":"Failed","67bd09f9f3a2165c9296aeb432172b04":{one:"{%n} order marked Pending",other:"{%n} orders marked Pending"},"6866af159b34449dcb49d77f889f5dfa":"In progress","69c5aa4f300bbb39360413be429b61de":"Qty: {quantity}","69fe9a61697eb6dcbf87ee2fc0112dad":"Shipping method","6a8e62e2bd2ef3aad0310fe668a00fed":"Offering subscriptions for in-demand inventory is a powerful way to turn one-time shoppers into loyal customers and secure recurring revenue. Access the Subscriptions feature at no extra cost until {endDate}. {learnMoreLink}","6c0c674286b0c801164481cfd7c24f7f":"Start managing your payments directly on Squarespace. {paymentSettingsLink}","6f1ce64e0c1d5d5209c51db5457ec9b4":"Offering subscriptions for in-demand inventory is a powerful way to turn one-time shoppers into loyal customers and secure recurring revenue.","6f6bce96a62bb0912b5237e4b8b6ed6a":"Duplicate as subscription","6ffae8f9d3b33a609d78df103486b7d8":"Billing","70061959304b04c93fd441b319c863df":"Order","73af584a43b7928a4ad091fff14ca20a":"Failed to mark as fulfilled","73d06e4593706ebd9cf10a05370efd4d":"Could not save this note","74927700c6905052ceff208061493471":"Close","751b688a452d3d60a3773bc0a890de6c":"This refund amount will be withdrawn from your Squarespace Payments account.","75f3b2197c24a0f9b6d19177daf27491":"Note","77232eb3f64435da2032c76c2bfba427":"An error occurred while duplicating this product. Please refresh the page and try again.","7780988b2dc3127bcff2b048f5de31ab":"Order out for delivery","79d3c9019ebde0fa26ccd4ca8c342a09":"Select a carrier","7b08425544f7e36c7343365dba83af9a":"Contribution","7bd43bb69f618dbfd2e134a1b6ef2dd0":"{purchasePrice} each","7e6d4a733900947c21ffd0884b4ff709":"Mark as Pending","8043bb3bd97c14daeba270ea63ec99d4":"This issues a full refund of {refundAmount}. The gift card won't be redeemable. The customer will receive a confirmation email.","8140d4f16066cec10812378ef37abbb5":"Payment Method","840f8d6aaa65538015c5a54397f5a74a":"Canada Post","8858f07d51aea0c1faa58e80b2f79488":"Shipping","885a7bea74f00a734ee575f88093f1a0":"Ships via","8a2acc6541deb311cf66da46b1b0569e":"You can refund this order when payment processing is complete.","8a7720a1cdc35a2d62ee918ff5b3572d":"Recipient","8bc53980bb6e19b4e6f1f2582b42005e":"Afterpay/Clearpay","8d16ab137f39a2a0dffceb54dc0079b2":"This order was paid with ACH Direct Debit. ACH payments usually take 4-5 business days to process. {learnMoreLink}","8f824d5732be6a46b26405b300d2f6e7":"Email","90e1abdb70d5220ebcc17f1950418004":{one:"Delete {%n} test donation?",other:"Delete {%n} test donations?"},"92a62def03045f5210f1adf8a527fd6d":"Copied to clipboard","93f618053780ef23ab0ed45acedac0ff":"JCB","946fdfe5edcb6ff5876ef4ff172add00":"Email customers that their orders are ready for pickup","966bcf062f5e0382cb352f1b74641c2a":"Something went wrong","96c4dad4b2948ee0d0da0c4759a0e3e7":"Could not delete this note","972c9f193f13fcd34155e619947c7c06":"View Payment","978bc2b519380062bc7f1307c0a560ad":"Refresh digital goods","9795e0e7dc50d80af283937375941183":"Tracking number","97bf59cf26434e0751c4b4ed3c68e3ca":"This will automatically issue a full refund of {refundAmount} and notify the customer via email","98141e0cde74dd798b2882b844304a6a":"Selling subscriptions is a powerful way to turn one-time shoppers into loyal customers and secure recurring revenue. Access the Subscriptions feature at no extra cost until {endDate}. {learnMoreLink}","9857d9c516165ae8283ad844fd361ee1":"Paid","99f59b0369502f12ee03a515fcf67ec1":"Learn more","9a7cc66225a1a85969bbd1e4ca3e2640":"Order canceled","9b40865a9eb483478e3dd796dc3e21f4":"No activity yet","9bb4868842461530619c1decda4ad9f9":"Pending","9c0e2f7781ab62e026943ddf2b48fe03":"Qty: {quantity}","9c3f9f6d18575be543767da992660446":"Klarna","9eb4c9f095a6d1e8ca964621b4be54a3":"Pickup option",a34f90b6b88dd18dfffb50bd7b3c0f93:"Product missing",a69ec81b664f7008ee18278cc11a1de0:{one:"Mark {%n} order as pending?",other:"Mark {%n} orders as pending?"},a6eb5dbdeabb4d221e1859fc4841e368:{one:"Delete {%n} Test Order",other:"Delete {%n} Test Orders"},a6ef44f2e5bc07cfdc8c673ffdbca69f:"Restock inventory",a6f6f6987c7ae9c1ca6fe1b5ec512e50:"Visa",a78c4c855373416742b864b9d765d8e1:"Something went wrong when processing these orders",a78cd266db852f6a6242a2f7799b2de7:"The requested refund amount is negative.",a875817b33f00ff3bc2526c9a785ac4b:"Contribution to {fundTitle}",ab03ae4413a28458da9862ac14626824:"Select a carrier",ac5ae6630fe5a9eb99a6059a83651bc9:"Link",ac5d517725970937e53a85a6633f69fd:"Not charged",adf24de097755460006e4d21d9b2eb39:"Amount",ae78ed1f259562339d0ff05d5ba8e970:"Unlimited stock",ae8b7e9cbb1ca6b6913a9ef091573689:"Something went wrong when cancelling the order",af1f91ebd3b9bd28ed1c646328977031:"Discount",b0e212d998c87a62f2cebf595c283cbf:"Failed to re-send email",b2d58d39e64d62fde8c7061e3ac95011:"Giftcard",b368e30f6ab1fc4293019132f92520fa:"Nevermind",b3a80156a1cb4c5098e075b54a96c43b:"Fulfilled",b7067e4c1f1db2ddeec26e3f72a6176c:"Confirm nevermind",b77eacc0bf1a8aa04f5c4cedebbd9f41:"Refunded",b7c307549d069a114e251e04a2a751dd:"Cash",b806f35d9b36555dc4bd0040bbd87aa0:"Try again",b88e642676f4bbbb5165e2468ca41470:"Collapse",b9b7e13dc6dad07fe31f9010a3df47c1:"Expand",babf4f67c46d7152f9038b8eeab3cc63:"Refund initiated",bb34cb35a7130a6a66ac3fe6fbbe5c19:"Specify a carrier name",bbebb4df1cd6b344e9bbeb723ff48143:"Subtotal",bedebb1753c6f57ba2343889213cb755:"Something went wrong when re-sending the email",c1ecd557094178df73f222479e78e249:"Review Label",c2162523b82217368b8b512b7e95b81d:"Are you sure you want to delete this note?",c37d353823a7fce3c81594cbec0ff410:"Learn more",c393155ac0d9ac05e634962ec29e76f1:"Cancel order",c658844d05f305251403316c859591b3:"Carrier name",c7ca916e053a3d504760d20b8fb1d956:"Refund failed",c8dbeb255a886e529ef188695928e773:{one:"Mark {%n} order as out for delivery",other:"Mark {%n} orders as out for delivery"},cbe7e293ac8952de6dc032a27a55ee76:"Close",ccc6fdc476efb97ace886db8b424ac22:"Carrier",ccf4a6ecc4e015f974db4f53609aad4a:"Order confirmation",cee50551d61f1cf33f3d7b6e530dfece:"Print receipt",cfa802d661971c866aaa7d4647c6a7fd:"Some orders were imported from external platforms, which may send their own notifications",d21659f934172d531eaa9c9f7b4b936d:"Close",d22f3ee9fc451fa0dbbae94913b6b783:"Couldn't load page",d390c04432bb32b9aa21ac4b2dcf1f5e:{one:"Mark {%n} order as ready for pickup",other:"Mark {%n} orders as ready for pickup"},d4f32c1689ce272897c79bc29f8e7773:"by connected extension on {eventDateTime}",d55348795dcb68c8583ad1cb7ba76245:"Delete Note",d5e9948ea7a76c04b2e978d0d8ac6938:"Cancel",d6acf0e2c68cfbe0a3059aafdd8619a4:"name@example.com",d8aabfde4cf779680dee53cf0143ad7f:"Failed to delete test orders",d8ec8bd3e5b5b24d687736ff9eb061df:"Specify a carrier",d935327a9aaeab929c81ec97f605bfc0:"Issue refund",d9ced327f7ee90713fd0542ae0dbcdcd:{one:"You haven't received a payment for this order yet",other:"You haven't received a payment for some of the orders yet"},da08e6af28254d214368fafe26830264:"Summary",dd08eb350164785eda9998f5ae8411c7:"Re-send email notifications",dfd2c5291efaadeb9239a5c0eb7498ed:"Order summary",e13cb3198f1e2b23ca14b1e17041557c:"Write an internal note",e163e4bf20f5079efb817904744bed28:"Confirm",e16d1b84ab22c321ca3c2a9a6776d0c1:"Email sent",e1c7168eef3e2d6b67d8fc3fff692175:"Cancel",e5ab1ceb216d1613bb4bf60401abdde5:"Delivery",e8e9a03ff4b88ec26426f840fda313bd:"Delete",e9f7faab12ec803791e0df91e810cf34:"delete note",ea020f43fbb37228b6aa19fcf9a459af:"Email the customer that their order is ready for pickup",ea9605f256ede09f3edf36e940e71eed:"Failed to mark as pending",eb5a3a90447b5afdd1fd88681bf26344:{one:"{%n} order marked Fulfilled",other:"{%n} orders marked Fulfilled"},ecff840edfa1f55ab6abe919cdec30e6:"Failed to save, try again",ed94eae8a13abf7ddbf1d90ea70d40e2:"Australia Post",ee02d2a7dd2c66ddf89372808604660b:"Google Pay",ee9e636f60d687226fcf8c14e796c8bc:"Ships to",eedcebfcdb4f546b7a4e0e562661c75e:{one:"Add the following item back to your inventory",other:"Add the following items back to your inventory"},ef5eb0ea64a37512186b243d0f6523b0:"Customer",f1596dc2da5bcfeee04db27d35ff095c:"Selling subscriptions is a powerful way to turn one-time shoppers into loyal customers and secure recurring revenue.",f241212a8b3076a1d91b289527bbd222:"Something went wrong when refunding the order",f445ec8182a415b6092c14c5031e39e6:"DHL Express",f695f1bad440ccbba98c350be49fb0b0:"Select",f6be8204d0dc62304fb21b36e5011773:"Refund pending",f6ff05dfcf779a85bbe62e5260981cf8:"Partial Refund",f80c4aea47cc16ae130b637cdbb7dc09:"Insight for you",f8e10d9aaaa64cfb9033e4d5ba43ca9f:"Confirm cancel order",fa7ad31a197a074435e024edee860a29:"Payment Status",fad8dec3619cd801726ab74aedc3dc58:"Mark as out for delivery",fce7625bc93cbba268e18bbc49c86cd8:"Refund to gift card",fdc289977265a7d8030aedac24201dc7:"Cancel giftcard",fe9f6063085949c1b3bc202f978feea9:"DHL eCommerce"}},975858:function(P){P.exports={"02051787b8e749e55aa2f8f4173501b0":"After","023d413ed8f84aad7ce80c9686718aec":"Existing subscription customers will be notified and price changes will take effect for all renewals after 7 days. Review this email notification in {subscriptionCustomerNotificationsLink}.","03a5577729c44f04fe3681df22531cb8":"See more","19d07a7713d6725c959b0d6290f86120":"You do not have any existing subscription customers to apply changes to","27eb16239ef568d71b28738911ac8283":"(Subscription option removed)","34eac95f50994253d950835892bccd1a":{one:"Monthly",other:"Every {%n} months"},"3c9593be73676676ec93e1be4c0f2a8a":"{percentDiscount} off","459df82b99a9ed8b4abc796d3b124883":"Example string","49ffb5fbe980b342afc803a5e73175b6":"Before","4a168716042e35d5fb6861d7d8e773cb":"Contacts","4f50a7b9918686bac76318f6ab6556d4":"{salePrice} {discountedSalePrice} (Sale price)","5fa7a897ccf396d7664cb533a2bb55f6":"* Removing a subscription option will not delete existing subscriptions. To cancel an existing subscription, go to {contactsLink}.","88f0d04b34a9f7b4a170b8f3a7a1d1e6":"Try again","8efd116d48859ce39d11c19fede07d0d":"* Sale prices will not affect existing subscriptions. Subscriptions signed up during the sale will retain the sale price unless otherwise updated.","947e3085b6a033f91f722fa3d1bfbf52":"Future subscription customers only",a453f3e34c068f108329ba4b0a1274ff:"{salePrice} (Sale price)",a7b4696ed88c65a27678a5c4f1cc2b56:"Back to Edit",af88b5ebb88cf0e5983a21feb69a292d:"All subscription customers",b067999a0bea28eb8b14d7cfa23f2a57:"Apply subscription changes",b166ef1a2e5e844e38a552e70826f0cf:{one:"Weekly",other:"Every {%n} weeks"},b8147afc4a71c3860ce99dccd3c21fed:"Existing Subscriptions",c0c17b6d9c57774290d0d6fc0ff9abfa:"Apply",c2493e2d46fc78ae36ba11620b05f8a9:"Apply to",f6134010bac714959313e9009dc9d628:"Total subscriptions",fb17331f0b479f471e3e7e4938816dfd:"Couldn't load page",fd405b3f2a12a2bba432c95b29b24bbf:"Subscription product info",ff797fb428cd5b338f085a1036e6cc6a:"subscription customer notifications"}},277143:function(P){P.exports={"093ad07e3f661c8e551fae8e6f5b17f5":"Cancel","2040ca353e760337d80b3ff6ac9e57f0":"Files were deleted from this submission.","24f783f807ad88aef997bf6e10629d49":"Delete file","54f4cab598db6dd70ca155606820875d":"Delete file?","5cae989791af889f7a8174a9f140c64d":"Accepts Marketing","618cec0e06756f6537da483de8255508":"Delete file button","7f69aae9cd2dafa17d385f9b8db09182":"Deleting is permanent. Once deleted, this file cannot be restored.",c2a56851d4fa675425edd9fe33276e95:"Something went wrong.",c2d893c5f4bec7e64bce858089b189c5:"Refresh and try again.",c5f7477fa06093822ca57c978cca443f:"Refresh"}},289216:function(P){P.exports={"01d3347fb2428aac4ba86aeb2211dccd":"Couldn't load content","0ce22738f51a46948e45aa8a3f4ad893":"Edit by hovering and clicking anywhere in in your site header.","12a6cce02e24c52be4965c97fda3285e":"Edit header & logo","153a41c336f5c9dde4347b64c7239701":"Setup Guide","1c4fd0b42027bdbf55b42919662521d7":"{firstName}'s Setup Guide","1fee61d501c3b7bc9a0f4994262129c8":"Back to Home","2b635dc009b89191f969c187fe78da27":"Show previous slide","305d751831cc169edc09b7a204a5f549":"Build pages with sections","3bf25154915dba958d6c5cbe26cc47c6":"Hover and click anywhere in your site header to start editing.","3c370bf68992e2228ddee3ff39230585":"Show me","45783651a217ced725e6269dea93bffa":"Home","4e02ec0569a13939c06e3c565dee55e4":"Update site title and add a business logo by clicking the pencil icon.","59430bb1404ae5d075d856276689f044":"Tutorial slideshow controls","5a0feda403eb880de4100337f29b29d2":"Update your site style, colors, and fonts by clicking on the paint brush.","60cf2ab0712ae54cd5ea11c0f392e299":"Stay here","62150372717413bc5a8a8beb93599bb2":"Congrats! You've completed the tour. Stay here or return to Home.","6959e79bd36ef61cbf2b9444aea130b4":"Learn more","6cb18f27cef53b339a095e392e78f5cf":"To change colors, fonts, and buttons, click the corresponding section.","6e4b82fffec50043613ead0a02a20ef5":"Congrats! You've completed the tour. Stay here or return to the Setup Guide.","70596a0df94cf9b9632e49fb94ba7f2c":"Add buttons and social links by clicking 'ADD ELEMENTS'.","70f2484d15bf1a95ed89477dbae07338":"Close","79e574947e47a257b3c3f82bd90a5b0c":"Show slide {current} of {total}","8685dc5bd101380a7a327d60e01177bc":"Show next slide","8c609f666b195bcd5d7cc0018c32311a":"Back to Setup Guide","92623b713836f985c54f1abc3fe2a3f5":"Reorder the pages on your site by using the pencil icon.","93463388287f31d2cce632a0d1391aff":"{userFacingStepNumber} of {userFacingTotalStepNumber}","9f5bbbfa0bdb4827eefbd387ac79ba92":"Tutorial slideshow",a4c356ee47799e9bb172115778885338:"Colors, Fonts, & Buttons",a8b6c1c50c1c793c8e7447af7626be52:"slide",aa40c88b907a238087236f34aa8ac5a1:"Style, save, or rearrange sections by selecting an action under 'EDIT SECTION'.",adcef5c996f8a91633da89ce49ea61be:"{formattedProgressPercent}",c77ebf3c965f11172b4e8e7f89193801:"Check your connection and try again.",cced14c2b7301269a9f50c564a622282:"Browse pre-built sections by hovering and selecting 'ADD SECTION'.",cee368795259511a50fc86b074dc90b9:"Try again",d38ed55b22012650fea8a007be254fac:"Edit site",d3fcb4ce8f17dd838af56607e4033b7e:"Add content like text or images in a section by selecting 'ADD BLOCK'.",d42cabf32ce2217acc31f1ac02c7a1a9:"Close tooltip",d441a1fb58c96fa7a4db8eb54946c2ef:"Learn to edit your pages using pre-built sections and blocks.",d6bbc2a640e5f8ad3538881086c0bc22:"Learn to apply curated themes and styles to your site.",e7d7fa09e1a69e8b7567394b775585ab:"Edit the size, color, or layout of your header by selecting 'EDIT DESIGN'.",f7cd51c492f6f2b4a859c56a6c86da50:"Finish tutorial slideshow"}},272416:function(P){P.exports={"0330467511757a35f055cd1334603e59":"Adding Page Sections","11aad272e9a05b26226279cdd63658e9":"Services","133fd6e492914c88c00fb2833c26d83f":"Managing Form Submissions","17178fb152f0863dd5a09e49f6edacd8":"Adding Additional Product Information","20dd435c76e2fd4fecc7762c31294b81":"Adding Content with Blocks","32660cb27020f910ad7618bc30376670":"Using Gallery Sections","32e07bbb72a2ecd7ba2b5902b224bfc3":"Inviting Contributors","3a58df363ea304a409f4d3f9ec2a8d56":"Adding Background Videos","453fc104dfb93c77760fea08c56b5617":"Creating Portfolio Pages","4e93f3ee03e041431ce5e1bfb5af73a8":"Scheduling","599a3c24b96daa901f04b4574c06a60f":"Physical Goods","63dcb3699531bbeef385c24e885e66a3":"Learn the basics","9f2b581ff79fff914b75d8885e74b803":"Changing Fonts",a070d73d53a97617d2bf5c086d70c8ed:"Invoicing",abd446b70dd97535ef420782f0e88e5c:"Using Scheduling Blocks",aeb67d11a8cbb25c42434f434b64c64b:"Managing Clients",b443f73aec0f0abb105f1576658ef0ae:"Styling Buttons",bf96c6ed7e46aa0abd567535e02ef538:"Understanding the Not Linked Section",c44e84929647d658a8fc8253b0783222:"Keep learning",cda45ef66da18bb8aad8e6116b8b7574:"Website",d7646209c17890c66ac5d5c3a82561a2:"Group Events",dea4f68283974cabfda5e1dae25bc864:"Using Image Blocks",e30d12f0628e239426711d5b1f904af4:"Adding a Site Logo or Browser Icon",f57af60f32c6bd3fb37ee65442eacd8a:"Using Fluid Engine",fd1f8bb83810aafab608fe4d86bd8a22:"Adding Products to Your Store"}},8921:function(P){P.exports={"05a36d34aae764338054ba20f92cbaa3":"Engage visitors and drive sales with email campaigns","075c61f646ed9d7410355739dfbc579f":"Explore Campaigns","0db2cee8ad9edc25cf3ec266ae33551a":"GET AN LLC","1398f8d6eef7d2555bcdec10a638e65e":"Start requesting customer reviews. Adding them to your site can boost sales.","19396c7b746692c2b2b547a4de7741f5":"Add store","1d6e0b5a86c265989daf2df24d6af16b":"Explore Extensions","1e1128038c3292b78fa5aba00ae4d392":"Protect your business with an LLC from our partner ZenBusiness","21dd65fca7be24d487027989c489e12c":"Accept deposits and collect payments with professional invoicing","24446ea23a5ed7bd43a768f51645309a":"Create discount","2683ff437b6b2750298307f5cb50384d":"Add custom form","26a22100a0bb790ef94b7919a32700f5":"Download App","279e0068a59c83c16028f91a3926ec4c":"Create proposal","2a1b03f7a3993a65b5079c03630d4ee5":"Engage customers and drive sales with email campaigns","2cacbc3cd724a5762e2659f42c4a7ff6":"You can auto-respond to form submissions to save time and turn more leads into customers.","3615df1c74c6b06924572b710b4dbddf":"Explore more ways to sell","3783fd6141068aa7b84f5e3f90346e2f":"Discounts increase sales conversion. Create and customize one of four discount templates.","38a89a1331e2ac078a09eb1cb4d6e7ab":"Create Proposal","3e0a85e9de5beaf91517e053fed88ec2":"Explore Fulfillment Options","3fa0f52f1aa2c1a07ff7dd94f69b30e3":"Pro Tip","439701ba17f691bbeb4193a6c1e49312":"Using scheduling page layouts can increase appointment bookings.","442fca5263d7c7789adb3f589c79f757":"Share your online world in one link","45107856c8bdd3ff591d0a5fb4ba4ed6":"Set up alerts","49530447678aae8ff034d92bb53d9b12":"Explore contacts","49943645e28febd59de813cc74e10956":"Create automation","4d1272aefc5ad9ae427d4821429530bb":"Add shipping or pickup options that work for every customer","4df19962c54016d595c32d57026a7a6e":"Set up waitlists","4e03cf71f41fa7cd51b9d63f8e75df63":"Help your brand shine by updating all your customer notifications to match your site styles.","52629c6f055282e32dd369736422067f":"Keep guests and attendees up to date with professional, branded emails","52970e5c28c932d2276844a3b1dc9579":"Explore Invoicing","553820e3fd4d2217da42eef5457164c2":"You can customize the entire checkout experience. Try adding policies, receipt details, and more.","5ce5c592c176b5a210eca3fcb5eb12e2":"START YOUR LLC","5e282fa352fec4686dcf6ed7d05ef2ec":"Add service page","5f70eb110abf4e511220a5439486e589":"Add social links to help leads find you wherever you\u2019re posting content on social media.","60548b7cef265c7c061e87e92fc31477":"If you have a small inventory, turning on express checkout can help increase sales conversion.","638072902fe303fa6a9e456dd9d49f5a":"Did you know?","6470da9560d42d41d037b8c1bd5e6381":"Manage, optimize, and expand your business with third-party extensions","689dfbdae0f0d42507fd3b54282685f5":"Request customer reviews","6d924e3023c5b89bcc8ce3a18310dda6":"Add custom forms at checkout to collect attendee details. No more back and forth over email.","708e828f0c6b72dfdc4a0f710bc3dc0c":"Add promotional pop-up","72ed4b1850e0020697bd3de64aec372c":"Explore Payments","75baef4ce1a85e66e60102ac094e1075":"Product waitlists allow you to accept and manage pre-orders for any product listing.","77f81341449e9261897ab18f7c28fb8e":"Explore Automations","797075bcf0ad037d347fe407ac137cef":"Browse extensions","7a8c7e50bd1c8c243df3613b1f5425de":"Streamline sales by packaging your services in an online store","7ccfb8d446b80a669e60bbeac1a52dff":"Explore Contracts","7d217e5bbe0910af14de464737314e71":"Engage clients and drive sales with email campaigns","82035d84de111065c92ec67f49dccc49":"Explore Bio Sites","82105a551851c71e53245d14c596bb7e":"Set up low stock alerts so you know whenever a product\u2019s stock drops to a certain threshold.","834f9280fed3f00dc863eeb4edf0fe85":"Connect with your audience with an engaging newsletter","889a69665cef6d82b0cb04518663df5e":"You can use a promotional pop-up to collect email addresses as soon as visitors get to your site.","88d6ea1fb0dc8490914e46be7afeda3b":"Add service product","8c8ebe6380b1bf176a43410cd922a259":"Easily manage all your payments and payouts directly on Squarespace","8caf0d69a04727bf42725d12c2ff203a":"Try Express Checkout","9433df2858c7486b7b307a9b16fe5d1f":"Avoid spam filters on order and shipping confirmations by adding your business name and address.","98ef521f6dcc9a23a7d7c3510592929a":"Create Project","9f666cc272c49451e48bad18576609d5":"Use service page layouts to give in-depth details on experiences like camps, travel packages, and more.",a112079122abbb1f2d51b37569a77065:"Add social links to help customers find you wherever you\u2019re posting content on social media.",a2f88617263f34de0382a0e3a09b02eb:"View layouts",a527e7a8256b59682d49fd3923f242c1:"Use social links to drive traffic between your website and your social media accounts.",a87f6b8434960462a34482910395d612:"Reduce admin work and get paid on time with professional invoicing",a965c0d249eb07852ccf6dad563c60fd:"Set up automation",aebaf165388114d6a74d3514522b5096:"Adding a service product lets customers register for your offerings directly through your website.",b578bc679e73a79fd4ab3f7131df2825:"Book clients, collect payments, and automate tasks for appointments",b89a03456ce6e11c10f66700c57b4e8f:"Confirm information",b8f80d761ed5ee457c0f57d16e01ccce:"Get agreement on your terms, services, and payment schedule",b949eb665f4b358b2d60f94b2b92e90d:"Service page layouts can help you to tell a compelling story about your offerings.",c00c67cc6e03d41770d46641508bcb65:"You can win more clients with professional, on-brand proposals that match your website.",c0838f2b8a6bfe2d9e828134466afd8a:"Create lists and segments to send email campaigns to target audiences.",cd614b13c5e84069c0f41ca752d61bd0:"Set up abandoned checkout recovery to email customers who don't complete their purchase.",ce185d520c91520a74422643ad69879a:"Manage email styles",ce2fb03b2d7eb9cce415c47c08db06ca:"Confidently protect your assets & kickstart your LLC with LegalZoom",d194eaf206022d93dafaa075eeb1dace:"Get insights on traffic, sales, and engagement with clear analytics",d55765acc471cdea9c792ed6aafcc9dd:"Add social links to help clients find you wherever you\u2019re posting content on social media.",d6ce5c990e74729a824c9eb46a03a255:"Add account URLs",d7091b79a101c9a5a8dc3b000f58f51d:"Explore Analytics",df423bb59f015ecda68281ac1ee93401:"Win more clients with branded proposals and estimates",e398a7ac9d1cbbd20afa3d6571802207:"Take the work out of marketing with automated email campaigns",e3edca519182a5fc56bbbefd1756af8d:"You can create an online store to sell services, classes, consultations, and more.",e42c61b52632ad98352416a83aa24c89:"Customize your customer notifications to give your invoices and other client emails the same look and feel.",e5c2d7c592c641bb2728e044e81b6494:"Discover more",ea44721f041d56a4d7f49cecd226315f:"Customize emails",eeaff1f2a8e12a0cba821eea0f9a4d3d:"Create Newsletter",f22973e4a5fd1c87adb82c8e1927b390:"Projects help you organize client contracts, proposals, and invoices into one simple workflow.",f8b493c540e97c152f8d70139c2a74dc:"Keep more of what you make with low-fee ACH Direct Debit",f982537e5fa5ff780b52be2f3a977da2:"Maximize profits with flexible payment options and low fees",fd13cb2961101d7b20bf8d479eccc276:"Run your business on the go with the Squarespace mobile app",fdef207b60a7e5df056204231b7094bf:"Customize checkout",fef7d42d1e89496359d8e9243c393b17:"You can access a full library of extensions to manage, optimize, and expand your online presence.",ff3c5643ea21ab578120da5419c7594f:"Try Acuity Scheduling"}},311170:function(P){P.exports={"055c22f45951509a0ffa7f274e012d28":"Your site at a glance","9ad523358f5e5ecd6e46dec6639fb32a":"Get started"}},938758:function(P){P.exports={"0c2ec8d5113ec6335945212f00c97a44":"The site preview isn't available.","2019c8440ce579c24a5a1aece059b27f":"Get a custom domain","5bd9f34403804eec76849765307d54c6":"Domain registration in progress","5db0c609b12dd652beff3fc876a35481":"Private",a479d5d81354ab7111c4d7b6bf3f70cd:"Edit Pages",ab51bd6ef81d8d8962640c280b5c4d32:"Publish your site",ad1ac635fca298524c2cf1b68a47bc4d:"Public",bc5ed2337820a7aee7d950d36edd8601:"Edit site",c19d88546dad87de90a5359c714eaa8d:"Password protected",c6424cb36e55135764479a6cd41f8503:"Preview site",ca7a5f05d755da4e0834270c4f6082ca:"Reload the page to view your site preview.",f096a98262bfca29c79ff970d3e79b50:"Manage domain",f52a5db58482e59a2c4fbd518e4e30c7:"Manage site status"}},916096:function(P){P.exports={bc58ad9addff9e889d36d11c8cf2467d:"Unable to load content. Refresh the page to try again."}},295621:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.Carousel=void 0;var r=n(t(160553)),e=t(778008),c=n(t(174161)),i=t(866241);const a={p:2,m:-2},s=l=>{let{itemsPerPage:d=3.5,children:f,...m}=l;return c.default.createElement(i.CarouselProvider,{itemsPerPage:d},c.default.createElement(e.Box,(0,r.default)({},m,{overflowX:"hidden",sx:{...a}}),f))};o.Carousel=s},986056:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.CarouselHeader=void 0;var r=n(t(160553)),e=t(465006),c=t(778008),i=t(436700),a=t(762005),s=f(t(174161)),l=t(866241);function d(u){if(typeof WeakMap!="function")return null;var p=new WeakMap,g=new WeakMap;return(d=function(v){return v?g:p})(u)}function f(u,p){if(!p&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var g=d(p);if(g&&g.has(u))return g.get(u);var v={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in u)if(C!=="default"&&Object.prototype.hasOwnProperty.call(u,C)){var T=E?Object.getOwnPropertyDescriptor(u,C):null;T&&(T.get||T.set)?Object.defineProperty(v,C,T):v[C]=u[C]}return v.default=u,g&&g.set(u,v),v}const m=u=>{let{children:p,isNavigationDisabled:g,onPrevPage:v,onNextPage:E,theme:C,...T}=u;const{currentPage:I,setCurrentPage:y,totalPages:b}=(0,l.useCarouselContext)(),D=I===0,j=I===b-1,U=(0,s.useCallback)(()=>{const L=I-1;y(L),v==null||v(L,b)},[I,v,y,b]),R=(0,s.useCallback)(()=>{const L=I+1;y(L),E==null||E(L,b)},[I,E,y,b]);return s.default.createElement(i.ThemeContext.Provider,{theme:C||a.rosetta.default},s.default.createElement(c.Flex,(0,r.default)({alignItems:"center",gap:1,justifyContent:"space-between",mb:4},T),p,b>1&&s.default.createElement(c.Flex,{gap:2},s.default.createElement(c.Touchable.Element.Icon,{color:D?"gray.600":"gray.100",disabled:g||D,onClick:U},s.default.createElement(e.ChevronLeft,{color:"inherit"})),s.default.createElement(c.Touchable.Element.Icon,{color:j?"gray.600":"gray.100",disabled:g||j,onClick:R},s.default.createElement(e.ChevronRight,{color:"inherit"})))))};o.CarouselHeader=m},539435:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(670563),c=n(t(174161));const i=2,a=l=>{let{isLoading:d,options:f,...m}=l;const u=[...Array(i)].map((g,v)=>{const E=v===i-1;return{label:c.default.createElement(e.Skeleton,{height:"23px",width:"100px"}),value:`loader-${v}`,isDisabled:!0,...E?{sx:{mr:0}}:null}}),p=f.map((g,v)=>{const E=v===f.length-1;return{...g,...E?{sx:{mr:0}}:null}});return c.default.createElement(e.Tabs,(0,r.default)({},m,{options:d?u:p,value:d?u[0].value:m.value}))};var s=o.default=a;P.exports=o.default},896739:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(778008),c=n(t(174161));const i=s=>{let{children:l,...d}=s;return c.default.createElement(e.Text.SectionTitle,(0,r.default)({fontWeight:"medium",m:0},d),l)};var a=o.default=i;P.exports=o.default},186761:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CarouselItem=void 0;var n=c(t(174161)),r=t(866241);function e(a){if(typeof WeakMap!="function")return null;var s=new WeakMap,l=new WeakMap;return(e=function(d){return d?l:s})(a)}function c(a,s){if(!s&&a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var l=e(s);if(l&&l.has(a))return l.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in a)if(m!=="default"&&Object.prototype.hasOwnProperty.call(a,m)){var u=f?Object.getOwnPropertyDescriptor(a,m):null;u&&(u.get||u.set)?Object.defineProperty(d,m,u):d[m]=a[m]}return d.default=a,l&&l.set(a,d),d}const i=a=>{let{onClick:s,children:l}=a;const{currentPage:d,totalPages:f}=(0,r.useCarouselContext)();return n.default.createElement(n.default.Fragment,null,n.Children.map(l,m=>(0,n.cloneElement)(m,{onClick:()=>{s(d,f),(0,n.isValidElement)(m)&&m.props.onClick&&m.props.onClick()}})))};o.CarouselItem=i},866241:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useCarouselContext=o.CarouselProvider=void 0;var n=e(t(174161));function r(s){if(typeof WeakMap!="function")return null;var l=new WeakMap,d=new WeakMap;return(r=function(f){return f?d:l})(s)}function e(s,l){if(!l&&s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var d=r(l);if(d&&d.has(s))return d.get(s);var f={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in s)if(u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)){var p=m?Object.getOwnPropertyDescriptor(s,u):null;p&&(p.get||p.set)?Object.defineProperty(f,u,p):f[u]=s[u]}return f.default=s,d&&d.set(s,f),f}const c=(0,n.createContext)(null),i=()=>{const s=(0,n.useContext)(c);if(!s)throw new Error("useCarouselContext must be used within a CarouselProvider");return s};o.useCarouselContext=i;const a=s=>{let{children:l,itemsPerPage:d}=s;const[f,m]=(0,n.useState)(0),[u,p]=(0,n.useState)(0),g=(0,n.useMemo)(()=>({currentPage:f,itemsPerPage:d,setCurrentPage:m,setTotalPages:p,totalPages:u}),[f,d,m,p,u]);return n.default.createElement(c.Provider,{value:g},l)};o.CarouselProvider=a},656564:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CarouselTrack=void 0;var n=t(388672),r=t(778008),e=t(436700),c=t(923842),i=l(t(174161)),a=t(866241);function s(m){if(typeof WeakMap!="function")return null;var u=new WeakMap,p=new WeakMap;return(s=function(g){return g?p:u})(m)}function l(m,u){if(!u&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var p=s(u);if(p&&p.has(m))return p.get(m);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in m)if(E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)){var C=v?Object.getOwnPropertyDescriptor(m,E):null;C&&(C.get||C.set)?Object.defineProperty(g,E,C):g[E]=m[E]}return g.default=m,p&&p.set(m,g),g}const d="inset(-100vw 0 -100vw -100vw)",f=m=>{let{children:u}=m;const{currentPage:p,itemsPerPage:g,setTotalPages:v,setCurrentPage:E}=(0,a.useCarouselContext)(),C=(0,n.useWindowResizing)(),{easing:T,time:I,space:y}=(0,e.useTheme)(),[b,D]=(0,c.useMeasure)(),j=parseInt(y[6]),U=j*(Math.ceil(g)-1),R=(0,i.useMemo)(()=>{const $=D.width;if($<=0)return 0;const J=Math.floor(g);return p*($+j)*J},[j,g,p,D.width]),L=(0,i.useCallback)($=>{const J=p*Math.floor(g),ee=(p+1)*Math.floor(g)-1;$<J?E(p-1):$>ee&&E(p+1)},[p,g,E]);(0,i.useEffect)(()=>{v(Math.ceil(i.Children.count(u)/Math.floor(g)))},[u,g,E,v]),(0,i.useEffect)(()=>{E(0)},[u,E]);const x=(0,c.usePrevious)(u),[G,k]=(0,i.useState)(0);(0,i.useEffect)(()=>{const $=i.default.Children.toArray(u),J=i.default.Children.toArray(x);($.length!==J.length||$.some((de,re)=>{const Ee=J[re];return i.default.isValidElement(de)&&i.default.isValidElement(Ee)&&de.key!==Ee.key}))&&k(de=>de+1)},[u,x]);const V=(0,i.useMemo)(()=>G===0?{animation:"none"}:{animation:`fadeIn-${G} ${I[600]} ${T.product.default}`,[`@keyframes fadeIn-${G}`]:{"0%":{opacity:0,transform:"translateY(8px)"},"100%":{opacity:1,transform:"translateY(0)"}}},[G,I,T.product.default]);return i.default.createElement(r.Box,{css:{clipPath:d},width:"100%"},i.default.createElement(r.Flex,{css:{transform:`translateX(-${R}px)`,transitionDuration:C?0:I[200],transitionProperty:"transform",transitionTimingFunction:T.product.default},gap:`${j}px`},i.Children.map(u,($,J)=>i.default.createElement(r.Box,{css:{flexBasis:"auto",flexGrow:0,flexShrink:0,...V},key:J,ref:J===0?b:null,width:`calc((100% - ${U}px) / ${g})`,onFocus:()=>L(J)},$))))};o.CarouselTrack=f},913738:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"Carousel",{enumerable:!0,get:function(){return n.Carousel}}),Object.defineProperty(o,"CarouselHeader",{enumerable:!0,get:function(){return r.CarouselHeader}}),Object.defineProperty(o,"CarouselItem",{enumerable:!0,get:function(){return c.CarouselItem}}),Object.defineProperty(o,"CarouselTrack",{enumerable:!0,get:function(){return e.CarouselTrack}});var n=t(295621),r=t(986056),e=t(656564),c=t(186761)},310160:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(576337),r=t(647938),e=i(t(174161));function c(l){if(typeof WeakMap!="function")return null;var d=new WeakMap,f=new WeakMap;return(c=function(m){return m?f:d})(l)}function i(l,d){if(!d&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var f=c(d);if(f&&f.has(l))return f.get(l);var m={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in l)if(p!=="default"&&Object.prototype.hasOwnProperty.call(l,p)){var g=u?Object.getOwnPropertyDescriptor(l,p):null;g&&(g.get||g.set)?Object.defineProperty(m,p,g):m[p]=l[p]}return m.default=l,f&&f.set(l,m),m}const a=l=>{let{integrationName:d=r.ProvideInsightsRequestIntegrationNameEnum.ACTIVATION,integrationPoint:f,withOrdering:m=!0,withThresholds:u=!0,children:p,onIntentsChange:g}=l;const v=(0,n.useUserIdentifiers)(),E=(0,e.useRef)(null),{data:C,isLoading:T}=(0,r.usePredictedIntents)({identifier:v,integrationName:d,integrationPoint:f,withOrdering:m,withThresholds:u}),I=(0,e.useMemo)(()=>(C==null?void 0:C.map(y=>{let{intent:b}=y;return b}))||[],[C]);return(0,e.useEffect)(()=>{T||(!E.current||I.some((b,D)=>{var j;return b!==((j=E.current)===null||j===void 0?void 0:j[D])}))&&(E.current=I,g==null||g(I))},[I,T,g]),e.default.createElement(e.default.Fragment,null,e.default.Children.map(p,y=>e.default.isValidElement(y)?e.default.cloneElement(y,{intents:I,isError:!1,isLoading:T}):y))};var s=o.default=a;P.exports=o.default},166618:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(670563),e=n(t(174161));const c=()=>e.default.createElement(r.Skeleton,{height:"initial",sx:{aspectRatio:"16 / 9",borderRadius:0},width:"100%"});var i=o.default=c;P.exports=o.default},431420:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(670563),c=t(488475),i=t(778008),a=t(436700),s=m(t(174161)),l=t(528578),d=n(t(166618));function f(g){if(typeof WeakMap!="function")return null;var v=new WeakMap,E=new WeakMap;return(f=function(C){return C?E:v})(g)}function m(g,v){if(!v&&g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var E=f(v);if(E&&E.has(g))return E.get(g);var C={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in g)if(I!=="default"&&Object.prototype.hasOwnProperty.call(g,I)){var y=T?Object.getOwnPropertyDescriptor(g,I):null;y&&(y.get||y.set)?Object.defineProperty(C,I,y):C[I]=g[I]}return C.default=g,E&&E.set(g,C),C}const u=g=>{let{isLoading:v=!1,thumbnail:E,title:C,url:T,videoDuration:I,onClick:y,onFocus:b,...D}=g;const[j,U]=(0,s.useState)(!1),[R,L]=(0,s.useState)(!1),{time:x,easing:G,shadows:k}=(0,a.useTheme)();return s.default.createElement(e.Card,(0,r.default)({as:"button",backgroundColor:j?"gray.900":"gray.950",borderRadius:"11px",sx:{cursor:v?"initial":"pointer",boxShadow:j?k[100]:"none","&:focus-visible":{outlineStyle:"solid",outlineColor:"black",outlineWidth:2,outlineOffset:2}},transitionDuration:x[200],transitionProperty:"background-color",transitionTimingFunction:G.product.default,variant:"quiet",width:"100%",onBlur:()=>L(!1),onClick:()=>{v||y==null||y()},onFocus:()=>{v||(L(!0),b==null||b())},onMouseLeave:()=>U(!1),onMouseOver:()=>!v&&U(!0)},D),v?s.default.createElement(d.default,null):s.default.createElement(e.Image,{fallback:s.default.createElement(d.default,null),loading:"eager",src:E??"",style:{aspectRatio:16/9},width:"100%"}),s.default.createElement(e.Card.Body,{height:"100%",sx:{p:4}},s.default.createElement(i.Flex,{css:{textAlign:"left"},flexDirection:"column",height:"100%",justifyContent:"space-between"},v?s.default.createElement(i.Flex,{flexDirection:"column",gap:2,pb:2},s.default.createElement(e.Skeleton,{height:"23px",width:"100%"}),s.default.createElement(e.Skeleton,{height:"23px",width:"80%"})):s.default.createElement(i.Text.SectionTitle,{fontWeight:"medium",m:0},C),s.default.createElement(i.Flex,{alignItems:"center",alignSelf:"flex-start",backgroundColor:"white",borderRadius:"90px",mt:3,p:1},s.default.createElement(c.Play,null),s.default.createElement(i.Box,{css:{maxWidth:!v&&(j||R)?33:0,overflow:"hidden",transitionDuration:x[200],transitionProperty:"max-width",transitionTimingFunction:G.product.default}},s.default.createElement(i.Text.Caption,{m:0,pr:1},I&&(0,l.formatDuration)(I)))))))};var p=o.default=u;P.exports=o.default},137610:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(670563),e=t(488475),c=t(778008),i=t(436700),a=t(857631),s=n(t(174161));const l=f=>{let{isOpen:m,src:u,onClose:p,onEnd:g,onPause:v,onPlay:E}=f;const{space:C,sizes:T,time:I,easing:y}=(0,i.useTheme)(),b=parseInt(C[3]),D=parseInt(T.sizes[150]);return s.default.createElement(r.Modal.Transition,null,m&&s.default.createElement(r.Modal,{onRequestClose:p},s.default.createElement(r.Modal.Overlay,null),s.default.createElement(r.Modal.Position,{position:"center"},s.default.createElement(r.Modal.Dialog.ResponsiveProvider,{aspectRatio:16/9},s.default.createElement(r.Modal.Dialog,null,s.default.createElement(c.Flex,{as:"button",backgroundColor:"gray.800",borderRadius:"50%",sx:{position:"absolute",top:`-${b+D}px`,right:0,transitionDuration:I[200],transitionProperty:"background-color",transitionTimingFunction:y.product.default,"&:hover":{backgroundColor:"gray.700"},"&.focus-visible":{outline:"2px solid black !important",outlineOffset:"2px"}},onClick:p},s.default.createElement(e.CrossSmall,null)),s.default.createElement(a.VideoPlayer,{environment:(0,a.getEnvironment)(),events:{onEnd:g,onPause:v,onPlay:E},src:u}))))))};var d=o.default=l;P.exports=o.default},440966:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(388672);const r=c=>{let{totalVideos:i,maxVideosPerPage:a=3.5}=c;const{innerWidth:s}=(0,n.useWindowSize)(),l=s<=800,d=s<=1150,f=s<=1350,m=1,u=Math.min(i,a,1.5),p=Math.min(i,a,3),g=Math.min(i,a);return l?m:d?u:f?p:g};var e=o.default=r;P.exports=o.default},664554:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.VideoCarousel=void 0;var r=n(t(160553)),e=m(t(174161)),c=t(913738),i=n(t(431420)),a=n(t(137610)),s=n(t(539435)),l=n(t(896739)),d=n(t(440966));function f(p){if(typeof WeakMap!="function")return null;var g=new WeakMap,v=new WeakMap;return(f=function(E){return E?v:g})(p)}function m(p,g){if(!g&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var v=f(g);if(v&&v.has(p))return v.get(p);var E={__proto__:null},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in p)if(T!=="default"&&Object.prototype.hasOwnProperty.call(p,T)){var I=C?Object.getOwnPropertyDescriptor(p,T):null;I&&(I.get||I.set)?Object.defineProperty(E,T,I):E[T]=p[T]}return E.default=p,v&&v.set(p,E),E}const u=p=>{let{activeCategory:g,categories:v,isLoading:E=!1,maxVideosPerPage:C=3.5,title:T,videos:I,onCardClick:y,onCardFocus:b,onCategoryChange:D,onNextPage:j,onPrevPage:U,onVideoEnd:R,onVideoPause:L,onVideoPlay:x,onVideoPlayerClose:G,...k}=p;const[V,$]=(0,e.useState)(null),J=V?I[V.itemIndex]:null,ee=(0,e.useMemo)(()=>v==null?void 0:v.map(z=>{let{id:be,label:me}=z;return{label:me,value:be}}),[v]),de=ee&&ee.length>0,re=(0,d.default)({totalVideos:I.length,maxVideosPerPage:C}),Ee=(0,e.useMemo)(()=>de?e.default.createElement(s.default,{isLoading:E,options:ee,value:g||null,onChange:D}):e.default.createElement(l.default,null,T),[g,de,E,D,ee,T]),Te=(0,e.useMemo)(()=>(E?[...Array(Math.ceil(re))]:I).map((be,me)=>e.default.createElement(c.CarouselItem,{key:(be==null?void 0:be.title)||me,onClick:(ne,Ce)=>{E||($({itemIndex:me,pageIndex:ne,totalItems:I.length,totalPages:Ce}),y==null||y({...be,pageIndex:ne,totalPages:Ce,totalVideos:I.length,videoIndex:me}))}},e.default.createElement(i.default,(0,r.default)({},be,{height:"100%",isLoading:E})))),[E,y,I,re]);return e.default.createElement(e.default.Fragment,null,e.default.createElement(c.Carousel,(0,r.default)({},k,{itemsPerPage:re}),e.default.createElement(c.CarouselHeader,{isNavigationDisabled:E,onNextPage:j,onPrevPage:U},Ee),e.default.createElement(c.CarouselTrack,null,Te)),e.default.createElement(a.default,{isOpen:!!(J!=null&&J.url),src:J==null?void 0:J.url,onClose:()=>{J&&V&&(G==null||G({...J,videoIndex:V.itemIndex,totalVideos:V.totalItems,pageIndex:V.pageIndex,totalPages:V.totalPages})),$(null)},onEnd:()=>{J&&V&&(R==null||R({...J,videoIndex:V.itemIndex,totalVideos:V.totalItems,pageIndex:V.pageIndex,totalPages:V.totalPages}))},onPause:()=>{J&&V&&(L==null||L({...J,videoIndex:V.itemIndex,totalVideos:V.totalItems,pageIndex:V.pageIndex,totalPages:V.totalPages}))},onPlay:()=>{J&&V&&(x==null||x({...J,videoIndex:V.itemIndex,totalVideos:V.totalItems,pageIndex:V.pageIndex,totalPages:V.totalPages}))}}))};o.VideoCarousel=u},547121:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"Carousel",{enumerable:!0,get:function(){return e.Carousel}}),Object.defineProperty(o,"CarouselHeader",{enumerable:!0,get:function(){return e.CarouselHeader}}),Object.defineProperty(o,"CarouselItem",{enumerable:!0,get:function(){return e.CarouselItem}}),Object.defineProperty(o,"CarouselTrack",{enumerable:!0,get:function(){return e.CarouselTrack}}),Object.defineProperty(o,"IntentWrapper",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"VideoCarousel",{enumerable:!0,get:function(){return r.VideoCarousel}});var r=t(664554),e=t(913738),c=n(t(310160))},746648:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(547121);Object.keys(n).forEach(function(r){r==="default"||r==="__esModule"||r in o&&o[r]===n[r]||Object.defineProperty(o,r,{enumerable:!0,get:function(){return n[r]}})})},528578:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.formatDuration=void 0;const t=n=>{const r=Math.floor(n/60),e=n%60;return`${r===0?"00":r}:${e.toString().padStart(2,"0")}`};o.formatDuration=t},576337:function(P,o,t){"use strict";t.r(o),t.d(o,{useHasProjectSellingIntent:()=>m.Z,useInterstitialTopicTranslationsMap:()=>a,useInterstitialInsights:()=>r.Z,INTERSTITIAL_INSIGHTS:()=>p.Jh,IntegrationName:()=>n.ProvideInsightsRequestIntegrationNameEnum,convertInsightToInterstitialResponse:()=>g.n,InterstitialTopicResponse:()=>e.rj,useHasCommerceIntent:()=>f,useUserIdentifiers:()=>u.t,InterstitialGoalResponse:()=>e.M4});var n=t(647938),r=t(707105),e=t(629072),c=t(587164);const a=()=>{const{t:v}=(0,c.Q)();return{[e.rj.ART]:v("art",null,{project:"activation-utils",notes:"User is creating a new art site"}),[e.rj.CONSULTING]:v("consulting",null,{project:"activation-utils",notes:"User is creating a new consulting site"}),[e.rj.DESIGN]:v("design",null,{project:"activation-utils",notes:"User is creating a new design site"}),[e.rj.EDUCATION]:v("education",null,{project:"activation-utils",notes:"User is creating a new education site"}),[e.rj.FASHION]:v("fashion",null,{project:"activation-utils",notes:"User is creating a new fashion site"}),[e.rj.FITNESS]:v("fitness",null,{project:"activation-utils",notes:"User is creating a new fitness site"}),[e.rj.FOOD]:v("food",null,{project:"activation-utils",notes:"User is creating a new food site"}),[e.rj.GAMING]:v("gaming",null,{project:"activation-utils",notes:"User is creating a new gaming site"}),[e.rj.HEALTH_AND_BEAUTY]:v("health and beauty",null,{project:"activation-utils",notes:"User is creating a new health and beauty site"}),[e.rj.INTERIOR_DESIGN]:v("interior design",null,{project:"activation-utils",notes:"User is creating a new interior design site"}),[e.rj.JEWELRY]:v("jewelry",null,{project:"activation-utils",notes:"User is creating a new jewelry site"}),[e.rj.MAGAZINE]:v("magazine",null,{project:"activation-utils",notes:"User is creating a new magazine site"}),[e.rj.MARKETING]:v("marketing",null,{project:"activation-utils",notes:"User is creating a new marketing site"}),[e.rj.MEDIA_AND_PODCASTS]:v("media and podcasts",null,{project:"activation-utils",notes:"User is creating a new media and podcasts site"}),[e.rj.MUSIC]:v("music",null,{project:"activation-utils",notes:"User is creating a new music site"}),[e.rj.NATURE_AND_ANIMALS]:v("nature and animals",null,{project:"activation-utils",notes:"User is creating a new nature and animals site"}),[e.rj.NONPROFIT]:v("nonprofit",null,{project:"activation-utils",notes:"User is creating a new nonprofit site"}),[e.rj.PERSONAL_AND_CV]:v("personal and cv",null,{project:"activation-utils",notes:"User is creating a new personal and cv site"}),[e.rj.PHOTOGRAPHY]:v("photography",null,{project:"activation-utils",notes:"User is creating a new photography site"}),[e.rj.POLITICS]:v("politics",null,{project:"activation-utils",notes:"User is creating a new politics site"}),[e.rj.REAL_ESTATE_PROPERTIES]:v("real estate properties",null,{project:"activation-utils",notes:"User is creating a new real estate properties site"}),[e.rj.RESTAURANTS]:v("restaurants",null,{project:"activation-utils",notes:"User is creating a new restaurants site"}),[e.rj.TECHNOLOGY]:v("technology",null,{project:"activation-utils",notes:"User is creating a new technology site"}),[e.rj.TRAVEL]:v("travel",null,{project:"activation-utils",notes:"User is creating a new travel site"}),[e.rj.WEDDINGS]:v("weddings",null,{project:"activation-utils",notes:"User is creating a new weddings site"})}};var s=t(300883),l=t(470945);const f=(0,l.Z)({displayName:"useHasCommerceIntent",comparator:v=>{var E;return((E=v.goals)===null||E===void 0?void 0:E.some(C=>s.J.has(C)))??!1}});var m=t(510189),u=t(595706),p=t(938008),g=t(86451)},922583:function(P,o,t){"use strict";t.d(o,{Z:()=>s});var n=t(174161),r=t(525710),e=t(599327),c=t(431925);const i=(0,n.lazy)(()=>t.e("63818").then(t.bind(t,976060))),a=()=>(0,e.Z)()?n.createElement(n.Suspense,{fallback:null},n.createElement(i,null)):null,s=(0,c.Xz)((0,r.Db)(a))},599327:function(P,o,t){"use strict";t.d(o,{G:()=>d,Z:()=>m});var n=t(174161),r=t(510189),e=t(525710),c=t(260175),i=t(352635);function a(){return(0,c.i)(i.breakpoints).platform==="mobile"}const s=1e3,l="SHOW_CONFIG_POPOVER",d=()=>{document.dispatchEvent(new CustomEvent(l))},m=()=>{const{preferences:{dismissedProjectSellersConfigPopover:u},isError:p}=(0,e.ZP)(),[g,v]=(0,n.useState)(!1),{hasIntent:E}=(0,r.Z)();return(0,n.useEffect)(()=>{const C=()=>{setTimeout(()=>{v(!0)},s)};return document.addEventListener(l,C),()=>{document.removeEventListener(l,C)}},[]),!p&&!a()&&!u&&E&&g}},881498:function(P,o,t){"use strict";t.d(o,{o:()=>n});let n=function(r){return r[r.INVALID_INPUT=400]="INVALID_INPUT",r[r.RATE_LIMIT=429]="RATE_LIMIT",r[r.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",r[r.SERVER_ERROR=500]="SERVER_ERROR",r}({})},388672:function(P,o,t){"use strict";t.r(o),t.d(o,{useIntersectionObserver:()=>n.Z,useTrackViewEvent:()=>l.r,useWindowSize:()=>s,useWindowResizing:()=>c});var n=t(375617),r=t(174161);const c=()=>{const[d,f]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let m;const u=()=>{f(!0),clearTimeout(m),m=setTimeout(()=>{f(!1)},200)};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u),clearTimeout(m)}},[]),d},i=()=>({innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}),s=()=>{const[d,f]=(0,r.useState)(i());return(0,r.useEffect)(()=>{const m=()=>{f(i())};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[]),d};var l=t(491450)},375617:function(P,o,t){"use strict";t.d(o,{Z:()=>e});var n=t(174161);const e=c=>{let{root:i=null,threshold:a=0,rootMargin:s="0%"}=c;const l=(0,n.useRef)(null),[d,f]=(0,n.useState)(!1),m=(0,n.useRef)(),u=(0,n.useCallback)(g=>{const v=g[0];if(v){const E=v.isIntersecting&&v.intersectionRatio>a;f(E)}},[a]),p=(0,n.useMemo)(()=>({root:i,threshold:a,rootMargin:s}),[i,a,s]);return(0,n.useEffect)(()=>{m.current=new IntersectionObserver(u,p)},[u,p]),(0,n.useEffect)(()=>{const g=m.current;return l!==null&&l.current&&(g==null||g.observe(l.current)),()=>g==null?void 0:g.disconnect()},[l,m]),{isVisible:d,ref:l}}},491450:function(P,o,t){"use strict";t.d(o,{r:()=>e});var n=t(174161),r=t(375617);const e=function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{isVisible:a,ref:s}=(0,r.Z)({threshold:.5}),l=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{const d=!i||!l.current;a&&d&&(c(),l.current=!0)},[a,c,i]),s}},817084:function(P,o,t){"use strict";t.d(o,{Z:()=>a});var n=t(461761),r=t.n(n);const e=()=>r()(window,["Static","SQUARESPACE_CONTEXT","website","language"]),c=()=>r()(window,["Static","SQUARESPACE_CONTEXT","authenticatedAccount","preferredLocale"]),i=e()||c,a=()=>({website_locale:i,member_account_locale:c})},587164:function(P,o,t){"use strict";t.d(o,{Q:()=>e});var n=t(183863);function r(c){return t(510703)(`./activation-utils.${c}.yaml`)}function e(){return(0,n.Z)(r)}},485533:function(P,o,t){"use strict";t.r(o),t.d(o,{Tracking:()=>r,ProjectSellers:()=>n,Utils:()=>c,getErrorType:()=>s.P,RetryPolicy:()=>a.NC,retriablePromise:()=>a.Ov,TimeoutError:()=>a.W5,Checks:()=>e,HttpCodes:()=>i.o,Insights:()=>l,useMatchesMediaQuery:()=>m});var n={};t.r(n),t.d(n,{ConfigPopover:()=>u.Z,FormPopover:()=>g.Z,dispatchShowConfigPopover:()=>p.G,setProjectSellersPreferences:()=>v.cC,useProjectSellersPreferences:()=>v.x6});var r=t(132178),e=t(645791),c=t(270878),i=t(881498),a=t(352348),s=t(128762),l=t(576337),d=t(174161);function f(E){return window.matchMedia(E).matches}function m(E){const[C,T]=(0,d.useState)(f(E));function I(){T(f(E))}return(0,d.useEffect)(()=>{const y=window.matchMedia(E);return I(),y.addEventListener?y.addEventListener("change",I):y.addListener(I),()=>{y.removeEventListener?y.removeEventListener("change",I):y.removeListener(I)}},[E]),C}var u=t(922583),p=t(599327),g=t(486469),v=t(525710)},57474:function(P,o,t){"use strict";t.r(o),t.d(o,{ActivationEngineStatsigExperiment:()=>c.Wj,ActivationEngineStatsigFeatureGate:()=>c.hq,ActivationFunnelStatsigExperiment:()=>c.pD,ActivationFunnelStatsigFeatureGate:()=>c.fx,Team:()=>c.SZ,setUpABTestExperiment:()=>n.b,setUpFeatureGate:()=>r.u,setUpMultiVariantTestExperiment:()=>n.y,useExtendUser:()=>e.Z});var n=t(758714),r=t(673223),e=t(981086),c=t(867287)},981086:function(P,o,t){"use strict";t.d(o,{Z:()=>i});var n=t(663634),r=t(174161),e=t(431925);const i=a=>{let{data:s,isReadyToExtend:l}=a;const[d,f]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(l&&!d)try{await(0,n.vk)({custom:s})&&f(!0)}catch(u){(0,e.Tb)("Failed to extend user",u)}})()},[l,s]),{hasSuccessfullyExtendedUser:d}}},132178:function(P,o,t){"use strict";t.r(o),t.d(o,{eventClient:()=>l,track:()=>d,trackABTestPCAssetManager:()=>f});var n=t(897071),r=t.n(n),e=t(461761),c=t.n(e),i=t(547740),a=t.n(i),s=t(817084);const l=new(r())({customSchemaName:"commerce_setup"},{event_owner_team:"commerce",event_source:"web",actor:"system",action:"assign",object_type:"setting",user_website_id:c()(window,"Static.SQUARESPACE_CONTEXT.website.id",null),created_on:c()(window,"Static.SQUARESPACE_CONTEXT.website.createdOn"),...(0,s.Z)()}),d=(m,u)=>a()(p=>l.track({object_identifier:m,product_area:u,object_value:p?"experiment":"control"})),f=d("pc-asset-manager","product-composer")},689699:function(P,o,t){"use strict";t.r(o),t.d(o,{Action:()=>s,Actor:()=>a,ObjectType:()=>l,ObjectValue:()=>d,createEventTracker:()=>m});var n=t(883036),r=t(225840),e=t(221661),c=t.n(e),i=t(817084);let a=function(u){return u.USER="user",u.SERVER="server",u.SYSTEM="system",u}({}),s=function(u){return u.ADD="add",u.ASSIGN="assign",u.CHANGE="change",u.CLICK="click",u.CLOSE="close",u.COLLAPSE="collapse",u.COMPLETE="complete",u.CREATE="create",u.DISMISS="dismiss",u.EXPAND="expand",u.INPUT="input",u.LOAD="load",u.MOVE="move",u.OPEN="open",u.SAVE="save",u.SEND="send",u.VIEW="view",u}({}),l=function(u){return u.ACCORDION="accordion",u.BUTTON="button",u.CARD="card",u.DETAILS="details",u.ERROR="error",u.LINK="link",u.MODAL="modal",u.PAGE="page",u.SCORE="score",u.SCREEN="screen",u.SECTION="section",u.SELECT="select",u.SETTING="setting",u.SUBJECT="subject",u.TAB="tab",u.TEXT_INPUT="text-input",u.TOAST="toast",u.TOOLTIP="tooltip",u.VIDEO="video",u}({}),d=function(u){return u.OPEN="open",u}({});const f=(()=>{const u=/^qa\d+.sqsp.net/g,p=/^stage.sqsp.net/g,g=window.location.hostname.substr(window.location.hostname.indexOf(".")+1);return p.test(g)||u.test(g)?e.SourceEnvironment.STAGING:g==="localhost"?e.SourceEnvironment.DEV:e.SourceEnvironment.PROD})(),m=(u,p)=>{var g,v;const E=new(c())({customSchemaName:u,sourceEnvironment:f},{...p,event_source:"web",context_website_id:(g=(0,r.getWebsiteContext)())===null||g===void 0||(g=g.website)===null||g===void 0?void 0:g.id,member_account_id:(v=(0,n.getAccountContext)())===null||v===void 0||(v=v.authenticatedAccount)===null||v===void 0?void 0:v.id,...(0,i.Z)()});return C=>E.track(C)}},128762:function(P,o,t){"use strict";t.d(o,{P:()=>s});var n=t(392338),r=t.n(n),e=t(881498),c=t(456903);const{ApiError:i}=c.errors,a=Object.values(e.o),s=l=>{if(l instanceof i){var d;const f=(d=l.response)===null||d===void 0?void 0:d.status;if(f&&a.includes(f))return f}return e.o.SERVER_ERROR}},270878:function(P,o,t){"use strict";t.r(o),t.d(o,{getErrorType:()=>i.P,retriablePromise:()=>c.Ov,captureMessage:()=>n.uT,withRenderFallbackOnError:()=>n.S2,getDeviceType:()=>l,Time:()=>e,trackUserViewsFeatureToolTip:()=>d.TW,captureException:()=>n.Tb,EventTracker:()=>r,RetryPolicy:()=>c.NC,BaseErrorBoundary:()=>n.j1,withUnwrapProviderOnError:()=>n.r2,TimeoutError:()=>c.W5,trackUserClicksFeatureToolTip:()=>d.tD,withRenderNothingOnError:()=>n.Xz,trackUserDismissesFeatureToolTip:()=>d.jg});var n=t(431925),r=t(689699),e=t(315505),c=t(352348),i=t(128762),a=t(260175),s=t(352635);const l=()=>(0,a.i)(s.breakpoints).platform;var d=t(639073)},352348:function(P,o,t){"use strict";t.d(o,{W5:()=>e,NC:()=>r,Ov:()=>a});const n=function(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return Math.pow(2,s)*l};let r=function(s){return s.STOP="STOP",s.IMMEDIATE="IMMEDIATE",s.DEFAULT="DEFAULT",s}({});class e extends Error{constructor(l){super(l),this.name="TimeoutError"}}function c(s){return new Promise(l=>setTimeout(l,s))}const i=s=>n(s);async function a(s,l,d){let f=0,m,u=!0,p=!1,g;const{maxDelayMs:v,maxRetries:E}=d;return new Promise(async(C,T)=>{for(v&&(g=setTimeout(()=>{p=!0,T(new e(`Retriable promise timed out. Last error: ${m||"no error"}`))},v));u&&!p;)try{const I=await s(f);return clearTimeout(g),C(I)}catch(I){m=I;const y=f>=E,b=l({retries:f,error:I,hasExceededMaxRetries:y}),D=y?r.STOP:b||r.DEFAULT;D===r.STOP?u=!1:D===r.DEFAULT?await c(i(f)):D===r.IMMEDIATE&&await c(0),f++}clearTimeout(g),T(m)})}},639073:function(P,o,t){"use strict";t.d(o,{TW:()=>l,jg:()=>f,tD:()=>d});var n=t(689699),r=t(625392),e=t.n(r);const c="ScalableGuidance",i="config",a="activation",s=e()(()=>({trackEvent:(0,n.createEventTracker)(c,{product_area:i,event_owner_team:a})})),l=m=>{let{contextArea:u,objectIdentifier:p}=m;s().trackEvent({action:n.Action.VIEW,actor:n.Actor.USER,context_area:u,event_name:"ScalableGuidance_UserViewsFeatureToolTip",object_identifier:p,object_type:n.ObjectType.MODAL})},d=m=>{let{contextArea:u,objectIdentifier:p}=m;s().trackEvent({action:n.Action.CLICK,actor:n.Actor.USER,context_area:u,event_name:"ScalableGuidance_UserClicksFeatureToolTip",object_identifier:p,object_type:n.ObjectType.BUTTON})},f=m=>{let{contextArea:u,objectIdentifier:p,isManualDismissal:g}=m;s().trackEvent({action:n.Action.CLICK,actor:g?n.Actor.USER:n.Actor.SYSTEM,context_area:u,event_name:"ScalableGuidance_UserDismissesFeatureToolTip",object_identifier:p,object_type:n.ObjectType.BUTTON})}},510703:function(P,o,t){var n={"./activation-utils.en-US.yaml":"14850"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=510703},300655:function(P,o,t){"use strict";t.r(o),t.d(o,{AIAvailableIconUI:()=>r.A,AIIconUI:()=>n.$,BaseAIIconUI:()=>e.default});var n=t(661787),r=t(440450),e=t(486514)},36668:function(P,o,t){"use strict";t.r(o),t.d(o,{AIIconUI:()=>n.AIIconUI,BaseAIIconUI:()=>n.BaseAIIconUI,AIAvailableIconUI:()=>n.AIAvailableIconUI});var n=t(300655)},797280:function(P,o,t){"use strict";t.d(o,{E:()=>D});var n=t(174161),r=t(338465),e=t(538312),c=t(683683),i=t(108239),a=t(110668),s=t(969145),l=t(517629);const f=j=>{let{isIndeterminate:U,percent:R,radius:L,color:x,width:G}=j;const k=(0,s.F)(),V=U?0:R,$=L*2*Math.PI,J=$*V/100,ee=$-J,de=(0,l.keyframes)({"0%":{strokeDashoffset:$,transform:"rotate(-90deg) scale(-1, 1)"},"50%":{strokeDashoffset:$/2},"100%":{strokeDashoffset:$,transform:"rotate(270deg) scale(-1, 1)"}});return n.createElement(r.Z,{css:{animationName:de}},n.createElement("svg",{role:"progressbar","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":U?void 0:R,height:`${L*2}px`,width:`${L*2}px`,display:"block"},n.createElement("defs",null,n.createElement("path",{id:"svg-circle",d:`
            M 0, ${L}
            a ${L},${L} 0 1,0 ${L*2},0
            a ${L},${L} 0 1,0 -${L*2},0
          `}),n.createElement("clipPath",{id:"svg-circle-clip"},n.createElement("use",{xlinkHref:"#svg-circle"}))),n.createElement("g",null,n.createElement("use",{transform:"scale(-1 1) rotate(90)",xlinkHref:"#svg-circle",stroke:x,strokeWidth:G*2,strokeDasharray:`${$} ${$}`,strokeDashoffset:ee,fill:"white",clipPath:"url(#svg-circle-clip)",style:{transformOrigin:"50% 50%",transition:`stroke-dashoffset ${k.time[50]} linear, transform ${k.time[50]} linear`,...U&&{animationDuration:"1500ms",animationIterationCount:"infinite",animationName:de.name,animationTimingFunction:"cubic-bezier(0.11, 0, 0.5, 0)"}}}))))};var m=t(160553),u=t.n(m),p=t(516865),g=t(759078),v=t(488096);const E=j=>{let{children:U,width:R}=j;const L=(0,n.useRef)(null),[,x]=(0,v.Z)();return(0,n.useEffect)(()=>(L.current&&x(L),()=>x(null)),[L.current]),n.createElement(r.Z,{ref:L,sx:{display:"grid",placeItems:"start",placeContent:"start",width:R}},U)},C=j=>{let{children:U,...R}=j;const{shadows:L}=(0,s.F)(),x=(0,n.useRef)(null),G=(0,g.Z)(x);return n.createElement(p.Z.Base,u()({sx:{gridArea:"1 / 1 / 1 / 3",display:"grid",placeItems:"center",placeContent:"center",overflow:"hidden",width:"100%",boxShadow:L[200],borderRadius:"50%",outline:G?"solid 2px":"none",outlineColor:"blue.500",outlineOffset:"-6px",backgroundColor:"transparent"},ref:x},R),U)},T=j=>{let{children:U,...R}=j;return n.createElement(r.Z,u()({sx:{gridArea:"1 / 2 / 1 / 2",width:"100%",textAlign:"right",placeSelf:"start"}},R),U)},I=27.5,y=2,b=`${I*2}px`,D=j=>{let{detail:U,onClick:R=()=>{},onRequestClose:L=()=>{},percentComplete:x,progressState:G,indicatorState:k,disabled:V}=j;const $=(0,a.Z)(G);return V?null:n.createElement(E,{width:b},n.createElement(C,{onClick:R,zIndex:"1","data-test":"circular-progress"},n.createElement(r.Z,{sx:{gridArea:"1 / 1"}},n.createElement(f,{isIndeterminate:G===c.h.Processing,radius:I,color:$,width:y,percent:x})),n.createElement(r.Z,{sx:{gridArea:"1 / 1",zIndex:"1"}},n.createElement(e.Z.Action,null,U))),n.createElement(T,{zIndex:"2"},k===c.h.Error&&n.createElement(i.KA,{onClick:R}),k===c.h.Complete&&n.createElement(i.HU,{onClick:L})))}},511116:function(P,o,t){"use strict";t.d(o,{Z:()=>j});var n=t(160553),r=t.n(n),e=t(174161),c=t(991540),i=t(757606),a=t(912555),s=t(189277),l=t(997005),d=t(797280),f=t(683683),m=t(636247);const u=U=>U.filter(R=>R.isUploadVisible),p=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,m.Q)();return U.length-R[f.h.Empty].length},g=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,m.Q)();return U.length?R[f.h.Complete].length===U.length?f.h.Complete:R[f.h.Processing].length>0?f.h.Processing:f.h.Uploading:f.h.Empty},v=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,m.Q)();return U.length?R[f.h.Error].length?f.h.Error:R[f.h.Complete].length===U.length?f.h.Complete:R[f.h.Processing].length>0?f.h.Processing:f.h.Uploading:f.h.Empty},E=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,m.Q)();const L=p(U,R);return L<=1?L.toString():`${R[f.h.Complete].length}/${L}`},C=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,m.Q)();return U[f.h.Uploading].length+U[f.h.Processing].length},T=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((R,L)=>R+L.uploadProgress,0)/U.length},I=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,m.Q)();const L=R[f.h.Uploading],x=R[f.h.Complete],G=R[f.h.Processing],k=R[f.h.Error];return U.length===0?0:L.length===0?k.length>0?T(k):x.length>0||G.length>0?100:0:T(L)},y=U=>{U=u(U||[]);const R=(0,m.Z)(U);return{detail:E(U,R),remainingUploads:C(R),indicatorState:v(U,R),percentComplete:I(U,R),progressState:g(U,R),totalUploads:p(U,R)}},b=768,j=U=>{let{onRequestVisibilityChange:R,disabled:L=!1}=U;const[,x]=(0,l.Z)(),[G,k]=(0,e.useState)(()=>y((0,a.GS)())),[V]=(0,c.Z)(),$=(0,e.useCallback)(()=>{x(ee=>{if(!ee){const de=G.remainingUploads;(0,i.trackUserOpensBGUploadingMenu)({numAssets:de})}return!ee})},[x,G.remainingUploads]),J=()=>{s.Z.clearUploads();const ee=G.remainingUploads;(0,i.trackUserClosesBGUploadingMenuIcon)({numAssets:ee})};return(0,e.useEffect)(()=>(0,a.fS)(()=>{k(y((0,a.GS)()))}),[k]),(0,e.useEffect)(()=>{const ee=!!G.totalUploads&&V>=b;R&&R(ee),ee||x(!1)},[V,R,G.totalUploads,x]),e.createElement(d.E,r()({},G,{onRequestClose:J,onClick:$,disabled:L}))}},488096:function(P,o,t){"use strict";t.d(o,{Z:()=>e});var n=t(174161);let r=null;const e=()=>{const[,c]=(0,n.useState)(0),i=(0,n.useCallback)(a=>{r=a,c(s=>s+1)});return[r,i]}},257914:function(P,o,t){"use strict";t.d(o,{Z:()=>Ue});var n=t(174161),r=t(158577),e=t(685763),c=t(845076),i=t.n(c),a=t(757606),s=t(912555),l=t(189277),d=t(839403);const f="beforeunload",m=()=>{const Le=(0,s.GS)()||[];return Le.length>=1&&(0,d.x5)(Le).length>0},u=Le=>{m()&&(Le.preventDefault(),Le.returnValue="")},p=()=>{window.addEventListener(f,u)},g=()=>{window.removeEventListener(f,u)},E=()=>{(0,n.useEffect)(()=>(p(),g),[])};var C=t(488096),T=t(392338),I=t(850882),y=t(683683),b=t(636247);const D=[y.h.Error,y.h.Uploading,y.h.Processing],j=Le=>Le.filter(_e=>_e.isUploadVisible),U=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,b.Q)();return Le[y.h.Uploading].length+Le[y.h.Processing].length},R=Le=>{Le=j(Le||[]);const _e=(0,b.Z)(Le),He=Le.map(Q=>{var fe,le,Re,Me;return{uploadDetails:{filename:Q.assetDetails.filename,thumbnailType:Q.assetDetails.thumbnailUrl?I.h.IMAGE:Q.assetDetails.assetType,thumbnail:Q.assetDetails.thumbnailUrl||Q.assetDetails.assetUrl,uploadId:Q.uploadId},statusDetails:{state:Q.uploadState,percentComplete:Q.uploadProgress},error:Q.uploadError?{errorCode:Q==null||(fe=Q.uploadError)===null||fe===void 0?void 0:fe.errorCode,errorMessage:Q==null||(le=Q.uploadError)===null||le===void 0?void 0:le.message,errorPayload:Q==null||(Re=Q.uploadError)===null||Re===void 0?void 0:Re.payload,errorTitle:Q==null||(Me=Q.uploadError)===null||Me===void 0?void 0:Me.title,isRetryable:!1}:null}}),oe=!He.some(Q=>D.includes(Q.statusDetails.state)),ce=U(_e);return{uploads:He,isCloseable:oe,remainingUploads:ce}};var L=t(152467),x=t(338465),G=t(536285),k=t(348873),V=t(906046),$=t(175049),J=t(538312),ee=t(695999),de=t(108239),re=t(364948),Ee=t(964364);const Te=Le=>{let{src:_e,style:He}=Le;const{createSrc:oe,onAssetError:ce}=(0,re.useAssetDeliveryAuth)();return n.createElement(Ee.Z,{width:36,height:36,src:oe(_e)??"",sx:He,onError:ce})},be=Le=>{let{thumbnail:_e,thumbnailType:He,isUploadComplete:oe}=Le;const Q={objectFit:"cover",opacity:oe?void 0:.4};switch(He){case I.h.VIDEO:return n.createElement("video",{muted:!0,playsInline:!0,pause:"true",width:36,height:36,style:Q},n.createElement("source",{src:_e,provider:"html5"}));case I.h.IMAGE:default:return n.createElement(Te,{src:_e,style:Q})}},me=Le=>{switch(Le){case y.h.Queued:case y.h.Uploading:case y.h.Processing:return"gray.300";case y.h.Complete:case y.h.Error:return"gray.100"}},Ce=Le=>{let{uploadDetails:_e,statusDetails:He,error:oe,onRequestDismiss:ce=()=>{},onCancelUploading:Q,onCancelQueued:fe,sx:le}=Le;const Re=(0,n.useMemo)(()=>{switch(He.state){case y.h.Error:case y.h.Complete:{const yt=de.ZP[He.state];return n.createElement(yt,{onClick:()=>ce(_e.uploadId)})}case y.h.Queued:{if(fe){const yt=de.ZP[y.h.Uploading];return n.createElement(yt,{onClick:fe})}break}case y.h.Uploading:{if(Q){const yt=de.ZP[He.state];return n.createElement(yt,{onClick:Q})}break}default:return n.createElement(x.Z,{width:"sizes.75",px:"1"})}},[_e.uploadId,He.state,ce,fe,Q]),Me=(0,n.useMemo)(()=>n.createElement(J.Z.Body,{m:0,color:me(He.state),sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},title:_e.filename},_e.filename),[He.state,_e.filename]),dt=(0,n.useMemo)(()=>{switch(He.state){case y.h.Error:return oe?n.createElement(J.Z.Caption,{m:0,color:"red.300",display:"block"},oe.errorMessage):null;case y.h.Queued:return n.createElement(J.Z.Caption,{m:0,color:"gray.300",display:"block"},n.createElement(ee.T,{project:"assetManagement.assetUploader"},"Queued"));default:return null}},[He.state,oe]),pt=(0,n.useMemo)(()=>n.createElement(be,{thumbnail:_e.thumbnail,thumbnailType:_e.thumbnailType,isUploadComplete:He.state===y.h.Complete}),[_e.thumbnail,_e.thumbnailType,He.state]);return n.createElement(n.Fragment,null,n.createElement(V.Z,{label:Me,description:dt,interiorAccessory:Re,interiorPre:pt,sx:{".uploading-icon":{opacity:0},"&:hover":{".uploading-icon":{opacity:"100%"}},...le}}),n.createElement($.Z.Container,{height:"sizes.25",sx:le},n.createElement($.Z.Track,{min:0,max:100,value:He.percentComplete,isIndeterminate:He.state===y.h.Processing})))};var Ae=t(160553),Xe=t.n(Ae),Ne=t(766519),st=t(723651),ze=t(219190),we=t(482053),Ke=t(967552),se=t(969145);const ye=Le=>{let{onMinimize:_e,onClose:He,px:oe,...ce}=Le;const{fontWeights:Q}=(0,se.F)(),[fe,le]=(0,n.useState)(null);return(0,n.useEffect)(()=>{fe==null||fe.blur()},[fe]),n.createElement(Ne.Z.Container,Xe()({alignItems:"center",gridConstraint:12,margin:0,gutter:0,height:"sizes.300",px:oe},ce),n.createElement(Ne.Z.Item,{columns:8},n.createElement(J.Z.Body,{as:"div",fontWeight:Q.medium},n.createElement(ee.T,{project:"assetManagement.assetUploader"},"Uploads"))),n.createElement(Ne.Z.Item,{columns:4},n.createElement(we.Z,{justifyContent:"flex-end",direction:"row"},n.createElement(Ke.Z.Element.Icon,{onClick:_e,sx:{height:"44px",width:"44px"},mr:-2,ml:2,my:0,ref:le},n.createElement(st.Z,null)),He&&n.createElement(Ke.Z.Element.Icon,{onClick:He,sx:{height:"44px",width:"44px"},mr:-2,ml:2,my:0},n.createElement(ze.Z,null)))))},ct=22,Ct=Le=>{let{maxHeight:_e,onClose:He,onMinimize:oe,onRemoveUpload:ce,remainingUploads:Q,uploads:fe=[]}=Le;const le=(0,n.useRef)(null),Re=(0,n.useCallback)(pt=>{ce(pt),(0,a.trackUserClosesBGUploadingItem)({numAssets:Q})},[ce,Q]),Me=(0,L.Z)(le),dt=`${ct-Me}px`;return n.createElement(x.Z,null,n.createElement(ye,{onMinimize:oe,onClose:He,px:ct}),n.createElement(x.Z,{sx:{maxHeight:_e,overflowY:"scroll",pb:6},ref:le},fe.map(pt=>{let{uploadDetails:yt,statusDetails:Qt,error:tn}=pt;return n.createElement(Ce,{key:`upload-status-${yt.uploadId}`,uploadDetails:yt,statusDetails:Qt,error:tn,sx:{ml:ct,mr:dt},onRequestDismiss:Re,onCancelUploading:()=>(0,G.$)(yt.uploadId),onCancelQueued:()=>{l.Z.failUpload(yt.uploadId,{message:"Upload cancelled."}),k.J.cancelUpload(yt.uploadId)}})})))},lt=128,Lt=55,At=32,Yt=Le=>{var _e;const{sizes:He,space:oe}=(0,se.F)(),ce=parseInt(He.sizes[300],10),Q=(Le==null||(_e=Le.current)===null||_e===void 0?void 0:_e.getBoundingClientRect())||{top:window.innerHeight-Lt,right:window.innerWidth-At},fe=parseInt(oe[4],10),le=Q.top-fe,Re={right:window.innerWidth-Q.right,bottom:window.innerHeight-le},Me=le-lt-ce;return[Re,Me]};var xe=t(997005),tt=t(401126),F=t.n(tt);const{OVERLAY_CLASSNAME:ie}=r,Ue=Le=>{let{onClose:_e,trackingConfig:He}=Le;const[oe,ce]=(0,xe.Z)(),[Q,fe]=(0,n.useState)(()=>R((0,s.GS)())),[le]=(0,C.Z)(),[Re,Me]=Yt(le);E(),(0,n.useEffect)(()=>{He&&(0,a.initializeTracker)(He)},[He]),(0,n.useEffect)(()=>(0,s.fS)(()=>{fe(R((0,s.GS)()))}),[fe]);const dt=(0,n.useCallback)(tn=>{l.Z.clearUpload(tn)},[]),pt=()=>{ce(!1)},yt=()=>{pt();const tn=Q.remainingUploads;(0,a.trackUserMinimizesBGUploadingMenu)({numAssets:tn})},Qt=()=>{_e&&_e(),l.Z.clearUploads(),ce(!1);const tn=Q.remainingUploads;(0,a.trackUserClosesBGUploadingMenu)({numAssets:tn})};return n.createElement(n.Fragment,null,n.createElement(e.Z.Transition,null,oe&&n.createElement(e.Z,{className:i()(F().ignoreUserInteraction),onRequestClose:pt,zIndex:30060,onClick:tn=>tn.stopPropagation()},n.createElement(e.Z.Overlay,{opacity:0}),n.createElement(e.Z.Dialog,{className:ie,maxWidth:"sizes.700",minWidth:"sizes.700",height:"auto !important",sx:{position:"absolute",pointerEvents:"auto",...Re}},n.createElement(Ct,{maxHeight:Me,onMinimize:yt,onClose:Q.isCloseable?Qt:void 0,onRemoveUpload:dt,uploads:Q.uploads,remainingUploads:Q.remainingUploads})))))}},997005:function(P,o,t){"use strict";t.d(o,{Z:()=>a});var n=t(642979),r=t.n(n),e=t(174161);const c=class{constructor(){r()(this,"isOpen",()=>this.isModalOpen),r()(this,"setIsOpen",l=>{if(typeof l=="function"){this.setIsOpen(l(this.isModalOpen));return}this.isModalOpen=l,this.onChange()}),r()(this,"onChange",()=>{this.onChangeCallbacks.forEach(l=>{l(this.isModalOpen)})}),r()(this,"registerOpenChange",l=>{this.onChangeCallbacks.push(l)}),r()(this,"cancelOnOpenChange",l=>{this.onChangeCallbacks=this.onChangeCallbacks.filter(d=>d!==l)}),this.isModalOpen=!1,this.onChangeCallbacks=[]}},i=new c,a=()=>{const[,s]=(0,e.useState)(0),l=(0,e.useCallback)(()=>s(d=>d+1));return(0,e.useEffect)(()=>(i.registerOpenChange(l),()=>{i.cancelOnOpenChange(l)}),[l]),[i.isOpen(),i.setIsOpen]}},108239:function(P,o,t){"use strict";t.d(o,{HU:()=>v,ZP:()=>T,KA:()=>E});var n=t(174161),r=t(418698),e=t(219190),c=t(967552),i=t(969145),a=t(683683),s=t(695999);const l=I=>{let{children:y,strokeColor:b}=I;return n.createElement("svg",{width:"18",height:"18",display:"block",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("circle",{fill:"white",r:"8",cx:"9",cy:"9",stroke:b,strokeWidth:"2"}),y)},d=I=>{let{color:y}=I;return n.createElement(l,{strokeColor:y},n.createElement("path",{d:"M13 8V5.164l-5 5-3-3V10l3 3 5-5z",fill:y}))},f=I=>{let{color:y}=I;return n.createElement(l,{strokeColor:y},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:y,d:"M9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16ZM9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z"}),n.createElement("path",{fill:y,d:"M9 10.4142L6.70709 12.7071L5.29288 11.2929L7.58579 9L5.29291 6.70712L6.70712 5.29291L9 7.58579L11.2929 5.29291L12.7071 6.70712L10.4142 9L12.7071 11.2929L11.2929 12.7071L9 10.4142Z"}))},m=I=>{let{color:y}=I;return n.createElement(l,{strokeColor:y},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11V4H10V11H8Z",fill:y}),n.createElement("path",{d:"M8 12H10V14H8V12Z",fill:y}))};var u=t(110668);const p=I=>{let{children:y,onClick:b,HoverIcon:D,tooltipContent:j}=I;const[U,R]=(0,n.useState)(!1),[L,x]=(0,n.useState)(!1),G=(0,n.useRef)(null),k=(0,n.useRef)(null),V=(0,n.useCallback)(()=>{k.current&&(clearTimeout(k.current),k.current=null),k.current=setTimeout(()=>{R(!1)},1500),R(!0)},[k,R]),$=(0,n.useCallback)(()=>{k.current&&(clearTimeout(k.current),k.current=null),R(!1)},[k,R]),J=(0,n.useCallback)(()=>{x(!0)},[x]),ee=(0,n.useCallback)(()=>{x(!1)},[x]);return(0,n.useEffect)(()=>()=>{k.current&&clearTimeout(k.current)},[]),n.createElement(n.Fragment,null,n.createElement(c.Z,{sx:{borderRadius:"50%",outlineColor:"blue.500",outlineOffset:"2px"},css:{"&:focus":{outlineStyle:"solid",outlineWidth:"2px"}},ref:G,onClick:b,onMouseEnter:V,onMouseLeave:$,onFocus:J,onBlur:ee,interaction:c.Z.WithoutFeedback},(U||L)&&D?n.createElement(D,null):y),j&&n.createElement(r.Z,{anchor:G.current,isOpen:U||L,position:"top"},j))},g=I=>{let{onClick:y}=I;const{colors:b}=(0,i.F)(),D=b.gray[100];return n.createElement(p,{onClick:y},n.createElement(e.Z,{className:"uploading-icon",color:D}))},v=I=>{let{onClick:y}=I;const b=(0,u.Z)(a.h.Complete),{colors:D}=(0,i.F)(),j=D.gray[100];return n.createElement(p,{HoverIcon:()=>n.createElement(f,{color:j}),onClick:y,tooltipContent:(0,s.t)("Dismiss",null,{project:"assetManagement.assetUploader"})},n.createElement(d,{color:b}))},E=I=>{let{onClick:y}=I;const b=(0,u.Z)(a.h.Error);return n.createElement(p,{onClick:y},n.createElement(m,{color:b}))},C=I=>{let{onClick:y}=I;const b=(0,u.Z)(a.h.Error),{colors:D}=(0,i.F)(),j=D.gray[100];return n.createElement(p,{HoverIcon:()=>n.createElement(f,{color:j}),onClick:y,tooltipContent:(0,s.t)("Cancel",null,{project:"assetManagement.assetUploader"})},n.createElement(m,{color:b}))},T={[a.h.Error]:C,[a.h.Complete]:v,[a.h.Uploading]:g,[a.h.Queued]:g}},636247:function(P,o,t){"use strict";t.d(o,{Q:()=>r,Z:()=>e});var n=t(683683);const r=()=>({[n.h.Error]:[],[n.h.Complete]:[],[n.h.UploadComplete]:[],[n.h.Processing]:[],[n.h.Uploading]:[],[n.h.Queued]:[],[n.h.Empty]:[],[n.h.Archived]:[]}),e=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((i,a)=>(i[a.uploadState].push(a),i),r())}},110668:function(P,o,t){"use strict";t.d(o,{Z:()=>e});var n=t(969145),r=t(683683);const e=c=>{const{colors:i}=(0,n.F)();switch(c){case r.h.Complete:return i.green[300];case r.h.Error:return i.red[300]}return i.gray[100]}},861371:function(P,o,t){"use strict";t.d(o,{Z:()=>p});var n=t(174161),r=t(45212);const e=g=>{let{onOpen:v,onClose:E,sx:C,children:T}=g;return n.createElement(r.Z,{dataTest:"file-drop-container",onDragEnter:v,onDragLeave:E,onDrop:E,sx:C},T)};var c=t(299223),i=t(338465),a=t(589637),s=t.n(a);const l={animationName:"bounce",position:"absolute",pointerEvents:"none",width:"55px",height:"55px",left:`calc(50% - ${55/2}px)`,bottom:"33px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",boxShadow:"0px 0px 1px rgba(0, 0, 0, 0.08), 0px 4px 16px rgba(0, 0, 0, 0.12)",borderRadius:"100px"},d=g=>{let{isOpen:v,onDragEnter:E,onDragLeave:C,onDrop:T,sx:I}=g;const y=b=>{C(),T(b)};return v?n.createElement(r.Z,{dataTest:"file-drop-overlay",onDragEnter:E,onDragLeave:C,onDrop:y},n.createElement(i.Z,{sx:I}),n.createElement(i.Z,{sx:l,className:s().uploadIcon},n.createElement(c.Z,null))):null};var f=t(879441);const p={Container:e,Overlay:d,useOpenState:()=>{const{isOpen:g,onClose:v,onOpen:E}=(0,f.Z)(),{isOpen:C,onClose:T,onOpen:I}=(0,f.Z)();return{isUploadOverlayOpen:g||C,onUploadOverlayOpen:E,onUploadOverlayClose:v,onDragLeave:()=>{T(),v()},onDragEnter:I}}}},61555:function(P,o,t){"use strict";t.r(o),t.d(o,{validateLicense:()=>f.s,AssetDropModal:()=>c.Z,AssetUploaderField:()=>a.Z,UploadErrorModal:()=>p.Z,requestJobProcess:()=>l.Z,setI18nInstance:()=>T.U,WebpFileType:()=>ze.yB,VideoFileType:()=>ze.DB,AssetPreviewField:()=>e.Z,EventTracking:()=>Q,FocalPointAnchor:()=>Ce,TrashIcon:()=>ye.Z,ProgressIndicatorUI:()=>at.E,ActionsMenu:()=>n.Z,getUploadHelp:()=>v.Z,isUploadCancelError:()=>ce.cH,useDragHandle:()=>Te.Z,AssetPreviewContainer:()=>r.Z,FocalPointEditor:()=>Ne,BackgroundUploadingEventTracking:()=>xe,FileUploadContainer:()=>ie.Z,ProgressIndicator:()=>ct.Z,handleCancelUpload:()=>Ze.$,UploadCancellation:()=>ce.M2,prepareDuration:()=>E.z,requestMediaUpload:()=>s.Z,AssetUploaderEventTracking:()=>fe,useAssetDropModal:()=>g.Z,SIZE_VARIANT:()=>Oe.Us,UploadField:()=>F.Z,ImageFileType:()=>ze.kr,EmptyUploaderField:()=>a.Z,AssetConstraintsPropType:()=>le,isUploadIncomplete:()=>At.sP,HiddenInputField:()=>u.default,bulkUploadFiles:()=>Yt.Z,ErrorCode:()=>st.Z,getCurrentConstraints:()=>C.Z,useFocalPoint:()=>Ae,MenuActionKey:()=>we.X,useStorageLimitModal:()=>He,useOpenState:()=>D.Z,useUploadStatusOpenState:()=>lt.Z,FrameContext:()=>se,formatAssetDetails:()=>tt.Z,validateAsset:()=>f.Z,UploadManagerState:()=>Lt,AssetType:()=>oe.h,MenuActionPropType:()=>we.Z,UploadUIState:()=>Ke.h,UploadStatusModal:()=>Ct.Z,validateFile:()=>d.ZP,AssetDropModalContainer:()=>i.Z,customError:()=>m.Z});var n=t(4731),r=t(306537),e=t(989845),c=t(378651),i=t(967074),a=t(715899),s=t(905790),l=t(20666),d=t(398084),f=t(262046),m=t(559470),u=t(830348),p=t(433832),g=t(480142),v=t(155019),E=t(957167),C=t(263681),T=t(910749),I=t(160553),y=t.n(I),b=t(174161),D=t(879441),j=t(338465),U=t(567713),R=t(139717),L=t(865898),x=t(482053),G=t(538312),k=t(516865),V=t(695999),$=t(705967);const J=200,de=Re=>{let{assetUrl:Me,onChange:dt,onRequestClose:pt,value:yt}=Re;const Qt=(0,V.t)("Move the focal point to determine which part of the image stays focused in the frame.",null,{project:"assetManagement.assetUploader"});return b.createElement(j.Z,{p:2,sx:{"& .focal-point-image-field":{backgroundColor:"transparent",borderWidth:0},"& div[class^=Handle]":{width:"22px",height:"22px",borderWidth:"3px",boxShadow:"0px 2px 8px 0px rgb(0 0 0 / 12%), inset 0px 0px 1px 0px rgb(0 0 0 / 8%)"}}},b.createElement(x.Z,{backgroundColor:"gray.900",mb:1,alignContent:"center",justifyContent:"center"},b.createElement($.Z,{assetUrl:Me,maxHeight:J,onChange:dt,value:yt})),b.createElement(G.Z.Caption,{as:"p",lineHeight:"16px"},Qt),b.createElement(x.Z,{justifyContent:"flex-end",alignContent:"center"},b.createElement(k.Z.Tertiary,{size:"small",onClick:pt},b.createElement(V.T,{project:"assetManagement.assetUploader"},"Done"))))},Ee=Re=>{let{anchor:Me,focalPointProps:dt,style:pt={},...yt}=Re;return Me&&b.createElement(L.Z,null,b.createElement(R.Z,y()({anchor:Me,closeOnClickOutside:!0,position:"bottom"},yt,{style:{width:Me==null?void 0:Me.clientWidth,borderRadius:"4px",overflow:"hidden",...pt}}),b.createElement(de,y()({},dt,{onRequestClose:yt.onRequestClose}))))};var Te=t(534130),z=t(561463),be=t(290858);const ne=Re=>{let{anchor:Me,focalPointProps:dt,style:pt={},...yt}=Re;const[Qt,tn]=(0,be.Z)(),[Nn,Vn]=(0,be.Z)(),Hn=(0,Te.Z)();return b.createElement(L.Z,null,b.createElement(z.Z.Portal,null,b.createElement(z.Z.Container,null,b.createElement(z.Z.Drawer,{docks:[-24,Vn.height+tn.height],currentDockIndex:yt.isOpen?1:0,renderHeader:Ft=>{let{onRequestClose:_n}=Ft;return b.createElement(j.Z,{ref:Qt,css:Hn,onClick:_n},b.createElement(G.Z.Body,{as:"div",textAlign:"center",pt:3,pb:3,pl:2,pr:3},b.createElement(V.T,{project:"assetManagement.assetUploader"},"Focal Point")))},renderBody:()=>b.createElement(j.Z,{ref:Nn},b.createElement(de,y()({},dt,{onRequestClose:yt.onRequestClose})))}))))},Ce=b.forwardRef((Re,Me)=>b.createElement(j.Z,y()({},Re,{ref:Me,width:"100%",position:"relative"}))),Ae=()=>{const[Re,Me]=(0,b.useState)(null),dt=b.createRef();(0,b.useEffect)(()=>{dt.current&&Me(dt.current)},[dt.current]);const{isOpen:pt,onClose:yt,onOpen:Qt}=(0,D.Z)();return{focalPointAnchor:Re,focalPointRef:dt,isFocalPointOpen:pt,onCloseFocalPoint:yt,onOpenFocalPoint:Qt}},Ne=Re=>b.createElement(U.Z.Renderer,y()({},Re,{render:{default:Ee,"mobile-0":ne}}));var st=t(778515),ze=t(98393),we=t(142118),Ke=t(683683),se=t(518099),Oe=t(14469),ye=t(35739),ct=t(511116),at=t(797280),Ct=t(257914),lt=t(997005),Lt=t(757948),At=t(839403),Yt=t(847516),xe=t(757606),tt=t(808391),F=t(656219),ie=t(861371),Ze=t(536285),Ue=t(912555),Le=t(189277);const _e=Re=>Re.filter(Me=>{let{uploadState:dt,uploadError:pt}=Me;return dt===Ke.h.Error&&(pt==null?void 0:pt.errorCode)===st.Z.LIBRARY_LIMIT_EXCEEDED}).map(Me=>Me.uploadId),He=()=>{const[Re,Me]=(0,b.useState)(()=>_e((0,Ue.GS)())),dt=(0,b.useCallback)(()=>Re.length>0,[Re]);return(0,b.useEffect)(()=>(0,Ue.fS)(()=>{Me(_e((0,Ue.GS)()))}),[Me]),{clearStorageLimitErrors:()=>{Re.forEach(yt=>Le.Z.clearUpload(yt))},isStorageLimitExceeded:dt()}};var oe=t(850882),ce=t(817254),Q=t(318842),fe=t(565809);const le=void 0},757606:function(P,o,t){"use strict";t.r(o),t.d(o,{initializeTracker:()=>s,trackUserClosesBGUploadingItem:()=>u,trackUserClosesBGUploadingMenu:()=>f,trackUserClosesBGUploadingMenuIcon:()=>m,trackUserMinimizesBGUploadingMenu:()=>p,trackUserOpensBGUploadingMenu:()=>d});var n=t(221661),r=t.n(n),e=t(552813),c=t(8619);const i={actor:"user",event_owner_team:"asset_management",event_source:"web",product_area:"BackgroundUploading",custom_schema_name:"AssetUploader",content_type:"VIDEO",product_section:"body"};let a;const s=g=>{let{environment:v,websiteId:E,userMemberAccountId:C}=g;const T=(0,e.i)(v);a=new(r())(T,{...i,context_website_id:E,member_account_id:C})},l=g=>{try{a.track(g)}catch{console.error(`[${i.product_area}] Event Tracker not initialized`)}},d=g=>{let{numAssets:v}=g;l({action:c.om.CLICK,event_name:"UserOpensBGUploadingMenu",num_assets:v,object_identifier:"open-background-uploading-menu",object_type:c.Ng.BUTTON})},f=g=>{let{numAssets:v}=g;l({action:c.om.CLICK,event_name:"UserClosesBGUploadingMenu",num_assets:v,object_identifier:"close-background-uploading-menu",object_type:c.Ng.BUTTON})},m=g=>{let{numAssets:v}=g;l({action:c.om.CLICK,event_name:"UserClosesBGUploadingMenuIcon",num_assets:v,object_identifier:"close-background-uploading-menu-icon",object_type:c.Ng.BUTTON})},u=g=>{let{numAssets:v}=g;l({action:c.om.CLICK,event_name:"UserClosesBGUploadingItem",num_assets:v,object_identifier:"close-background-uploading-item",object_type:c.Ng.BUTTON})},p=g=>{let{numAssets:v}=g;l({action:c.om.CLICK,event_name:"UserMinimizesBGUploadingMenu",num_assets:v,object_identifier:"minimize-background-uploading-menu",object_type:c.Ng.BUTTON})}},348873:function(P,o,t){"use strict";t.d(o,{J:()=>c});var n=t(642979),r=t.n(n);class e{constructor(){r()(this,"queuedItems",[]),r()(this,"currentItems",[]),r()(this,"MAX_CONCURRENT_UPLOADS",6),r()(this,"addUploads",(a,s)=>{a.forEach(l=>this.queuedItems.push({upload:l,onUpload:s})),this.startNextUpload()}),r()(this,"cancelUpload",a=>{this.queuedItems=this.queuedItems.filter(s=>s.upload.uploadId!==a)}),r()(this,"clearUploads",()=>{this.queuedItems=[],this.currentItems=[]}),r()(this,"canStartNextUpload",()=>this.queuedItems.length>0&&this.currentItems.length<this.MAX_CONCURRENT_UPLOADS),r()(this,"startNextUpload",()=>{if(this.canStartNextUpload()){const a=this.queuedItems.shift();a&&(this.currentItems.push(a),a.onUpload(a.upload).then(()=>this.onUploadComplete(a.upload.uploadId)).catch(()=>this.onUploadComplete(a.upload.uploadId)),this.startNextUpload())}}),r()(this,"onUploadComplete",a=>{this.currentItems=this.currentItems.filter(s=>s.upload.uploadId!==a),this.startNextUpload()})}get queuedUploads(){return this.queuedItems.map(a=>a.upload)}get currentUploads(){return this.currentItems.map(a=>a.upload)}}const c=new e},847516:function(P,o,t){"use strict";t.d(o,{Z:()=>v});var n=t(850882),r=t(188337),e=t(392338);const i=E=>{const C=I=>r.GF.acceptedTypes.includes(I)||I==="image/webp",T=I=>r.ep.acceptedTypes.includes(I);return C(E.type)?n.h.IMAGE:T(E.type)?n.h.VIDEO:null};var a=t(263681),s=t(839403),l=t(189277);const d=(E,C)=>{let{assetType:T,uploadId:I}=C;const y=(0,s.av)({assetType:T,id:I,isExternalUrl:!1},E);try{l.Z.addQueuedUpload(I,{assetDetails:y})}catch{l.Z.addQueuedUpload(I,{assetDetails:y})}};var f=t(912555),m=t(348873);const u=()=>(0,f.GS)().length,p=async(E,C)=>{const{file:T,config:I}=E,y=Date.now();await new Promise(b=>{l.Z.uploadAndProcessFile(T,I,(D,j)=>C(D,j,y),()=>b())})},v=async(E,C,T)=>{let{assetLibraryId:I,environment:y,fieldDescription:b="bulk-upload",folderId:D,libraryUsage:j}=C,{trackUserAddsFile:U=()=>{},trackUserFileLoads:R=()=>{},refreshUsage:L=()=>{},refetchAssets:x=()=>{},overrideConstraints:G=()=>({})}=T;const k=u(),V=(J,ee,de)=>{J.assetType===n.h.VIDEO&&L(),x(),R({id:J.id,filename:J.filename,fileDuration:J.fileDuration,fileType:J.assetType,fileSize:ee,folderId:D,timing:Date.now()-de})},$=E.reduce((J,ee,de)=>{U({filename:ee.name,fileType:ee.type,fileSize:ee.size,folderId:D});const re=(de+k).toString(),Ee=(0,s.w3)(b,re),Te=i(ee),z=Te===n.h.VIDEO?{libraryUsage:j,...r.k0.Video}:{},be=(0,a.Z)(Te,{...z,...G({assetType:Te})}),me={fieldDescription:b,fieldId:re,folderId:D,assetId:re,assetType:Te,uploadRequestConfig:{websiteId:I},environment:y,constraints:be,isUploadVisible:!0,shouldResetOnCancel:!1};return d(ee,{assetType:Te,uploadId:Ee}),J.push({uploadId:Ee,file:ee,config:me}),J},[]);m.J.addUploads($,J=>p(J,V))}},439551:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.generateProductDetails=void 0;var r=n(t(456903)),e=t(56166),c=t(263215),i=t(177098),a=t(304262),s=t(473410),l=t(28318),d=t(356117);const f="/api/v1/ai-content-generator/image-to-text/generate-product-details",m=2e4,u=async(p,g)=>{try{const v=await r.default.post(f,{...(0,c.getSharedRequestOptions)(),imageUrl:p.imageUrl??null,description:p.description??null,eventingMetadata:p.eventingMetadata,productType:(0,l.getProductTypeDescription)(p.productType),profile:e.Profile.AI_PRODUCT_COMPOSER_PROFILE,commandId:e.UserPromptCommandId.PRODUCT_DETAILS},{timeout:m,signal:g}),E=a.generatedProductDetailsApiResponseSchema.safeParse(v.data);return E.success?{isError:!1,data:{name:E.data.name,description:(0,s.formatDescription)(E.data.description),tags:E.data.tags,price:E.data.price,seoTitle:E.data.seoTitle,seoDescription:E.data.seoDescription,responseId:E.data.responseId}}:{isError:!0,error:E.error,errorDetails:d.ErrorCategory.INVALID_RESPONSE}}catch(v){return{isError:!0,error:v,...(0,i.isRateLimitError)(v)&&{errorDetails:d.ErrorCategory.RATE_LIMIT}}}};o.generateProductDetails=u},304262:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isValidProductDetailsInput=o.generatedProductDetailsApiResponseSchema=void 0;var n=t(25912);const r=i=>{const a=typeof i.description=="string",s=typeof i.imageUrl=="string";return a||s};o.isValidProductDetailsInput=r;const e=n.z.object({productHook:n.z.string(),bulletedSummary:n.z.array(n.z.string()),emotionalAppeal:n.z.string()}),c=o.generatedProductDetailsApiResponseSchema=n.z.object({name:n.z.string(),tags:n.z.array(n.z.string()),price:n.z.number(),seoTitle:n.z.string(),seoDescription:n.z.string(),description:e,responseId:n.z.string()})},473410:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.formatDescription=void 0;var n=t(495037);const r=a=>`<p>${a}</p>`,e=a=>`<li>${a}</li>`,c=a=>`<ul>${a.map(e).join("")}</ul>`,i=a=>{let{bulletedSummary:s,emotionalAppeal:l,productHook:d}=a;const f=[r(d),c(s),r(l)].join("");return(0,n.headlessRichTextEditor)({content:f,editorOptions:[(0,n.bulletListOption)(),(0,n.numberedListOption)()]}).getHTML()};o.formatDescription=i},425864:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.AlertModal=f,o.AlertModalWrapper=void 0;var r=t(894458),e=t(670563),c=n(t(174161)),i=t(160841);const{Transition:a,Overlay:s,Position:l}=e.Modal,d=o.AlertModalWrapper=a;function f(m){let{onClose:u,onConfirm:p,title:g,message:v,confirmLabel:E=(0,i.t)("Confirm",null,{project:"business-ai-tools"}),cancelLabel:C=(0,i.t)("Cancel",null,{project:"business-ai-tools"})}=m;const T=c.default.createElement(r.AlertDialog.Button,{key:"confirm",onClick:p},E),I=u&&c.default.createElement(r.AlertDialog.Button,{key:"close",onClick:u},C);return c.default.createElement(e.Modal,{lockFocus:!1,onRequestClose:u},c.default.createElement(s,null),c.default.createElement(l,{position:"center"},c.default.createElement(r.AlertDialog,{buttons:I?[I,T]:[T],message:v,title:g})))}},162356:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useAlertModal=o.AlertModalProvider=void 0;var r=n(t(160553)),e=t(451846),c=n(t(174161)),i=t(425864);const{ConfirmModalProvider:a,useConfirmModal:s}=(0,e.createConfirmModal)(d=>{let{onConfirm:f,onCancel:m,...u}=d;return c.default.createElement(i.AlertModal,(0,r.default)({},u,{onClose:m,onConfirm:f}))},d=>{let{children:f}=d;return c.default.createElement(i.AlertModalWrapper,null,f)});o.AlertModalProvider=a;const l=()=>{const{showConfirmModal:d,closeConfirmModal:f}=s();return{showAlertModal:d,closeAlertModal:f}};o.useAlertModal=l},277172:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.dispatchOpenPopoverEvent=o.DismissAiProductComposerPopover=void 0;var n=t(670563),r=t(778008),e=a(t(174161)),c=t(160841);function i(f){if(typeof WeakMap!="function")return null;var m=new WeakMap,u=new WeakMap;return(i=function(p){return p?u:m})(f)}function a(f,m){if(!m&&f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var u=i(m);if(u&&u.has(f))return u.get(f);var p={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in f)if(v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)){var E=g?Object.getOwnPropertyDescriptor(f,v):null;E&&(E.get||E.set)?Object.defineProperty(p,v,E):p[v]=f[v]}return p.default=f,u&&u.set(f,p),p}const s="open-dismiss-product-generation-card-popover",l=()=>{window.dispatchEvent(new Event(s))};o.dispatchOpenPopoverEvent=l;const d=f=>{let{anchor:m}=f;const[u,p]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{const g=()=>{p(!0)};return window.addEventListener(s,g),()=>window.removeEventListener(s,g)},[]),e.default.createElement(n.PopOver,{closeOnClickOutside:!0,hideArrow:!0,anchor:m,isOpen:u,position:"bottom",onRequestClose:()=>p(!1)},e.default.createElement(r.Box,{background:"black",color:"white",p:3},e.default.createElement(c.T,{newLine:e.default.createElement("br",null),project:"business-ai-tools"},"The AI Product Generator can be accessed {newLine} from this button")))};o.DismissAiProductComposerPopover=d},137609:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PopoverEntrypoint=o.GenerateWithAiPopover=void 0;var n=t(388672),r=t(670563),e=t(488475),c=t(778008),i=p(t(174161)),a=t(160841),s=t(368630),l=t(277172),d=t(716776),f=t(701970),m=t(526407);function u(C){if(typeof WeakMap!="function")return null;var T=new WeakMap,I=new WeakMap;return(u=function(y){return y?I:T})(C)}function p(C,T){if(!T&&C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var I=u(T);if(I&&I.has(C))return I.get(C);var y={__proto__:null},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in C)if(D!=="default"&&Object.prototype.hasOwnProperty.call(C,D)){var j=b?Object.getOwnPropertyDescriptor(C,D):null;j&&(j.get||j.set)?Object.defineProperty(y,D,j):y[D]=C[D]}return y.default=C,I&&I.set(C,y),y}let g=o.PopoverEntrypoint=function(C){return C[C.DESCRIPTION=0]="DESCRIPTION",C[C.IMAGE=1]="IMAGE",C}({});const v={[g.DESCRIPTION]:i.default.createElement(a.T,{project:"business-ai-tools"},"Instead of manually typing in a description, upload an image and get AI-generated product details"),[g.IMAGE]:i.default.createElement(a.T,{project:"business-ai-tools"},"Use this image to generate additional product details")},E=C=>{let{anchor:T,isOpen:I,entrypoint:y,styles:b}=C;const{openAiProductComposerModal:D,storeProductSnapshot:j}=(0,m.useAiProductComposerContext)(),{preferences:U}=(0,d.useAiProductComposerPreferences)(),R=U.dismissedProductGenerationCard,{innerWidth:L}=(0,n.useWindowSize)(),{productType:x,productId:G,status:k}=(0,m.useAiProductComposerModalContext)(),{trackUserClicksEntryPoint:V,trackUserDismissesAIBusinessTool:$}=(0,f.useAnalyticsContext)(),J=(0,i.useCallback)(()=>{(0,d.setAiProductComposerPreferences)({dismissedProductGenerationCard:!0}),(0,l.dispatchOpenPopoverEvent)(),$({identifier:"pre-generated",productType:x,product_id:G})},[$,x,G]),ee=(0,i.useCallback)(()=>{j(),D(),V({ctaText:"Get Started",productType:x})},[D,j,V,x]);return L<=920||R||k.current!==s.Status.IDLE?null:i.default.createElement(r.PopOver,{hideArrow:!0,anchor:T.current,anchorPoint:{x:"right",y:"top"},constrainToScreen:!1,isOpen:I,position:"bottom-right",recalculateAnchorOnScroll:!0,style:{boxShadow:"none",border:1,borderColor:"gray.800",borderRadius:"6px",overflow:"hidden",marginLeft:5,marginRight:5,...b},onMouseDown:de=>de.preventDefault()},i.default.createElement(c.Flex,{borderRadius:"6px",flexDirection:"column",gap:3,maxWidth:"300px",minWidth:"180px",p:6,onMouseDown:de=>de.preventDefault()},i.default.createElement(c.Flex,{alignItems:"center",gap:2},i.default.createElement(e.Ai,null),i.default.createElement(c.Text.SectionTitle,{fontSize:5,fontWeight:"medium",m:0},i.default.createElement(a.T,{project:"business-ai-tools"},"Generate details with AI"))),i.default.createElement(c.Text.Body,{mt:2},v[y]),i.default.createElement(c.Flex,{justifyContent:"space-between",sx:{"@media (max-width: 1280px)":{flexDirection:"column-reverse"}}},i.default.createElement(c.Button.Tertiary,{size:"small",onClick:J},i.default.createElement(a.T,{project:"business-ai-tools"},"Dismiss")),i.default.createElement(c.Button.Secondary,{size:"small",onClick:ee},i.default.createElement(a.T,{project:"business-ai-tools"},"Get Started")))))};o.GenerateWithAiPopover=E},672745:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"DismissAiProductComposerPopover",{enumerable:!0,get:function(){return n.DismissAiProductComposerPopover}}),Object.defineProperty(o,"GenerateWithAiPopover",{enumerable:!0,get:function(){return r.GenerateWithAiPopover}}),Object.defineProperty(o,"PopoverEntrypoint",{enumerable:!0,get:function(){return r.PopoverEntrypoint}});var n=t(277172),r=t(137609)},392546:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AI_PRODUCT_COMPOSER_REVIEW_DESCRIPTION=o.AI_PRODUCT_COMPOSER_GENERATE_DESCRIPTION=void 0;var n=t(160841);const r=o.AI_PRODUCT_COMPOSER_GENERATE_DESCRIPTION=(0,n.t)("Answer a quick prompt, and Squarespace AI will fill out most of your product details for you.",null,{project:"business-ai-tools"}),e=o.AI_PRODUCT_COMPOSER_REVIEW_DESCRIPTION=(0,n.t)("You can edit the product details below, reject them and go back to what you had before, or try again with new prompt inputs.",null,{project:"business-ai-tools"})},970076:function(P,o,t){"use strict";var n;n={value:!0},o.AiProductComposerEntryPoint=void 0;var r=d(t(174161)),e=t(277172),c=t(392546),i=t(716776),a=t(526407),s=t(893959);function l(u){if(typeof WeakMap!="function")return null;var p=new WeakMap,g=new WeakMap;return(l=function(v){return v?g:p})(u)}function d(u,p){if(!p&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var g=l(p);if(g&&g.has(u))return g.get(u);var v={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in u)if(C!=="default"&&Object.prototype.hasOwnProperty.call(u,C)){var T=E?Object.getOwnPropertyDescriptor(u,C):null;T&&(T.get||T.set)?Object.defineProperty(v,C,T):v[C]=u[C]}return v.default=u,g&&g.set(u,v),v}const f=(0,r.lazy)(()=>t.e("92040").then(t.bind(t,178620)).then(u=>({default:u.AiGenerationCard}))),m=o.AiProductComposerEntryPoint=(0,i.withEnsureAiProductComposerPreferences)(()=>{const{preferences:u}=(0,i.useAiProductComposerPreferences)(),p=u.dismissedProductGenerationCard,{openAiProductComposerModal:g,revertProductToSnapshot:v,storeProductSnapshot:E}=(0,a.useAiProductComposerContext)(),{resetForm:C,status:T,resetStatus:I,productType:y,image:b,description:D,productId:j}=(0,a.useAiProductComposerModalContext)(),{trackUserClicksEntryPoint:U,trackUserClicksReviewAIContentCard:R,trackUserDismissesAIBusinessTool:L,trackUserViewsErrorStateForAIGeneratedSellingContent:x}=(0,s.useAnalyticsContext)(),G=(0,r.useCallback)(()=>{C(),I(),v(),R({value:"reject",productType:y,productDescription:D,assetId:b==null?void 0:b.systemDataId,product_id:j})},[D,b==null?void 0:b.systemDataId,j,y,C,I,v,R]),k=(0,r.useCallback)(()=>{E(),g(),U({ctaText:"Get Started",productType:y})},[g,E,U,y]),V=(0,r.useCallback)(()=>{g(),R({value:"try-again",productType:y,productDescription:D,assetId:b==null?void 0:b.systemDataId,product_id:j})},[g,R,y,D,b==null?void 0:b.systemDataId,j]),$=(0,r.useCallback)(()=>{(0,i.setAiProductComposerPreferences)({dismissedProductGenerationCard:!0}),(0,e.dispatchOpenPopoverEvent)(),L({identifier:"pre-generated",productType:y,product_id:j})},[L,y,j]),J=(0,r.useCallback)(()=>{L({identifier:"error",productType:y,product_id:j})},[j,y,L]),ee=(0,r.useCallback)(()=>{x({product_id:j})},[x,j]);return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(f,{generateDescription:c.AI_PRODUCT_COMPOSER_GENERATE_DESCRIPTION,hasDismissedPermanently:p,reviewDescription:c.AI_PRODUCT_COMPOSER_REVIEW_DESCRIPTION,statusState:T,onDismissForSession:J,onDismissIdleCardPermanently:$,onGetStarted:k,onReject:G,onTryAgain:V,onViewError:ee}))})},855943:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useAbortController=void 0;var n=t(174161);const r=()=>{const e=(0,n.useRef)(null),c=(0,n.useCallback)(a=>{e.current=a},[]);return{abortRequest:(0,n.useCallback)(()=>{e.current&&(e.current.abort(),c(null))},[c]),setAbortController:c}};o.useAbortController=r},874607:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useAiProductComposerEvents=void 0;var n=t(174161),r=t(394029),e=t(28318);const c=i=>{const a=(0,n.useCallback)(E=>{let{ctaText:C,productType:T}=E;(0,r.trackEvent)({action:r.Action.CLICK,actor:r.Actor.USER,object_type:r.ObjectType.BUTTON,event_name:"UserClicksBusinessToolsEntryPoint",product_area:i,product_type:T?(0,e.getProductTypeDescription)(T):void 0,object_value:C})},[i]),s=(0,n.useCallback)(E=>{const{identifier:C,value:T,product_id:I}=E,y={action:r.Action.ADD,actor:r.Actor.USER,object_type:r.ObjectType.DETAILS,event_name:"UserAddsProductDetailsToSellingDetailsModal",product_area:i,object_identifier:C,product_id:I};switch(C){case"product_type":y.product_type=(0,e.getProductTypeDescription)(T);break;case"image":y.asset_id=T;break;case"product_description":y.product_description=T;break}(0,r.trackEvent)(y)},[i]),l=(0,n.useCallback)(E=>{let{productType:C,value:T,product_id:I}=E;(0,r.trackEvent)({action:r.Action.CLICK,actor:r.Actor.USER,object_type:r.ObjectType.MODAL,event_name:"UserClicksCloseSellingDetailsConfirmationModal",product_area:i,object_identifier:"product",product_type:(0,e.getProductTypeDescription)(C),object_value:T,product_id:I})},[i]),d=(0,n.useCallback)(E=>{let{value:C,productType:T,productDescription:I,assetId:y,product_id:b}=E;(0,r.trackEvent)({action:r.Action.CLICK,actor:r.Actor.USER,object_type:r.ObjectType.BUTTON,event_name:"UserClicksReviewAIContentCard",product_area:i,object_value:C,product_type:(0,e.getProductTypeDescription)(T),product_description:I,asset_id:y,product_id:b})},[i]),f=(0,n.useCallback)(E=>{let{productType:C,productDescription:T,assetId:I,product_id:y}=E;(0,r.trackEvent)({action:r.Action.CLICK,actor:r.Actor.USER,object_type:r.ObjectType.MODAL,event_name:"UserClosesSellingDetailsModal",product_area:i,product_type:(0,e.getProductTypeDescription)(C),product_description:T,asset_id:I,product_id:y})},[i]),m=(0,n.useCallback)(E=>{let{identifier:C,productType:T,product_id:I}=E;(0,r.trackEvent)({action:r.Action.CLICK,actor:r.Actor.USER,object_type:r.ObjectType.BUTTON,event_name:"UserDismissesAIBusinessTool",product_area:i,object_identifier:C,object_value:"dismiss",product_type:(0,e.getProductTypeDescription)(T),product_id:I})},[i]),u=(0,n.useCallback)(E=>{let{productType:C,productDescription:T,assetId:I,product_id:y}=E;(0,r.trackEvent)({action:r.Action.CLICK,actor:r.Actor.USER,object_type:r.ObjectType.BUTTON,event_name:"UserSubmitsSellingDetailsModal",product_area:i,product_type:(0,e.getProductTypeDescription)(C),product_description:T,asset_id:I,product_id:y})},[i]),p=(0,n.useCallback)(E=>{let{productType:C,productId:T,assetId:I}=E;(0,r.trackEvent)({action:r.Action.VIEW,actor:r.Actor.USER,object_type:r.ObjectType.MODAL,event_name:"UserViewsAIGeneratedProductContent",product_area:i,object_identifier:"product",product_type:(0,e.getProductTypeDescription)(C),product_id:T,asset_id:I})},[i]),g=(0,n.useCallback)(E=>{let{product_id:C}=E;(0,r.trackEvent)({action:r.Action.VIEW,actor:r.Actor.USER,object_type:r.ObjectType.ERROR,event_name:"UserViewsErrorStateForAIGeneratedSellingContent",product_area:i,product_id:C})},[i]),v=(0,n.useCallback)(E=>{let{productType:C,product_id:T}=E;(0,r.trackEvent)({action:r.Action.VIEW,actor:r.Actor.USER,object_type:r.ObjectType.MODAL,event_name:"UserViewsSellingDetailsModal",product_area:i,product_type:(0,e.getProductTypeDescription)(C),product_id:T})},[i]);return{trackUserClicksEntryPoint:a,trackUserAddsProductDetailsToSellingDetailsModal:s,trackUserClicksCloseSellingDetailsConfirmationModal:l,trackUserClicksReviewAIContentCard:d,trackUserClosesSellingDetailsModal:f,trackUserDismissesAIBusinessTool:m,trackUserSubmitsSellingDetailsModal:u,trackUserViewsAIGeneratedProductContent:p,trackUserViewsErrorStateForAIGeneratedSellingContent:g,trackUserViewsSellingDetailsModal:v}};o.useAiProductComposerEvents=c},716776:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.withEnsureAiProductComposerPreferences=o.useAiProductComposerPreferences=o.setAiProductComposerPreferences=o.fetchAiProductComposerPreferences=void 0;var n=t(451846);const r="aiProductComposer",{setPreferences:e,fetchPreferences:c,usePreferences:i,withEnsurePreferences:a}=(0,n.setupNamespace)({namespace:r});o.withEnsureAiProductComposerPreferences=a,o.useAiProductComposerPreferences=i,o.fetchAiProductComposerPreferences=c,o.setAiProductComposerPreferences=e},84676:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useAiProductComposerState=void 0;var n=t(174161),r=t(160841),e=t(162356),c=t(701970);const i=a=>{let{productId:s,productType:l,updateProduct:d,updateProductType:f,abortRequest:m}=a;const[u,p]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),{showAlertModal:E}=(0,e.useAlertModal)(),{trackUserClicksCloseSellingDetailsConfirmationModal:C}=(0,c.useAnalyticsContext)(),[T,I]=(0,n.useState)(),[y,b]=(0,n.useState)(),D=(0,n.useCallback)(function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{enableProductTypeEdit:!1};v(R.enableProductTypeEdit),p(!0)},[]),j=(0,n.useCallback)(async R=>{const L=()=>{var G;m(),p(!1),(G=R.onClose)===null||G===void 0||G.call(R)};if(!R.showConfirmationDialog){L();return}const x=await E({title:(0,r.t)("Are you sure you want to leave?",null,{project:"business-ai-tools"}),message:(0,r.t)("You will lose all your changes.",null,{project:"business-ai-tools"}),confirmLabel:(0,r.t)("Close",null,{project:"business-ai-tools"})});x&&L(),C({productType:l,value:x?"close":"cancel",product_id:s})},[E,C,l,m,s]),U=(0,n.useCallback)(()=>{I(void 0),b(void 0)},[]);return{description:T,setDescription:I,image:y,setImage:b,isAiProductComposerModalOpen:u,openAiProductComposerModal:D,closeAiProductComposerModal:j,productType:l,updateProductType:f,isProductTypeEditable:g,resetForm:U,updateProduct:d,productId:s}};o.useAiProductComposerState=i},917643:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useAiServiceEventingMetadata=void 0;var n=t(701970);const r=()=>{const{productArea:e}=(0,n.useAnalyticsContext)();return{productArea:e,mediaType:"text",productSection:"product-composer"}};o.useAiServiceEventingMetadata=r},343165:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useCanGenerateProductDetails=void 0;var r=n(t(629266)),e=t(174161),c=t(368630),i=t(526407),a=t(336450);const s=()=>{const{productType:l,description:d,image:f,status:m}=(0,i.useAiProductComposerModalContext)();return(0,e.useMemo)(()=>{const p=!!(d!=null&&d.trim())||(f==null?void 0:f.mediaProcessingState)===r.default.READY,g=f&&(0,a.isImageUploading)(f);return m.current!==c.Status.LOADING&&!!l&&p&&!g},[d,f,m,l])};o.useCanGenerateProductDetails=s},565990:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useProductImage=void 0;var n=t(174161),r=t(79306),e=t(160841),c=t(647478),i=t(162356),a=t(701970),s=t(526407);const l={isCancellable:!1,title:(0,e.t)("Image failed to upload",null,{project:"business-ai-tools"}),message:(0,e.t)("An unexpected error occurred.",null,{project:"business-ai-tools"}),confirmLabel:(0,e.t)("Close",null,{project:"business-ai-tools"})},d=()=>{const{showAlertModal:f}=(0,i.useAlertModal)(),{setImage:m,addLibraryImage:u,uploadImage:p,image:g,productId:v}=(0,s.useAiProductComposerModalContext)(),{trackUserAddsProductDetailsToSellingDetailsModal:E}=(0,a.useAnalyticsContext)(),C=(0,n.useCallback)(()=>{m(void 0)},[m]),T=(0,n.useCallback)(async y=>{const b={id:(0,r.v4)(),title:y.name};p(y,{onProgress:D=>{m({...b,...D})},onComplete:D=>{D.systemDataId?(m({...b,...D}),E({identifier:"image",value:D.systemDataId,product_id:v})):(0,c.captureMessage)("Image upload failed: No systemDataId")},onError:D=>{let{title:j,message:U}=D;f({...l,title:j??l.title,message:U??l.message}),C()}})},[p,m,E,v,f,C]),I=(0,n.useCallback)(async y=>{m({...u(y),title:y.filename}),E({identifier:"image",value:y.assetId,product_id:v})},[m,u,E,v]);return{uploadProductImage:T,addProductImageFromLibrary:I,removeProductImage:C,image:g}};o.useProductImage=d},896304:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useUpdateProductDetails=void 0;var n=t(809804),r=t(174161),e=t(368630),c=t(75840),i=t(917643),a=t(439551),s=t(304262),l=t(356117);const d=1,f=m=>{let{productType:u,description:p,image:g,updateProduct:v,setAbortController:E}=m;const C=(0,i.useAiServiceEventingMetadata)(),[T,I]=(0,r.useState)({current:e.Status.IDLE,previous:null}),y=(0,r.useCallback)(U=>{I(R=>U===e.Status.LOADING?R.current===e.Status.LOADING?R:{current:e.Status.LOADING,previous:R.current}:{current:U,previous:null})},[]),b=(0,r.useCallback)(()=>{I(U=>U.current===e.Status.LOADING?{current:U.previous,previous:null}:U)},[]),D=(0,r.useCallback)(()=>{y(e.Status.IDLE)},[y]);return{updateProductDetails:(0,r.useCallback)(async()=>{const U={description:p,imageUrl:g==null?void 0:g.urls.https};if(T.current===e.Status.LOADING||!u||!(0,s.isValidProductDetailsInput)(U))return;y(e.Status.LOADING);const R=new AbortController;E(R);const L=await(0,c.retriableResult)(()=>(0,a.generateProductDetails)({productType:u,eventingMetadata:C,...U},R.signal),{maxRetries:d,shouldRetry:(x,G)=>G===l.ErrorCategory.INVALID_RESPONSE&&!(0,n.isCancel)(x),onError:x=>{let{error:G,retries:k,maxRetries:V,errorDetails:$}=x;(0,n.isCancel)(G)||(0,l.captureException)(new Error("Failed to generate product details",{cause:G}),{...$&&{[l.ErrorTag.ERROR_CATEGORY]:$},[l.ErrorTag.MAX_RETRIES]:V,[l.ErrorTag.RETRIES]:k})}});if(L.isError){const{error:x}=L;if((0,n.isCancel)(x)){b();return}y(e.Status.ERROR)}else{const x={...L.data,image:g};v(x),y(e.Status.SUCCESS)}E(null)},[p,C,b,y,g,u,E,T,v]),status:T,resetStatus:D}};o.useUpdateProductDetails=f},630581:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ProductDescription=void 0;var n=t(228946),r=t(670563),e=t(778008),c=f(t(174161)),i=t(160841),a=t(531728),s=t(701970),l=t(526407);function d(u){if(typeof WeakMap!="function")return null;var p=new WeakMap,g=new WeakMap;return(d=function(v){return v?g:p})(u)}function f(u,p){if(!p&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var g=d(p);if(g&&g.has(u))return g.get(u);var v={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in u)if(C!=="default"&&Object.prototype.hasOwnProperty.call(u,C)){var T=E?Object.getOwnPropertyDescriptor(u,C):null;T&&(T.get||T.set)?Object.defineProperty(v,C,T):v[C]=u[C]}return v.default=u,g&&g.set(u,v),v}const m=()=>{const{description:u,setDescription:p,productId:g}=(0,l.useAiProductComposerModalContext)(),{trackUserAddsProductDetailsToSellingDetailsModal:v}=(0,s.useAnalyticsContext)(),E=(0,c.useCallback)(()=>{u!=null&&u.trim().length&&v({identifier:"product_description",value:u,product_id:g})},[u,v,g]);return c.default.createElement(e.Box,{borderBottom:1,borderColor:"gray.800","data-testid":"product-description"},c.default.createElement(e.Text.Label,null,c.default.createElement(i.T,{project:"business-ai-tools"},"Short Product Description")),c.default.createElement(r.Textarea,{className:n.unmask,maxLength:a.MAX_DESCRIPTION_LENGTH,rows:1,sx:{py:2},value:u,width:"100%",onBlur:E,onChange:p}))};o.ProductDescription=m},720939:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AssetLibraryPicker=void 0;var n=t(45096),r=d(t(174161)),e=t(526407),c=t(220218),i=t(624032),a=t(19414),s=t(285318);function l(m){if(typeof WeakMap!="function")return null;var u=new WeakMap,p=new WeakMap;return(l=function(g){return g?p:u})(m)}function d(m,u){if(!u&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var p=l(u);if(p&&p.has(m))return p.get(m);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in m)if(E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)){var C=v?Object.getOwnPropertyDescriptor(m,E):null;C&&(C.get||C.set)?Object.defineProperty(g,E,C):g[E]=m[E]}return g.default=m,p&&p.set(m,g),g}const f=m=>{let{onClose:u,isOpen:p,handlePickImageAsset:g}=m;const[v,E]=(0,r.useState)(),{getAssetAuthorizationToken:C}=(0,e.useAiProductComposerModalContext)();(0,r.useEffect)(()=>{C().then(E)},[C]);const T=(0,i.getWebsiteId)();return p?r.default.createElement(a.ModalWrapper,{containerProps:{height:s.ASSET_LIBRARY_MODAL_HEIGHT,width:s.ASSET_LIBRARY_MODAL_WIDTH},onClose:u},r.default.createElement(n.AssetPicker,{environment:c.environment,imageAuthToken:v,libraryId:T,onRequestClose:u},r.default.createElement(n.MyLibraryPanel,{assetLibraryId:T,onChooseAssetIds:I=>{const y=I.assets[0];y&&g(y)}}))):null};o.AssetLibraryPicker=f},806385:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.ProductImagePreview=void 0;var r=t(228946),e=t(670563),c=t(488475),i=t(778008),a=t(436700),s=n(t(174161)),l=t(336450);const d=m=>{let{percentage:u}=m;const{time:p,easing:g}=(0,a.useTheme)();return s.default.createElement(i.Box,{bg:"black",height:"3px",sx:{position:"absolute",bottom:0,left:0,transition:`width ${p[400]} ${g.product.default}`},width:`${u}%`})},f=m=>{let{onRemoveImage:u,...p}=m;const{title:g,urls:v,processingProgress:E}=p,C=(0,l.isImageUploading)(p);return s.default.createElement(s.default.Fragment,null,s.default.createElement(e.Cell,{body:g&&s.default.createElement(i.Text.Body,{className:r.unmask,m:0,sx:{textOverflow:"ellipsis",overflow:"hidden"}},g),exteriorAccessory:s.default.createElement(i.Button.Base,{disabled:C,onClick:u},s.default.createElement(c.Trash,{color:C?"gray.600":"initial"})),interiorPre:s.default.createElement(i.Box,{height:"sizes.200",position:"relative",width:"sizes.200"},s.default.createElement(e.Image,{height:"100%",src:v.https,sx:{objectFit:"cover",opacity:C?"0.4":"1"},width:"100%"}),E&&s.default.createElement(d,{percentage:E})),pt:0}),s.default.createElement(e.Divider,null))};o.ProductImagePreview=f},616314:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ProductImageUpload=void 0;var n=t(61555),r=t(488475),e=t(778008),c=d(t(174161)),i=t(160841),a=t(720939),s=t(285318);function l(m){if(typeof WeakMap!="function")return null;var u=new WeakMap,p=new WeakMap;return(l=function(g){return g?p:u})(m)}function d(m,u){if(!u&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var p=l(u);if(p&&p.has(m))return p.get(m);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in m)if(E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)){var C=v?Object.getOwnPropertyDescriptor(m,E):null;C&&(C.get||C.set)?Object.defineProperty(g,E,C):g[E]=m[E]}return g.default=m,p&&p.set(m,g),g}const f=m=>{let{handlePickImageAsset:u,handleUploadImage:p}=m;const{onOpenFileBrowser:g,inputRef:v}=n.HiddenInputField.useHiddenInputField(p),[E,C]=(0,c.useState)(!1),[T,I]=(0,c.useState)(!1),y=(0,c.useCallback)(()=>{C(!0)},[]),b=(0,c.useCallback)(()=>{C(!1)},[]),D=(0,c.useCallback)(()=>{I(!0)},[]),j=(0,c.useCallback)(()=>{I(!1)},[]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(n.AssetPreviewContainer,{assetType:n.AssetType.IMAGE,sx:{p:0,m:0}},c.default.createElement(n.HiddenInputField,{acceptedTypes:s.ACCEPTED_IMAGE_TYPES,isMultiple:!1,ref:v}),c.default.createElement(n.AssetPreviewField.ReplaceFileMenu,{isFullWidth:!1,isOpen:E,menuActions:[{name:(0,i.t)("Upload File",null,{project:"business-ai-tools"}),icon:r.Upload,handler:()=>{g()}},{name:(0,i.t)("Select From Library",null,{project:"business-ai-tools"}),icon:r.Portfolio,handler:D}],position:"bottom-right",renderTrigger:()=>c.default.createElement(e.Box,{borderRadius:"9px",tabIndex:0,onKeyDown:U=>{U.key==="Enter"&&y()}},c.default.createElement(n.EmptyUploaderField,{assetType:n.AssetType.IMAGE,isOpen:E,onAddFileClick:y,onDropFile:p})),onRequestClose:b,onRequestOpen:y})),c.default.createElement(a.AssetLibraryPicker,{handlePickImageAsset:u,isOpen:T,onClose:j}))};o.ProductImageUpload=f},285318:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ASSET_LIBRARY_MODAL_WIDTH=o.ASSET_LIBRARY_MODAL_HEIGHT=o.ACCEPTED_IMAGE_TYPES=void 0;const t=o.ACCEPTED_IMAGE_TYPES=["image/jpeg","image/png"],n=o.ASSET_LIBRARY_MODAL_WIDTH="990px",r=o.ASSET_LIBRARY_MODAL_HEIGHT="675px"},109631:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.ProductImage=void 0;var r=n(t(160553)),e=t(778008),c=n(t(174161)),i=t(565990),a=t(160841),s=t(806385),l=t(616314);const d=()=>{const{uploadProductImage:f,addProductImageFromLibrary:m,image:u,removeProductImage:p}=(0,i.useProductImage)();return c.default.createElement(e.Box,null,c.default.createElement(e.Text.Label,{mb:2},c.default.createElement(a.T,{project:"business-ai-tools"},"Image")),u?c.default.createElement(s.ProductImagePreview,(0,r.default)({},u,{onRemoveImage:p})):c.default.createElement(l.ProductImageUpload,{handlePickImageAsset:m,handleUploadImage:f}))};o.ProductImage=d},225217:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.ProductTypeDropdown=void 0;var r=t(228946),e=n(t(296923)),c=t(894458),i=t(778008),a=u(t(174161)),s=t(160841),l=t(531728),d=t(701970),f=t(526407);function m(g){if(typeof WeakMap!="function")return null;var v=new WeakMap,E=new WeakMap;return(m=function(C){return C?E:v})(g)}function u(g,v){if(!v&&g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var E=m(v);if(E&&E.has(g))return E.get(g);var C={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in g)if(I!=="default"&&Object.prototype.hasOwnProperty.call(g,I)){var y=T?Object.getOwnPropertyDescriptor(g,I):null;y&&(y.get||y.set)?Object.defineProperty(C,I,y):C[I]=g[I]}return C.default=g,E&&E.set(g,C),C}const p=()=>{const{productType:g,updateProductType:v,productId:E}=(0,f.useAiProductComposerModalContext)(),{trackUserAddsProductDetailsToSellingDetailsModal:C}=(0,d.useAnalyticsContext)(),T=(0,a.useCallback)(I=>{v(I),C({identifier:"product_type",value:I,product_id:E})},[v,C,E]);return a.default.createElement(i.Box,null,a.default.createElement(i.Text.Label,null,a.default.createElement(s.T,{project:"business-ai-tools"},"Type")),a.default.createElement(c.Dropdown,{"aria-labelledby":"product-type",className:r.unmask,"data-testid":"product-type-dropdown",placeholder:l.PRODUCT_TYPE_OPTIONS[e.default.PHYSICAL].label,value:g,onChange:T},Object.values(l.PRODUCT_TYPE_OPTIONS).map(I=>a.default.createElement(c.Dropdown.Option,{className:r.unmask,key:I.value,value:I.value},I.label))))};o.ProductTypeDropdown=p},531728:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.PRODUCT_TYPE_OPTIONS=o.MODAL_WIDTH=o.MODAL_HEIGHT=o.MAX_DESCRIPTION_LENGTH=o.LOADING_STATE_MESSAGES=void 0;var r=n(t(296923)),e=t(160841);const c=o.MODAL_WIDTH="400px",i=o.MODAL_HEIGHT="620px",a=o.MAX_DESCRIPTION_LENGTH=200,s=o.PRODUCT_TYPE_OPTIONS={[r.default.PHYSICAL]:{label:(0,e.t)("Physical",null,{project:"business-ai-tools"}),value:r.default.PHYSICAL},[r.default.SERVICE]:{label:(0,e.t)("Service",null,{project:"business-ai-tools"}),value:r.default.SERVICE}},l=o.LOADING_STATE_MESSAGES=[(0,e.t)("Generating product name...",null,{project:"business-ai-tools"}),(0,e.t)("Generating product description...",null,{project:"business-ai-tools"}),(0,e.t)("Generating price...",null,{project:"business-ai-tools"}),(0,e.t)("Generating SEO details...",null,{project:"business-ai-tools"})]},900504:function(P,o,t){"use strict";var n;n={value:!0},o.AiProductComposerModal=void 0;var r=t(36668),e=t(670563),c=t(778008),i=b(t(174161)),a=t(556997),s=t(276548),l=t(160841),d=t(368630),f=t(826154),m=t(630581),u=t(109631),p=t(225217),g=t(531728),v=t(19414),E=t(343165),C=t(526407),T=t(893959),I=t(303474);function y(L){if(typeof WeakMap!="function")return null;var x=new WeakMap,G=new WeakMap;return(y=function(k){return k?G:x})(L)}function b(L,x){if(!x&&L&&L.__esModule)return L;if(L===null||typeof L!="object"&&typeof L!="function")return{default:L};var G=y(x);if(G&&G.has(L))return G.get(L);var k={__proto__:null},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in L)if($!=="default"&&Object.prototype.hasOwnProperty.call(L,$)){var J=V?Object.getOwnPropertyDescriptor(L,$):null;J&&(J.get||J.set)?Object.defineProperty(k,$,J):k[$]=L[$]}return k.default=L,G&&G.set(L,k),k}const D=()=>{const{closeAiProductComposerModal:L}=(0,C.useAiProductComposerContext)(),{productType:x,description:G,image:k,productId:V}=(0,C.useAiProductComposerModalContext)(),{trackUserClosesSellingDetailsModal:$}=(0,T.useAnalyticsContext)(),J=(0,s.isBeaconReskinEnabled)();return i.default.createElement(c.Flex,{flexDirection:"row",py:4},i.default.createElement(c.Flex,J?{flex:1}:{},i.default.createElement(c.Button.Tertiary,{onClick:()=>{L({showConfirmationDialog:!0}),$({productType:x,productDescription:G,assetId:k==null?void 0:k.systemDataId,product_id:V})}},i.default.createElement(l.T,{project:"business-ai-tools"},"Close"))),J&&i.default.createElement(i.default.Fragment,null,i.default.createElement(a.BeaconAi,null),i.default.createElement("div",{style:{flex:1}})))},j=L=>{let{onGenerate:x}=L;const G=(0,E.useCanGenerateProductDetails)();return i.default.createElement(c.Box,{mt:"auto",py:4},i.default.createElement(c.Button.Primary,{disabled:!G,size:"large",sx:{gap:2},width:"100%",onClick:x},i.default.createElement(r.AIIconUI,{color:"white",sx:{width:"sizes.150",height:"sizes.150"}}),i.default.createElement(l.T,{project:"business-ai-tools"},"Generate with AI")))},U=L=>{let{onGenerate:x}=L;const{closeAiProductComposerModal:G}=(0,C.useAiProductComposerContext)(),{updateProductDetails:k,status:V,productType:$,description:J,image:ee,productId:de,isProductTypeEditable:re}=(0,C.useAiProductComposerModalContext)(),{trackUserSubmitsSellingDetailsModal:Ee,trackUserViewsAIGeneratedProductContent:Te,trackUserViewsSellingDetailsModal:z}=(0,T.useAnalyticsContext)(),be=(0,i.useCallback)(async()=>{const me=k();Ee({productType:$,productDescription:J,assetId:ee==null?void 0:ee.systemDataId,product_id:de}),await me,x==null||x(),G({showConfirmationDialog:!1}),Te({productType:$,assetId:ee==null?void 0:ee.systemDataId,productId:de})},[k,G,x,Ee,Te,$,J,ee,de]);return(0,i.useEffect)(()=>{z({productType:$,product_id:de})},[z,$,de]),V.current===d.Status.LOADING?i.default.createElement(c.Flex,{alignItems:"center","data-testid":"loading-indicator",flexDirection:"column",gap:3,height:"100%",justifyContent:"center"},i.default.createElement(r.AIIconUI,{animation:"listening"}),i.default.createElement(f.AnimatingText,{messages:g.LOADING_STATE_MESSAGES})):i.default.createElement(c.Flex,{flexDirection:"column",height:"100%"},i.default.createElement(D,null),i.default.createElement(e.Stack,null,i.default.createElement(c.Box,null,i.default.createElement(c.Text.Title,{my:1},i.default.createElement(l.T,{project:"business-ai-tools"},"What are you selling?")),i.default.createElement(c.Text.Subtitle,{mb:4,mt:1},i.default.createElement(l.T,{project:"business-ai-tools"},"Add both an image and a product name for more accurate results."))),i.default.createElement(e.Stack,{space:4},re&&i.default.createElement(p.ProductTypeDropdown,null),i.default.createElement(u.ProductImage,null),i.default.createElement(m.ProductDescription,null))),i.default.createElement(j,{onGenerate:be}))},R=L=>{let{onClose:x,onGenerate:G,images:k}=L;const{closeAiProductComposerModal:V,isAiProductComposerModalOpen:$}=(0,C.useAiProductComposerContext)(),{productType:J,description:ee,image:de,productId:re,setImage:Ee}=(0,C.useAiProductComposerModalContext)(),{trackUserClosesSellingDetailsModal:Te}=(0,T.useAnalyticsContext)(),z=(0,I.isAiProductComposerV2ExperimentEnabled)(),be=(0,i.useCallback)(()=>{k&&k.length>0&&Ee(k[0])},[k,Ee]);return(0,i.useEffect)(()=>{z&&!$&&be()},[be,z,$]),$?i.default.createElement(v.ModalWrapper,{containerProps:{width:g.MODAL_WIDTH,height:g.MODAL_HEIGHT,px:6},onClose:()=>{V({onClose:x,showConfirmationDialog:!0}),Te({productType:J,productDescription:ee,assetId:de==null?void 0:de.systemDataId,product_id:re})}},i.default.createElement(U,{onGenerate:G})):null};o.AiProductComposerModal=R},526407:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useAiProductComposerModalContext=o.useAiProductComposerContext=o.AiProductComposerProvider=void 0;var n=l(t(174161)),r=t(893959),e=t(162356),c=t(855943),i=t(84676),a=t(896304);function s(v){if(typeof WeakMap!="function")return null;var E=new WeakMap,C=new WeakMap;return(s=function(T){return T?C:E})(v)}function l(v,E){if(!E&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var C=s(E);if(C&&C.has(v))return C.get(v);var T={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in v)if(y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)){var b=I?Object.getOwnPropertyDescriptor(v,y):null;b&&(b.get||b.set)?Object.defineProperty(T,y,b):T[y]=v[y]}return T.default=v,C&&C.set(v,T),T}const d=(0,n.createContext)(null),f=(0,n.createContext)(null),m=()=>{const v=(0,n.useContext)(d);if(v===null)throw new Error("`useAiProductComposerContext` should only be called by a descendant of `AiProductComposerProvider`.");return v};o.useAiProductComposerContext=m;const u=()=>{const v=(0,n.useContext)(f);if(v===null)throw new Error("`useAiProductComposerModalContext` should only be called by a descendant of `AiProductComposerProvider`.");return v};o.useAiProductComposerModalContext=u;const p=v=>{let{children:E,productId:C,productType:T,updateProduct:I,updateProductType:y,addLibraryImage:b,uploadImage:D,storeProductSnapshot:j,revertProductToSnapshot:U,getAssetAuthorizationToken:R}=v;const{abortRequest:L,setAbortController:x}=(0,c.useAbortController)(),G=(0,i.useAiProductComposerState)({productType:T,updateProduct:I,updateProductType:y,abortRequest:L,productId:C}),{updateProductDetails:k,status:V,resetStatus:$}=(0,a.useUpdateProductDetails)({productType:T,description:G.description,image:G.image,updateProduct:I,setAbortController:x}),J=(0,n.useMemo)(()=>({isAiProductComposerModalOpen:G.isAiProductComposerModalOpen,openAiProductComposerModal:G.openAiProductComposerModal,closeAiProductComposerModal:G.closeAiProductComposerModal,storeProductSnapshot:j,revertProductToSnapshot:U}),[G.isAiProductComposerModalOpen,G.openAiProductComposerModal,G.closeAiProductComposerModal,j,U]),ee=(0,n.useMemo)(()=>({productId:G.productId,productType:G.productType,updateProductType:G.updateProductType,updateProduct:G.updateProduct,description:G.description,setDescription:G.setDescription,image:G.image,setImage:G.setImage,isProductTypeEditable:G.isProductTypeEditable,resetForm:G.resetForm,updateProductDetails:k,status:V,resetStatus:$,addLibraryImage:b,uploadImage:D,getAssetAuthorizationToken:R}),[G.productId,G.productType,G.updateProductType,G.updateProduct,G.description,G.setDescription,G.image,G.setImage,G.isProductTypeEditable,G.resetForm,k,V,$,b,D,R]);return n.default.createElement(d.Provider,{value:J},n.default.createElement(f.Provider,{value:ee},E))},g=v=>{let{children:E,productArea:C,...T}=v;return n.default.createElement(e.AlertModalProvider,null,n.default.createElement(r.AnalyticsProvider,{productArea:C},n.default.createElement(p,T,E)))};o.AiProductComposerProvider=g},893959:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useAnalyticsContext=o.AnalyticsProvider=void 0;var n=c(t(174161)),r=t(874607);function e(l){if(typeof WeakMap!="function")return null;var d=new WeakMap,f=new WeakMap;return(e=function(m){return m?f:d})(l)}function c(l,d){if(!d&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var f=e(d);if(f&&f.has(l))return f.get(l);var m={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in l)if(p!=="default"&&Object.prototype.hasOwnProperty.call(l,p)){var g=u?Object.getOwnPropertyDescriptor(l,p):null;g&&(g.get||g.set)?Object.defineProperty(m,p,g):m[p]=l[p]}return m.default=l,f&&f.set(l,m),m}const i=(0,n.createContext)(null),a=()=>{const l=(0,n.useContext)(i);if(l===null)throw new Error("`useAnalyticsContext` should only be called by a descendant of `AnalyticsProvider`.");return l};o.useAnalyticsContext=a;const s=l=>{let{productArea:d,children:f}=l;const{trackUserClicksEntryPoint:m,trackUserAddsProductDetailsToSellingDetailsModal:u,trackUserClicksCloseSellingDetailsConfirmationModal:p,trackUserClicksReviewAIContentCard:g,trackUserClosesSellingDetailsModal:v,trackUserDismissesAIBusinessTool:E,trackUserSubmitsSellingDetailsModal:C,trackUserViewsAIGeneratedProductContent:T,trackUserViewsErrorStateForAIGeneratedSellingContent:I,trackUserViewsSellingDetailsModal:y}=(0,r.useAiProductComposerEvents)(d),b=(0,n.useMemo)(()=>({productArea:d,trackUserClicksEntryPoint:m,trackUserAddsProductDetailsToSellingDetailsModal:u,trackUserClicksCloseSellingDetailsConfirmationModal:p,trackUserClicksReviewAIContentCard:g,trackUserClosesSellingDetailsModal:v,trackUserDismissesAIBusinessTool:E,trackUserSubmitsSellingDetailsModal:C,trackUserViewsAIGeneratedProductContent:T,trackUserViewsErrorStateForAIGeneratedSellingContent:I,trackUserViewsSellingDetailsModal:y}),[d,m,u,p,g,v,E,C,T,I,y]);return n.default.createElement(i.Provider,{value:b},f)};o.AnalyticsProvider=s},701970:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"AiProductComposerProvider",{enumerable:!0,get:function(){return n.AiProductComposerProvider}}),Object.defineProperty(o,"useAiProductComposerContext",{enumerable:!0,get:function(){return n.useAiProductComposerContext}}),Object.defineProperty(o,"useAnalyticsContext",{enumerable:!0,get:function(){return r.useAnalyticsContext}});var n=t(526407),r=t(893959)},220218:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.environment=void 0;var n=e(t(998124));function r(i){if(typeof WeakMap!="function")return null;var a=new WeakMap,s=new WeakMap;return(r=function(l){return l?s:a})(i)}function e(i,a){if(!a&&i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var s=r(a);if(s&&s.has(i))return s.get(i);var l={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in i)if(f!=="default"&&Object.prototype.hasOwnProperty.call(i,f)){var m=d?Object.getOwnPropertyDescriptor(i,f):null;m&&(m.get||m.set)?Object.defineProperty(l,f,m):l[f]=i[f]}return l.default=i,s&&s.set(i,l),l}const c=o.environment={isQA:n.isQA(),isStage:n.isStage(),isDev:n.isDev()}},394029:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(o,"Actor",{enumerable:!0,get:function(){return r.Actor}}),Object.defineProperty(o,"ObjectType",{enumerable:!0,get:function(){return r.ObjectType}}),o.trackEvent=void 0;var r=t(689699),e=t(228946),c=n(t(625392));const i=(0,c.default)(()=>(0,r.createEventTracker)("BusinessAITools",{event_owner_team:"activation-engine",product_area:"product-composer",business_tool_name:"product-generator"})),a=s=>{i()(s);const{event_name:d,...f}=s;(0,e.fireEvent)(d,f)};o.trackEvent=a},163810:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isAiProductComposerV2ExperimentEnabled=o.isAiProductComposerEnabledForProductTypeV2=o.isAiProductComposerEnabledForProductType=o.fireAssignmentEvent=void 0;var n=t(57474),r=t(28318);const{fireAssignmentEvent:e,isEnabled:c}=(0,n.setUpABTestExperiment)({experimentName:n.ActivationEngineStatsigExperiment.AI_PRODUCT_COMPOSER_V2,team:n.Team.ACTIVATION_ENGINE});o.isAiProductComposerV2ExperimentEnabled=c,o.fireAssignmentEvent=e;const i=s=>{let{productType:l,isNewProduct:d}=s;return d&&(0,r.isEligibleProductType)(l)};o.isAiProductComposerEnabledForProductType=i;const a=s=>{let{productType:l,serviceType:d,isNewProduct:f}=s;return f&&(0,r.isEligibleProductTypeV2)(l,d)};o.isAiProductComposerEnabledForProductTypeV2=a},624032:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getWebsiteId=void 0;var n=t(225840);const r=()=>{var e;const c=(e=(0,n.getWebsiteContext)())===null||e===void 0?void 0:e.website.id;if(!c)throw new Error("Website ID is not set");return c};o.getWebsiteId=r},303474:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"fireAssignmentEvent",{enumerable:!0,get:function(){return n.fireAssignmentEvent}}),Object.defineProperty(o,"isAiProductComposerEnabledForProductType",{enumerable:!0,get:function(){return n.isAiProductComposerEnabledForProductType}}),Object.defineProperty(o,"isAiProductComposerEnabledForProductTypeV2",{enumerable:!0,get:function(){return n.isAiProductComposerEnabledForProductTypeV2}}),Object.defineProperty(o,"isAiProductComposerV2ExperimentEnabled",{enumerable:!0,get:function(){return n.isAiProductComposerV2ExperimentEnabled}}),Object.defineProperty(o,"isEligibleProductType",{enumerable:!0,get:function(){return r.isEligibleProductType}});var n=t(163810),r=t(28318)},336450:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.isImageUploading=void 0;var r=n(t(629266));const e=c=>c.mediaProcessingState===r.default.PROCESSING||c.mediaProcessingState===r.default.QUEUED;o.isImageUploading=e},28318:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.isEligibleProductTypeV2=o.isEligibleProductType=o.getProductTypeDescription=o.ServiceType=void 0;var r=n(t(296923)),e=t(163810);const c=new Set([r.default.PHYSICAL,r.default.SERVICE]);let i=o.ServiceType=function(u){return u.RETREATS_AND_GROUP_TRIPS="retreats_and_group_trips",u.CONSULTING_PACKAGES="consulting_packages",u.GROUP_EVENT="group_event",u}({});const a=new Set([i.CONSULTING_PACKAGES,i.GROUP_EVENT]),s=u=>c.has(u);o.isEligibleProductType=s;const l=(u,p)=>{if(s(u)){if(u===r.default.SERVICE)return p?a.has(p):!0}else return!1;return!0};o.isEligibleProductTypeV2=l;const d=u=>{switch(u){case r.default.PHYSICAL:return"PHYSICAL";case r.default.SERVICE:return"SERVICE"}},f=u=>{switch(u){case r.default.PHYSICAL:return"PHYSICAL";case r.default.SERVICE:return"SERVICE";case i.CONSULTING_PACKAGES:return"CONSULTING_PACKAGES";case i.GROUP_EVENT:return"GROUP_EVENT"}},m=u=>(0,e.isAiProductComposerV2ExperimentEnabled)()?f(u):d(u);o.getProductTypeDescription=m},356117:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.captureException=o.ErrorTag=o.ErrorCategory=o.Action=void 0;var n=t(647478);let r=o.ErrorTag=function(a){return a.ACTION="action",a.ERROR_CATEGORY="error_category",a.PROJECT="project",a.MAX_RETRIES="max_retries",a.RETRIES="retries",a}({}),e=o.Action=function(a){return a.GENERATE="generate",a}({}),c=o.ErrorCategory=function(a){return a.INVALID_RESPONSE="invalid_response",a.RATE_LIMIT="rate_limit",a}({});const i=(a,s)=>{n.sentry.withSquarespaceScope(l=>{s&&l.setTags({...s,[r.PROJECT]:n.Project.AI_PRODUCT_COMPOSER}),n.sentry.captureException(a)})};o.captureException=i},732946:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.AiTag=i;var r=t(778008),e=n(t(174161)),c=t(160841);function i(a){let{color:s="fg.default"}=a;return e.default.createElement(r.Text.Body,{border:1,borderRadius:1,color:s,fontSize:"9px",fontWeight:"medium",lineHeight:"100%",my:0,p:"3px"},e.default.createElement(c.T,{notes:"A tag that will show next to other text to indicate an AI feature.",project:"business-ai-tools"},"AI"))}},810706:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.BeaconAi=a;var r=t(778008),e=n(t(174161)),c=t(160841),i=t(732946);function a(s){let{color:l="fg.default",flexStyles:d}=s;return e.default.createElement(r.Flex,{alignItems:"center",gap:"5px",sx:d},e.default.createElement(r.Text.Body,{color:l,fontSize:4,my:0},e.default.createElement(c.T,{notes:"Full string is 'Beacon AI', referencing the name of our in-product AI tool.",project:"business-ai-tools"},"Beacon")),e.default.createElement(i.AiTag,{color:l}))}},556997:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"AiTag",{enumerable:!0,get:function(){return r.AiTag}}),Object.defineProperty(o,"BeaconAi",{enumerable:!0,get:function(){return n.BeaconAi}});var n=t(810706),r=t(732946)},784483:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isBeaconReskinEnabled=void 0;var n=t(57474);const r=()=>{const{isEnabled:e}=(0,n.setUpFeatureGate)({featureGateName:n.ActivationEngineStatsigFeatureGate.BEACON_RESKIN,team:n.Team.ACTIVATION_ENGINE});return e()};o.isBeaconReskinEnabled=r},276548:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"isBeaconReskinEnabled",{enumerable:!0,get:function(){return n.isBeaconReskinEnabled}});var n=t(784483)},160841:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.t=o.pluralize=o.parseNumber=o.getCurrencySymbol=o.formatQuantity=o.formatNumber=o.formatIcuMessage=o.formatCurrencyToParts=o.formatCurrency=o.T=o.Plural=o.FormattedNumber=o.FormattedDateTime=o.FormattedCurrency=void 0;var r=n(t(555912)),e=n(t(470407)),c=n(t(59794)),i=t(284011);const a=(0,i.getI18nInstance)(),s=new c.default(a),l=new r.default(a),d=new e.default(a),{formatIcuMessage:f}=l;o.formatIcuMessage=f;const{parseNumber:m}=d;o.parseNumber=m;const{T:u,Plural:p,FormattedCurrency:g,FormattedNumber:v,FormattedDateTime:E}=s;o.FormattedDateTime=E,o.FormattedNumber=v,o.FormattedCurrency=g,o.Plural=p,o.T=u;const{formatNumber:C,formatCurrency:T,formatCurrencyToParts:I,getCurrencySymbol:y,formatQuantity:b,translate:D,pluralize:j}=a;o.pluralize=j,o.t=D,o.formatQuantity=b,o.getCurrencySymbol=y,o.formatCurrencyToParts=I,o.formatCurrency=T,o.formatNumber=C},284011:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.setI18nInstance=o.getI18nInstance=void 0;var n=t(638204);const r="business-ai-tools";function e(a){return t(631417)(`./${r}.${a}.yaml`)}const{getI18nInstance:c,setI18nInstance:i}=(0,n.setupLibrary)(r,e);o.setI18nInstance=i,o.getI18nInstance=c},56166:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.UserPromptCommandId=o.Profile=void 0;let t=o.Profile=function(r){return r.SEO_AI_TOOLS_IMAGE_ALT_TEXT_PROFILE="seo_ai_tools_image_alt_text",r.SEO_AI_TOOLS_PAGE_METADATA_PROFILE="seo_ai_tools_page_metadata",r.AI_PRODUCT_COMPOSER_PROFILE="product_composer",r.AI_DISCOUNT_RECOMMENDATIONS_PROFILE="discount_recommendations",r}({}),n=o.UserPromptCommandId=function(r){return r[r.IMAGE_ALT_TEXT=10]="IMAGE_ALT_TEXT",r[r.PAGE_METADATA=11]="PAGE_METADATA",r[r.PRODUCT_DETAILS=13]="PRODUCT_DETAILS",r[r.RECOMMENDED_DISCOUNTS=14]="RECOMMENDED_DISCOUNTS",r}({})},389419:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isUserItemsListImageContentItemWithAltText=o.isUserItemsListImageContentItemMissingAltText=o.isUserItemsListContentItem=o.isGalleryImageContentItem=o.isFluidEngineContentItem=o.ImageCategory=void 0;let t=o.ImageCategory=function(a){return a.GALLERY="gallery",a.FLUID_ENGINE="fluid_engine",a.USER_ITEMS_LIST="user_items_list",a}({});const n=a=>a.category===t.FLUID_ENGINE;o.isFluidEngineContentItem=n;const r=a=>a.category===t.GALLERY;o.isGalleryImageContentItem=r;const e=a=>a.category===t.USER_ITEMS_LIST;o.isUserItemsListContentItem=e;const c=a=>e(a)&&!a.altText;o.isUserItemsListImageContentItemMissingAltText=c;const i=a=>e(a)&&!c(a);o.isUserItemsListImageContentItemWithAltText=i},368630:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"ImageCategory",{enumerable:!0,get:function(){return n.ImageCategory}}),Object.defineProperty(o,"Status",{enumerable:!0,get:function(){return r.Status}});var n=t(389419),r=t(918241)},918241:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Status=void 0;let t=o.Status=function(n){return n.IDLE="idle",n.LOADING="loading",n.ERROR="error",n.SUCCESS="success",n}({})},815203:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.defaultTransitionStyles=o.defaultPreFadeStyles=o.TRANSITION_DURATION=o.INTERVAL=void 0;var n=t(352635);const r=o.INTERVAL=3e3,e=o.TRANSITION_DURATION=1e3,c=o.defaultPreFadeStyles={transition:`opacity ${e}ms ${n.easing.product.default}`,opacity:0},i=o.defaultTransitionStyles={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}}},826154:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AnimatingText=void 0;var n=t(778008),r=a(t(174161)),e=t(56667),c=t(815203);function i(l){if(typeof WeakMap!="function")return null;var d=new WeakMap,f=new WeakMap;return(i=function(m){return m?f:d})(l)}function a(l,d){if(!d&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var f=i(d);if(f&&f.has(l))return f.get(l);var m={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in l)if(p!=="default"&&Object.prototype.hasOwnProperty.call(l,p)){var g=u?Object.getOwnPropertyDescriptor(l,p):null;g&&(g.get||g.set)?Object.defineProperty(m,p,g):m[p]=l[p]}return m.default=l,f&&f.set(l,m),m}const s=l=>{let{messages:d}=l;const[f,m]=(0,r.useState)(0),[u,p]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const v=setInterval(()=>{p(!1)},c.INTERVAL);return()=>clearInterval(v)},[f]);const g=()=>{m(v=>(v+1)%d.length),p(!0)};return r.default.createElement(e.Transition,{in:u,timeout:c.TRANSITION_DURATION,onExited:g},v=>r.default.createElement(n.Box,{style:{...c.defaultPreFadeStyles,...c.defaultTransitionStyles[v]}},r.default.createElement(n.Text.Body,{color:"gray.300"},d[f])))};o.AnimatingText=s},19414:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.ModalWrapper=void 0;var r=n(t(160553)),e=t(670563),c=t(778008),i=n(t(174161));const a=s=>{let{onClose:l,children:d,modalProps:f={},containerProps:m={}}=s;return i.default.createElement(e.Modal.Transition,null,i.default.createElement(e.Modal,(0,r.default)({closeOnEsc:!0,lockFocus:!0},f,{onRequestClose:l}),i.default.createElement(e.Modal.Overlay,null),i.default.createElement(e.Modal.Position,{position:"center"},i.default.createElement(e.Modal.Dialog,null,i.default.createElement(c.Box,m,d)))))};o.ModalWrapper=a},75840:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.retriableResult=void 0;const t=async(n,r)=>{const{maxRetries:e,onError:c,shouldRetry:i=()=>!0}=r;let a=0,s=await n();for(;a<=e&&s.isError;){const{error:l,errorDetails:d}=s;if(c==null||c({error:l,maxRetries:e,retries:a,errorDetails:d}),!i(l,d)||a===e)break;s=await n(),a++}return s};o.retriableResult=t},263215:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getSharedRequestOptions=void 0;var n=t(256443);const r=()=>({locale:(0,n.getSiteLocale)()});o.getSharedRequestOptions=r},256443:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getSiteLocale=void 0;var n=t(225840);const r=()=>{var e;return((e=(0,n.getWebsiteContext)())===null||e===void 0?void 0:e.templateLocale)||"en-US"};o.getSiteLocale=r},177098:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isRateLimitError=void 0;var n=t(809804);const r=e=>{var c;return e instanceof n.AxiosError&&((c=e.response)===null||c===void 0?void 0:c.status)===n.HttpStatusCode.TooManyRequests};o.isRateLimitError=r},647478:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.sentry=o.captureMessage=o.Project=void 0;var r=t(608800),e=n(t(166455));const c=o.sentry=new r.ConfigSentryIntegration("business-ai-tools",e.default.ACTIVATION);let i=o.Project=function(s){return s.SEO_OPTIMIZATION="seo-optimization",s.AI_PRODUCT_COMPOSER="ai-product-composer",s.AI_DISCOUNTS_GENERATION="ai-discount-generation",s}({});const a=s=>{c.withSquarespaceScope(()=>{c.captureMessage(s)})};o.captureMessage=a},631417:function(P,o,t){var n={"./business-ai-tools.en-US.yaml":"275233"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=631417},678512:function(P,o,t){"use strict";t.d(o,{e:()=>n});let n=function(r){return r[r.PENDING=1]="PENDING",r[r.ERROR=2]="ERROR",r[r.SUCCESS=3]="SUCCESS",r[r.NOT_STARTED=4]="NOT_STARTED",r}({})},649393:function(P,o,t){"use strict";t.d(o,{k:()=>e,q:()=>r});var n=t(929635);const[r,e]=(0,n.Z)()},621259:function(P,o,t){"use strict";t.d(o,{U:()=>i,Z:()=>c});var n=t(638204);const r="commerce.fulfillment-profiles";function e(a){return t(787576)(`./${r}.${a}.yaml`)}const{getI18nInstance:c,setI18nInstance:i}=(0,n.setupLibrary)(r,e)},920526:function(P,o,t){"use strict";t.d(o,{Z:()=>y});var n=t(174161),r=t(922357),e=t(456903);const c="/api/commerce/fulfillment/profiles",i=async()=>{const{data:b}=await e.default.get(c);return b},a=async b=>{let{name:D,shippingOptionIds:j}=b;const{data:U}=await e.default.post(c,{name:D,shippingOptionIds:j});return U.profile},s=async b=>{let{id:D,name:j,shippingOptionIds:U,productIds:R}=b;const{data:L}=await e.default.put(`${c}/${D}`,{name:j,shippingOptionIds:U,productIds:R});return L.profile},l=async(b,D)=>{await e.default.put(`${c}/assign`,{profileId:b,productIds:D})},d=async b=>{await e.default.delete(`${c}/${b}`)};var f=t(649393),m=t(678512);const u="/api/commerce/shipping-options",p="/api/commerce/shipping-options/pickup",g="/api/commerce/shipping-options/delivery",v=async()=>{const[{data:b},{data:D},{data:j}]=await Promise.all([e.default.get(u),e.default.get(p),e.default.get(g)]);return[...b,...D.map(U=>({...U,isPickup:!0})),...j]};var E=t(309456),C=t(839925);const T=b=>{const D={},j={};return b.forEach(U=>{const{profile:R}=U,{productIds:L}=R;L.forEach(x=>{j[x]=R}),D[R.id]=R}),{profileTable:D,productFulfillmentTable:j}},y=b=>{let{children:D}=b;const{data:j,isError:U,isLoading:R,refetch:L}=(0,r.Z)(()=>i()),{data:x,isError:G,isLoading:k,refetch:V}=(0,r.Z)(()=>v()),[$,J]=(0,n.useState)(m.e.NOT_STARTED),[ee,de]=(0,n.useState)(m.e.NOT_STARTED),[re,Ee]=(0,n.useState)({}),[Te,z]=(0,n.useState)({}),[be,me]=(0,n.useState)([]);(0,n.useEffect)(()=>{if(R){J(m.e.PENDING);return}if(U){J(m.e.ERROR);return}const{profileTable:ze,productFulfillmentTable:we}=T((j==null?void 0:j.profiles)||[]);Ee(ze),z(we),J(m.e.SUCCESS)},[j,U,R,J]),(0,n.useEffect)(()=>{if(k){de(m.e.PENDING);return}if(G){de(m.e.ERROR);return}me(x||[]),de(m.e.SUCCESS)},[x,k,G,de]);const ne=async ze=>{let{name:we,shippingOptionIds:Ke}=ze;const se=await a({name:we,shippingOptionIds:Ke});Ee({...re,[se.id]:{...se}});const Oe=(0,C.v)(Ke,be);E.s$(se.id,se.name,Oe)},Ce=async ze=>{let{id:we,name:Ke,shippingOptionIds:se,productIds:Oe}=ze;const ye=await s({id:we,name:Ke,shippingOptionIds:se,productIds:Oe});Ee({...re,[ye.id]:ye});const ct={...Te},{productIds:at}=ye;at.forEach(lt=>{ct[lt]=ye}),z(ct);const Ct=(0,C.v)(se,be);E.rF(ye.id,ye.name,Ct)},Ae=ze=>{let{productIds:we,profile:Ke}=ze;const se={...Te};return Ke===null?we.forEach(Oe=>{delete se[Oe]}):we.forEach(Oe=>{se[Oe]=Ke}),se},Xe=async(ze,we)=>{await l(ze,we);const Ke=ze?{...re[ze],productIds:we}:null,se=Ae({productIds:we,profile:Ke});z(se),Ke&&ze&&Ee({...re,[ze]:{...re[ze],productIds:[...re[ze].productIds,...we]}})},Ne=async ze=>{await d(ze),E.Vb(ze,re[ze].name);const we={...re};delete we[ze],Ee(we);const{productIds:Ke}=re[ze],se=Ae({productIds:Ke,profile:null});z(se)},st=ze=>{let{productId:we,profileId:Ke}=ze;const se=Ae({productIds:[we],profile:re[Ke]||null});z(se)};return n.createElement(f.k,{value:{fulfillmentProfiles:re,fulfillmentOptions:be,productFulfillmentTable:Te,updateProductFulfillmentTable:st,saveNewFulfillmentProfile:ne,updateFulfillmentProfile:Ce,deleteFulfillmentProfile:Ne,assignProductsToProfile:Xe,fulfillmentProfilesRequestStatus:$,fulfillmentOptionsRequestStatus:ee,fetchFulfillmentProfiles:()=>{J(m.e.NOT_STARTED),L()},fetchFulfillmentOptions:()=>{de(m.e.NOT_STARTED),V()}}},D)}},309456:function(P,o,t){"use strict";t.d(o,{BS:()=>p,RW:()=>E,Vb:()=>I,Yg:()=>g,j7:()=>v,rF:()=>T,s$:()=>C});var n=t(461761),r=t.n(n),e=t(221661),c=t.n(e),i=t(998124);const a=(0,i.isInternal)()?e.SourceEnvironment.STAGING:e.SourceEnvironment.PROD,s="commerce",l=new(c())({customSchemaName:"CommerceShipping",sourceEnvironment:a},{event_owner_team:"shipping_fulfillment",event_source:"web",product_area:s,website_id:r()(window,"Static.SQUARESPACE_CONTEXT.website.id",null)});var d=function(y){return y.USER="user",y}(d||{}),f=function(y){return y.CLICK="click",y.VIEW="view",y.ASSIGN="assign",y.ADD="add",y.EDIT="edit",y.DELETE="delete",y}(f||{}),m=function(y){return y.BUTTON="button",y.CONFIG="config",y.DROPDOWN="dropdown",y}(m||{}),u=function(y){return y.LAUNCH_FULFILLMENT_PROFILES_CONFIG="CommerceFulfillment_LaunchFulfillmentProfilesConfig",y.VIEW_FULFILLMENT_PROFILES_CONFIG="CommerceFulfillment_ViewFulfillmentProfilesConfig",y.CLICK_ADD_CUSTOM_FULFILLMENT_PROFILE="CommerceFulfillment_ClickAddCustomFulfillmentProfile",y.ASSIGNS_FULFILLMENT_PROFILE="CommerceFulfillment_AssignsFulfillmentProfile",y.ADD_CUSTOM_FULFILLMENT_PROFILE="CommerceFulfillment_AddCustomFulfillmentProfile",y.EDIT_CUSTOM_FULFILLMENT_PROFILE="CommerceFulfillment_EditsCustomFulfillmentProfile",y.DELETE_CUSTOM_FULFILLMENT_PROFILE="CommerceFulfillment_DeletesCustomFulfillmentProfile",y}(u||{});const p=y=>{l.track({actor:d.USER,action:f.CLICK,event_name:u.LAUNCH_FULFILLMENT_PROFILES_CONFIG,object_type:m.BUTTON,product_page:y})},g=y=>{let{numShippingOptions:b,numPickupOptions:D,numLocalDeliveryOptions:j}=y;l.track({actor:d.USER,action:f.VIEW,event_name:u.VIEW_FULFILLMENT_PROFILES_CONFIG,object_type:m.CONFIG,num_shipping_options:b,num_pickup_options:D,num_delivery_options:j})},v=()=>{l.track({actor:d.USER,action:f.CLICK,event_name:u.CLICK_ADD_CUSTOM_FULFILLMENT_PROFILE,object_type:m.CONFIG})},E=function(y,b,D,j){let U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;l.track({actor:d.USER,action:f.ASSIGN,event_name:u.ASSIGNS_FULFILLMENT_PROFILE,object_type:m.DROPDOWN,product_page:y,object_id:b,indirect_object_id:D,profile_name:j,is_bulk_assigned:U})},C=(y,b,D)=>{l.track({actor:d.USER,action:f.ADD,event_name:u.ADD_CUSTOM_FULFILLMENT_PROFILE,object_type:m.CONFIG,object_id:y,num_shipping_options:D.shippingOptionIds.length,num_pickup_options:D.pickupOptionIds.length,num_delivery_options:D.localDeliveryOptionIds.length,shipping_options_list:D.shippingOptionIds,pickup_options_list:D.pickupOptionIds,delivery_options_list:D.localDeliveryOptionIds,profile_name:b})},T=(y,b,D)=>{l.track({actor:d.USER,action:f.EDIT,event_name:u.EDIT_CUSTOM_FULFILLMENT_PROFILE,object_type:m.CONFIG,object_id:y,num_shipping_options:D.shippingOptionIds.length,num_pickup_options:D.pickupOptionIds.length,num_delivery_options:D.localDeliveryOptionIds.length,shipping_options_list:D.shippingOptionIds,pickup_options_list:D.pickupOptionIds,delivery_options_list:D.localDeliveryOptionIds,profile_name:b})},I=(y,b)=>{l.track({actor:d.USER,action:f.DELETE,event_name:u.DELETE_CUSTOM_FULFILLMENT_PROFILE,object_type:m.CONFIG,object_id:y,profile_name:b})}},839925:function(P,o,t){"use strict";t.d(o,{v:()=>a,x:()=>i});var n=t(392338),r=t.n(n),e=t(722370),c=t.n(e);const i=s=>s.reduce((l,d)=>(d.isPickup?l.numPickupOptions++:d.rateType===c().LOCAL_DELIVERY?l.numLocalDeliveryOptions++:l.numShippingOptions++,l),{numShippingOptions:0,numPickupOptions:0,numLocalDeliveryOptions:0}),a=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((d,f)=>(s.includes(f.id)&&(f.isPickup?d.pickupOptionIds.push(f.id):f.rateType===c().LOCAL_DELIVERY?d.localDeliveryOptionIds.push(f.id):d.shippingOptionIds.push(f.id)),d),{shippingOptionIds:[],localDeliveryOptionIds:[],pickupOptionIds:[]})}},787576:function(P,o,t){var n={"./commerce.fulfillment-profiles.en-US.yaml":"680850"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=787576},7304:function(P,o,t){"use strict";t.d(o,{PA:()=>Te,ZP:()=>be,fi:()=>z});var n=t(174161),r=t(770500),e=t.n(r),c=t(44348),i=t.n(c),a=t(456903);const s="/api/content/copy/item";async function l(me){const{data:ne}=await a.default.post(`${s}?sourceId=${me}&copyWorkflowState=${i().DRAFT}`);return ne.id}const d="/api/commerce/subscription-activation";async function f(){return(await a.default.get(`${d}/featured-products`)).data.featuredProducts}var m=t(362187),u=t(685763),p=t(523147);const E=me=>{let{isOpen:ne,onClose:Ce}=me;return n.createElement(u.Z.Transition,null,ne&&n.createElement(u.Z,{onRequestClose:Ce},n.createElement(u.Z.Overlay,null),n.createElement(u.Z.Position,{position:"center"},n.createElement(m.Z,{title:(0,p.t)("Something went wrong",null,{notes:"Title for error modal",project:"commerce.orders_panel"}),message:(0,p.t)("An error occurred while duplicating this product. Please refresh the page and try again.",null,{notes:"Message for error modal",project:"commerce.orders_panel"}),buttons:[Ae=>{let{onRequestClose:Xe}=Ae;return n.createElement(m.Z.Button,{key:"close",onClick:Xe},n.createElement(p.T,{notes:"Label for button to close error modal",project:"commerce.orders_panel"},"Close"))}]}))))};var C=t(923046),T=t.n(C),I=t(616248),y=t.n(I),b=t(613672),D=t.n(b),j=t(123504),U=t.n(j),R;const L=(R=window)===null||R===void 0||(R=R.Static)===null||R===void 0?void 0:R.SQUARESPACE_CONTEXT,x=()=>(L==null?void 0:L.templateVersion)===T().SEVEN_ONE,G=()=>{const me=L==null?void 0:L.productStatuses;if(!me)return!1;const ne=me.filter(Ce=>Ce.productType==="website"&&Ce.billingState===U().ACTIVE);return ne.length===0||ne.some(Ce=>Ce.featureLevel===y().WEBSITE_COMMERCE_ADVANCED)},k=()=>{var me;return((L==null||(me=L.websiteAchievement)===null||me===void 0?void 0:me.achievements)??[]).some(Ce=>Ce.type===D().SUBSCRIPTION_ACTIVATION_PROMO_2025_CREATED_SUBSCRIPTION_PRODUCT)},V=me=>{var ne;return((L==null||(ne=L.authenticatedAccount)===null||ne===void 0?void 0:ne.tutorialsCompleted)??{})[me]??!1},$="/api/config/MarkMemberTutorialCompleted";async function J(me){await a.default.post($,{tutorial:me})}const ee={subscriptionActivationDetails:{featuredProducts:[],isCommerceAdvanced:!1,isSevenOne:!1,dismissBanner:()=>{},hasDismissedBanner:!1,hasSetupSubscription:!1,clickedOnCTA:!1},lifecycles:{openProductComposer:async()=>{},isLoading:!1,hasError:!1,clearError:()=>{}}},de=(0,n.createContext)(ee);let re=!1;const Ee=me=>{let{children:ne,productComposerOrchestrator:Ce}=me;const[Ae,Xe]=(0,n.useState)(ee.subscriptionActivationDetails),[Ne,st]=(0,n.useState)(!1),[ze,we]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{const ct=G(),at=x(),Ct=V(e().SUBSCRIPTION_ACTIVATION_2025_PROMOTION_BANNER_DISMISSED),lt=k();let Lt=[];lt||(Lt=await f().catch(()=>[])),Xe({isCommerceAdvanced:ct,isSevenOne:at,dismissBanner:()=>{re=!0,J(e().SUBSCRIPTION_ACTIVATION_2025_PROMOTION_BANNER_DISMISSED)},hasDismissedBanner:re||Ct,hasSetupSubscription:lt,featuredProducts:Lt,clickedOnCTA:!1})})()},[]);const Ke=(0,n.useCallback)(()=>{Xe(ye=>({...ye,clickedOnCTA:!0})),ee.subscriptionActivationDetails.clickedOnCTA=!0},[Xe]),Oe={openProductComposer:(0,n.useCallback)(async ye=>{if(Ne||!Ce)return;st(!0);let ct="";if(!Ae.isSevenOne)try{ct=await l(ye)}catch(at){we(at),st(!1);return}Ce.openProductComposer({productId:Ae.isSevenOne?ye:ct,onSavingClose:Ke,onNonSavingClose:Ke}),st(!1)},[Ne,st,Ae.isSevenOne,Ce,Ke]),isLoading:Ne,hasError:!!ze,clearError:()=>we(null)};return n.createElement(de.Provider,{value:{subscriptionActivationDetails:Ae,lifecycles:Oe}},ne,n.createElement(E,{isOpen:Oe.hasError,onClose:Oe.clearError}))},Te=()=>{const{subscriptionActivationDetails:me}=(0,n.useContext)(de);return me},z=()=>{const{lifecycles:me}=(0,n.useContext)(de);return me},be=Ee},523147:function(P,o,t){"use strict";t.d(o,{CN:()=>p,T:()=>u,_6:()=>L,lb:()=>D,p6:()=>U,r$:()=>m,t:()=>R,xG:()=>I});var n=t(59794),r=t(555912),e=t(470407),c=t(285480);const i=(0,c.Z)(),a=new n.default(i),s=new r.default(i),l=new e.default(i),{formatIcuMessage:d}=s,{parseNumber:f,getNumberSystemMetadata:m}=l,{T:u,Plural:p,FormattedCurrency:g,FormattedNumber:v,FormattedDateTime:E,FormattedMoney:C}=a,{formatNumber:T,formatCurrency:I,formatCurrencyToParts:y,getCurrencySymbol:b,formatMoney:D,formatQuantity:j,formatDate:U,translate:R,pluralize:L}=i},285480:function(P,o,t){"use strict";t.d(o,{U:()=>i,Z:()=>c});var n=t(638204);const r="commerce.orders_panel";function e(a){return t(669269)(`./${r}.${a}.yaml`)}const{getI18nInstance:c,setI18nInstance:i}=(0,n.setupLibrary)(r,e)},669269:function(P,o,t){var n={"./commerce.orders_panel.en-US.yaml":"686591"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=669269},28367:function(P,o,t){"use strict";t.d(o,{T:()=>m,Wj:()=>b,_6:()=>L,t:()=>R,uf:()=>C,xG:()=>T});var n=t(59794),r=t(555912),e=t(470407),c=t(427031);const i=(0,c.Z)(),a=new n.default(i),s=new r.default(i),l=new e.default(i),{formatIcuMessage:d}=s,{parseNumber:f}=l,{T:m,Plural:u,FormattedCurrency:p,FormattedNumber:g,FormattedDateTime:v,RelativeTime:E}=a,{formatNumber:C,formatCurrency:T,formatCurrencyToParts:I,getCurrencySymbol:y,getCurrencyFractions:b,formatQuantity:D,formatDateTime:j,formatRelativeTime:U,translate:R,pluralize:L}=i},427031:function(P,o,t){"use strict";t.d(o,{U:()=>i,Z:()=>c});var n=t(638204);const r="commerce.subscription-editor";function e(a){return t(62055)(`./${r}.${a}.yaml`)}const{getI18nInstance:c,setI18nInstance:i}=(0,n.setupLibrary)(r,e)},678566:function(P,o,t){"use strict";t.d(o,{l:()=>r,q:()=>e});var n=t(28367);const r=(c,i)=>c.currencyCode!==i.currencyCode?!1:c.compare(i)===0,e=(c,i)=>{const a=(0,n.Wj)(c.currencyCode).digits;return c.multiply(1-(i??0)).round(a)}},806132:function(P,o,t){"use strict";t.d(o,{jj:()=>m,m3:()=>f});var n=t(28367),r=t(678566);const e=u=>{const{currentVariant:p,newVariant:g}=u;return g?!!(!p.onSale&&g.onSale||g.onSale&&!(0,r.l)(p.salePrice,g.salePrice)||!(0,r.l)(p.price,g.price)):!1},c=(u,p)=>u.map(E=>({currentVariant:E,newVariant:p.find(C=>C.id===E.id)})).filter(e);let i=function(u){return u.WEEK="WEEK",u.MONTH="MONTH",u}({});const a=u=>{const{currentSubscriptionOption:p,newSubscriptionOption:g}=u;if(!g)return!1;if(p.percentageDiscount!==g.percentageDiscount)return!0;const v=p.productSubscriptionPlan,E=g.productSubscriptionPlan;return v.numBillingCycles!==E.numBillingCycles||v.billingPeriod.unit!==E.billingPeriod.unit||v.billingPeriod.value!==E.billingPeriod.value},s=u=>u.productSubscriptionPlan.productId+":"+u.id,l=(u,p)=>{let{currentSubscriptionOption:g,newSubscriptionOption:v}=u,{currentVariant:E,newVariant:C}=p;return{subscribableId:s(g),isBeingRemoved:!v,current:{productVariant:E,subscriptionOption:g},new:{productVariant:C,subscriptionOption:v??g}}},d=(u,p)=>u.unit===i.WEEK&&p.unit===i.MONTH?-1:u.unit===i.MONTH&&p.unit===i.WEEK?1:u.value-p.value,f=u=>{let{currentVariants:p,newVariants:g,currentProductSubscriptionOptions:v,newProductSubscriptionOptions:E}=u;const C=c(p,g),T=v.sort((I,y)=>d(I.productSubscriptionPlan.billingPeriod,y.productSubscriptionPlan.billingPeriod)).map(I=>({currentSubscriptionOption:I,newSubscriptionOption:E.find(y=>y.id===I.id)}));return C.length===0?T.filter(a).map(y=>l(y,{currentVariant:p[0],newVariant:g[0]})):T.map(I=>l(I,C[0]))},m=u=>{const{value:p,unit:g}=u;switch(g){case i.WEEK:return(0,n._6)({one:"Weekly",other:"Every {%n} weeks"},p,null,{notes:"Label for the billing period of a commerce subscription",project:"commerce.subscription-editor"});case i.MONTH:return(0,n._6)({one:"Monthly",other:"Every {%n} months"},p,null,{notes:"Label for the billing period of a commerce subscription",project:"commerce.subscription-editor"})}}},62055:function(P,o,t){var n={"./commerce.subscription-editor.en-US.yaml":"975858"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=62055},590039:function(P,o,t){"use strict";t.d(o,{Z:()=>m});var n=t(456903);const r="/api/1/commerce/stripe-tax",e=`${r}/onboarding/settings`,c=`${r}/onboarding/completed`,i=`${r}/account`,a=`${r}/account-session`,s=`${r}/tax-type`,l=`${r}/tax-status`,d=`${r}/public-keys`,m={getStripeTaxSettings:async()=>{const{data:u}=await n.default.get(e);return u},getStripePublicKey:async()=>{const{data:u}=await n.default.get(d);return u.publicKey},createStripeAccountSession:async function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["ONBOARDING","TAX_SETTINGS","TAX_REGISTRATIONS"];const{data:p}=await n.default.post(a,{components:u});return p},createStripeAccount:async u=>{const{data:p}=await n.default.post(i,u);return p},updateTaxType:async u=>{const{data:p}=await n.default.put(s,{taxType:u});return p},getUserTaxStatus:async()=>{const{data:u}=await n.default.get(l);return u},completeOnboarding:async()=>{const{data:u}=await n.default.put(c);return u},fetchClientSecret:function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["ONBOARDING","TAX_SETTINGS","TAX_REGISTRATIONS"];return async()=>{try{const{data:p}=await n.default.post(a,{components:u});return p.clientSecret}catch(p){throw p}}}}},864383:function(P,o,t){"use strict";t.d(o,{Z:()=>D});var n=t(160553),r=t.n(n),e=t(180382),c=t(174161),i=t(590039),a=t(758150),s=t(744833),l=t(954376),d=t(723577),f=t(482053),m=t(338465),u=t(369711),p=t(766400);let g=function(j){return j[j.USER_TAX_STATUS_FETCH_ERROR=0]="USER_TAX_STATUS_FETCH_ERROR",j[j.PUBLIC_KEY_FETCH_ERROR=1]="PUBLIC_KEY_FETCH_ERROR",j[j.COMPONENT_LOAD_ERROR=2]="COMPONENT_LOAD_ERROR",j}({});const v={[g.USER_TAX_STATUS_FETCH_ERROR]:"error fetching user tax status",[g.PUBLIC_KEY_FETCH_ERROR]:"error fetching Stripe public key",[g.COMPONENT_LOAD_ERROR]:"error loading Stripe component"};class E extends Error{constructor(U,R){super(v[U],{cause:R})}}const C=E;var T=t(979103);const I=i.Z.fetchClientSecret(["PRODUCT_TAX_CODE_SELECTOR"]),D=(0,c.forwardRef)((j,U)=>{let{upsell:R,Wrapper:L,hideDescription:x=!0,onTaxCodeSelect:G,onLoaderStart:k,onError:V,Loader:$=p.Z,...J}=j;const[ee,de]=(0,c.useState)(!0),[re,Ee]=(0,c.useState)(!1),[Te,z]=(0,c.useState)(!1),[be,me]=(0,c.useState)(),[ne,Ce]=(0,c.useState)(),Ae=(0,a.Z)(),{variables:Xe}=(0,s.Z)(),Ne=(0,c.useCallback)((Ke,se)=>{const Oe=new C(Ke,se);T.Z.withSquarespaceScope(()=>{T.Z.captureException(se)}),Ee(!0),V==null||V(Oe)},[V]),st=(0,c.useCallback)(async()=>{if(Xe)try{const{taxType:Ke}=await i.Z.getUserTaxStatus();if(Ke===l.E_.STRIPE_TAX)try{const se=await i.Z.getStripePublicKey();Ce((0,e.W)({publishableKey:se,fetchClientSecret:I,fonts:u.g5,locale:Ae,appearance:{variables:Xe}})),me(!0),de(!1),Ee(!1)}catch(se){Ne(g.PUBLIC_KEY_FETCH_ERROR,se)}else me(!1),de(!1),Ee(!1)}catch(Ke){Ne(g.USER_TAX_STATUS_FETCH_ERROR,Ke)}},[Ae,Xe,Ne]);(0,c.useImperativeHandle)(U,()=>st),(0,c.useEffect)(()=>{st()},[st]);const ze=(0,c.useCallback)(Ke=>{let{elementTagName:se}=Ke;z(!0),k==null||k({elementTagName:se})},[k]),we=Ke=>{let{error:se}=Ke;Ne(g.COMPONENT_LOAD_ERROR,se)};return re?null:ee?c.createElement(f.Z,{width:"100%",justifyContent:"center"},c.createElement($,{"data-testid":"ptcs-loader"})):be?ne?c.createElement(d.AW,{connectInstance:ne},c.createElement(m.Z,{display:Te?"inherit":"none"},c.createElement(L,null,c.createElement(d.EV,r()({hideDescription:x,onTaxCodeSelect:G,onLoaderStart:ze,onLoadError:we},J)))),!Te&&c.createElement(f.Z,{width:"100%",justifyContent:"center"},c.createElement($,{"data-testid":"ptcs-loader"}))):null:c.createElement(m.Z,{"data-testid":"ptcs-upsell"},R)})},369711:function(P,o,t){"use strict";t.d(o,{Uh:()=>n,aj:()=>e,g5:()=>r,v5:()=>c});const n=["AU","AT","BE","BG","CA","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HK","HU","IE","IT","JP","LV","LT","LU","MT","NL","NZ","NO","PL","PT","PR","RO","SG","SK","SI","ES","SE","CH","AE","GB","US"],r=[{cssSrc:"https://assets.squarespace.com/universal/fonts/squarespace-clarkson-v2.css"}],e=100,c={inViewPayload:{optionName:"autotax-promo-banner",bannerName:"autotax-promo-banner",bannerType:"large"},clickCTAPayload:{optionName:"autotax-promo-button",bannerName:"autotax-promo-banner",bannerType:"large"},dismissPayload:{optionName:"autotax-promo-button",bannerName:"autotax-promo-banner",bannerType:"large"}}},744833:function(P,o,t){"use strict";t.d(o,{Z:()=>c});var n=t(174161),r=t(969145);const c=()=>{const{colors:i,space:a,fontSizes:s,radii:l}=(0,r.F)(),[d,f]=n.useState();return(0,n.useEffect)(()=>{f({fontFamily:"Clarkson",spacingUnit:a[2],fontSizeBase:s[4],colorText:i.text.primary,colorSecondaryText:i.text.secondary,actionPrimaryColorText:i.text.primary,actionPrimaryTextDecorationColor:i.text.primary,actionPrimaryTextDecorationLine:"underline",actionPrimaryTextDecorationStyle:"solid",formBackgroundColor:i.backgroundFocus.primary,offsetBackgroundColor:i.backgroundFocus.secondary,buttonPrimaryColorBackground:i.gray[100],buttonPrimaryColorBorder:i.gray[100],buttonPrimaryColorText:i.white,buttonSecondaryColorBackground:i.gray[100],buttonSecondaryColorBorder:i.gray[100],buttonSecondaryColorText:i.white,badgeSuccessColorText:i.blue[300],badgeSuccessColorBackground:i.blue[800],badgeSuccessColorBorder:i.blue[800],badgeWarningColorText:i.yellow[300],badgeWarningColorBackground:i.yellow[800],badgeWarningColorBorder:i.yellow[800],badgeBorderRadius:"14px",buttonBorderRadius:l[0],badgeNeutralColorText:i.yellow[300],badgeNeutralColorBackground:i.yellow[800],badgeNeutralColorBorder:i.yellow[800],overlayBorderRadius:l[0]})},[i,a,s,l]),{variables:d}}},254596:function(P,o,t){"use strict";t.d(o,{ag:()=>r});var n=t(590039);const r=n.Z.getStripeTaxSettings},954376:function(P,o,t){"use strict";t.d(o,{Af:()=>s,E_:()=>f,KO:()=>i,Rc:()=>r,Us:()=>n,Y8:()=>u,e_:()=>d,f8:()=>c,gS:()=>e,gq:()=>l,ni:()=>a,uo:()=>m});let n=function(p){return p.COUNTRY="COUNTRY",p.REGION="REGION",p.LOCAL="LOCAL",p}({}),r=function(p){return p.Edit="edit-modal",p.Add="add-modal",p}({}),e=function(p){return p[p.SELECT_LOCATION=0]="SELECT_LOCATION",p[p.BASE_TAX_RULE=1]="BASE_TAX_RULE",p[p.CHILD_TAX_RULE=2]="CHILD_TAX_RULE",p}({}),c=function(p){return p.PRODUCTS_AND_SERVICES="PRODUCTS_AND_SERVICES",p.CONTENT_AND_MEMBERSHIPS="CONTENT_AND_MEMBERSHIPS",p.INVOICES="INVOICES",p}({}),i=function(p){return p[p.Range=0]="Range",p[p.Single=1]="Single",p}({}),a=function(p){return p.COLLECTING="COLLECTING",p.NOT_COLLECTING="NOT_COLLECTING",p}({}),s=function(p){return p.COMPLETED="COMPLETED",p.AUTO_CREATE="AUTO_CREATE",p.CONFIRM_DETAILS="CONFIRM_DETAILS",p.SET_COUNTRY="SET_COUNTRY",p.ONBOARD="ONBOARD",p}({}),l=function(p){return p.INDIVIDUAL="INDIVIDUAL",p.COMPANY="COMPANY",p.NON_PROFIT="NON_PROFIT",p}({}),d=function(p){return p[p.FIRST=0]="FIRST",p[p.MIDDLE=1]="MIDDLE",p[p.LAST=2]="LAST",p}({}),f=function(p){return p.NONE="NONE",p.STRIPE_TAX="STRIPE_TAX",p.SQUARESPACE="SQUARESPACE",p}({}),m=function(p){return p.NOT_ONBOARDED="NOT_ONBOARDED",p.CREATED="CREATED",p.COMPLETED="COMPLETED",p}({}),u=function(p){return p.NO_ACCOUNT="NO_ACCOUNT",p.UNKNOWN="UNKNOWN",p.STRIPE_STANDARD="STRIPE_STANDARD",p.SQUARESPACE_PAYMENTS="SQUARESPACE_PAYMENTS",p}({})},979103:function(P,o,t){"use strict";t.d(o,{Z:()=>c});var n=t(199040),r=t(166455),e=t.n(r);const c=new n.Z("commerce-taxes",e().CONFIG_FRONTEND_ENG)},97705:function(P,o,t){"use strict";t.r(o),t.d(o,{getPaymentsContext:()=>e,initPaymentsContext:()=>r,isPaymentsContextSuccessfullyLoaded:()=>i,usePaymentsContext:()=>c});var n=t(861772);const{initContextHelper:r,getContextHelper:e,useContextHook:c,isSuccessfullyLoaded:i}=(0,n.Z)("payments-feature-gate-list","/api/commerce/settings/payment/feature-gate-list")},188046:function(P,o,t){"use strict";t.d(o,{_:()=>a});var n=t(418698),r=t(338465),e=t(538312),c=t(708674),i=t(174161);const a=s=>{let{dataAttributes:l,disabledTooltipText:d,isSecondary:f,children:m}=s;const u=(0,i.useRef)(null),p=i.createElement(r.Z,{position:"relative",width:"100%",p:1,pl:f?3:1},i.createElement("a",{role:"link","aria-disabled":!0,"data-test":l==null?void 0:l.test,ref:u},f?i.createElement(e.Z.Body,{fontWeight:"medium",color:"fg.disabled",m:0,sx:{cursor:"not-allowed"}},m):i.createElement(e.Z.Subtitle,{color:"fg.disabled",m:0,sx:{cursor:"not-allowed"}},m)));return d?i.createElement(c.Z,{component:g=>i.createElement(n.Z,{isOpen:g,anchor:u.current,position:"bottom",delay:{enter:120,exit:0}},d)},p):p}},305775:function(P,o,t){"use strict";t.d(o,{Z:()=>C});var n=t(174161),r=t(418698),e=t(367699),c=t(967552),i=t(538312),a=t(352635),s=t(260175),l=t(421190),d=t(100467),f=t(141746),m=t(399281),u=t(872315),p=t(586985),g=t(56150),v=t(635787);const C=T=>{let{disabled:I}=T;const[y,b]=(0,n.useState)(!1),D=(0,n.useRef)(null),j=(0,f.C)(),{push:U}=(0,l.Z)(),R=(0,s.i)(a.breakpoints).platform==="mobile",L=(0,d.U)();return(j==null?void 0:j.state)===u.y.READY&&!R&&L?n.createElement(n.Fragment,null,n.createElement(c.Z.Element.Icon,{ref:D,onClick:()=>{var G;(0,g.yj)(),U(m.B),j.setUserStartEditing(),(G=D.current)===null||G===void 0||G.blur()},onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),onFocus:()=>b(!0),onBlur:()=>b(!1),"aria-label":(0,p.t)("Customize Sidebar",null,{project:"config-persistent-navigation",notes:"The label to allow users to customize their navigation menu"}),"data-testid":"edit-menu-button","aria-disabled":I,sx:{mt:0}},n.createElement(e.Z,{color:I?"fg.disabled":"fg.muted",sx:{cursor:I?"not-allowed":"pointer"}})),n.createElement(v.Z,{anchor:D.current,isOpen:!I&&y,position:"top"},n.createElement(i.Z.Caption,{color:"fg.default"},n.createElement(p.T,{project:"config-persistent-navigation",notes:"The label to allow users to customize their navigation menu"},"Customize Sidebar"))),n.createElement(r.Z,{isOpen:I&&y,anchor:D.current,position:"bottom",delay:{enter:120,exit:0}},n.createElement(p.T,{project:"config-persistent-navigation"},"Publish update to access"))):null}},585442:function(P,o,t){"use strict";t.d(o,{Z:()=>U});var n=t(174161),r=t(139717),e=t(842876),c=t(367699),i=t(338465),a=t(482053),s=t(538312),l=t(967552),d=t(352635),f=t(260175),m=t(100467),u=t(586985),p=t(141746),g=t(872315),v=t(796604),E=t(756207);let C=function(R){return R.FEATURE_GATE_SUBSCRIBE="feature_gate_subscribe",R.FEATURE_GATE_EDIT_MENU_BUTTON="feature_gate_edit_menu_button",R}({});const T=R=>{let{eventName:L,actor:x,action:G,objectType:k,objectIdentifier:V,objectDisplayName:$}=R;const J={event_occurrence_timestamp:Date.now(),event_name:L,actor:x,action:G,object_type:k,object_identifier:V,object_display_name:$};v.B.track(J)},I=R=>{let{objectIdentifier:L}=R;T({eventName:E.B_.USER_CLICKS_FEATURE_GATE_LABEL,actor:E.vt.USER,action:E.Vw.CLICK,objectType:E.LP.BUTTON,objectIdentifier:L})},y=R=>{let{objectIdentifier:L}=R;T({eventName:E.B_.USER_VIEWS_FEATURE_GATE_MODAL,actor:E.vt.USER,action:E.Vw.VIEW,objectType:E.LP.MODAL,objectIdentifier:L})},b=R=>{let{objectIdentifier:L,objectDisplayName:x}=R;T({eventName:E.B_.USER_CLICKS_FEATURE_GATE_MODAL_CTA,actor:E.vt.USER,action:E.Vw.CLICK,objectType:E.LP.LINK,objectIdentifier:L,objectDisplayName:x})};var D=t(635787);const U=R=>{let{openUniversalCheckout:L}=R;const[x,G]=(0,n.useState)(!1),[k,V]=n.useState(!1),$=(0,n.useRef)(null),J=(0,p.C)(),ee=(0,f.i)(d.breakpoints).platform==="mobile",de=(0,m.U)();return(J==null?void 0:J.state)===g.y.READY&&!ee&&de?n.createElement(n.Fragment,null,n.createElement(r.Z,{isOpen:k,anchor:$.current,hideArrow:!0,closeOnClickOutside:!0,closeOnEsc:!0,anchorPoint:{x:"right",y:"top"},onRequestOpen:()=>y({objectIdentifier:C.FEATURE_GATE_EDIT_MENU_BUTTON}),onRequestClose:()=>V(!1),position:"top-left",offset:{x:-28,y:5}},n.createElement(i.Z,{p:3,background:d.colors.gray[100]},n.createElement(a.Z,{justifyContent:"space-between"},n.createElement(s.Z.Body,{fontWeight:"semibold",color:"white",mt:0,mb:1},n.createElement(u.T,{project:"config-persistent-navigation"},"Your website has expired")),n.createElement(e.Z,{color:"white",sx:{cursor:"pointer"},onClick:()=>V(!1)})),n.createElement(s.Z.Body,{color:"white",my:0},n.createElement(u.T,{upgradeLink:n.createElement(i.Z,{as:"a",href:"#",onClick:Ee=>{Ee.preventDefault(),L==null||L(),V(!1),b({objectIdentifier:C.FEATURE_GATE_SUBSCRIBE,objectDisplayName:"subscribe to a website plan"})}},n.createElement(u.T,{project:"config-persistent-navigation",notes:"Full string: 'To customize your sidebar, subscribe to a website plan.' This part is a link to Universal Checkout."},"subscribe to a website plan")),project:"config-persistent-navigation"},"To customize your sidebar, {upgradeLink}.")))),n.createElement(l.Z.Element.Icon,{ref:$,onClick:()=>{G(!1),V(!0),I({objectIdentifier:C.FEATURE_GATE_EDIT_MENU_BUTTON})},onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),onFocus:()=>G(!0),onBlur:()=>G(!1),"aria-label":(0,u.t)("Customize Sidebar",null,{project:"config-persistent-navigation",notes:"The label to allow users to customize their navigation menu"}),"data-testid":"edit-menu-button",sx:{mt:0}},n.createElement(c.Z,{color:"fg.muted"})),n.createElement(D.Z,{anchor:$.current,isOpen:x,position:"top"},n.createElement(s.Z.Caption,{color:"fg.default"},n.createElement(u.T,{project:"config-persistent-navigation",notes:"The label to allow users to customize their navigation menu"},"Customize Sidebar")))):null}},635787:function(P,o,t){"use strict";t.d(o,{Z:()=>c});var n=t(174161),r=t(418698);const c=i=>{let{anchor:a,isOpen:s,position:l="top",delay:d={enter:300,exit:0},children:f}=i;return n.createElement(r.Z,{isOpen:s,anchor:a,position:l,delay:d,boxShadow:400,css:{backgroundColor:"white",p:2}},f)}},520773:function(P,o,t){"use strict";t.d(o,{Z:()=>v});var n=t(160553),r=t.n(n),e=t(174161),c=t(394493),i=t(873363),a=t(967552),s=t(419267);const l=(E,C)=>`menuItem-${(0,s.bX)(E)||(C==null?void 0:C.replace(/ /g,"-").toLowerCase())||"unknown"}`;var d=t(313024);const f=6,m=E=>({as:"a",...E}),u=E=>({as:c.Z,...E});function p(E,C){const T=E.ariaAttributes??{},I={test:l((0,d.km)(E),E.title),..."dataAttributes"in E?E.dataAttributes:{}},y="className"in E?E.className:void 0;if((0,d.Bm)(E))return m({href:E.href,target:E.target,className:y,...(0,i._)(T),...(0,i.$)(I)});const b=(0,d.DK)(E)?"":E.to;return u({to:b,className:y,ariaAttributes:{...T,current:C?"true":void 0},dataAttributes:I})}const v=E=>{let{item:C,children:T,isSelected:I,focusStateOffsetSize:y=f,onClick:b,hasInteraction:D=!0,interaction:j=L=>e.createElement(a.Z.Underline,r()({},L,{backgroundColor:I?void 0:"gray.400",isActive:I?!0:void 0})),sx:U}=E;const R=p(C,I);return e.createElement(a.Z,r()({},R,{interaction:D?j:void 0,sx:{position:"relative",transition:"opacity 0.2s","&:focus-visible:after":{border:2,borderColor:"fg.default",boxSizing:"border-box",top:`-${y}px`,content:'""',height:`calc(100% + ${y*2}px)`,position:"absolute",width:`calc(100% + ${y*2}px)`,left:`-${y}px`},...U},onClick:b}),T)}},827536:function(P,o,t){"use strict";t.d(o,{G:()=>u,Z:()=>g});var n=t(174161),r=t(161381),e=t(338465),c=t(538312),i=t(313024),a=t(520773),s=t(188046),l=t(141746),d=t(872315),f=t(56150),m=t(756207);const u="secondary-nav-item",g=(0,r.Z)(v=>{const{router:E,location:C,disabled:T,disabledTooltipText:I,isSelected:y,parentVisibilityKey:b,metaData:D,...j}=v,U=T,R=(0,l.C)(),{onClick:L,...x}=j;if(U)return n.createElement(s._,{disabledTooltipText:I,isSecondary:!0},x.title);let G={};if(D!=null&&D.l1EventId&&(G={l1_parent:D.l1EventId}),(R==null?void 0:R.state)===d.y.READY&&b){const k=R.getReorderableItemPositionIndex(b),V=R.getReorderableItemTotal();G={item_position_index:k,item_position_total:V,...G}}return(0,i.do)(x,E)?n.createElement(e.Z,{p:1,pl:3,className:u},n.createElement(a.Z,{className:x.className,isSelected:!!y,onClick:k=>{(0,f.wm)({object_identifier:x.title,navigation_level:m.N8.L2,...G}),L==null||L(k)},item:x},n.createElement(c.Z.Body,{color:y?"fg.default":"fg.muted",m:0,fontWeight:"medium",sx:{"&:hover":{color:"gray.200"}}},x.title))):null})},293702:function(P,o,t){"use strict";t.d(o,{T:()=>d,Z:()=>m});var n=t(160553),r=t.n(n),e=t(174161),c=t(827536);const i=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;(0,e.useEffect)(()=>{Object.hasOwn(u,"l2Listeners")||Object.defineProperty(u,"l2Listeners",{value:new Set,writable:!1,enumerable:!1,configurable:!1})},[u]);const p=(0,e.useCallback)(v=>setTimeout(()=>u.l2Listeners.forEach(E=>E(v)),0),[u.l2Listeners]);return{listen:(0,e.useCallback)(v=>(u.l2Listeners.add(v),()=>{u.l2Listeners.delete(v)}),[u.l2Listeners]),updateChildren:p}};var a=t(313024),s=t(159510);const l=e.memo(u=>{let{items:p,currentPath:g,parentVisibilityKey:v,metaData:E}=u;const C=(0,a.vZ)(p,g);return e.createElement(e.Fragment,null,p.map(T=>e.createElement(c.Z,r()({},T,{key:T.to,isSelected:T.isSelected??T.to===C,parentVisibilityKey:v,metaData:E}))))});function d(u,p,g){const[v,E]=(0,e.useState)(null),{listen:C}=i(),T=(0,e.useRef)(u),{callback:I}=(0,s.Z)(E,10);if((0,e.useEffect)(()=>(u!==T.current&&(T.current=u,I(null)),C(y=>{I(y)})),[C,u,I]),e.isValidElement(v))return v;if(v){const y=v;return e.createElement(l,{items:y,currentPath:u,parentVisibilityKey:p,metaData:g})}return null}const m=u=>{const{updateChildren:p}=i();return p(u.children||u.items||null),null}},141746:function(P,o,t){"use strict";t.d(o,{D:()=>p,C:()=>g});var n=t(174161),r=t(259015);const e=(v,E)=>{const C=[];return v&&C.push({key:r.NavItemKeyEnum.SETUP_GUIDE,isVisible:!0}),C.push({key:r.NavItemKeyEnum.PRODUCTS_SERVICES,isVisible:!0},{key:r.NavItemKeyEnum.CONTENT_MEMBERSHIPS,isVisible:!0},{key:r.NavItemKeyEnum.SCHEDULING,isVisible:!0}),E&&C.push({key:r.NavItemKeyEnum.DONATIONS,isVisible:!0}),C.push({key:r.NavItemKeyEnum.INVOICING,isVisible:!0}),C};function c(v){const E=v.findIndex(C=>{let{key:T}=C;return T===r.NavItemKeyEnum.SETUP_GUIDE});return E<=0?v:[v[E]].concat(v.filter((C,T)=>T!==E))}function i(v,E){return new Promise((C,T)=>{let I=!1;const y=window.setTimeout(()=>{I=!0,T("[customNavigation.withTimeout] timed out")},v);E().then(b=>{I||(window.clearTimeout(y),C(b))}).catch(b=>{I||(window.clearTimeout(y),T(b))})})}var a=t(872315);const s=1e3;function l(v,E,C,T){const[I,y]=(0,n.useState)(a.y.LOADING),[b,D]=(0,n.useState)(!1),[j,U]=(0,n.useState)(a.Z.NONE),[R,L]=(0,n.useState)(null),[x,G]=(0,n.useState)([]),[k,V]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{E&&i(s,v.loadNavigation).then(se=>{y(a.y.READY);const ye=e(C,T).filter(ct=>!se.some(at=>at.key===ct.key));G([...se,...ye])}).catch(se=>{y(a.y.READY),G(e(C,T))})},[v,E,T,C]),!E)return;const $=()=>y(a.y.EDITING),J=()=>{y(a.y.READY),v.saveNavigation(c(x).map(se=>{let{key:Oe,isVisible:ye}=se;return{key:Oe,isVisible:ye??!0}})).catch(se=>{})},ee=()=>j,de=()=>{U(a.Z.STARTED_EDITING)},re=()=>{U(a.Z.STOPPED_EDITING)},Ee=se=>{U(a.Z.TOGGLED),L(se)},Te=()=>{U(a.Z.NONE)},z=()=>R,be=se=>G(Oe=>Oe.find(ye=>ye.key===se)?Oe.map(ye=>ye.key===se?{...ye,isVisible:!0}:ye):[...Oe,{key:se,isVisible:!0}]),me=se=>G(Oe=>Oe.find(ye=>ye.key===se)?Oe.map(ye=>ye.key===se?{...ye,isVisible:!1}:ye):[...Oe,{key:se,isVisible:!1}]),ne=se=>{k||G(Oe=>Oe.find(ye=>ye.key===se)?Oe.map(ye=>ye.key===se?{...ye,isFocused:!0}:ye):[...Oe,{key:se,isFocused:!0}])},Ce=se=>{k||G(Oe=>Oe.find(ye=>ye.key===se)?Oe.map(ye=>ye.key===se?{...ye,isFocused:!1}:ye):[...Oe,{key:se,isFocused:!1}])},Ae=()=>V(!0),Xe=()=>V(!1),Ne=se=>{G(c(se.map(Oe=>{var ye;const ct=((ye=x.find(at=>{let{key:Ct}=at;return Ct===Oe.key}))===null||ye===void 0?void 0:ye.isVisible)??!0;return{...Oe,isVisible:ct}})))},st=se=>x.filter(Oe=>{let{isNotReorderable:ye}=Oe;return!ye}).findIndex(Oe=>{let{key:ye}=Oe;return ye===se}),ze=()=>x.filter(se=>{let{isNotReorderable:Oe}=se;return!Oe}).length,we=se=>{var Oe;return((Oe=x.find(ye=>{let{key:ct}=ye;return ct===se}))===null||Oe===void 0?void 0:Oe.isVisible)??!0},Ke=()=>b;switch(I){case a.y.LOADING:return{state:I};case a.y.READY:return{state:I,items:x,startEditing:$,getReorderableItemPositionIndex:st,getReorderableItemTotal:ze,getCustomNavItemVisible:we,getLastUserAction:ee,setUserStartEditing:de,setUserStopEditing:re,unsetUserAction:Te};case a.y.EDITING:return{state:I,items:x,stopEditing:J,enableItem:be,disableItem:me,focusItem:ne,unfocusItem:Ce,reorderItems:Ne,setDragStart:Ae,setDragEnd:Xe,getReorderableItemPositionIndex:st,getReorderableItemTotal:ze,getCustomNavItemVisible:we,getIsDetailPageOpen:Ke,setIsDetailPageOpen:D,getLastUserAction:ee,setUserStartEditing:de,setUserStopEditing:re,unsetUserAction:Te,setUserToggleItem:Ee,getLastToggledItem:z}}}var d=t(100467),f=t(265149),m=t(46553);const u=(0,n.createContext)(void 0),p=v=>{let{backend:E,children:C,isEligibleForDonationsDashboard:T,isEligibleForGuidanceEngine:I,isEnabled:y}=v;const b=l(E,y,I,T),D=(0,f.u)(),j=(0,d.U)();return(0,n.useEffect)(()=>{(b==null?void 0:b.state)===a.y.READY&&D===m.p.EDITING&&j&&(b==null||b.startEditing()),(b==null?void 0:b.state)===a.y.EDITING&&D!==m.p.EDITING&&(b==null||b.stopEditing())},[b,D,j]),n.createElement(u.Provider,{value:b},C)},g=()=>(0,n.useContext)(u)},399281:function(P,o,t){"use strict";t.d(o,{B:()=>r,N:()=>n});const n="/edit-menu",r=`${n}/home`},158610:function(P,o,t){"use strict";t.r(o),t.d(o,{loadNavigation:()=>e,saveNavigation:()=>c});var n=t(456903);const r="/api/v1/config-ui-preferences-service/custom-nav/preferences";async function e(){return(await n.default.get(r)).data.items}function c(i){return n.default.put(r,{items:i})}},872315:function(P,o,t){"use strict";t.d(o,{Z:()=>n,y:()=>r});let n=function(e){return e[e.NONE=0]="NONE",e[e.STARTED_EDITING=1]="STARTED_EDITING",e[e.STOPPED_EDITING=2]="STOPPED_EDITING",e[e.TOGGLED=3]="TOGGLED",e}({}),r=function(e){return e[e.LOADING=0]="LOADING",e[e.READY=1]="READY",e[e.EDITING=2]="EDITING",e}({})},586985:function(P,o,t){"use strict";t.d(o,{T:()=>s,t:()=>I});var n=t(59794),r=t(555912),e=t(984080);const c=(0,e.Z)(),i=new n.default(c),a=new r.default(c),{T:s,Plural:l,FormattedCurrency:d,FormattedNumber:f,FormattedDateTime:m,RelativeTime:u,FormattedMoney:p}=i,{formatNumber:g,formatCurrency:v,formatCurrencyToParts:E,getCurrencySymbol:C,formatQuantity:T,translate:I,pluralize:y,formatMoney:b}=c,{formatIcuMessage:D}=a},339919:function(P,o,t){"use strict";t.r(o),t.d(o,{EDIT_MENU_PATHNAME:()=>st.N,trackUserNavigatesForwardInFeatures:()=>Ae.pM,trackUserRepositionsNavItem:()=>Ae.Cw,trackUserNavigatesBackwardInFeature:()=>Ae.Qy,GLOBAL_NAVIGATION_TYPE:()=>Me.p,LastUserAction:()=>I.Z,useNavigationType:()=>dt.u,EDIT_MENU_HOME_PATHNAME:()=>st.B,CustomNavProvider:()=>Ne.D,PersistentNavigationProvider:()=>yt.Z,FeatureGatedEditMenuIconWrapper:()=>Ft.Z,trackUserTogglesNavigationItem:()=>Ae.R6,useNavigationWidth:()=>_n.k,trackUserClosesDetailsPage:()=>Ae.bC,isAppFocused:()=>Ze.H,trackUserViewsAppStore:()=>Ae.h_,CustomNavState:()=>I.y,useCustomNavContext:()=>Ne.C,customNavPreferencesBackend:()=>vn,trackUserViewsFeature:()=>Ae.AD,EntryPoint:()=>Xe.N9,default:()=>jn,trackUserViewsDetailsPage:()=>Ae._q,HoverTooltip:()=>Vn.Z,EditMenuIconWrapper:()=>Hn.Z,SecondaryNavigation:()=>At.Z,NAV_ITEM_TYPE:()=>Me.r,isAppVisible:()=>ie.Y,trackUserHoversOverNavItem:()=>Ae.bK,trackUserViewsDetailsCard:()=>Ae.Od});var n=t(160553),r=t.n(n),e=t(174161),c=t(845076),i=t.n(c),a=t(259015),s=t(219190),l=t(167592),d=t(482053),f=t(538312),m=t(967552),u=t(338465),p=t(122452),g=t(361282),v=t(394493),E=t(629301),C=t(586985),T=t(313024),I=t(872315),y=t(106793),b=t(520773),D=t(188046);const U=Qe=>{let{item:We,children:Ye,isExpanded:Je,isSelected:ot,onClick:qe,router:nt,customNavItem:ut}=Qe,mt;if(((0,T.FS)(We)||(0,T.Bm)(We))&&We.customTitle){const Ot=We.customTitle;mt=e.createElement(Ot,{isSelected:Je&&ot,isVisible:ut==null?void 0:ut.isVisible,isEditing:ut==null?void 0:ut.isEditing,isEditable:ut==null?void 0:ut.isEditable})}if(!!(We.disabled||"to"in We&&nt.isDisabledPath(We.to)))return e.createElement(D._,{dataAttributes:We.dataAttributes,disabledTooltipText:We.disabledTooltipText},Ye);const{isVisible:Tt,color:jt,sx:it}=Ke(ut,Je,ot),ht=e.createElement(f.Z.Subtitle,{color:jt,m:0,sx:it},Ye),It=ut&&ut.isEditing&&ut.isEditable,bt=!(ut!=null&&ut.isEditing)&&Tt||It;return e.createElement(u.Z,{overflow:"hidden"},e.createElement(u.Z,{p:0},e.createElement(u.Z,{position:"relative",overflow:"hidden"},e.createElement(u.Z,{p:1},bt?e.createElement(b.Z,{item:We,isSelected:ot,onClick:qe,hasInteraction:!It,sx:It?{"> span":{display:"block",whiteSpace:"nowrap"},"&:focus-visible::after":{width:"calc(100% - 18px)"}}:{}},mt||ht):mt||ht))))};var R=t(352635),L=t(827536);const x=300,G=300,k=60,V=`.${L.G}`,$="visible",J={transform:"translate3d(0,0,0)",[V]:{transform:`translate3d(-${R.space[2]},0,0)`,opacity:.5,transition:`all ${R.time[300]} ease-in-out`},[`&.${$} ${V}`]:{transform:"translate3d(0,0,0)",opacity:1}},ee=Qe=>{const We=Math.min(k,G/Qe);return[...Array(Qe)].reduce((Ye,Je,ot)=>(Ye[`&.${$} ${V}:nth-of-type(${ot+1})`]={transitionDelay:`${We*ot}ms`},Ye),{})},re=Qe=>{let{isOpen:We,children:Ye}=Qe;const[Je,ot]=(0,e.useState)(null);(0,e.useEffect)(()=>{We&&ot(Ye)},[We,Ye]);const[qe,nt]=e.useState("0px"),[ut,mt]=e.useState(0),Ut=(0,e.useMemo)(()=>ut?ee(ut):{},[ut]);return e.createElement(u.Z,{sx:{height:0,overflow:"hidden",transition:`height ${x}ms ease-in-out`},style:{height:We?qe:0},"aria-hidden":We?void 0:"true",onTransitionEnd:Tt=>{Tt.target===Tt.currentTarget&&!We&&ot(null)}},e.createElement(u.Z,{ref:Tt=>{Tt&&(mt(Array.from(Tt.querySelectorAll(V)).length),nt(`${Tt.scrollHeight}px`))},className:ut?$:void 0,css:{...J,...Ut||{}}},Je))};var Ee=t(421190),Te=t(623181),z=t(480498),be=t(727751);const me=(0,e.createContext)({attributes:{},listeners:void 0,ref(){}});function ne(Qe){let{children:We,id:Ye}=Qe;const{attributes:Je,isDragging:ot,listeners:qe,setNodeRef:nt,setActivatorNodeRef:ut,transform:mt,transition:Ut}=(0,Te.useSortable)({id:Ye}),Tt=(0,e.useMemo)(()=>({attributes:Je,listeners:qe,ref:ut}),[Je,qe,ut]),jt={opacity:ot?.4:void 0,transform:z.CSS.Translate.toString(mt),transition:Ut};return e.createElement(me.Provider,{value:Tt},e.createElement(u.Z,{ref:nt,style:jt},We))}function Ce(){const{attributes:Qe,listeners:We,ref:Ye}=(0,e.useContext)(me);return e.createElement(d.Z,r()({},Qe,We,{ref:Ye,"data-cy":"draghandle",sx:{alignItems:"center",paddingLeft:`calc(${R.space[1]} - 1px)`,cursor:"grab",height:"100%"}}),e.createElement(be.Z,{sx:{color:"gray.300",height:"34px"}}))}var Ae=t(56150),Xe=t(756207),Ne=t(141746),st=t(399281),ze=t(543608),we=t.n(ze);function Ke(Qe,We,Ye){return Qe!=null&&Qe.isEditing?{isVisible:!0,color:Qe.isEditable&&Qe.isVisible?"fg.muted":"fg.disabled",sx:{cursor:Qe.isEditable?"pointer":"default",transition:"ease-out 300ms"}}:{isVisible:We||!Qe||Qe.isVisible,color:Ye?"fg.default":"fg.muted",sx:{"&:hover":{color:"gray.200"}}}}const se=Qe=>{switch(Qe){case I.Z.NONE:return we().customNavNotTriggered;case I.Z.STARTED_EDITING:return we().toggleVisible;case I.Z.STOPPED_EDITING:return we().toggleNotVisible;default:return we().customNavNotTriggered}},Oe=Qe=>{let{isVisible:We,isEditing:Ye,enable:Je,disable:ot,visibilityKey:qe,customNavContext:nt}=Qe;const ut=(nt==null?void 0:nt.state)!==I.y.LOADING?nt==null?void 0:nt.getLastUserAction():void 0,[mt,Ut]=(0,e.useState)(se(ut));return(0,e.useEffect)(()=>{Ut(se(ut))},[ut]),e.createElement(d.Z,{"aria-hidden":Ye?void 0:"true",onClick:Tt=>Tt.stopPropagation(),"data-testid":`${qe}-toggleWrapper`,className:`${we().toggleWrapper} ${Ye?we().editing:we().notEditing}`,sx:{pointerEvents:(nt==null?void 0:nt.state)===I.y.EDITING?"auto":"none"}},e.createElement(y.Z,{"data-testid":`${qe}-toggle`,"aria-label":(0,C.t)("Toggle visibility",null,{project:"config-persistent-navigation"}),className:mt,checked:We,onAnimationEnd:()=>{(nt==null?void 0:nt.state)!==I.y.LOADING&&(nt==null||nt.unsetUserAction())},onChange:Tt=>{(0,Ae.R6)({object_identifier:qe,is_visible:Tt,entrypoint:Xe.N9.NAVIGATION}),Tt?Je():ot(),(nt==null?void 0:nt.state)===I.y.EDITING&&(nt==null||nt.setUserToggleItem(qe))},tabIndex:Ye?0:-1}))},ct=Qe=>{let{customNavItem:We,isExpanded:Ye,isSelected:Je,item:ot,onClick:qe,router:nt,secondaryNav:ut}=Qe;const mt=(We==null?void 0:We.isEditing)&&(We==null?void 0:We.isEditable),{isVisible:Ut}=Ke(We,Ye,Je),{replace:Tt}=(0,Ee.Z)(),jt=(0,e.useRef)(),it=(0,Ne.C)();if(!(0,T.do)(ot,nt))return null;const ht=()=>{if(Ut&&We!==null&&We!==void 0&&We.isEditable)return e.createElement(Oe,{isVisible:We.isVisible,isEditing:We.isEditing,enable:We.enable,disable:We.disable,visibilityKey:We.visibilityKey,customNavContext:it})},It=()=>We!=null&&We.isEditing?We.isEditable?Ht=>{var rt;Ht.preventDefault(),We==null||We.unfocus(),Tt(`${st.N}/${ot.visibilityKey}`),(rt=jt.current)===null||rt===void 0||rt.blur()}:Ht=>{Ht.preventDefault()}:Ht=>{const{visibilityKey:rt}=ot;let ln={};rt&&(it==null?void 0:it.state)===I.y.READY&&(ln={item_position_index:it.getReorderableItemPositionIndex(rt),item_position_total:it.getReorderableItemTotal()}),qe==null||qe(Ht),(0,Ae.wm)({object_identifier:ot.title??rt??(0,T.km)(ot),navigation_level:Xe.N8.L1,...ln})},bt=Ye&&!(We!=null&&We.isEditing),Ot=(0,T.DK)(ot)&&ot.childComponent,nn=e.createElement(u.Z,{py:0,pl:mt?0:5,pr:5,sx:{position:"relative",width:"100%"},"data-id":(0,T.km)(ot)},e.createElement(u.Z,null,e.createElement(u.Z,{"aria-hidden":Ut?void 0:"true",sx:{display:"grid",gridTemplateRows:Ut?"1fr":"0fr",transition:"grid-template-rows 0.2s"}},e.createElement(U,{item:ot,isExpanded:Ye,isSelected:Je,onClick:It(),router:nt,customNavItem:We},ot.title),e.createElement(re,{isOpen:bt},Ye&&e.createElement(u.Z,null,ut)),Ye&&Ot&&e.createElement(Ot,null))),ht());return e.createElement("div",{"data-testid":"primary-nav-item-wrapper"},mt?e.createElement(m.Z,{className:We!=null&&We.isFocused?"focused":"",as:"span",sx:{display:"block",width:"100%",span:{display:"flex",justifyContent:"start",width:"100%",transition:"ease-out 300ms","&:hover":{backgroundColor:"gray.900"}},"&.focused span":{backgroundColor:"gray.900"}},onClick:It(),onMouseEnter:()=>{We.focus();const{visibilityKey:Ht}=We;(it==null?void 0:it.state)===I.y.EDITING&&Ht&&(0,Ae.bK)({is_visible:Ut,item_position_index:it.getReorderableItemPositionIndex(Ht),item_position_total:it.getReorderableItemTotal(),object_identifier:Ht})},onMouseLeave:()=>We.unfocus(),"data-cy":ot.isNotReorderable?null:"customnav-item-touchable"},We!=null&&We.isFocused&&!ot.isNotReorderable?e.createElement(Ce,{"aria-label":(0,C.t)("Reorder item",null,{project:"config-persistent-navigation"})}):e.createElement(u.Z,{pl:5}),nn):nn)},Ct=Qe=>Qe.children?e.createElement(u.Z,{px:6},Qe.children):null,Lt=Qe=>Qe.children?e.createElement(d.Z,{minHeight:"84px",px:6,pb:10,justifyContent:"space-between"},Qe.children):null;var At=t(293702),Yt=t(66156),xe=t.n(Yt),tt=t(392338);const F=(Qe,We)=>{const{pathname:Ye}=g.ZP.getBackgroundLocation(Qe),{basename:Je,pathname:ot}=Qe.getCurrentLocation(),qe=We.pathname.startsWith(Je)?We.pathname.replace(Je,""):We.pathname;return[Ye,ot].includes(qe)?Ye:qe};var ie=t(103150),Ze=t(934733),Ue=t(673230);const Le={sideEffects:(0,Ue.defaultDropAnimationSideEffects)({styles:{active:{opacity:"0.4"}}})};function _e(Qe){let{children:We}=Qe;return e.createElement(Ue.DragOverlay,{dropAnimation:Le},We)}function He(Qe){let{items:We,onChange:Ye,renderItem:Je,onDragStart:ot,onDragEnd:qe}=Qe;const[nt,ut]=(0,e.useState)(null),[mt,Ut]=(0,e.useState)(We),Tt=(0,e.useMemo)(()=>mt.find(it=>{let{visibilityKey:ht}=it;return ht===(nt==null?void 0:nt.id)}),[nt,mt]),jt=(0,Ue.useSensors)((0,Ue.useSensor)(Ue.PointerSensor),(0,Ue.useSensor)(Ue.KeyboardSensor,{coordinateGetter:Te.sortableKeyboardCoordinates}));return e.createElement(Ue.DndContext,{sensors:jt,onDragStart:it=>{let{active:ht}=it;ot==null||ot(),ut(ht)},onDragOver:it=>{let{active:ht,over:It}=it;if(It&&ht.id!==(It==null?void 0:It.id)){const bt=mt.findIndex(Ht=>{let{visibilityKey:rt}=Ht;return rt===ht.id}),Ot=mt.findIndex(Ht=>{let{visibilityKey:rt}=Ht;return rt===It.id}),nn=(0,Te.arrayMove)(mt,bt,Ot);Ut(nn)}},onDragEnd:()=>{qe==null||qe(),Ye(mt),ut(null)},onDragCancel:()=>ut(null)},e.createElement(Te.SortableContext,{items:mt.map(it=>{let{visibilityKey:ht}=it;return ht})},mt.map(it=>e.createElement(ne,{key:it.visibilityKey,id:it.visibilityKey},Je(it)))),e.createElement(_e,null,Tt?Je(Tt):null))}He.Item=ne,He.DragHandle=Ce;const oe=(Qe,We)=>{let Ye=0;for(;(((Je=Qe[Ye])===null||Je===void 0?void 0:Je.visibilityKey)===((ot=We[Ye])===null||ot===void 0?void 0:ot.visibilityKey)||((qe=Qe[Ye])===null||qe===void 0?void 0:qe.visibilityKey)===((nt=We[Ye+1])===null||nt===void 0?void 0:nt.visibilityKey))&&Ye<Qe.length;){var Je,ot,qe,nt;Ye++}if(Qe[Ye]){const ut=Qe[Ye].visibilityKey;return{visibilityKey:ut,startIndex:Ye,endIndex:We.findIndex(mt=>{let{visibilityKey:Ut}=mt;return Ut===ut})}}},ce="/",Q=Qe=>"items"in Qe;function fe(Qe,We){if(!Qe)return;const Ye=Qe.state===I.y.EDITING;return We&&Q(Qe)?{visibilityKey:We,isVisible:(0,ie.Y)(Qe,We)??!0,isEditable:!0,isEditing:Ye,isFocused:(0,Ze.H)(Qe,We),enable:()=>Ye&&Qe.enableItem(We),disable:()=>Ye&&Qe.disableItem(We),focus:()=>Ye&&Qe.focusItem(We),unfocus:()=>Ye&&Qe.unfocusItem(We)}:{isVisible:!0,isEditable:!1,isEditing:Ye}}const Re=Qe=>{let{footer:We=null,navGroups:Ye,router:Je,chat:ot=null,search:qe=null,notificationsPopover:nt=null,openUniversalCheckout:ut,isInMigrationPreview:mt,retiringFontWarning:Ut,...Tt}=Qe;const{pathname:jt}=g.ZP.getBackgroundLocation(Je),it=F(Je,window.location),[ht,It]=e.useState(null),bt=(0,T.Vj)(Ye,jt),Ot=ht||bt,nn=(0,At.T)(jt,Ot==null?void 0:Ot.visibilityKey,Ot==null?void 0:Ot.metaData),Ht=(0,E.l)(),rt=(0,Ne.C)(),[ln,qt]=e.useState((Ot==null?void 0:Ot.title)==="Website"&&Ht),In=(0,e.useCallback)((Wt,Cn)=>{Wt.preventDefault(),It(hn=>hn&&hn===Cn?null:Cn)},[]);if((rt==null?void 0:rt.state)===I.y.LOADING)return null;const un=jt===ce,$t=Wt=>{let Cn=!1,hn=!1,Sn=On=>{qt(!1),It(null)};return(0,T.FS)(Wt)&&(Cn=(typeof Wt.hasLandingPage=="boolean"?Wt.hasLandingPage:!0)&&(0,T.Wd)(Wt.to,it,Wt.selectedPathMatch)&&!ln,hn=!ht&&Wt.to===(bt==null?void 0:bt.to)),(0,T.DK)(Wt)&&(Wt.disabled||(Sn=On=>In(On,Wt)),hn=Wt.key===(ht==null?void 0:ht.key)),e.createElement(ct,{key:(0,T.km)(Wt),customNavItem:fe(rt,Wt.visibilityKey),isExpanded:hn,isSelected:Cn,item:Wt,onClick:On=>Sn(On),router:Je,secondaryNav:nn})};return e.createElement(d.Z,r()({as:"nav",backgroundColor:{"mobile-*":"white"},flexDirection:"column",justifyContent:"space-between",height:"100%",overflowX:"hidden",overflowY:"auto",py:6},Tt),e.createElement(d.Z,{flexDirection:"column",flexGrow:1},e.createElement(Lt,null,(rt==null?void 0:rt.state)===I.y.EDITING?e.createElement(e.Fragment,null,e.createElement(f.Z.Subtitle,{my:0,flexGrow:1},e.createElement(C.T,{project:"config-persistent-navigation",notes:"The label to allow users to customize their navigation menu"},"Customize Sidebar")),e.createElement(m.Z.Element.Icon,{onClick:()=>{(0,Ae.HQ)(),Je.push("/"),rt.setUserStopEditing()},"aria-label":(0,C.t)("Stop editing",null,{project:"config-persistent-navigation"}),"data-testid":"stop-editing-button"},e.createElement(s.Z,null))):e.createElement(e.Fragment,null,e.createElement(v.Z,{to:p.Z.isStandaloneScheduling()?"/marketing/campaigns":"/"},e.createElement(l.Z,{color:"fg.default",className:i()({[xe().logo_bounce]:un})})),e.createElement(d.Z,null,qe,nt,ot))),(rt==null?void 0:rt.state)!==I.y.EDITING&&Ut?Ut:null,e.createElement(d.Z,{flexDirection:"column",flexGrow:1,gap:4,height:"100%",width:"100%"},Ye.map(Wt=>{let{key:Cn,items:hn}=Wt;if((rt==null?void 0:rt.state)===I.y.READY||(rt==null?void 0:rt.state)===I.y.EDITING){const Sn=hn.filter(pn=>{let{visibilityKey:Pn,isNotReorderable:fn}=pn;return Pn&&!fn}),On=hn.filter(pn=>{let{visibilityKey:Pn,isNotReorderable:fn}=pn;return!Pn||fn}),Un=Sn.sort((pn,Pn)=>{const fn=rt.items.findIndex(Be=>Be.key===pn.visibilityKey),pe=rt.items.findIndex(Be=>Be.key===Pn.visibilityKey);return fn===-1?1:pe===-1?-1:fn-pe});return e.createElement(u.Z,{key:Cn,"data-cy":"sortable-navigation"},On.map(pn=>$t(pn)),(Un==null?void 0:Un.length)>0&&e.createElement(He,{items:Un,onChange:pn=>{if((rt==null?void 0:rt.state)===I.y.EDITING){const Pn=[],fn=On.find(Be=>{let{visibilityKey:Ge}=Be;return Ge===a.NavItemKeyEnum.SETUP_GUIDE});fn&&Pn.push({key:fn.visibilityKey,isNotReorderable:fn.isNotReorderable}),Pn.push(...pn.map(Be=>{let{visibilityKey:Ge,isNotReorderable:$e}=Be;return{key:Ge,isNotReorderable:$e}})),rt.reorderItems(Pn);const pe=oe(Sn,pn);if(pe){const{visibilityKey:Be,startIndex:Ge,endIndex:$e}=pe;(0,Ae.Cw)({object_identifier:Be,is_visible:rt.getCustomNavItemVisible(Be),item_position_index_prev:Ge,item_position_index:$e,item_position_total:rt.getReorderableItemTotal()})}}},renderItem:pn=>$t(pn),onDragStart:()=>{(rt==null?void 0:rt.state)===I.y.EDITING&&rt.setDragStart()},onDragEnd:()=>{(rt==null?void 0:rt.state)===I.y.EDITING&&rt.setDragEnd()}}))}return e.createElement(u.Z,{key:Cn},hn.map(Sn=>$t(Sn)))})),(rt==null?void 0:rt.state)!==I.y.EDITING&&e.createElement(Ct,null,We)))};var Me=t(46553),dt=t(265149),pt=t(219730),yt=t(833171);const Qt={[Me.p.EDITING]:{width:pt.g[Me.p.EDITING],left:0,transform:"translate3d(0, 0, 0)"},[Me.p.DEFAULT]:{width:pt.g[Me.p.DEFAULT],left:0,transform:"translate3d(0, 0, 0)"},[Me.p.TUCKED]:{width:pt.g[Me.p.DEFAULT],left:0,transform:"translate3d(-100%, 0, 0)"},[Me.p.DRAWER]:{width:pt.g[Me.p.DRAWER],left:0,transform:"translate3d(0, 100%, 0)"}},Nn=Qe=>{let{children:We,sx:Ye,hasBorder:Je=!1,...ot}=Qe;const qe=(0,dt.u)(),{isDrawerOpen:nt,setIsDrawerOpen:ut}=(0,e.useContext)(yt._);if(qe===null)return null;const mt=qe===Me.p.DRAWER,Ut=Qt[qe],Tt=mt&&nt?{transform:"translate3d(0, 0, 0)"}:{},jt=mt?{}:{borderRightWidth:1,borderRightStyle:"solid",borderRightColor:Je?"gray.800":"transparent"};return e.createElement(e.Fragment,null,mt?e.createElement(u.Z,{position:"fixed",width:"100vw",height:"100vh",top:0,left:0,zIndex:999,backgroundColor:"gray.100",opacity:nt?.3:0,onClick:()=>ut(!1),transitionDuration:R.time[500],transitionProperty:"opacity",css:{pointerEvents:nt?"all":"none"}}):null,e.createElement(u.Z,r()({position:mt?"fixed":"absolute",height:"100%",zIndex:mt?999:9,sx:{transition:`all ${R.time[500]} ${R.easing.product.default}`,...Ut,...Tt,...jt,...Ye}},ot),We))};var Vn=t(635787),Hn=t(305775),Ft=t(585442),_n=t(301747),vn=t(158610);(0,C.t)("dummy-string",null,{project:"config-persistent-navigation"}),(0,C.t)("Customize Sidebar",null,{project:"config-persistent-navigation",notes:"The label to allow users to customize their navigation menu"});const jn=Object.assign(Re,{Container:Nn})},56150:function(P,o,t){"use strict";t.d(o,{bK:()=>T,h_:()=>l,pM:()=>v,Od:()=>m,HQ:()=>d,wm:()=>y,_q:()=>p,bC:()=>g,yj:()=>s,Cw:()=>I,Qy:()=>E,R6:()=>f,AD:()=>C});var n=t(796604),r=t(756207);const e=b=>{try{var D;const j=(D=window)===null||D===void 0||(D=D.top)===null||D===void 0?void 0:D.FS;j&&b(j)}catch{}},c=(b,D)=>{e(j=>{j.event(b,D)})};function i(b){let{eventName:D,actor:j,action:U,objectType:R,additionalFields:L}=b;const x={event_occurrence_timestamp:Date.now(),event_name:D,actor:j,action:U,object_type:R,...L};n.X.track(x)}function a(b){i(b);const{eventName:D,...j}=b;c(D,j)}const s=()=>{a({eventName:r.B_.USER_CLICKS_EDIT_NAV_CTA,actor:r.vt.USER,action:r.Vw.CLICK,objectType:r.LP.BUTTON})},l=()=>{a({eventName:r.B_.USER_VIEWS_APP_STORE,actor:r.vt.USER,action:r.Vw.VIEW,objectType:r.LP.PAGE})},d=()=>{a({eventName:r.B_.USER_EXITS_APP_STORE,actor:r.vt.USER,action:r.Vw.CLOSE,objectType:r.LP.PAGE})},f=b=>{a({eventName:r.B_.USER_TOGGLES_NAVIGATION_ITEM,actor:r.vt.USER,action:r.Vw.CLICK,objectType:r.LP.BUTTON,additionalFields:b})},m=b=>{a({eventName:r.B_.USER_VIEWS_DETAILS_CARD,actor:r.vt.USER,action:r.Vw.VIEW,objectType:r.LP.CARD,additionalFields:b})},u=b=>{a({eventName:EventName.USER_CLICKS_DETAILS_CARD,actor:Actor.USER,action:UserAction.CLICK,objectType:ObjectType.CARD,additionalFields:b})},p=b=>{a({eventName:r.B_.USER_VIEWS_DETAILS_PAGE,actor:r.vt.USER,action:r.Vw.VIEW,objectType:r.LP.MODAL,additionalFields:b})},g=b=>{a({eventName:r.B_.USER_CLOSES_DETAILS_PAGE,actor:r.vt.USER,action:r.Vw.CLOSE,objectType:r.LP.MODAL,additionalFields:b})},v=b=>{a({eventName:r.B_.USER_NAVIGATES_FORWARD_IN_FEATURES,actor:r.vt.USER,action:r.Vw.CLICK,objectType:r.LP.BUTTON,additionalFields:b})},E=b=>{a({eventName:r.B_.USER_NAVIGATES_BACKWARD_IN_FEATURES,actor:r.vt.USER,action:r.Vw.CLICK,objectType:r.LP.BUTTON,additionalFields:b})},C=b=>{a({eventName:r.B_.USER_VIEWS_FEATURE,actor:r.vt.USER,action:r.Vw.VIEW,objectType:r.LP.SECTION,additionalFields:b})},T=b=>{a({eventName:r.B_.USER_HOVERS_OVER_NAV_ITEM,actor:r.vt.USER,action:r.Vw.SELECT,objectType:r.LP.LINK,additionalFields:b})},I=b=>{a({eventName:r.B_.USER_REPOSITIONS_NAV_ITEM,actor:r.vt.USER,action:r.Vw.REORDER,objectType:r.LP.LINK,additionalFields:b})},y=b=>{a({eventName:r.B_.USER_CLICKS_NAVIGATION_ITEM,actor:r.vt.USER,action:r.Vw.CLICK,objectType:r.LP.LINK,additionalFields:b})}},796604:function(P,o,t){"use strict";t.d(o,{B:()=>m,X:()=>f});var n=t(221661),r=t.n(n),e=t(981491),c=t(557752),i,a,s,l;const d=e.isInternal,f=new(r())({customSchemaName:"GlobalNav",sourceEnvironment:d()?n.SourceEnvironment.STAGING:n.SourceEnvironment.PROD},{event_owner_team:"activation-funnel",event_source:"web",product_area:"config",member_account_id:c.D===null||c.D===void 0||(i=c.D.authenticatedAccount)===null||i===void 0?void 0:i.id,context_website_id:c.D===null||c.D===void 0||(a=c.D.website)===null||a===void 0?void 0:a.id,custom_schema_nav:"GlobalNav"}),m=new(r())({customSchemaName:"FeatureGate",sourceEnvironment:d()?n.SourceEnvironment.STAGING:n.SourceEnvironment.PROD},{event_owner_team:"activation-funnel",event_source:"web",product_area:"commerce",member_account_id:c.D===null||c.D===void 0||(s=c.D.authenticatedAccount)===null||s===void 0?void 0:s.id,context_website_id:c.D===null||c.D===void 0||(l=c.D.website)===null||l===void 0?void 0:l.id})},756207:function(P,o,t){"use strict";t.d(o,{B_:()=>n,LP:()=>e,N8:()=>a,N9:()=>i,Vw:()=>r,vt:()=>c});let n=function(s){return s.USER_CLICKS_EDIT_NAV_CTA="UserClicksEditNavCTA",s.USER_VIEWS_APP_STORE="UserViewsAppStore",s.USER_EXITS_APP_STORE="UserExitsAppStore",s.USER_TOGGLES_NAVIGATION_ITEM="UserTogglesNavigationItem",s.USER_VIEWS_DETAILS_CARD="UserViewsDetailsCard",s.USER_CLICKS_DETAILS_CARD="UserClicksDetailsCard",s.USER_VIEWS_DETAILS_PAGE="UserViewsDetailsPage",s.USER_CLOSES_DETAILS_PAGE="UserClosesDetailsPage",s.USER_NAVIGATES_FORWARD_IN_FEATURES="UserNavigatesForwardInFeatures",s.USER_NAVIGATES_BACKWARD_IN_FEATURES="UserNavigatesBackwardInFeatures",s.USER_VIEWS_FEATURE="UserViewsFeature",s.USER_HOVERS_OVER_NAV_ITEM="UserHoversOverNavItem",s.USER_REPOSITIONS_NAV_ITEM="UserRepositionsNavItem",s.USER_CLICKS_NAVIGATION_ITEM="UserClicksNavigationItem",s.USER_VIEWS_FEATURE_GATE_MODAL="UserViewsFeatureGateModal",s.USER_CLICKS_FEATURE_GATE_LABEL="UserClicksFeatureGateLabel",s.USER_CLICKS_FEATURE_GATE_MODAL_CTA="UserClicksFeatureGateModalCTA",s}({}),r=function(s){return s.CLICK="click",s.VIEW="view",s.CLOSE="close",s.SELECT="select",s.REORDER="reorder",s}({}),e=function(s){return s.BUTTON="button",s.PAGE="page",s.CARD="card",s.MODAL="modal",s.SECTION="section",s.LINK="link",s}({}),c=function(s){return s.USER="user",s}({}),i=function(s){return s.NAVIGATION="navigation",s.DETAILS_PAGE="details_page",s}({}),a=function(s){return s.L1="L1",s.L2="L2",s}({})},934733:function(P,o,t){"use strict";t.d(o,{H:()=>r});var n=t(872315);const r=(e,c)=>{var i;return(e==null?void 0:e.state)===n.y.EDITING&&(e==null||(i=e.items.find(a=>{let{key:s}=a;return s===c}))===null||i===void 0?void 0:i.isFocused)===!0}},103150:function(P,o,t){"use strict";t.d(o,{Y:()=>r});var n=t(872315);const r=(e,c)=>{if((e==null?void 0:e.state)!==n.y.LOADING){var i;return(e==null||(i=e.items.find(a=>{let{key:s}=a;return s===c}))===null||i===void 0?void 0:i.isVisible)!==!1}}},313024:function(P,o,t){"use strict";t.d(o,{Bm:()=>a,DK:()=>i,FS:()=>c,Vj:()=>f,Wd:()=>u,do:()=>l,km:()=>s,vZ:()=>m});var n=t(704610),r=t(46553),e=t(419267);const c=p=>p.type===void 0||p.type===r.r.INTERNAL,i=p=>"type"in p&&p.type===r.r.ACCORDION,a=p=>"type"in p&&p.type===r.r.EXTERNAL,s=p=>i(p)?p.key:a(p)?p.href:p.to,l=(p,g)=>"shouldShow"in p&&p.shouldShow===!1?!1:"href"in p?!0:"to"in p?g.isValidPath(p.to):!0,d=(p,g)=>!p||g.length>p.length,f=(p,g)=>{const v=(0,e._b)(g);let E=null;return p.forEach(C=>{let{items:T}=C;T.forEach(I=>{c(I)&&[I.to,...I.childMountPoints||[]].forEach(y=>{var b;v.startsWith(y)&&d((b=E)===null||b===void 0?void 0:b.to,y)&&(E=I)})})}),E},m=(p,g)=>{let v=null;return p.forEach(E=>{g.startsWith(E.to)&&d(v,E.to)&&(v=E.to)}),v},u=(p,g,v)=>(v?(0,n.E)(v,(0,e.Zw)(g).pathname).matches:!1)||(0,e.Zw)(p).pathname===(0,e.Zw)(g).pathname},419267:function(P,o,t){"use strict";t.d(o,{Zw:()=>e,_b:()=>c,bX:()=>i});const n=/\/([^/]+)\/?$/,r=a=>a.replace(/\/$/,"")||"/",e=function(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"https://www.placeholder.com";const{hash:l,search:d,pathname:f}=new URL(a,s);return{pathname:r(f),hash:l,search:d}},c=a=>{const{pathname:s,hash:l,search:d}=e(a);return`${s}${d}${l}`},i=a=>{const{pathname:s}=e(a),l=n.exec(s??"");return l?l[1]:""}},301747:function(P,o,t){"use strict";t.d(o,{k:()=>e});var n=t(174161),r=t(833171);function e(){const{width:c}=(0,n.useContext)(r._);return c}},171009:function(P,o,t){"use strict";t.d(o,{U:()=>i,Z:()=>c});var n=t(638204);const r="form-submission-view";function e(a){return t(862618)(`./${r}.${a}.yaml`)}const{getI18nInstance:c,setI18nInstance:i}=(0,n.setupLibrary)(r,e)},862618:function(P,o,t){var n={"./form-submission-view.en-US.yaml":"277143"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=862618},908558:function(P,o,t){"use strict";t.d(o,{Lq:()=>p,sv:()=>C,ZP:()=>T});var n=t(174161),r=t(790685),e=t(485785),c=t(817223),i=t(572862),a=t(161381),s=t(482053),l=t(916342),d=t(394954),f=t(516865),m=t(113714);const u=I=>{let{onSave:y,onCancel:b,isSaving:D,isInvalid:j=!1}=I;return n.createElement(d.Z,{direction:"row","data-testid":"settings-save-cancel-container",justifyContent:"flex-end",space:4},n.createElement(f.Z.Tertiary,{onClick:b,disabled:D,"data-testid":"settings-cancel"},n.createElement(m.T,{project:"global-settings"},"Cancel")),n.createElement(f.Z.Primary,{onClick:y,disabled:D||j,"data-testid":"settings-save"},n.createElement(m.T,{project:"global-settings"},"Save")))},p="settings-save-cancel",g=I=>{let{isDirty:y,isInvalid:b,onSave:D,onCancel:j,isSaving:U=!1}=I;return y?n.createElement(u,{onSave:D,onCancel:j,isSaving:U,isInvalid:b}):n.createElement(l.Z,null)},v=I=>{let{children:y,...b}=I;return n.createElement(s.Z,{alignItems:"center"},y,n.createElement(g,b))},E=I=>I!=null&&I.children?I.children:n.createElement(l.Z,null),C=()=>n.createElement(r.Z,{tunnelKey:p,render:E}),T=(0,a.Z)(I=>{let{router:y,location:b,...D}=I;const j=(0,c.Z)({router:y,location:b,isDirty:D.isDirty,onDiscardClick:D.onCancel});return n.createElement(e.Z,{tunnelKey:p},n.createElement(i.Z,{isReviewingChanges:j.isReviewingChanges,handleCancel:j.handleCancel,handleDiscard:j.handleDiscard}),n.createElement(v,D))})},916342:function(P,o,t){"use strict";t.d(o,{Z:()=>J});var n=t(174161),r=t(394954),e=t(967552),c=t(566288),i=t(219190),a=t(161381),s=t(361282),l=t(986440),d=t(897071),f=t.n(d),m=t(225840),u=t(589242),p=t(491714),g=t(684353);let v;const E=()=>g.translationLocale,C=()=>p.LocaleResolver.parseLocale(E()).language(),T=ee=>ee.indexOf(`${C()}-`)===0,I=()=>u.Z.member.enabled.filter(T),b=(v||(v=new p.LocaleResolver(I(),E())),v).resolveLocale(E()).languageRegion,D={memberLocale:b,websiteLocale:b};function j(){return D.memberLocale}function U(){var ee;return(ee=(0,m.getWebsiteContext)())===null||ee===void 0||(ee=ee.website)===null||ee===void 0?void 0:ee.language}function R(){const ee=j();return{website_locale:U()||ee,member_account_locale:ee}}function L(ee){var de;new(f())({customSchemaName:"cms_v7"},{event_owner_team:"core-cms",event_source:"web",product_area:"pages",user_website_id:((de=(0,m.getWebsiteContext)())===null||de===void 0||(de=de.website)===null||de===void 0?void 0:de.id)??null,...R()}).track({actor:"user",action:"view",object_type:"modal",object_identifier:ee,indirect_object_identifier:"search"})}var x=t(482053);const k=ee=>{let{children:de}=ee;return n.createElement(x.Z,{height:"sizes.200",justifyContent:"center",alignItems:"center"},de)};var V=t(468938),$=t(113714);const J=(0,a.Z)(ee=>{let{router:de}=ee;const re=()=>de.push(s.ZP.getBackgroundLocation(de)),{setPathfinderOpen:Ee}=(0,l.tf)();return n.createElement(r.Z,{direction:"row",justifyContent:"right",space:4},n.createElement(k,null,!(0,V.Z)()&&n.createElement(e.Z.Element.Icon,{onClick:()=>{Ee==null||Ee(!0),L("settings-modal")},"data-testid":"settings-header-search-button","aria-label":(0,$.t)("Search",null,{project:"global-settings"})},n.createElement(c.Z,null))),n.createElement(k,null,n.createElement(e.Z.Element.Icon,{onClick:re,"data-testid":"settings-header-close-button"},n.createElement(i.Z,null))))})},113714:function(P,o,t){"use strict";t.d(o,{T:()=>f,t:()=>y});var n=t(59794),r=t(470407),e=t(555912),c=t(747134);const i=(0,c.Z)(),a=new e.default(i),s=new n.default(i),l=new r.default(i),{parseNumber:d}=l,{T:f,Plural:m,FormattedCurrency:u,FormattedNumber:p,FormattedDateTime:g}=s,{formatNumber:v,formatCurrency:E,formatCurrencyToParts:C,getCurrencySymbol:T,formatQuantity:I,translate:y,pluralize:b}=i,{formatIcuMessage:D}=a},204295:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(778008),r=t(352635),e=t(569901),c=s(t(174161)),i=t(770748);function a(m){if(typeof WeakMap!="function")return null;var u=new WeakMap,p=new WeakMap;return(a=function(g){return g?p:u})(m)}function s(m,u){if(!u&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var p=a(u);if(p&&p.has(m))return p.get(m);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in m)if(E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)){var C=v?Object.getOwnPropertyDescriptor(m,E):null;C&&(C.get||C.set)?Object.defineProperty(g,E,C):g[E]=m[E]}return g.default=m,p&&p.set(m,g),g}const l={transition:`color ${r.time[500]}`,"&:not(:hover)":{color:"white"}},d=m=>{let{isVisible:u,setupGuideRoute:p,onCancel:g,onClick:v,onView:E,children:C}=m;const{push:T,replace:I}=(0,e.useNavigation)(),{pathname:y}=(0,e.useLocation)();return(0,c.useEffect)(()=>{u&&E()},[u,E]),c.default.createElement(c.default.Fragment,null,c.default.createElement(n.Text.Body,{color:"white",m:0},C??(p==="/"?c.default.createElement(i.T,{project:"guidance-engine"},"Congrats! You've completed the tour. Stay here or return to Home."):c.default.createElement(i.T,{notes:"This tooltip text explains that a user has completed the tutorial they were looking at.",project:"guidance-engine"},"Congrats! You've completed the tour. Stay here or return to the Setup Guide."))),c.default.createElement(n.Flex,{alignItems:"center",mt:2},c.default.createElement(n.Box,null,c.default.createElement(n.Button.Secondary,{mr:2,size:"small",sx:l,onClick:g},c.default.createElement(i.T,{notes:"Click this button to close the tutorial tooltip and stay on the current page.",project:"guidance-engine"},"Stay here"))),c.default.createElement(n.Box,null,c.default.createElement(n.Button.Primary,{animationBackgroundColor:"blue.500",backgroundColor:"blue.400",color:"white",size:"small",onClick:()=>{v(),T(p),y==="/site-styles"&&I(p)}},p==="/"?c.default.createElement(i.T,{project:"guidance-engine"},"Back to Home"):c.default.createElement(i.T,{notes:"Click this button to return to the Setup Guide page, which has tutorials on how to use Squarespace.",project:"guidance-engine"},"Back to Setup Guide")))))};var f=o.default=d;P.exports=o.default},79171:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=f;var r=t(488475),e=t(778008),c=t(436700),i=t(352635),a=t(451846),s=n(t(174161)),l=t(770748);const d=-5;function f(m){let{isVisible:u,onClick:p}=m;const{space:g}=(0,c.useTheme)(),v=d-parseInt(g[1]??"6px");return s.default.createElement(e.Flex,{"aria-hidden":!u,"aria-label":(0,l.t)("Close",null,{project:"guidance-engine"}),backgroundColor:"gray.950",borderRadius:"50%","data-testid":"close-button",sx:{visibility:u?"visible":"hidden",position:"absolute",top:`${d}px`,right:`${d}px`,cursor:"pointer","&:hover":{p:1,top:`${v}px`,right:`${v}px`,backgroundColor:"gray.800"},"&:focus-visible":{outlineStyle:"solid",outlineColor:"gray.100",outlineWidth:"2px",outlineOffset:"2px"}},tabIndex:0,transitionDuration:"200",transitionProperty:"visibility",transitionTimingFunction:i.easing.product.default,onClick:p,onKeyDown:(0,a.handleEnterKeyDown)(p)},s.default.createElement(r.CrossSmall,{color:"blue.400"}))}P.exports=o.default},405099:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BUBBLE_TEST_ID=void 0;var r=t(488475),e=t(778008),c=t(451846),i=f(t(174161)),a=t(669133),s=t(184913),l=n(t(79171));function d(v){if(typeof WeakMap!="function")return null;var E=new WeakMap,C=new WeakMap;return(d=function(T){return T?C:E})(v)}function f(v,E){if(!E&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var C=d(E);if(C&&C.has(v))return C.get(v);var T={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in v)if(y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)){var b=I?Object.getOwnPropertyDescriptor(v,y):null;b&&(b.get||b.set)?Object.defineProperty(T,y,b):T[y]=v[y]}return T.default=v,C&&C.set(v,T),T}const m=o.BUBBLE_TEST_ID="guidance-engine-bubble",u={transitionDuration:a.TransitionDuration,transitionProperty:"background-color",transitionTimingFunction:a.TransitionTiming},p=(0,i.forwardRef)((v,E)=>{let{bubbleRef:C,isOpen:T,onBlur:I,onClick:y,onClose:b,onFocus:D,onMouseEnter:j,onMouseLeave:U}=v;const[R,L]=(0,i.useState)(!1),x=(0,c.usePrefersReducedMotion)();return i.default.createElement(e.Flex,{flexDirection:"column",ref:E,onBlur:()=>{L(!1),I==null||I()},onFocus:()=>{L(!0),D==null||D()},onMouseEnter:()=>{L(!0),j==null||j()},onMouseLeave:()=>{L(!1),U==null||U()}},i.default.createElement(e.Flex,{[s.FOCUS_DATA_ATTRIBUTE_BUBBLE]:!0,alignItems:"center",backgroundColor:T?"gray.950":"blue.400",borderRadius:"50%",boxShadow:"300","data-testid":m,height:"sizes.300",justifyContent:"center",ref:C,sx:{position:"relative",cursor:"pointer","&:focus-visible":{outlineStyle:"solid",outlineColor:"gray.100",outlineWidth:"2px",outlineOffset:"2px"},...x?{}:u},tabIndex:0,width:"sizes.300",onClick:y,onKeyDown:(0,c.handleEnterKeyDown)(y)},i.default.createElement(l.default,{isVisible:!T&&R,onClick:b}),i.default.createElement(r.SetupGuide,{color:T?"blue.400":"white",sx:{height:"27px",width:"27px",mb:"2px",ml:"2px",...u}})))});var g=o.default=p},696490:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(526974),e=t(778008),c=t(923842),i=k(t(174161)),a=n(t(903326)),s=n(t(786442)),l=n(t(986830)),d=t(419652),f=n(t(374222)),m=t(664047),u=t(798521),p=t(479097),g=n(t(804641)),v=t(713745),E=t(184913),C=t(770748),T=n(t(883303)),I=t(689242),y=n(t(204295)),b=n(t(405099)),D=t(778911),j=t(685009),U=n(t(286416)),R=n(t(612686)),L=t(602518),x=t(669133);function G(ee){if(typeof WeakMap!="function")return null;var de=new WeakMap,re=new WeakMap;return(G=function(Ee){return Ee?re:de})(ee)}function k(ee,de){if(!de&&ee&&ee.__esModule)return ee;if(ee===null||typeof ee!="object"&&typeof ee!="function")return{default:ee};var re=G(de);if(re&&re.has(ee))return re.get(ee);var Ee={__proto__:null},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in ee)if(z!=="default"&&Object.prototype.hasOwnProperty.call(ee,z)){var be=Te?Object.getOwnPropertyDescriptor(ee,z):null;be&&(be.get||be.set)?Object.defineProperty(Ee,z,be):Ee[z]=ee[z]}return Ee.default=ee,re&&re.set(ee,Ee),Ee}const V=parseInt(x.TransitionDuration),$=ee=>{var de,re;let{isEditingSite:Ee,setupGuideRoute:Te}=ee;const{guidance:z,gotoGuidanceStep:be,clearGuidance:me,isFallbackNeeded:ne,activeGuide:Ce,recheckIsFallbackNeeded:Ae}=(0,l.default)(),Xe=!!z,Ne=(0,i.useRef)(null),st=(0,i.useRef)(null),[ze,we]=(0,i.useState)(Xe),[Ke,se]=(0,i.useState)(!1),[Oe,ye]=(0,i.useState)(!0),[ct,at]=(0,i.useState)(!1),[,Ct]=(0,i.useState)(!1),[lt,Lt]=(0,i.useState)(!1),[At,Yt]=(0,i.useState)(null),xe=ne?z==null||(de=z.fallback)===null||de===void 0?void 0:de.spotlightTourSteps:z==null?void 0:z.spotlightTourSteps,{isTouring:tt,setIsTouring:F,spotlightTourStepIndex:ie,setSpotlightTourStepIndex:Ze,resetTour:Ue,spotlightTargets:Le,spotlightDelay:_e,getScrollContainer:He}=(0,p.useSpotlight)({spotlightTourSteps:xe,currentGuidanceStep:(z==null?void 0:z.activeGuidanceStepId)??0,isFallbackNeeded:ne,isBubbleOpen:ze,isSpotlightOnlyStep:z==null?void 0:z.isSpotlightOnlyStep,isShowingBackToSetupGuideStep:Ke}),oe=z!=null&&z.guidanceStepShowsBackToSetupGuide?z.description:void 0,ce=(0,i.useCallback)(()=>{setTimeout(()=>{Ue()},V)},[Ue]),Q=(0,i.useCallback)(()=>{we(!1),Ae()},[Ae,we]),fe=(0,i.useCallback)(()=>{Ae(),we(!0),(0,I.setRegisteredTimeout)(()=>{(0,E.focusOnBubble)()},m.GUIDANCE_ANIMATION_DURATION_MS)},[Ae,we]),{onUserClicksContextualGuidanceBubbleCTA:le,onUserClicksScreenDuringTour:Re,onUserClosesContextualGuidanceBubbleTip:Me,onUserDismissesContextualGuidanceBubble:dt,onUserMovesContextualGuidanceBubble:pt,onUserNavigatesInContextualGuidanceBubble:yt,onUserOpensContextualGuidanceBubble:Qt,onUserViewsBubbleImprovementsEndOfTour:tn,onUserViewsContextualGuidanceBubble:Nn,onUserViewsContextualGuidanceBubbleTip:Vn,onUserViewsContextualGuidanceTourStep:Hn}=(0,T.default)({guidance:z,guideType:Ce,isTouring:tt,spotlightTourStepIndex:ie,isFallback:ne}),Ft=z==null?void 0:z.activeGuidanceStepId,_n=!!(z&&Ft!==void 0&&Ft===0),vn=!!(z&&Ft!==void 0&&Ft===z.totalSteps-1),jn=(0,i.useRef)(),Qe=z==null||(re=z.spotlightTourSteps)===null||re===void 0?void 0:re[ie],[We,Ye]=(0,i.useState)(!1);(0,i.useEffect)(()=>{var it;let ht;return z!=null&&(it=z.elementsToFindBeforeShowingGuidance)!==null&&it!==void 0&&it.length?ht=(0,I.performFunctionWhenElementsFound)({selectorsToFind:z.elementsToFindBeforeShowingGuidance,functionToRun:()=>{Ye(!0)}}):Ye(!0),()=>clearTimeout(ht)},[z==null?void 0:z.elementsToFindBeforeShowingGuidance]);const{reportSpotlightError:Je}=(0,u.useReportSpotlightError)({guidanceStepIndex:(z==null?void 0:z.activeGuidanceStepId)??0,isFallback:ne,isTouring:tt,spotlightTourStepIndex:ie}),ot=(0,i.useMemo)(()=>({closeTooltip:Q,openTooltip:fe,clearGuidance:me,goToNextStep:()=>{typeof Ft=="number"&&be(Ft+1)},goToPreviousStep:()=>{typeof Ft=="number"&&be(Ft-1)},gotoGuidanceStep:be,resetTour:ce,setIsBubbleReady:Ye,setShouldBlockUserClicks:at,setTemporaryStyle:Yt,clearTemporaryStyle:()=>{Yt(null)},reportSpotlightError:Je}),[Q,fe,ce,Ft,be,me,Je]),qe=(0,i.useMemo)(()=>({isFirstRender:Oe,isFallbackNeeded:ne}),[Oe,ne]);(0,s.default)({guidance:z,spotlightTourStepIndex:ie,guidanceContext:qe,guidanceFunctionality:ot}),(0,i.useEffect)(()=>{const it=typeof Ft=="number",ht=jn.current!==Ft;if(it&&ht){var It;z!=null&&z.isSpotlightOnlyStep&&F(!0),z==null||(It=z.onArriveAtStep)===null||It===void 0||It.call(z,{guidanceFunctionality:ot,guidanceContext:qe})}},[Ft,z,qe,ot,F]),(0,i.useEffect)(()=>{if(tt){var it;Qe==null||(it=Qe.onChangeSpotlightStep)===null||it===void 0||it.call(Qe,{guidanceFunctionality:ot,guidanceContext:qe})}},[tt,qe,ot,Qe]),(0,i.useEffect)(()=>{_n&&z!==null&&z!==void 0&&z.type&&(z==null?void 0:z.taskCompletionTrigger)===d.TaskCompletionTrigger.START?(0,r.broadcastGuidanceTaskCompletion)({taskType:z.type}):vn&&z!==null&&z!==void 0&&z.type&&xe===void 0&&(z==null?void 0:z.taskCompletionTrigger)===d.TaskCompletionTrigger.END&&(0,r.broadcastGuidanceTaskCompletion)({taskType:z.type})},[z==null?void 0:z.type,_n,vn,xe,z==null?void 0:z.taskCompletionTrigger,ie]);const nt=(0,i.useRef)(!1);(0,i.useEffect)(()=>{(z==null?void 0:z.type)&&!Ee&&nt.current&&me(),Ee&&(nt.current=!0)},[z==null?void 0:z.type,be,Ee,me]),(0,v.useEscapeHandler)(Q,ze),(0,i.useEffect)(()=>{Nn()},[Nn]);const ut=(0,i.useCallback)(()=>{Ct(it=>!it)},[Ct]),mt=(0,i.useCallback)(()=>{if(!Ne.current)return;const{top:it,left:ht}=Ne.current.getBoundingClientRect();pt({xPosition:Number((ht/window.innerWidth).toFixed(2)),yPosition:Number((it/window.innerHeight).toFixed(2))})},[pt]),Ut=[...(z==null?void 0:z.nextStepTriggers)??[],...(z==null?void 0:z.previousStepTriggers)??[],...(z==null?void 0:z.numberedStepTriggers)??[]],Tt=(0,i.useCallback)(it=>{const ht=it.target,It=document.querySelector(m.SPOTLIGHT_SELECTOR);if(ht===It){Re("scrim");return}Re("highlight"),(z==null?void 0:z.spotlightTourSteps)&&ie===z.spotlightTourSteps.length-1?z.spotlightTourShowsBackToSetupGuide?(se(!0),F(!1)):(Q(),ce()):Ze(ie+1)},[z==null?void 0:z.spotlightTourSteps,z==null?void 0:z.spotlightTourShowsBackToSetupGuide,ie,Re,Ze,F,Q,ce]),jt=(0,i.useCallback)(it=>{!!it.target.getAttribute(m.STEP_CHANGE_TRIGGER_ATTRIBUTE)?Ue():Q()},[Ue,Q]);return(0,i.useEffect)(()=>{jn.current=Ft},[Ft]),z&&We?i.default.createElement(c.ZIndexStack,null,it=>{var ht,It;return i.default.createElement(j.GuidanceBubbleFocusLock,{isTouring:tt},i.default.createElement(e.Box,{position:"fixed",zIndex:it},i.default.createElement(L.Fade,{duration:m.GUIDANCE_ANIMATION_DURATION_MS,shouldFadeIn:ze&&tt&&!!Le},i.default.createElement(f.default,{allowInteractionWithHighlightedElements:Qe==null?void 0:Qe.allowInteractionWithHighlightedElements,delay:_e,getScrollContainer:He,guidanceStepChangeTriggers:Ut,spotlightTargets:Le??[],onClick:bt=>{(Qe==null?void 0:Qe.allowInteractionWithHighlightedElements)?jt(bt):Tt(bt)}})),i.default.createElement(a.default,{isVisible:!0,delay:750,isHandleVisible:lt,startingPosition:z==null?void 0:z.startingPosition,onManualPositionChanged:mt,onMove:ut,onVisibleTransitionEnd:()=>{Oe&&ye(!1)}},i.default.createElement(b.default,{bubbleRef:st,isOpen:!Oe&&ze,ref:Ne,onBlur:()=>Lt(!1),onClick:()=>{Ae(),we(bt=>{if(bt)Me("bubble");else{var Ot;(Ot=z.onReopenGuidance)===null||Ot===void 0||Ot.call(z),Qt()}return!bt})},onClose:()=>{me(),dt()},onFocus:()=>Lt(!0),onMouseEnter:()=>Lt(!0),onMouseLeave:()=>Lt(!1)})),i.default.createElement(R.default,{anchor:Ne.current,isOpen:!Oe&&ze,onRequestClose:()=>{var bt;Q(),Me("x"),(bt=st.current)===null||bt===void 0||bt.focus()}},Ke||z.guidanceStepShowsBackToSetupGuide?i.default.createElement(y.default,{isVisible:ze,setupGuideRoute:Te,onCancel:()=>{Q(),le("stay_here")},onClick:()=>le("back_to_setup_guide"),onView:tn},oe):tt&&xe?i.default.createElement(e.Box,{color:"white"},i.default.createElement(g.default,{isVisible:ze,spotlightTourStep:ie,spotlightTourSteps:xe,onChange:bt=>{let{slideIndex:Ot,clickedButton:nn,isNavigatingForward:Ht}=bt;Ze(Ot),yt({clickedButton:nn,isNavigatingForward:Ht})},onComplete:vn?()=>{z!=null&&z.spotlightTourShowsBackToSetupGuide?(se(!0),F(!1)):(Q(),ce()),z.taskCompletionTrigger===d.TaskCompletionTrigger.END&&(0,r.broadcastGuidanceTaskCompletion)({taskType:z.type}),le("check")}:void 0,onExitTour:ce,onView:Hn})):i.default.createElement(U.default,{helpLinkUrl:(ht=z.fallback)===null||ht===void 0?void 0:ht.helpLinkUrl,isFallbackNeeded:ne,isTourAvailable:!!xe,isVisible:ze,stepCopy:(0,C.t)("{userFacingStepNumber} of {userFacingTotalStepNumber}",{userFacingStepNumber:z.activeGuidanceStepId+1,userFacingTotalStepNumber:z.totalSteps},{project:"guidance-engine"}),tipCopy:ne?(It=z.fallback)===null||It===void 0?void 0:It.message:z.description,onClickHelpLink:()=>{le("learn_more")},onShowTour:()=>{F(!0),le("show_me")},onView:Vn}))),ct&&i.default.createElement(D.ClickBlocker,{zIndex:it+1}),tt&&z.functionalStylesDuringSpotlightTour&&i.default.createElement("style",null,z.functionalStylesDuringSpotlightTour),At&&i.default.createElement("style",null,At))}):null};var J=o.default=$;P.exports=o.default},778911:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.ClickBlocker=void 0;var r=t(778008),e=n(t(174161));const c=i=>{let{zIndex:a}=i;return e.default.createElement(r.Box,{style:{zIndex:a},sx:{position:"fixed",width:"100vw",height:"100vh",left:"0px",top:"0px"}})};o.ClickBlocker=c},548484:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.fadeInDirectionStyles=o.defaultTransitionStyles=o.defaultPreFadeStyles=o.FadeInDirection=void 0;var n=t(352635);let r=o.FadeInDirection=function(a){return a.LEFT="left",a.RIGHT="right",a}({});const e=o.defaultPreFadeStyles={transitionTimingFunction:n.easing.product.default,opacity:0},c=o.defaultTransitionStyles={entering:{opacity:0},entered:{opacity:1}},i=o.fadeInDirectionStyles={[r.LEFT]:{entering:{opacity:0,transform:"translateX(-100%)",transitionTimingFunction:n.easing.product.entrance},entered:{opacity:1,transform:"translateX(0)",transitionTimingFunction:n.easing.product.entrance},exiting:{opacity:1,transform:"translateX(100%)",transitionTimingFunction:n.easing.product.exit},exited:{opacity:0,transform:"translateX(0)",transitionTimingFunction:n.easing.product.exit}},[r.RIGHT]:{entering:{opacity:0,transform:"translateX(100%)",transitionTimingFunction:n.easing.product.entrance},entered:{opacity:1,transform:"translateX(0)",transitionTimingFunction:n.easing.product.entrance},exiting:{opacity:1,transform:"translateX(-100%)",transitionTimingFunction:n.easing.product.exit},exited:{opacity:0,transform:"translateX(0)",transitionTimingFunction:n.easing.product.exit}}}},602518:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.Fade=void 0;var r=t(778008),e=t(451846),c=n(t(174161)),i=t(56667),a=t(669133),s=t(548484);const l=d=>{let{disableAnimation:f,duration:m=parseInt(a.TransitionDuration),fadeInDirection:u,shouldFadeIn:p,onEntered:g,shouldKeepElementsInDom:v,children:E}=d;const C=(0,e.usePrefersReducedMotion)();return c.default.createElement(i.Transition,{appear:!0,in:p,mountOnEnter:!v,timeout:C?0:m,unmountOnExit:!v,onEntered:g},T=>c.default.createElement(r.Box,{style:{...!f&&!C?{...s.defaultPreFadeStyles,transitionDuration:`${m}ms`,...s.defaultTransitionStyles[T],...u?s.fadeInDirectionStyles[u][T]:{}}:{}},transitionProperty:"transform, opacity"},E))};o.Fade=l},685009:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.GuidanceBubbleFocusLock=void 0;var r=n(t(174161)),e=n(t(217169)),c=t(184913);const i=a=>{let{isTouring:s,children:l}=a;return(0,c.useFocusLockOrdering)({isTouring:s}),r.default.createElement(e.default,{disabled:!s},l)};o.GuidanceBubbleFocusLock=i},286416:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(670563),r=t(778008),e=a(t(174161)),c=t(770748);function i(d){if(typeof WeakMap!="function")return null;var f=new WeakMap,m=new WeakMap;return(i=function(u){return u?m:f})(d)}function a(d,f){if(!f&&d&&d.__esModule)return d;if(d===null||typeof d!="object"&&typeof d!="function")return{default:d};var m=i(f);if(m&&m.has(d))return m.get(d);var u={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in d)if(g!=="default"&&Object.prototype.hasOwnProperty.call(d,g)){var v=p?Object.getOwnPropertyDescriptor(d,g):null;v&&(v.get||v.set)?Object.defineProperty(u,g,v):u[g]=d[g]}return u.default=d,m&&m.set(d,u),u}const s=d=>{let{helpLinkUrl:f,isFallbackNeeded:m,isTourAvailable:u,isVisible:p,stepCopy:g,tipCopy:v,onClickHelpLink:E,onShowTour:C,onView:T}=d;return(0,e.useEffect)(()=>{p&&T()},[p,T]),e.default.createElement(e.default.Fragment,null,e.default.createElement(r.Text.Body,{color:"white",fontWeight:"medium",m:0},v,m&&f&&e.default.createElement(e.default.Fragment,null," ",e.default.createElement(n.TextLink,{href:f,style:{color:"white"},target:"_blank",onClick:E},e.default.createElement(c.T,{notes:"Click this link to read a Squarespace help article.",project:"guidance-engine"},"Learn more")))),e.default.createElement(r.Flex,{alignItems:"center",justifyContent:"space-between",mt:2},e.default.createElement(r.Box,null,!m&&e.default.createElement(r.Text.Caption,{color:"gray.600",fontWeight:"medium",textTransform:"uppercase"},g)),e.default.createElement(r.Box,null,u&&e.default.createElement(r.Button.Primary,{animationBackgroundColor:"blue.500",backgroundColor:"blue.400",color:"white",size:"small",onClick:()=>{C()}},e.default.createElement(c.T,{notes:"Click this button to show a guided tutorial.",project:"guidance-engine"},"Show me")))))};var l=o.default=s;P.exports=o.default},161998:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(670563),c=t(436700),i=s(t(174161));function a(m){if(typeof WeakMap!="function")return null;var u=new WeakMap,p=new WeakMap;return(a=function(g){return g?p:u})(m)}function s(m,u){if(!u&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var p=a(u);if(p&&p.has(m))return p.get(m);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in m)if(E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)){var C=v?Object.getOwnPropertyDescriptor(m,E):null;C&&(C.get||C.set)?Object.defineProperty(g,E,C):g[E]=m[E]}return g.default=m,p&&p.set(m,g),g}const l=10,d=m=>{var u;let{anchor:p,bodyHeight:g,isOpen:v,style:E={},...C}=m;const{colors:T}=(0,c.useTheme)(),I=(0,i.useRef)(null);if(!p)return null;const y=p.getBoundingClientRect().top,b=(u=I.current)===null||u===void 0?void 0:u.getBoundingClientRect().top,D=b&&b>y?"up":"down";return i.default.createElement(e.PopOver,(0,r.default)({anchor:p,arrowStyles:{width:0,height:0,transform:`translate(0, ${D==="up"?-l-3:l+3}px)`,backgroundColor:"transparent",borderLeft:`${l}px solid transparent`,borderRight:`${l}px solid transparent`,borderTop:D==="up"?`${l}px solid transparent`:`${l}px solid ${T.gray[100]}`,borderBottom:D==="up"?`${l}px solid ${T.gray[100]}`:`${l}px solid transparent`,boxShadow:"none"},bodyStyles:{height:g,visibility:"hidden"},isOpen:!0,style:{...E,boxShadow:"none",width:31,maxWidth:"100%",pointerEvents:"none"}},C),i.default.createElement("span",{ref:I}))};var f=o.default=d;P.exports=o.default},954016:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(670563),c=t(465006),i=t(778008),a=t(451846),s=u(t(174161)),l=n(t(986830)),d=t(184913),f=t(770748);function m(E){if(typeof WeakMap!="function")return null;var C=new WeakMap,T=new WeakMap;return(m=function(I){return I?T:C})(E)}function u(E,C){if(!C&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var T=m(C);if(T&&T.has(E))return T.get(E);var I={__proto__:null},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in E)if(b!=="default"&&Object.prototype.hasOwnProperty.call(E,b)){var D=y?Object.getOwnPropertyDescriptor(E,b):null;D&&(D.get||D.set)?Object.defineProperty(I,b,D):I[b]=E[b]}return I.default=E,T&&T.set(E,I),I}const p=s.default.createElement(f.T,{project:"guidance-engine"},"Setup Guide"),g=E=>{let{anchor:C,isOpen:T,style:I={},onBodyHeightChange:y,onRequestClose:b,children:D,...j}=E;const U=(0,s.useRef)(null),{guidance:R}=(0,l.default)();return(0,s.useEffect)(()=>{U.current&&(y==null||y(U.current.getBoundingClientRect().height))},[T,y]),C?s.default.createElement(e.PopOver,(0,r.default)({anchor:C,hideArrow:!0,isOpen:!0,style:{boxShadow:"0px 6px 24px 0px rgba(255, 255, 255, 0.12), 0px 0px 1px 0px rgba(255, 255, 255, 0.08)",width:311,maxWidth:"100%",...I}},j),s.default.createElement(i.Box,{[d.FOCUS_DATA_ATTRIBUTE_TOOLTIP_BODY]:!0,backgroundColor:"gray.100",p:3,ref:U},s.default.createElement(i.Flex,{alignItems:"center",justifyContent:"space-between",mb:2},s.default.createElement(i.Flex,{alignItems:"center",color:"white"},s.default.createElement(c.SetupGuide,{color:"inherit"}),s.default.createElement(i.Text.Label,{className:"fs-unmask",color:"inherit",ml:1},(R==null?void 0:R.title)??p)),s.default.createElement(c.Cross,{"aria-label":(0,f.t)("Close tooltip",null,{project:"guidance-engine"}),color:"gray.600","data-testid":"close-button",sx:{cursor:"pointer"},tabIndex:0,onClick:b,onKeyDown:(0,a.handleEnterKeyDown)(b)})),D)):null};var v=o.default=g;P.exports=o.default},612686:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(436700),c=d(t(174161)),i=t(669133),a=n(t(161998)),s=n(t(954016));function l(u){if(typeof WeakMap!="function")return null;var p=new WeakMap,g=new WeakMap;return(l=function(v){return v?g:p})(u)}function d(u,p){if(!p&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var g=l(p);if(g&&g.has(u))return g.get(u);var v={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in u)if(C!=="default"&&Object.prototype.hasOwnProperty.call(u,C)){var T=E?Object.getOwnPropertyDescriptor(u,C):null;T&&(T.get||T.set)?Object.defineProperty(v,C,T):v[C]=u[C]}return v.default=u,g&&g.set(u,v),v}const f=u=>{let{anchor:p,isOpen:g,onRequestClose:v,children:E}=u;const[C,T]=(0,c.useState)(),{space:I}=(0,e.useTheme)();if(!p)return null;const y={anchor:p,anchorPoint:{x:"center",y:"top"},constrainToScreen:{offset:parseInt(I[6]??"33px")},isOpen:g,position:"top",recalculateAnchorOnScroll:!0,scrollNode:p.ownerDocument.body,style:{opacity:g?1:0,pointerEvents:g?"auto":"none",transitionDuration:i.TransitionDuration,transitionProperty:"opacity",transitionTimingFunction:i.TransitionTiming}};return c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,(0,r.default)({onBodyHeightChange:T,onRequestClose:v},y),E),c.default.createElement(a.default,(0,r.default)({bodyHeight:C},y)))};var m=o.default=f;P.exports=o.default},260979:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.hideAllModals=i,o.hideEditorModals=c,o.hideSectionCatalog=e;var n=t(661454),r=t(926492);function e(){const a=(0,r.findFirstElementSync)({anchorSelector:n.SiteEditorElementSelectors.sectionCatalogOverlay,frameSelector:n.SiteEditorElementSelectors.siteFrame});a&&a.click()}function c(){const a=(0,r.findFirstElementSync)({anchorSelector:n.GenericSelectors.body,frameSelector:n.SiteEditorElementSelectors.siteFrame});a&&a.click()}function i(){e(),c()}},669133:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TransitionTiming=o.TransitionDuration=void 0;var n=t(352635);const r=o.TransitionDuration=n.time[300]??"300ms",e=o.TransitionTiming=n.easing.product.default},870435:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=a;var r=n(t(174161)),e=n(t(986830)),c=t(938044),i=n(t(696490));function a(s){let{isEditingSite:l,setupGuideRoute:d}=s;const{guidance:f}=(0,e.default)();return f?r.default.createElement(c.ErrorBoundary,{errorContents:null},r.default.createElement("div",{"data-testid":"ContextualGuidanceWrapper"},r.default.createElement(i.default,{isEditingSite:l,setupGuideRoute:d}))):null}P.exports=o.default},903326:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(670563),r=t(465006),e=t(488475),c=t(778008),i=t(451846),a=m(t(174161)),s=t(669133),l=t(184913),d=t(810838);function f(C){if(typeof WeakMap!="function")return null;var T=new WeakMap,I=new WeakMap;return(f=function(y){return y?I:T})(C)}function m(C,T){if(!T&&C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var I=f(T);if(I&&I.has(C))return I.get(C);var y={__proto__:null},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in C)if(D!=="default"&&Object.prototype.hasOwnProperty.call(C,D)){var j=b?Object.getOwnPropertyDescriptor(C,D):null;j&&(j.get||j.set)?Object.defineProperty(y,D,j):y[D]=C[D]}return y.default=C,I&&I.set(C,y),y}const u={backgroundColor:"transparent",boxShadow:"none",pointerEvents:"auto"},p={lockFocus:!1,sx:{pointerEvents:"none"}};var g=function(C){return C.HANDLE="handle",C.CHILD="child",C}(g||{});const v=C=>{let{delay:T=0,isVisible:I,isHandleVisible:y,startingPosition:b,onManualPositionChanged:D,onMove:j,onVisibleTransitionEnd:U,children:R}=C;const[L,x]=(0,a.useState)(),[G,k]=(0,a.useState)(!1),[V,$]=(0,a.useState)(!1),[J,ee]=(0,a.useState)(!1),[de,re]=(0,a.useState)(!1),[Ee,Te]=(0,a.useState)(!1),[z,be]=(0,a.useState)(null),[me,ne]=(0,a.useState)(!1),Ce=(0,a.useRef)(),Ae=Ee&&z===g.HANDLE,Xe=L||{x:window.innerWidth,y:window.innerHeight},Ne=(0,a.useCallback)((we,Ke)=>{let{x:se,y:Oe}=we;const{innerHeight:ye,innerWidth:ct}=window,at=(L==null?void 0:L.x)??ct,Ct=(L==null?void 0:L.y)??ye,lt=1e-4;Ke&&(k(!0),$(!0)),x({x:se===at?se-lt:se,y:Oe===Ct?Oe-lt:Oe})},[L]),st=we=>{if(!de||!Ce.current)return;const{innerHeight:Ke,innerWidth:se}=window,{height:Oe,width:ye,top:ct,left:at}=Ce.current.getBoundingClientRect(),Ct=at+ye/2<se/2,lt=ct+Oe/2<Ke/2,Lt=Ct?ye:se,At=lt?Oe:Ke;i.Keyboard.isArrowLeftKey(we)?Ne({x:ye,y:At},!0):i.Keyboard.isArrowRightKey(we)?Ne({x:se,y:At},!0):i.Keyboard.isArrowUpKey(we)?Ne({x:Lt,y:Oe},!0):i.Keyboard.isArrowDownKey(we)&&Ne({x:Lt,y:Ke},!0)},ze=(0,a.useCallback)(()=>{be(null),Ee&&(Te(!1),$(!0),D==null||D())},[Ee,D]);return(0,a.useEffect)(()=>(window.addEventListener("mouseup",ze),()=>window.removeEventListener("mouseup",ze)),[ze]),(0,a.useEffect)(()=>{const we=setTimeout(()=>{ne(!0)},T);return()=>clearTimeout(we)},[T]),(0,a.useEffect)(()=>{var we,Ke;if(!b||V)return;const{innerHeight:se,innerWidth:Oe}=window,ye=(Ce==null||(we=Ce.current)===null||we===void 0?void 0:we.getBoundingClientRect().height)??0,ct=(Ce==null||(Ke=Ce.current)===null||Ke===void 0?void 0:Ke.getBoundingClientRect().width)??0;switch(b){case d.PositionPoints.TOP_LEFT:Ne({x:ct,y:ye});break;case d.PositionPoints.TOP_RIGHT:Ne({x:Oe,y:ye});break;case d.PositionPoints.BOTTOM_RIGHT:Ne({x:Oe,y:se});break;case d.PositionPoints.BOTTOM_LEFT:Ne({x:ct,y:se});break;default:Ne(b);break}},[b]),(0,a.useEffect)(()=>{L&&(j==null||j(),G&&(D==null||D(),k(!1)))},[L]),me?a.default.createElement(n.Modal.Transition,{duration:parseInt(s.TransitionDuration),onTransitionEnd:U},I&&a.default.createElement(n.Modal,p,a.default.createElement(n.Modal.Position,{draggable:!0,position:Xe,shouldClearDragTranslateOnPositionChange:!0,shouldFollowPosition:!0,onDrag:()=>{Te(!0),j==null||j()}},a.default.createElement(n.Modal.Dialog,{sx:u},a.default.createElement(c.Flex,{alignItems:"center",p:6,ref:Ce},a.default.createElement(n.Modal.Position.DragHandle,{style:{display:"flex",opacity:y||J||de||Ee?1:0,zIndex:1}},a.default.createElement(c.Flex,{[l.FOCUS_DATA_ATTRIBUTE_BUBBLE_DRAG_HANDLE]:!0,borderRadius:"50%",boxShadow:"300",sx:{backgroundColor:Ae?"gray.800":"gray.950",position:"relative",cursor:"grab",m:Ae?0:1,p:Ae?1:0,"&:hover":{m:0,p:1,backgroundColor:"gray.800"},"&:focus-visible":{outlineStyle:"solid",outlineColor:"gray.100",outlineWidth:"2px",outlineOffset:"2px"}},tabIndex:0,onBlur:()=>re(!1),onFocus:()=>re(!0),onKeyDown:st,onMouseDown:we=>{be(g.HANDLE),we.preventDefault()},onMouseEnter:()=>ee(!0),onMouseLeave:()=>ee(!1)},de&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Flex,{justifyContent:"center",sx:{position:"absolute",width:"100%",top:"-16px",left:0}},a.default.createElement(r.ChevronUp,null)),a.default.createElement(c.Flex,{justifyContent:"center",sx:{position:"absolute",width:"100%",top:"100%",left:0}},a.default.createElement(r.ChevronDown,null)),a.default.createElement(c.Flex,{justifyContent:"center",sx:{position:"absolute",width:"100%",top:"calc(50% - 8px)",left:"calc(-50% - 8px)"}},a.default.createElement(r.ChevronLeft,null)),a.default.createElement(c.Flex,{justifyContent:"center",sx:{position:"absolute",width:"100%",top:"calc(50% - 8px)",left:"calc(50% + 8px)"}},a.default.createElement(r.ChevronRight,null))),a.default.createElement(e.Drag,{color:"blue.400"}))),a.default.createElement(n.Modal.Position.DragHandle,null,a.default.createElement(c.Box,{onMouseDown:()=>be(g.CHILD)},R))))))):null};var E=o.default=v;P.exports=o.default},330420:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(272796);Object.keys(n).forEach(function(e){e==="default"||e==="__esModule"||e in o&&o[e]===n[e]||Object.defineProperty(o,e,{enumerable:!0,get:function(){return n[e]}})});var r=t(342558);Object.keys(r).forEach(function(e){e==="default"||e==="__esModule"||e in o&&o[e]===r[e]||Object.defineProperty(o,e,{enumerable:!0,get:function(){return r[e]}})})},272796:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.blockPencilClicksDuringHeaderTour=o.attachNextStepListenersToCatalog=void 0,o.ensureHeaderEditorIsOpenThenRunFn=p,o.openEditMode=o.openContactCategoryInSectionCatalog=o.hideHeaderEditorButtons=void 0,t(392338);var n=t(661454),r=t(664047),e=t(926492),c=t(689242),i=t(755499),a=t(501135);const s=r.BUBBLE_AND_SPOTLIGHT_ENTRY_DURATION_MS+r.SECTION_UI_ENTRY_ANIMATION_DURATION_MS,l=o.openContactCategoryInSectionCatalog=a.addSectionClicks.map(g=>({event:g,callback:()=>{var v;const E=(v=document.querySelector(n.SiteEditorElementSelectors.siteFrame))===null||v===void 0?void 0:v.contentDocument;(0,i.runOnNextRenderFrame)(()=>{const C=E==null?void 0:E.querySelector(n.SiteEditorElementSelectors.sectionCatalogContactCategory);C==null||C.click()})}})),d=o.attachNextStepListenersToCatalog=a.addSectionClicks.map(g=>{const{abort:v,signal:E}=new AbortController;return{event:g,callback:C=>{let{guidanceFunctionality:T}=C;(0,i.runOnNextRenderFrame)(()=>{const I=(0,e.findFirstElementSync)({anchorSelector:n.SiteEditorElementSelectors.sectionCatalog,frameSelector:n.SiteEditorElementSelectors.siteFrame}),y=b=>{(0,e.findElementsSync)({anchorSelector:n.SiteEditorElementSelectors.catalogEntryClickTarget,frameSelector:n.SiteEditorElementSelectors.siteFrame}).includes(b)&&(T.goToNextStep(),v())};I==null||I.addEventListener("click",b=>{y(b.target)},{signal:E}),I==null||I.addEventListener("keydown",b=>{if(b.key==="Enter"){const j=b.target.querySelector(n.SiteEditorElementSelectors.catalogEntryClickTarget);j&&y(j)}},{signal:E})})}}}),f=g=>{let{guidanceFunctionality:v}=g;v.setShouldBlockUserClicks(!0),v.closeTooltip();const E=document.querySelector(n.SiteEditorElementSelectors.editSite);E==null||E.click(),(0,c.performFunctionWhenElementsFound)({selectorsToFind:[{anchorSelector:n.SiteEditorElementSelectors.addSectionButton}],functionToRun:()=>{v.openTooltip(),setTimeout(()=>{v.setShouldBlockUserClicks(!1)},s)},onElementsNotFound:()=>{v.setShouldBlockUserClicks(!1)}})};o.openEditMode=f;const m=o.hideHeaderEditorButtons=`
  :has(> ${n.SiteHeaderElementSelectors.headerAddElementsButton}),
  :has(> ${n.SiteHeaderElementSelectors.headerEditDesign}) {
    opacity: 0 !important;
    transition: opacity 0s !important;
  }
`,u=o.blockPencilClicksDuringHeaderTour=`
  ${n.GenericSelectors.menuRole}:has(${n.SiteHeaderElementSelectors.pencilEditButton}),
  ${n.SiteHeaderElementSelectors.pencilEditButton} {
    pointer-events: none;
  }
`;function p(g){let{fn:v,guidanceFunctionality:E}=g;const C={anchorSelector:`${n.SiteEditorElementSelectors.pageSectionsContainer}.sqs-scrim-enabled`,frameSelector:n.SiteEditorElementSelectors.siteFrame},T=!!(0,e.findFirstElementSync)(C),I=(0,e.findFirstElementSync)({anchorSelector:n.SiteHeaderElementSelectors.editHeader,frameSelector:n.SiteEditorElementSelectors.siteFrame});T?v():I?(E.setTemporaryStyle(m),I.click(),v(),(0,c.setRegisteredTimeout)(()=>{E.clearTemporaryStyle()},r.GUIDANCE_ANIMATION_DURATION_MS+r.SECTION_UI_ENTRY_ANIMATION_DURATION_MS)):E.reportSpotlightError("Missing Edit Header button during header spotlight tour")}},342558:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.openSiteStyles=void 0;var n=t(664047),r=t(689242),e=t(661454);const c=i=>{let{guidanceFunctionality:a}=i;a.setShouldBlockUserClicks(!0),a.closeTooltip();const s=document.querySelector(e.SiteStylesElementSelectors.siteStylesButton);s==null||s.click(),(0,r.performFunctionWhenElementsFound)({selectorsToFind:[{anchorSelector:e.SiteStylesElementSelectors.stylesPreviewContainer}],functionToRun:()=>{a.openTooltip(),setTimeout(()=>{a.setShouldBlockUserClicks(!1)},n.BUBBLE_AND_SPOTLIGHT_ENTRY_DURATION_MS)},onElementsNotFound:()=>{a.setShouldBlockUserClicks(!1)}})};o.openSiteStyles=c},771109:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GUIDANCE_DATA_ATTRIBUTE_BASE_NAME=o.GUIDANCE_DATA_ATTRIBUTE=void 0;const t=o.GUIDANCE_DATA_ATTRIBUTE_BASE_NAME="guidance-engine",n=o.GUIDANCE_DATA_ATTRIBUTE=`data-${t}`},385219:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ElementDataIds=void 0;var n=t(771109);const r=`${n.GUIDANCE_DATA_ATTRIBUTE_BASE_NAME}-`;let e=o.ElementDataIds=function(c){return c[c.GUIDANCE_SPOTLIGHT_CONTAINER=`${r}spotlight-container`]="GUIDANCE_SPOTLIGHT_CONTAINER",c[c.HEADER=`${r}header`]="HEADER",c[c.EDIT_HEADER=`${r}edit-header`]="EDIT_HEADER",c[c.SITE_TITLE_OUTLINE=`${r}site-title-outline`]="SITE_TITLE_OUTLINE",c[c.SITE_TITLE_OUTLINE_LABEL=`${r}site-title-outline-label`]="SITE_TITLE_OUTLINE_LABEL",c[c.SITE_NAV_OUTLINE=`${r}site-nav-outline`]="SITE_NAV_OUTLINE",c[c.SITE_NAV_OUTLINE_LABEL=`${r}site-nav-outline-label`]="SITE_NAV_OUTLINE_LABEL",c[c.PENCIL_EDIT_BUTTON=`${r}pencil-edit-button`]="PENCIL_EDIT_BUTTON",c[c.HEADER_ADD_ELEMENTS_BUTTON=`${r}header-add-elements-button`]="HEADER_ADD_ELEMENTS_BUTTON",c[c.HEADER_EDIT_DESIGN=`${r}header-edit-design`]="HEADER_EDIT_DESIGN",c[c.HEADER_ANNOTATION_RESET=`${r}header-annotation-reset`]="HEADER_ANNOTATION_RESET",c[c.EDIT_SITE=`${r}edit-site`]="EDIT_SITE",c[c.SITE_FRAME=`${r}site-frame`]="SITE_FRAME",c[c.SECTION_EDITING_UI=`${r}section-editing-ui`]="SECTION_EDITING_UI",c[c.ADD_SECTION_BUTTON=`${r}add-section-button`]="ADD_SECTION_BUTTON",c[c.ADD_BLOCK_BUTTON=`${r}add-block-button`]="ADD_BLOCK_BUTTON",c[c.SECTION_TOOLBAR=`${r}section-toolbar`]="SECTION_TOOLBAR",c[c.PAGE_SECTIONS_CONTAINER=`${r}page-sections-container`]="PAGE_SECTIONS_CONTAINER",c[c.FOOTER_CONTAINER=`${r}footer-container`]="FOOTER_CONTAINER",c[c.SECTION_CATALOG_OVERLAY=`${r}section-catalog-overlay`]="SECTION_CATALOG_OVERLAY",c[c.SECTION_CATALOG=`${r}section-catalog`]="SECTION_CATALOG",c[c.SECTION_CATALOG_CONTACT_CATEGORY=`${r}section-catalog-contact-category`]="SECTION_CATALOG_CONTACT_CATEGORY",c[c.CATALOG_ENTRY_CLICK_TARGET=`${r}catalog-entry-click-target`]="CATALOG_ENTRY_CLICK_TARGET",c[c.SAVE_AND_EXIT_BUTTONS_CONTAINER=`${r}save-and-exit-buttons-container`]="SAVE_AND_EXIT_BUTTONS_CONTAINER",c[c.DEVICE_VIEW_BUTTON_CONTAINER=`${r}device-view-button-container`]="DEVICE_VIEW_BUTTON_CONTAINER",c[c.SITE_STYLES_BUTTON=`${r}site-styles-button`]="SITE_STYLES_BUTTON",c[c.THEME_CONTAINER=`${r}theme-container`]="THEME_CONTAINER",c[c.FONTS_CONTAINER=`${r}fonts-container`]="FONTS_CONTAINER",c[c.COLORS_CONTAINER=`${r}colors-container`]="COLORS_CONTAINER",c[c.BUTTONS_CONTAINER=`${r}buttons-container`]="BUTTONS_CONTAINER",c[c.BACKGROUND_ROUTE_SCROLLABLE_CONTAINER=`${r}background-route-scrollable-container`]="BACKGROUND_ROUTE_SCROLLABLE_CONTAINER",c[c.STYLES_PREVIEW_CONTAINER=`${r}styles-preview-container`]="STYLES_PREVIEW_CONTAINER",c[c.DATE_PICKER_APPLY_BUTTON=`${r}date-picker-apply-button`]="DATE_PICKER_APPLY_BUTTON",c}({})},923018:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GUIDANCE_ENABLED_SURFACE_AREAS=o.GUIDANCE_ENABLED_GUIDES=void 0;var n=t(534246);const r=o.GUIDANCE_ENABLED_GUIDES=new Set([n.GuideType.WEBSITE_ESSENTIALS]),e=o.GUIDANCE_ENABLED_SURFACE_AREAS=new Set([n.SurfaceArea.SETUP_GUIDE])},380261:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ACTIONS=void 0;let t=o.ACTIONS=function(n){return n.ACTIVATE="ACTIVATE",n.NEXT_STEP="NEXT_STEP",n.PREVIOUS_STEP="PREVIOUS_STEP",n.GOTO_STEP="GOTO_STEP",n.CLEAR="CLEAR",n}({})},357168:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.initialState=o.guidanceReducer=void 0;var n=t(938044),r=t(380261),e=t(648532);const c=o.initialState={guidance:void 0,activeGuidanceStepId:0,activeGuide:void 0},i=(m,u)=>({guidance:e.GuidanceTasks[u.payload.taskType],activeGuidanceStepId:0,activeGuide:u.payload.guideType}),a=(m,u)=>{var p;const g=m.activeGuidanceStepId+1;if(!m.guidance||g>=((p=m.guidance)===null||p===void 0?void 0:p.steps.length))throw new Error("Attempted to go to next step when there are no next steps");return{...m,activeGuidanceStepId:g}},s=(m,u)=>{const p=m.activeGuidanceStepId-1;if(!m.guidance||p<0)throw new Error("Attempted to go to previous step when there are no previous steps");return{...m,activeGuidanceStepId:p}},l=(m,u)=>{var p;const g=u.payload;if(!m.guidance||g<0||g>=((p=m.guidance)===null||p===void 0?void 0:p.steps.length))throw new Error(`Attempted to go to step ${g} when there is no step ${g}`);return{...m,activeGuidanceStepId:g}},d=()=>c,f=(m,u)=>{try{const{type:g}=u;switch(g){case r.ACTIONS.ACTIVATE:return i(m,u);case r.ACTIONS.NEXT_STEP:return a(m,u);case r.ACTIONS.PREVIOUS_STEP:return s(m,u);case r.ACTIONS.GOTO_STEP:return l(m,u);case r.ACTIONS.CLEAR:return d();default:return m}}catch(g){var p;const v={[n.ErrorTags.TASK_TYPE]:(m==null||(p=m.guidance)===null||p===void 0?void 0:p.type)??null,[n.ErrorTags.GUIDE_TYPE]:(m==null?void 0:m.activeGuide)??null,[n.ErrorTags.GUIDANCE_STEP_INDEX]:(m==null?void 0:m.activeGuidanceStepId)??null};return g instanceof Error?(0,n.captureException)(g.message,m,v):(0,n.captureException)(g,m,v),m}};o.guidanceReducer=f},786442:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(174161),r=t(80092);const e=a=>{let{addListeners:s,currentStepIndex:l,isFallbackNeeded:d,spotlightTourStepIndex:f}=a;const m=(0,n.useRef)([]);(0,n.useEffect)(()=>{let u=!1;const p=m.current;return(async()=>{const v=await s();p.push(...v),u&&p.forEach(E=>E())})(),()=>{u=!0,p.forEach(v=>v())}},[s,d,l,f])},c=a=>{let{guidance:s,spotlightTourStepIndex:l,guidanceContext:d,guidanceFunctionality:f}=a;const m=s==null?void 0:s.activeGuidanceStepId,{isFallbackNeeded:u}=d,{addGoToStepEventListeners:p,addTooltipCloserListeners:g,addGuidanceClearingListeners:v,addCustomBehaviorListeners:E,addSpotlightResettingListeners:C,addBrowserBackAndForwardListener:T}=(0,r.useGuidanceListeners)({guidance:s,guidanceFunctionality:f,guidanceContext:d});e({addListeners:p,currentStepIndex:m,isFallbackNeeded:u,spotlightTourStepIndex:l}),e({addListeners:g,currentStepIndex:m,isFallbackNeeded:u,spotlightTourStepIndex:l}),e({addListeners:v,currentStepIndex:m,isFallbackNeeded:u,spotlightTourStepIndex:l}),e({addListeners:E,currentStepIndex:m,isFallbackNeeded:u,spotlightTourStepIndex:l}),e({addListeners:C,currentStepIndex:m,isFallbackNeeded:u,spotlightTourStepIndex:l}),(0,n.useEffect)(()=>{const I=T();return()=>{I()}},[T])};var i=o.default=c;P.exports=o.default},986830:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(174161),r=t(174219),e=t(810838),c=t(407029);const i=()=>{const{guidance:s,activeGuide:l,activeGuidanceStepId:d,activateGuidance:f,gotoNextGuidanceStep:m,gotoPreviousGuidanceStep:u,gotoGuidanceStep:p,clearGuidance:g}=(0,r.useGuidanceEngineContext)(),v=(0,n.useMemo)(()=>{var T;const I=s&&((T=s.steps[d])===null||T===void 0?void 0:T.description);return s?{type:s.type,route:s.startingRoute.path,title:s.title,elementsToFindBeforeShowingGuidance:s.elementsToFindBeforeShowingGuidance,description:I,startingPosition:e.PositionPoints.BOTTOM_RIGHT,...I&&s.steps[d],hasNextStep:s.steps&&d<s.steps.length-1,hasPreviousStep:s.steps&&d>0,activeGuidanceStepId:d,totalSteps:s.steps.length,taskCompletionTrigger:s.taskCompletionTrigger}:void 0},[s,d]),{isFallbackNeeded:E,recheckIsFallbackNeeded:C}=(0,c.useGuidanceFallback)(v);return{guidance:v,activeGuide:l,activateGuidance:f,gotoNextGuidanceStep:m,gotoPreviousGuidanceStep:u,gotoGuidanceStep:p,clearGuidance:g,isFallbackNeeded:E,recheckIsFallbackNeeded:C}};var a=o.default=i;P.exports=o.default},407029:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useGuidanceFallback=e;var n=t(174161),r=t(926492);function e(c){const[i,a]=(0,n.useState)(!0),s=(0,n.useCallback)(d=>{let{shouldSkipWait:f}=d;if(!(c!=null&&c.fallback)){a(!1);return}const{elementsToPreventFallback:m,elementsToTriggerFallback:u,delay:p}=c.fallback;if(u==null?void 0:u.some(E=>(0,r.findFirstElementSync)(E))){a(!0);return}(async()=>{const E=m.map(y=>(0,r.findElements)({...y,shouldSkipWait:f||p==="skip",maxSearchTime:p==="skip"?0:p})),I=(await Promise.all(E)).filter(y=>y.length>0).length<m.length;a(I)})()},[c,a]),l=(0,n.useCallback)(()=>{s({shouldSkipWait:!0})},[s]);return(0,n.useEffect)(()=>{s({shouldSkipWait:!1})},[s]),{isFallbackNeeded:i,recheckIsFallbackNeeded:l}}},80092:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.formatStepTriggers=f,o.useGuidanceListeners=m;var r=n(t(860921)),e=t(174161),c=t(926492),i=t(939797),a=t(661454);const s=u=>u.tagName.toUpperCase()===a.GenericSelectors.link.toUpperCase();function l(u){let{element:p}=u;if(!s(p))return!1;const g=p.ownerDocument.defaultView,v=g&&g.location.origin+g.location.pathname;return p.href===v}async function d(u){let{triggers:p,eventCallbacks:g,identifier:v,reportError:E}=u;const C=[],T=p.map((I,y)=>(async()=>{const{anchorSelector:D,frameSelector:j,eventType:U}=I,R=await(0,c.findElements)({anchorSelector:D,frameSelector:j}),L=g[y]??r.default;R.filter(G=>!l({element:G})).forEach(G=>{G.addEventListener(U,L,I.shouldUseCapture),C.push(()=>{G.removeEventListener(U,L,I.shouldUseCapture)})})})());return await Promise.all(T),C.length===0&&p.length>0&&E("Failed to find required Guidance trigger elements",{triggerCategory:v}),C}function f(u){let{currentStep:p,nextStepTriggers:g,previousStepTriggers:v,numberedStepTriggers:E}=u;const C=[];return g==null||g.forEach(T=>{C.push({trigger:T,targetStep:p+1})}),v==null||v.forEach(T=>{C.push({trigger:T,targetStep:p-1})}),E==null||E.forEach(T=>{const{eventType:I,anchorSelector:y,frameSelector:b,targetStepIndex:D}=T,j={eventType:I,anchorSelector:y,...b&&{frameSelector:b}};C.push({trigger:j,targetStep:D})}),C}function m(u){let{guidance:p,guidanceFunctionality:g,guidanceContext:v}=u;const{reportGuidanceListenerError:E}=(0,i.useReportGuidanceListenerError)(),C=p==null?void 0:p.activeGuidanceStepId,{closeTooltip:T,clearGuidance:I,resetTour:y,gotoGuidanceStep:b}=g,{isFallbackNeeded:D}=v,j=(0,e.useCallback)(async()=>{if(D||!p||typeof C>"u")return[];const k=p.nextStepTriggers??[],V=p.previousStepTriggers??[],$=p.numberedStepTriggers??[];if(!!!(k.length||V.length||$.length))return[];const ee=f({currentStep:C,nextStepTriggers:k,previousStepTriggers:V,numberedStepTriggers:$}),de=ee.map(Te=>{let{trigger:z}=Te;return z}),re=ee.map(Te=>{let{targetStep:z}=Te;return()=>{b(z)}});return await d({triggers:de,eventCallbacks:re,identifier:"stepTriggers",reportError:E})},[p,C,b,D,E]),U=(0,e.useCallback)(async()=>{if(!(p!=null&&p.tooltipClosingTriggers))return[];const k=()=>{T()};return await d({triggers:p.tooltipClosingTriggers,eventCallbacks:p.tooltipClosingTriggers.map($=>k),identifier:"tooltipClosingTriggers",reportError:E})},[p==null?void 0:p.tooltipClosingTriggers,T,E]),R=(0,e.useCallback)(async()=>{if(!(p!=null&&p.guidanceClearingTriggers))return[];const k=()=>{I()};return await d({triggers:p.guidanceClearingTriggers,eventCallbacks:p.guidanceClearingTriggers.map($=>k),identifier:"guidanceClearingTriggers",reportError:E})},[p==null?void 0:p.guidanceClearingTriggers,I,E]),L=(0,e.useCallback)(async()=>p!=null&&p.customBehaviorTriggers?await d({triggers:p.customBehaviorTriggers.map(V=>V.event),eventCallbacks:p.customBehaviorTriggers.map(V=>$=>{V.callback({eventData:$,guidanceFunctionality:g,guidanceContext:v})}),identifier:"customBehaviorTriggers",reportError:E}):[],[p==null?void 0:p.customBehaviorTriggers,E,g,v]),x=(0,e.useCallback)(async()=>{if(!(p!=null&&p.spotlightResettingTriggers))return[];const k=()=>{y()};return await d({triggers:p.spotlightResettingTriggers,eventCallbacks:p.spotlightResettingTriggers.map($=>k),identifier:"spotlightResettingTriggers",reportError:E})},[p==null?void 0:p.spotlightResettingTriggers,E,y]),G=(0,e.useCallback)(()=>{const k=()=>{I()};return window.addEventListener("popstate",k),()=>{window.removeEventListener("popstate",k)}},[I]);return{addGoToStepEventListeners:j,addTooltipCloserListeners:U,addGuidanceClearingListeners:R,addCustomBehaviorListeners:L,addSpotlightResettingListeners:x,addBrowserBackAndForwardListener:G}}},141105:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,t(392338);var n=t(569901),r=t(174161),e=t(689242),c=t(380261),i=t(357168),a=t(648532);const s=()=>{var d;const[f,m]=(0,r.useReducer)(i.guidanceReducer,i.initialState),{push:u}=(0,n.useNavigation)(),{pathname:p}=(0,n.useLocation)();(0,r.useEffect)(()=>{var y;const b=(y=f.guidance)===null||y===void 0?void 0:y.type;if(b===void 0)return;const{startingRoute:D,otherValidRoutes:j=[]}=a.GuidanceTasks[b];![D,...j].some(x=>{let{path:G,allowSubRoutes:k}=x;return k?p.includes(G):G===p})&&m({type:c.ACTIONS.CLEAR})},[p,(d=f.guidance)===null||d===void 0?void 0:d.type]),(0,r.useEffect)(()=>{f.guidance||(0,e.clearRegisteredTimers)()},[f.guidance]);const g=(0,r.useCallback)(y=>{let{taskType:b,guideType:D}=y;const{startingRoute:{path:j}}=a.GuidanceTasks[b];j!==p&&u(j),m({type:c.ACTIONS.ACTIVATE,payload:{taskType:b,guideType:D}})},[u,p]),v=(0,r.useCallback)(()=>{m({type:c.ACTIONS.NEXT_STEP})},[]),E=(0,r.useCallback)(()=>{m({type:c.ACTIONS.PREVIOUS_STEP})},[]),C=(0,r.useCallback)(y=>{m({type:c.ACTIONS.GOTO_STEP,payload:y})},[]),T=(0,r.useCallback)(()=>{m({type:c.ACTIONS.CLEAR})},[]);return{...(0,r.useMemo)(()=>({...f,activateGuidance:g,gotoNextGuidanceStep:v,gotoPreviousGuidanceStep:E,gotoGuidanceStep:C,clearGuidance:T}),[f,g,v,E,C,T])}};var l=o.default=s;P.exports=o.default},939797:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useReportGuidanceListenerError=void 0;var r=n(t(547740)),e=t(174161),c=t(938044),i=n(t(986830));const a=()=>{const{activeGuide:s,guidance:l,isFallbackNeeded:d}=(0,i.default)(),{type:f,activeGuidanceStepId:m}=l??{};return{reportGuidanceListenerError:(0,e.useCallback)((0,r.default)((p,g)=>{(0,c.captureMessage)(p,void 0,{[c.ErrorTags.TASK_TYPE]:f??null,[c.ErrorTags.GUIDE_TYPE]:s??null,[c.ErrorTags.GUIDANCE_STEP_INDEX]:m,[c.ErrorTags.IS_FALLBACK_STEP]:d,[c.ErrorTags.GUIDANCE_TRIGGER_CATEGORY]:g.triggerCategory})}),[s,m,d,f])}};o.useReportGuidanceListenerError=a},882678:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FunctionalSelectors=o.FunctionalClassNames=void 0;const t=o.FunctionalClassNames={deviceViewDesktop:"sqs-device-view-desktop",showEditHeaderButton:"sqs-scrim-enabled"},n=o.FunctionalSelectors={deviceViewDesktop:`.${t.deviceViewDesktop}`}},233129:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GenericSelectors=void 0;const t=o.GenericSelectors={body:"body",button:"button",input:"input",link:"a",textArea:"textarea",menuRole:'[role="menu"]'}},661454:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(882678);Object.keys(n).forEach(function(s){s==="default"||s==="__esModule"||s in o&&o[s]===n[s]||Object.defineProperty(o,s,{enumerable:!0,get:function(){return n[s]}})});var r=t(233129);Object.keys(r).forEach(function(s){s==="default"||s==="__esModule"||s in o&&o[s]===r[s]||Object.defineProperty(o,s,{enumerable:!0,get:function(){return r[s]}})});var e=t(612819);Object.keys(e).forEach(function(s){s==="default"||s==="__esModule"||s in o&&o[s]===e[s]||Object.defineProperty(o,s,{enumerable:!0,get:function(){return e[s]}})});var c=t(128254);Object.keys(c).forEach(function(s){s==="default"||s==="__esModule"||s in o&&o[s]===c[s]||Object.defineProperty(o,s,{enumerable:!0,get:function(){return c[s]}})});var i=t(753470);Object.keys(i).forEach(function(s){s==="default"||s==="__esModule"||s in o&&o[s]===i[s]||Object.defineProperty(o,s,{enumerable:!0,get:function(){return i[s]}})});var a=t(356001);Object.keys(a).forEach(function(s){s==="default"||s==="__esModule"||s in o&&o[s]===a[s]||Object.defineProperty(o,s,{enumerable:!0,get:function(){return a[s]}})})},612819:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SiteEditorElementSelectors=o.SiteEditorElementGetters=void 0;var n=t(412348),r=t(385219);const e=o.SiteEditorElementSelectors={addBlockButton:(0,n.getElementSelector)(r.ElementDataIds.ADD_BLOCK_BUTTON),addSectionButton:(0,n.getElementSelector)(r.ElementDataIds.ADD_SECTION_BUTTON),deviceViewButtonContainer:(0,n.getElementSelector)(r.ElementDataIds.DEVICE_VIEW_BUTTON_CONTAINER),editSite:(0,n.getElementSelector)(r.ElementDataIds.EDIT_SITE),footerContainer:(0,n.getElementSelector)(r.ElementDataIds.FOOTER_CONTAINER),pageSectionsContainer:(0,n.getElementSelector)(r.ElementDataIds.PAGE_SECTIONS_CONTAINER),sectionCatalogOverlay:(0,n.getElementSelector)(r.ElementDataIds.SECTION_CATALOG_OVERLAY),sectionEditingUi:(0,n.getElementSelector)(r.ElementDataIds.SECTION_EDITING_UI),sectionToolbar:(0,n.getElementSelector)(r.ElementDataIds.SECTION_TOOLBAR),siteFrame:(0,n.getElementSelector)(r.ElementDataIds.SITE_FRAME),sectionCatalog:(0,n.getElementSelector)(r.ElementDataIds.SECTION_CATALOG),sectionCatalogContactCategory:(0,n.getElementSelector)(r.ElementDataIds.SECTION_CATALOG_CONTACT_CATEGORY),catalogEntryClickTarget:(0,n.getElementSelector)(r.ElementDataIds.CATALOG_ENTRY_CLICK_TARGET),saveAndExitButtonsContainer:(0,n.getElementSelector)(r.ElementDataIds.SAVE_AND_EXIT_BUTTONS_CONTAINER)},c=o.SiteEditorElementGetters={siteFrameWindow:()=>{var i;return(i=document.querySelector(e.siteFrame))===null||i===void 0?void 0:i.contentWindow}}},128254:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SiteHeaderElementSelectors=void 0;var n=t(412348),r=t(385219);const e=o.SiteHeaderElementSelectors={editHeader:(0,n.getElementSelector)(r.ElementDataIds.EDIT_HEADER),header:(0,n.getElementSelector)(r.ElementDataIds.HEADER),headerAddElementsButton:(0,n.getElementSelector)(r.ElementDataIds.HEADER_ADD_ELEMENTS_BUTTON),headerAnnotationReset:(0,n.getElementSelector)(r.ElementDataIds.HEADER_ANNOTATION_RESET),headerEditDesign:(0,n.getElementSelector)(r.ElementDataIds.HEADER_EDIT_DESIGN),pencilEditButton:(0,n.getElementSelector)(r.ElementDataIds.PENCIL_EDIT_BUTTON),siteNavOutline:(0,n.getElementSelector)(r.ElementDataIds.SITE_NAV_OUTLINE),siteNavOutlineLabel:(0,n.getElementSelector)(r.ElementDataIds.SITE_NAV_OUTLINE_LABEL),siteTitleOutline:(0,n.getElementSelector)(r.ElementDataIds.SITE_TITLE_OUTLINE),siteTitleOutlineLabel:(0,n.getElementSelector)(r.ElementDataIds.SITE_TITLE_OUTLINE_LABEL)}},753470:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SiteStylesInteractiveElementSelectors=o.SiteStylesElementSelectors=o.SiteStylesElementGetters=void 0;var n=t(233129),r=t(412348),e=t(385219);const c=o.SiteStylesElementSelectors={backgroundRouteScrollableContainer:(0,r.getElementSelector)(e.ElementDataIds.BACKGROUND_ROUTE_SCROLLABLE_CONTAINER),buttonsContainer:(0,r.getElementSelector)(e.ElementDataIds.BUTTONS_CONTAINER),colorsContainer:(0,r.getElementSelector)(e.ElementDataIds.COLORS_CONTAINER),fontsContainer:(0,r.getElementSelector)(e.ElementDataIds.FONTS_CONTAINER),siteStylesButton:(0,r.getElementSelector)(e.ElementDataIds.SITE_STYLES_BUTTON),stylesPreviewContainer:(0,r.getElementSelector)(e.ElementDataIds.STYLES_PREVIEW_CONTAINER),themeContainer:(0,r.getElementSelector)(e.ElementDataIds.THEME_CONTAINER)},i=o.SiteStylesInteractiveElementSelectors={buttonsContainerButtons:`${c.buttonsContainer} ${n.GenericSelectors.button}`,colorsContainerButtons:`${c.colorsContainer} ${n.GenericSelectors.button}`,fontsContainerButtons:`${c.fontsContainer} ${n.GenericSelectors.button}`,themeContainerButtons:`${c.themeContainer} ${n.GenericSelectors.button}`},a=o.SiteStylesElementGetters={backgroundRouteScrollableContainer:()=>document.querySelector(c.backgroundRouteScrollableContainer)}},412348:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getElementSelector=void 0;var n=t(771109);const r=e=>`[${n.GUIDANCE_DATA_ATTRIBUTE}="${e}"]`;o.getElementSelector=r},356001:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.VisitorSiteSelectors=void 0;const t=o.VisitorSiteSelectors={fluidEngineSection:"#page [data-fluid-engine-section]",nonFluidEngineFirstSection:"#page .page-section:nth-of-type(1):not([data-fluid-engine-section])"}},154669:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AddPagesWithSectionsCopy=void 0;var n=t(770748);const r=o.AddPagesWithSectionsCopy={BUILD_PAGES_WITH_SECTIONS:(0,n.t)("Build pages with sections",null,{project:"guidance-engine"}),EDIT_PAGES:(0,n.t)("Learn to edit your pages using pre-built sections and blocks.",null,{project:"guidance-engine"}),BROWSE_PRE_BUILT:(0,n.t)("Browse pre-built sections by hovering and selecting 'ADD SECTION'.",null,{project:"guidance-engine"}),ADD_CONTENT:(0,n.t)("Add content like text or images in a section by selecting 'ADD BLOCK'.",null,{project:"guidance-engine"}),SECTION_EDIT_ACTION:(0,n.t)("Style, save, or rearrange sections by selecting an action under 'EDIT SECTION'.",null,{project:"guidance-engine"})}},619717:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AddPagesWithSections=void 0;var n=t(534246),r=t(260979),e=t(330420),c=t(661454),i=t(419652),a=t(664047),s=t(426758),l=t(154669),d=t(501135);const f=o.AddPagesWithSections={type:n.TaskType.ADD_PAGES_WITH_SECTIONS_AND_BLOCKS,startingRoute:{path:"/"},title:l.AddPagesWithSectionsCopy.BUILD_PAGES_WITH_SECTIONS,taskCompletionTrigger:i.TaskCompletionTrigger.END,steps:[{description:l.AddPagesWithSectionsCopy.EDIT_PAGES,onArriveAtStep:m=>{let{guidanceFunctionality:u}=m;(0,e.openEditMode)({guidanceFunctionality:u})},fallback:{elementsToPreventFallback:[{anchorSelector:c.VisitorSiteSelectors.fluidEngineSection,frameSelector:c.SiteEditorElementSelectors.siteFrame},{anchorSelector:c.FunctionalSelectors.deviceViewDesktop,frameSelector:c.SiteEditorElementSelectors.siteFrame}],elementsToTriggerFallback:[{anchorSelector:c.VisitorSiteSelectors.nonFluidEngineFirstSection,frameSelector:c.SiteEditorElementSelectors.siteFrame}],delay:"skip",message:l.AddPagesWithSectionsCopy.BROWSE_PRE_BUILT},tooltipClosingTriggers:[d.websiteFrameLinkClick,...d.sectionEditingClicks,d.changeDeviceViewClick],guidanceClearingTriggers:[d.editHeaderClick,d.editFooterClick],spotlightResettingTriggers:[...d.addSectionClicks],onReopenGuidance:()=>{(0,r.hideAllModals)()},spotlightTourShowsBackToSetupGuide:!0,spotlightTourSteps:[{targetSelectors:[{anchorSelector:c.SiteEditorElementSelectors.addSectionButton}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:l.AddPagesWithSectionsCopy.BROWSE_PRE_BUILT,onChangeSpotlightStep:s.hoverHandlers.showSectionEditorUi},{targetSelectors:[{anchorSelector:c.SiteEditorElementSelectors.addBlockButton}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:l.AddPagesWithSectionsCopy.ADD_CONTENT,delay:a.SECTION_UI_ENTRY_ANIMATION_DURATION_MS,onChangeSpotlightStep:s.hoverHandlers.showSectionEditorUi},{targetSelectors:[{anchorSelector:c.SiteEditorElementSelectors.sectionToolbar,isNotInteractive:!0}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:l.AddPagesWithSectionsCopy.SECTION_EDIT_ACTION,delay:a.SECTION_UI_ENTRY_ANIMATION_DURATION_MS,onChangeSpotlightStep:s.hoverHandlers.showSectionEditorUi}]}]}},359536:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CustomizeSiteStylesCopy=void 0;var n=t(770748);const r=o.CustomizeSiteStylesCopy={SITE_STYLES:(0,n.t)("Colors, Fonts, & Buttons",null,{project:"guidance-engine"}),APPLY_THEMES:(0,n.t)("Learn to apply curated themes and styles to your site.",null,{project:"guidance-engine"}),USE_PAINTBRUSH:(0,n.t)("Update your site style, colors, and fonts by clicking on the paint brush.",null,{project:"guidance-engine"}),CHANGE_STYLES:(0,n.t)("To change colors, fonts, and buttons, click the corresponding section.",null,{project:"guidance-engine"})}},992839:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CustomizeSiteStyles=void 0;var n=t(534246),r=t(330420),e=t(661454),c=t(419652),i=t(810838),a=t(359536);const s=o.CustomizeSiteStyles={type:n.TaskType.CUSTOMIZE_SITE_LOOK_AND_FEEL,startingRoute:{path:"/"},otherValidRoutes:[{path:"/site-styles"}],title:a.CustomizeSiteStylesCopy.SITE_STYLES,taskCompletionTrigger:c.TaskCompletionTrigger.START,steps:[{description:a.CustomizeSiteStylesCopy.APPLY_THEMES,onArriveAtStep:r.openSiteStyles,spotlightTourShowsBackToSetupGuide:!0,spotlightTourSteps:[{description:a.CustomizeSiteStylesCopy.USE_PAINTBRUSH,targetSelectors:[{anchorSelector:e.SiteStylesElementSelectors.siteStylesButton,isNotInteractive:!0}]},{description:a.CustomizeSiteStylesCopy.CHANGE_STYLES,targetSelectors:[{anchorSelector:e.SiteStylesElementSelectors.themeContainer,isNotInteractive:!0},{anchorSelector:e.SiteStylesElementSelectors.fontsContainer,isNotInteractive:!0},{anchorSelector:e.SiteStylesElementSelectors.colorsContainer,isNotInteractive:!0},{anchorSelector:e.SiteStylesElementSelectors.buttonsContainer,isNotInteractive:!0}],getScrollContainer:e.SiteStylesElementGetters.backgroundRouteScrollableContainer}],startingPosition:i.PositionPoints.BOTTOM_LEFT}]}},44913:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SiteTitleAndLogoCopy=void 0;var n=t(770748);const r=o.SiteTitleAndLogoCopy={EDIT_HEADER:(0,n.t)("Edit header & logo",null,{project:"guidance-engine"}),START_EDITING:(0,n.t)("Hover and click anywhere in your site header to start editing.",null,{project:"guidance-engine"}),START_EDITING_HOVER:(0,n.t)("Edit by hovering and clicking anywhere in in your site header.",null,{project:"guidance-engine"}),UPDATE_TITLE_LOGO:(0,n.t)("Update site title and add a business logo by clicking the pencil icon.",null,{project:"guidance-engine"}),ADD_ELEMENTS:(0,n.t)("Add buttons and social links by clicking 'ADD ELEMENTS'.",null,{project:"guidance-engine"}),REORDER_PAGES:(0,n.t)("Reorder the pages on your site by using the pencil icon.",null,{project:"guidance-engine"}),EDIT_DESIGN:(0,n.t)("Edit the size, color, or layout of your header by selecting 'EDIT DESIGN'.",null,{project:"guidance-engine"})}},536235:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SiteTitleAndLogo=void 0;var n=t(534246),r=t(260979),e=t(330420),c=t(661454),i=t(419652),a=t(664047),s=t(926492),l=t(689242),d=t(426758),f=t(44913),m=t(501135);const u=o.SiteTitleAndLogo={type:n.TaskType.ADD_LOGO_OR_EDIT_SITE_TITLE,startingRoute:{path:"/"},title:f.SiteTitleAndLogoCopy.EDIT_HEADER,taskCompletionTrigger:i.TaskCompletionTrigger.START,steps:[{description:f.SiteTitleAndLogoCopy.START_EDITING,spotlightTourShowsBackToSetupGuide:!0,functionalStylesDuringSpotlightTour:e.blockPencilClicksDuringHeaderTour,fallback:{elementsToPreventFallback:[{anchorSelector:c.FunctionalSelectors.deviceViewDesktop,frameSelector:c.SiteEditorElementSelectors.siteFrame}],delay:"skip",message:f.SiteTitleAndLogoCopy.START_EDITING},onArriveAtStep:p=>{let{guidanceFunctionality:g}=p;(0,e.openEditMode)({guidanceFunctionality:g})},tooltipClosingTriggers:[m.websiteFrameLinkClick,...m.sectionEditingClicks,m.changeDeviceViewClick,{eventType:"click",anchorSelector:c.SiteHeaderElementSelectors.pencilEditButton}],guidanceClearingTriggers:[m.editFooterClick],onReopenGuidance:()=>{(0,r.hideAllModals)()},spotlightTourSteps:[{targetSelectors:[{anchorSelector:c.SiteHeaderElementSelectors.editHeader,frameSelector:c.SiteEditorElementSelectors.siteFrame}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:f.SiteTitleAndLogoCopy.START_EDITING_HOVER,delay:a.GUIDANCE_ANIMATION_DURATION_MS,onChangeSpotlightStep:p=>{let{guidanceFunctionality:g}=p;const v=(0,s.findFirstElementSync)({anchorSelector:`${c.SiteEditorElementSelectors.pageSectionsContainer}.sqs-scrim-enabled`,frameSelector:c.SiteEditorElementSelectors.siteFrame}),E=(0,s.findFirstElementSync)({anchorSelector:c.SiteEditorElementSelectors.pageSectionsContainer,frameSelector:c.SiteEditorElementSelectors.siteFrame});v?(g.setTemporaryStyle(e.hideHeaderEditorButtons),d.hoverHandlers.resetHeaderAnnotations(),E==null||E.click(),(0,l.setRegisteredTimeout)(()=>{d.hoverHandlers.showEditHeaderButton(),g.clearTemporaryStyle()},a.GUIDANCE_ANIMATION_DURATION_MS+a.SECTION_UI_ENTRY_ANIMATION_DURATION_MS)):d.hoverHandlers.showEditHeaderButton()}},{targetSelectors:[{anchorSelector:c.SiteHeaderElementSelectors.siteTitleOutline},{anchorSelector:c.SiteHeaderElementSelectors.siteTitleOutlineLabel,isNotInteractive:!0},{anchorSelector:c.SiteHeaderElementSelectors.pencilEditButton}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:f.SiteTitleAndLogoCopy.UPDATE_TITLE_LOGO,delay:a.GUIDANCE_ANIMATION_DURATION_MS,onChangeSpotlightStep:p=>{let{guidanceFunctionality:g}=p;(0,e.ensureHeaderEditorIsOpenThenRunFn)({fn:d.hoverHandlers.showSiteTitleEditorUi,guidanceFunctionality:g})}},{targetSelectors:[{anchorSelector:c.SiteHeaderElementSelectors.headerAddElementsButton}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:f.SiteTitleAndLogoCopy.ADD_ELEMENTS,delay:a.GUIDANCE_ANIMATION_DURATION_MS,onChangeSpotlightStep:p=>{let{guidanceFunctionality:g}=p;(0,e.ensureHeaderEditorIsOpenThenRunFn)({fn:d.hoverHandlers.resetHeaderAnnotations,guidanceFunctionality:g})}},{targetSelectors:[{anchorSelector:c.SiteHeaderElementSelectors.siteNavOutline},{anchorSelector:c.SiteHeaderElementSelectors.siteNavOutlineLabel,isNotInteractive:!0},{anchorSelector:c.SiteHeaderElementSelectors.pencilEditButton}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:f.SiteTitleAndLogoCopy.REORDER_PAGES,delay:a.GUIDANCE_ANIMATION_DURATION_MS,onChangeSpotlightStep:p=>{let{guidanceFunctionality:g}=p;(0,e.ensureHeaderEditorIsOpenThenRunFn)({fn:d.hoverHandlers.showSiteNavEditorUi,guidanceFunctionality:g})}},{targetSelectors:[{anchorSelector:c.SiteHeaderElementSelectors.headerEditDesign}],getScrollContainer:c.SiteEditorElementGetters.siteFrameWindow,description:f.SiteTitleAndLogoCopy.EDIT_DESIGN,delay:a.GUIDANCE_ANIMATION_DURATION_MS,onChangeSpotlightStep:p=>{let{guidanceFunctionality:g}=p;(0,e.ensureHeaderEditorIsOpenThenRunFn)({fn:d.hoverHandlers.resetHeaderAnnotations,guidanceFunctionality:g})}}]}]}},648532:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createExhaustiveGuidanceTasks=o.GuidanceTasks=void 0;var n=t(534246),r=t(619717),e=t(992839),c=t(536235);const i=l=>({type:l,startingRoute:{path:"/"},steps:[]}),a=l=>{const d=Object.values(n.TaskType),f={};return d.forEach(m=>{f[m]=l[m]??i(m)}),f};o.createExhaustiveGuidanceTasks=a;const s=o.GuidanceTasks=a({[n.TaskType.ADD_LOGO_OR_EDIT_SITE_TITLE]:c.SiteTitleAndLogo,[n.TaskType.ADD_PAGES_WITH_SECTIONS_AND_BLOCKS]:r.AddPagesWithSections,[n.TaskType.CUSTOMIZE_SITE_LOOK_AND_FEEL]:e.CustomizeSiteStyles})},419652:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TaskCompletionTrigger=void 0;let t=o.TaskCompletionTrigger=function(n){return n.START="START",n.END="END",n}({})},501135:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.websiteFrameLinkClick=o.sectionToolbarClick=o.sectionEditingClicks=o.sectionCatalogClick=o.editHeaderClick=o.editFooterClick=o.changeDeviceViewClick=o.addSectionClicks=o.addBlockClick=void 0;var n=t(661454);const r=o.addSectionClicks=[{eventType:"click",anchorSelector:n.SiteEditorElementSelectors.addSectionButton},{eventType:"click",anchorSelector:n.SiteEditorElementSelectors.addSectionButton,frameSelector:n.SiteEditorElementSelectors.siteFrame}],e=o.websiteFrameLinkClick={eventType:"click",anchorSelector:n.GenericSelectors.link,frameSelector:n.SiteEditorElementSelectors.siteFrame},c=o.addBlockClick={eventType:"click",anchorSelector:n.SiteEditorElementSelectors.addBlockButton},i=o.sectionToolbarClick={eventType:"click",anchorSelector:n.SiteEditorElementSelectors.sectionToolbar},a=o.sectionEditingClicks=[...r,c,i],s=o.changeDeviceViewClick={eventType:"click",anchorSelector:n.SiteEditorElementSelectors.deviceViewButtonContainer},l=o.editHeaderClick={eventType:"click",anchorSelector:n.SiteHeaderElementSelectors.header,frameSelector:n.SiteEditorElementSelectors.siteFrame},d=o.editFooterClick={eventType:"click",anchorSelector:n.SiteEditorElementSelectors.footerContainer,frameSelector:n.SiteEditorElementSelectors.siteFrame},f=o.sectionCatalogClick={eventType:"click",anchorSelector:n.SiteEditorElementSelectors.sectionCatalog,frameSelector:n.SiteEditorElementSelectors.siteFrame}},842170:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isContextualGuidanceEnabled=o.getGuidanceEngineDataAttribute=void 0;var n=t(645791),r=t(771109),e=t(923018),c=t(648532);const i=f=>c.GuidanceTasks[f].steps.length>0,a=f=>e.GUIDANCE_ENABLED_GUIDES.has(f),s=f=>e.GUIDANCE_ENABLED_SURFACE_AREAS.has(f),l=f=>{let{taskType:m,guideType:u,surfaceArea:p}=f;return a(u)&&i(m)&&s(p)&&(0,n.getIsWebsiteSevenOne)()&&!(0,n.getIsMobile)()};o.isContextualGuidanceEnabled=l;const d=f=>({[r.GUIDANCE_DATA_ATTRIBUTE]:f});o.getGuidanceEngineDataAttribute=d},174219:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.GuidanceEngineProvider=m,o.useGuidanceEngineContext=void 0;var r=n(t(860921)),e=n(t(174161)),c=t(357168),i=n(t(141105)),a=t(938044);const s={activateGuidance:r.default,gotoNextGuidanceStep:r.default,gotoPreviousGuidanceStep:r.default,gotoGuidanceStep:r.default,clearGuidance:r.default},l=e.default.createContext({...c.initialState,...s}),d=()=>e.default.useContext(l);o.useGuidanceEngineContext=d;function f(u){let{children:p}=u;const{guidance:g,activeGuide:v,activeGuidanceStepId:E,...C}=(0,i.default)();return e.default.createElement(a.ErrorBoundary,{errorContents:p},e.default.createElement(l.Provider,{value:{activeGuide:v,guidance:g,activeGuidanceStepId:E,...C}},p))}function m(u){let{children:p}=u;return e.default.createElement(a.ErrorBoundary,{errorContents:p},e.default.createElement(f,null,p))}},664047:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WAIT_TO_SHOW_SPOTLIGHT_AFTER_SCROLL_MS=o.STEP_CHANGE_TRIGGER_ATTRIBUTE=o.SPOTLIGHT_SELECTOR=o.SELECTOR_MATCHING_STRATEGIES=o.SECTION_UI_ENTRY_ANIMATION_DURATION_MS=o.SCROLL_TOP_LEEWAY_PX=o.SCRIM_COLOR=o.GUIDANCE_ANIMATION_DURATION_MS=o.DEFAULT_SPOTLIGHT_PADDING=o.BUBBLE_AND_SPOTLIGHT_ENTRY_DURATION_MS=void 0;var n=t(352635),r=t(385219),e=t(412348);const c=o.SPOTLIGHT_SELECTOR=(0,e.getElementSelector)(r.ElementDataIds.GUIDANCE_SPOTLIGHT_CONTAINER),i=o.DEFAULT_SPOTLIGHT_PADDING=parseInt(n.sizes.sizes[100]),a=o.SCRIM_COLOR="#0007",s=o.SCROLL_TOP_LEEWAY_PX=200,l=o.WAIT_TO_SHOW_SPOTLIGHT_AFTER_SCROLL_MS=200,d=o.GUIDANCE_ANIMATION_DURATION_MS=parseInt(n.time[350]??"350ms"),f=o.STEP_CHANGE_TRIGGER_ATTRIBUTE="data-will-trigger-step-change",m=o.SELECTOR_MATCHING_STRATEGIES={ALL:"ALL",LAST:"LAST"},u=o.SECTION_UI_ENTRY_ANIMATION_DURATION_MS=100,p=o.BUBBLE_AND_SPOTLIGHT_ENTRY_DURATION_MS=2*d},374222:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(778008),c=t(352635),i=t(451846),a=v(t(174161)),s=t(385219),l=t(842170),d=t(184913),f=t(664047),m=t(893586),u=t(419089),p=t(98485);function g(y){if(typeof WeakMap!="function")return null;var b=new WeakMap,D=new WeakMap;return(g=function(j){return j?D:b})(y)}function v(y,b){if(!b&&y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var D=g(b);if(D&&D.has(y))return D.get(y);var j={__proto__:null},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in y)if(R!=="default"&&Object.prototype.hasOwnProperty.call(y,R)){var L=U?Object.getOwnPropertyDescriptor(y,R):null;L&&(L.get||L.set)?Object.defineProperty(j,R,L):j[R]=y[R]}return j.default=y,D&&D.set(y,j),j}const E={opaque:"white",transparent:"black"};function C(y){let{isFocusable:b,highlightedElement:D}=y;b?setTimeout(()=>{D==null||D.focus()},f.GUIDANCE_ANIMATION_DURATION_MS):D==null||D.click()}const T=y=>{let{spotlightTargets:b,guidanceStepChangeTriggers:D=[],getScrollContainer:j,onClick:U,padding:R=f.DEFAULT_SPOTLIGHT_PADDING,delay:L=0,allowInteractionWithHighlightedElements:x}=y;const[G,k]=(0,a.useState)([]),[V,$]=(0,a.useState)(!0),[J,ee]=(0,a.useState)(!1),de=(0,a.useMemo)(()=>b.map(be=>be.element),[b]),re=(0,i.usePrefersReducedMotion)(),Ee=(0,a.useCallback)(()=>{const be=(0,m.getElementsDimensions)(de);be.length&&be.length===de.length&&k(be)},[de]);(0,a.useEffect)(()=>{const be=setTimeout(()=>{Ee()},L);return()=>{clearTimeout(be)}},[Ee,L]),(0,u.useOnResize)(Ee),(0,p.useSpotlightScroll)({targetElements:de,targetElementsDimensions:G,getScrollContainer:j,beforeScroll:()=>{$(!1)},afterScroll:()=>{Ee(),$(!0),ee(!0)}}),(0,a.useEffect)(()=>{J&&ee(!1)},[J]);const Te=(0,a.useMemo)(()=>(0,m.getSpotlightDimensions)(G,R),[G,R]),z=(0,a.useId)();return a.default.createElement(e.Box,(0,r.default)({[d.FOCUS_DATA_ATTRIBUTE_SPOTLIGHT]:!0},(0,l.getGuidanceEngineDataAttribute)(s.ElementDataIds.GUIDANCE_SPOTLIGHT_CONTAINER),{"data-testid":"guidance-engine-spotlight-container",left:"0",overflow:"hidden",position:"fixed",sx:{width:"100vw",height:"100vh"},top:"0",onClick:U}),Te&&a.default.createElement(a.default.Fragment,null,a.default.createElement("svg",{pointerEvents:"none",role:"none",style:{position:"fixed",left:"0px",top:"0px",width:"100vw",height:"100vh"}},a.default.createElement("defs",null,a.default.createElement("mask",{id:z},a.default.createElement("rect",{fill:E.opaque,height:"100%",width:"100%"}),a.default.createElement("rect",{"data-testid":"guidance-engine-spotlight",rx:c.radii[1]??"4px",style:{fill:V?E.transparent:E.opaque,width:Te.width,height:Te.height,transitionProperty:`background-color${J?"":", transform, width, height"}`,transform:`translate(${Te.x}px, ${Te.y}px)`,...re?{}:{transitionDuration:`${V?f.GUIDANCE_ANIMATION_DURATION_MS:0}ms`,transitionDelay:`${V?f.WAIT_TO_SHOW_SPOTLIGHT_AFTER_SCROLL_MS:0}ms, 0s, 0s, 0s`,transitionTimingFunction:c.easing.product.default}},x:"0px",y:"0px"}))),a.default.createElement("rect",{fill:f.SCRIM_COLOR,height:"100%",mask:`url(#${z})`,width:"100%"})),G.filter((be,me)=>!!b[me]).map((be,me)=>{const ne=b[me],Ce=!!ne.isFocusable,Ae=(0,m.willHighlightedElementTriggerStepChange)({element:ne.element,guidanceStepChangeTriggers:D});return a.default.createElement(e.Box,(0,r.default)({},Ae?{[f.STEP_CHANGE_TRIGGER_ATTRIBUTE]:!0}:{},{as:"button",background:"transparent",border:"none",borderRadius:1,height:be.height,key:JSON.stringify(be),left:be.x,position:"absolute",sx:{cursor:"pointer","&:hover":{backgroundColor:"gray.600",opacity:.2},"&:focus-visible":{outlineStyle:"solid",outlineColor:"gray.100",outlineWidth:"2px",outlineOffset:"2px"}},top:be.y,width:be.width,onClick:()=>{x&&C({isFocusable:Ce,highlightedElement:de[me]})}}))})))};var I=o.default=T;P.exports=o.default},893586:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getElementsDimensions=d,o.getFrameInfo=e,o.getScrollOffset=c,o.getScrollTargetHeightOffset=f,o.getSpotlightDimensions=i,o.getTopElementDimensions=s,o.getTopElementIndex=a,o.isScrollContainerHTMLElement=r,o.isTopElementOffScreen=l,o.willHighlightedElementTriggerStepChange=m,t(392338);var n=t(926492);function r(u){return u instanceof HTMLElement}function e(u){var p;const g="ownerDocument"in u,v=g?u==null||(p=u.ownerDocument)===null||p===void 0?void 0:p.defaultView:u,E=v==null?void 0:v.frameElement,C={x:0,y:0};if(E){const{x:T,y:I}=E.getBoundingClientRect();C.x=T,C.y=I}return{frameOffset:C,frameWindow:v,isInFrame:g}}function c(u){const{frameWindow:p}=e(u);return{x:(p||window).scrollX,y:(p||window).scrollY}}function i(u,p){if(!u.length)return null;let g=1/0,v=1/0,E=0,C=0;u.forEach(U=>{const{x:R,y:L,width:x,height:G}=U,k=R+x,V=L+G;R<g&&(g=R),L<v&&(v=L),k>E&&(E=k),V>C&&(C=V)});const T=g-p,I=v-p,y=E-g,b=C-v,D=y+2*p,j=b+2*p;return{x:T,y:I,width:D,height:j}}function a(u){let p=1/0,g=0;return u.forEach((v,E)=>{v.y<p&&(p=v.y,g=E)}),g}function s(u){const p=a(u);return u[p]}function l(u){let{scrollContainer:p,topElementDimensions:g}=u;if(!p)return!1;const v=g.y,E=g.y+g.height,{frameOffset:C}=e(p),{y:T}=C,{top:I,bottom:y}=r(p)?p.getBoundingClientRect():{top:0,bottom:p.innerHeight},b=I+T,D=y+T;return v<b||E>D}function d(u){const p=[];return u.forEach(g=>{const{x:v,y:E,width:C,height:T}=g.getBoundingClientRect(),{frameOffset:I}=e(g);C===0||T===0||p.push({x:v+I.x,y:E+I.y,width:C,height:T})}),p}function f(u){let p=0;return r(u)?p=u.scrollTop-u.getBoundingClientRect().top:u&&(p=u.scrollY),p}function m(u){let{element:p,guidanceStepChangeTriggers:g}=u;if(g.map(E=>(0,n.findFirstElementSync)(E)).includes(p))return!0;for(const E of g){const{anchorSelector:C}=E;if(!!p.closest(C))return!0}return!1}},419089:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useOnResize=c;var r=n(t(210750)),e=t(174161);function c(i){const a=(0,e.useMemo)(()=>(0,r.default)(i,250),[i]);(0,e.useEffect)(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[a])}},798521:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useReportSpotlightError=void 0;var r=n(t(547740)),e=t(174161),c=n(t(986830)),i=t(938044);const a=s=>{let{guidanceStepIndex:l,isFallback:d,isTouring:f,spotlightTourStepIndex:m}=s;const{activeGuide:u,guidance:p}=(0,c.default)(),{type:g}=p??{};return{reportSpotlightError:(0,e.useCallback)((0,r.default)(E=>{(0,i.captureMessage)(E,void 0,{[i.ErrorTags.TASK_TYPE]:g??null,[i.ErrorTags.GUIDE_TYPE]:u??null,[i.ErrorTags.GUIDANCE_STEP_INDEX]:l,[i.ErrorTags.IS_FALLBACK_STEP]:d,[i.ErrorTags.SPOTLIGHT_TOUR_STEP_INDEX]:m,[i.ErrorTags.IS_IN_SPOTLIGHT_TOUR]:f})}),[u,l,d,f,m,g])}};o.useReportSpotlightError=a},479097:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useSpotlight=s;var n=t(174161),r=t(669133),e=t(664047),c=t(926492),i=t(798521);function a(l){return!!l}function s(l){let{spotlightTourSteps:d,currentGuidanceStep:f,isFallbackNeeded:m,isBubbleOpen:u,isSpotlightOnlyStep:p,isShowingBackToSetupGuideStep:g}=l;const[v,E]=(0,n.useState)(!1),[C,T]=(0,n.useState)(0),[I,y]=(0,n.useState)(),b=(0,n.useRef)(!1),D=d==null?void 0:d[C],j=(D==null?void 0:D.delay)??0,U=()=>{const k=D==null?void 0:D.getScrollContainer;return k?k():window},{reportSpotlightError:R}=(0,i.useReportSpotlightError)({guidanceStepIndex:f,isFallback:m,isTouring:v,spotlightTourStepIndex:C}),L=(0,n.useCallback)(()=>{b.current=!1,p||E(!1),T(0)},[E,T,p]);(0,n.useEffect)(()=>{L()},[f,m,L]);const x=(0,n.useCallback)(()=>{setTimeout(()=>{E(!1)},parseInt(r.TransitionDuration))},[]),G=(0,n.useCallback)(()=>{E(!0)},[]);return(0,n.useEffect)(()=>{v&&(b.current=!0)},[v]),(0,n.useEffect)(()=>{const k=!u&&b.current,V=u&&b.current&&!g;k&&x(),V&&G()},[u,x,G,g]),(0,n.useEffect)(()=>{let k=!0;return V(),()=>{k=!1};async function V(){if(!D)return;const{targetSelectors:$,delay:J}=D,ee=(await Promise.all($.map(re=>{let{anchorSelector:Ee,frameSelector:Te,matchingStrategy:z}=re;return z===e.SELECTOR_MATCHING_STRATEGIES.ALL?(0,c.findElements)({anchorSelector:Ee,frameSelector:Te,preSearchDelay:J}):z===e.SELECTOR_MATCHING_STRATEGIES.LAST?(0,c.findLastElement)({anchorSelector:Ee,frameSelector:Te,preSearchDelay:J}):(0,c.findFirstElement)({anchorSelector:Ee,frameSelector:Te,preSearchDelay:J})}))).flat().filter(a);if(!k)return;if(!ee.length){$.length>0&&R("Failed to find required spotlight elements");return}const de=ee.map((re,Ee)=>{var Te,z;const be=(Te=$[Ee])===null||Te===void 0?void 0:Te.isNotInteractive,me=(z=$[Ee])===null||z===void 0?void 0:z.isFocusable;return{element:re,isNotInteractive:be,isFocusable:me}});y(de)}},[D,v,R]),{isTouring:v,setIsTouring:E,spotlightTourStepIndex:C,setSpotlightTourStepIndex:T,resetTour:L,spotlightTargets:I,spotlightDelay:j,getScrollContainer:U}}},98485:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useSpotlightScroll=a;var n=t(451846),r=t(174161),e=t(938044),c=t(664047),i=t(893586);function a(s){let{targetElements:l,targetElementsDimensions:d,getScrollContainer:f,beforeScroll:m,afterScroll:u}=s;const p=(0,r.useRef)(!1),g=f(),v=(0,n.usePrefersReducedMotion)();(0,r.useEffect)(()=>{const E=l.length,T=l.length===d.length&&(0,i.getTopElementDimensions)(d);if(!(E&&T))return;const y=T.y;if(!p.current&&(0,i.isTopElementOffScreen)({scrollContainer:g,topElementDimensions:T})){if(!g){(0,e.captureException)("Scroll container not found for Guidance spotlight target elements",{targetElements:l});return}const D=Math.floor((0,i.isScrollContainerHTMLElement)(g)?g.scrollTop:g.scrollY),j=Math.floor(Math.max(y-c.SCROLL_TOP_LEEWAY_PX+(0,i.getScrollTargetHeightOffset)(g),0));if(D===j)return;m(),p.current=!0,g.scrollTo({top:j,behavior:v?"instant":"smooth"})}},[l,d,m,u,p,g,v]),(0,r.useEffect)(()=>{const E=()=>{p.current&&(p.current=!1,u())};g==null||g.addEventListener("scrollend",E);const C=setTimeout(()=>{E(),g==null||g.removeEventListener("scrollend",E)},1e3);return()=>{g==null||g.removeEventListener("scrollend",E),clearTimeout(C)}},[u,g])}},118337:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(778008),e=l(t(174161)),c=t(770748),i=n(t(169483)),a=n(t(613814));function s(m){if(typeof WeakMap!="function")return null;var u=new WeakMap,p=new WeakMap;return(s=function(g){return g?p:u})(m)}function l(m,u){if(!u&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var p=s(u);if(p&&p.has(m))return p.get(m);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in m)if(E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)){var C=v?Object.getOwnPropertyDescriptor(m,E):null;C&&(C.get||C.set)?Object.defineProperty(g,E,C):g[E]=m[E]}return g.default=m,p&&p.set(m,g),g}function d(m){let{currentStepIndex:u,spotlightTourSteps:p,onChange:g,onComplete:v,onExitTour:E}=m;const C=(0,e.useRef)(!1),T=u>=p.length-1,I=!T||!!v,y=(0,e.useCallback)((b,D)=>{C.current||(C.current=!0,b(),setTimeout(()=>{C.current=!1},D))},[C]);return e.default.createElement(r.Flex,{alignItems:"center","aria-label":(0,c.t)("Tutorial slideshow controls",null,{project:"guidance-engine",notes:"This component has the buttons that control the tutorial slideshow"}),justifyContent:"space-between",mt:2,role:"group"},e.default.createElement(r.Box,{flex:1},e.default.createElement(a.default,{buttonType:"previous",onClick:()=>{var b;const D=u-1,j=((b=p[D])===null||b===void 0?void 0:b.delay)??0;y(()=>{u>0?g({slideIndex:D,clickedButton:!0,isNavigatingForward:!1}):E==null||E()},j)}})),e.default.createElement(i.default,{currentStepIndex:u,spotlightTourSteps:p,onChange:b=>{var D;const j=(p==null||(D=p[b])===null||D===void 0?void 0:D.delay)??0;y(()=>{g({slideIndex:b,clickedButton:!1,isNavigatingForward:b>u})},j)}}),e.default.createElement(r.Box,{flex:1,sx:{textAlign:"right"}},I&&e.default.createElement(a.default,{buttonType:T?"done":"next",onClick:()=>{var b;const D=u+1,j=((b=p[D])===null||b===void 0?void 0:b.delay)??0;y(()=>{T?v==null||v():g({slideIndex:D,clickedButton:!0,isNavigatingForward:!0})},j)}})))}var f=o.default=d;P.exports=o.default},169483:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(778008),e=n(t(174161)),c=t(770748);function i(s){let{spotlightTourSteps:l,currentStepIndex:d,onChange:f}=s;return e.default.createElement(r.Flex,{alignItems:"center",flex:1,gap:1,justifyContent:"center",sx:{textAlign:"center"}},l.length>1&&l.map((m,u)=>{const p=u===d,g=u+1,v=JSON.stringify(m);return e.default.createElement(r.Touchable,{"aria-current":p,"aria-label":(0,c.t)("Show slide {current} of {total}",{current:g,total:l.length},{project:"guidance-engine",notes:"This button navigates to a specific slide in the tutorial slideshow"}),borderRadius:1,"data-testid":"slide-indicator",display:"flex",height:2,hitSlop:{left:0,right:0,top:20,bottom:20},key:v,sx:{alignItems:"center","&:hover > span":{backgroundColor:p?"blue.400":"white"},"&:focus-visible > span":{outline:"2px solid currentColor",outlineOffset:"2px"},"& > span":{width:"100%",height:"2px",borderRadius:"4px",display:"block",backgroundColor:p?"blue.400":"gray.600",transition:"background-color 300ms"}},width:20,onClick:()=>{f(u)}})}))}var a=o.default=i;P.exports=o.default},613814:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(488475),e=t(778008),c=n(t(174161)),i=t(770748);const a={borderRadius:"50%",display:"inline-flex"},s={"&:hover":{color:"black"}},l={previous:(0,i.t)("Show previous slide",null,{project:"guidance-engine",notes:"This button navigates to the previous slide in the tutorial slideshow"}),next:(0,i.t)("Show next slide",null,{project:"guidance-engine",notes:"This button navigates to the next slide in the tutorial slideshow"}),done:(0,i.t)("Finish tutorial slideshow",null,{project:"guidance-engine",notes:"This button ends the tutorial slideshow"})},d={previous:"previous-slide-button",next:"next-slide-button",done:"finish-slideshow-button"},f={previous:c.default.createElement(r.ArrowLeft,{color:"currentColor"}),next:c.default.createElement(r.ArrowRight,{color:"currentColor"}),done:c.default.createElement(r.Checkmark,{color:"currentColor"})};function m(p){let{buttonType:g,onClick:v}=p;return c.default.createElement(e.Touchable.Element.Icon,{"aria-label":l[g],"data-testid":d[g],my:0,sx:{...a,...s,"&:focus::before":{outline:"2px solid currentColor",outlineOffset:"2px"}},onClick:v},f[g])}var u=o.default=m;P.exports=o.default},65048:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(778008),r=d(t(174161)),e=t(602518),c=t(548484),i=t(664047),a=t(770748),s=t(289347);function l(p){if(typeof WeakMap!="function")return null;var g=new WeakMap,v=new WeakMap;return(l=function(E){return E?v:g})(p)}function d(p,g){if(!g&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var v=l(g);if(v&&v.has(p))return v.get(p);var E={__proto__:null},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in p)if(T!=="default"&&Object.prototype.hasOwnProperty.call(p,T)){var I=C?Object.getOwnPropertyDescriptor(p,T):null;I&&(I.get||I.set)?Object.defineProperty(E,T,I):E[T]=p[T]}return E.default=p,v&&v.set(p,E),E}const f={gridRow:1,gridColumn:1};function m(p){let{currentStepIndex:g,spotlightTourSteps:v,navigateDirection:E,enableAnimation:C,shouldAnimate:T}=p;const I=(0,r.useId)();return r.default.createElement(n.Box,{"aria-labelledby":`${I}-${g}`,"aria-roledescription":(0,a.t)("slide",null,{project:"guidance-engine",notes:"This component is a slide in a tutorial slideshow"}),display:"grid",overflow:"hidden",role:"group"},v.map((y,b)=>{const D=b===g,j=JSON.stringify(y);return r.default.createElement(n.Box,{"aria-hidden":!D,"data-testid":"slide",id:`${I}-${b}`,key:j,opacity:D?1:0,sx:{...f,transition:"opacity 300ms",pointerEvents:D?"auto":"none"}},r.default.createElement(e.Fade,{disableAnimation:!T,duration:i.GUIDANCE_ANIMATION_DURATION_MS,fadeInDirection:E===s.NavigateDirection.BACKWARD?c.FadeInDirection.LEFT:c.FadeInDirection.RIGHT,shouldFadeIn:D,shouldKeepElementsInDom:!0,onEntered:C},r.default.createElement(n.Text.Body,{color:"currentColor",m:0},y.description)))}))}var u=o.default=m;P.exports=o.default},804641:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(778008),e=d(t(174161)),c=t(770748),i=n(t(118337)),a=n(t(65048)),s=n(t(150948));function l(u){if(typeof WeakMap!="function")return null;var p=new WeakMap,g=new WeakMap;return(l=function(v){return v?g:p})(u)}function d(u,p){if(!p&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var g=l(p);if(g&&g.has(u))return g.get(u);var v={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in u)if(C!=="default"&&Object.prototype.hasOwnProperty.call(u,C)){var T=E?Object.getOwnPropertyDescriptor(u,C):null;T&&(T.get||T.set)?Object.defineProperty(v,C,T):v[C]=u[C]}return v.default=u,g&&g.set(u,v),v}const f=u=>{let{isVisible:p,spotlightTourSteps:g,spotlightTourStep:v=0,onChange:E,onComplete:C,onExitTour:T,onView:I}=u;const{navigateDirection:y,setNavigateDirection:b,enableAnimation:D,shouldAnimate:j}=(0,s.default)();return(0,e.useEffect)(()=>{p&&I()},[p,I]),e.default.createElement(r.Box,{"aria-label":(0,c.t)("Tutorial slideshow",null,{project:"guidance-engine",notes:"This slideshow gives users a tutorial of how to use parts of Squarespace"}),role:"region"},e.default.createElement(a.default,{currentStepIndex:v,enableAnimation:D,navigateDirection:y,shouldAnimate:j,spotlightTourSteps:g}),e.default.createElement(i.default,{currentStepIndex:v,spotlightTourSteps:g,onChange:U=>{b(U.isNavigatingForward),E(U)},onComplete:C,onExitTour:T}))};var m=o.default=f;P.exports=o.default},289347:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.NavigateDirection=void 0;let t=o.NavigateDirection=function(n){return n.BACKWARD="backward",n.FORWARD="forward",n}({})},150948:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(174161),r=t(289347);const e=()=>{const i=(0,n.useRef)(null),[a,s]=(0,n.useState)(!1),l=d=>{i.current=d?r.NavigateDirection.FORWARD:r.NavigateDirection.BACKWARD};return{navigateDirection:i.current,shouldAnimate:a,setNavigateDirection:l,enableAnimation:()=>{s(!0)}}};var c=o.default=e;P.exports=o.default},223280:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useSetupGuideContext=o.SetupGuideProvider=void 0;var r=t(576337),e=t(647938),c=t(451846),i=n(t(174161)),a=t(938044),s=n(t(867569)),l=n(t(253256)),d=n(t(962961)),f=n(t(14029));const[m,u]=(0,c.createGenericContext)();o.useSetupGuideContext=m;const p=g=>{let{isSetupGuideLandingEnabled:v,isSitePublished:E,isSitePasswordProtected:C,siteTitle:T,toggleSiteEditMode:I,websiteDomain:y,children:b}=g;const D=(0,r.useUserIdentifiers)(),{data:j,isLoading:U,originalData:R}=(0,e.usePredictedIntents)({identifier:D,integrationName:e.ProvideInsightsRequestIntegrationNameEnum.ACTIVATION,integrationPoint:"guidance-engine-setup-guide",withOrdering:!0,withThresholds:!0}),{hasSuccessfullyExtendedUser:L}=(0,s.default)({predictedIntents:R,isFetchingIntents:U,withDeviceType:!0}),x=(0,d.default)({isReadyForAssignment:L}),G=(0,f.default)({isReadyForAssignment:L}),k=(0,l.default)({isReadyForAssignment:L});return i.default.createElement(a.ErrorBoundary,{errorContents:b},i.default.createElement(u,{value:{availableIntents:j,isFetchingIntents:U,isSetupGuideLandingEnabled:v,isSetupGuideMerchAndVideoWidgetsEnabled:x,isSetupGuideMerchWidgetEnabled:G,isRegistrationSellersGuideEnabled:k,isTestStateReady:L,isSitePasswordProtected:C,isSitePublished:E,siteTitle:T,toggleSiteEditMode:I,websiteDomain:y}},b))};o.SetupGuideProvider=p},255694:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=n(t(963522)),c=n(t(586069)),i=t(778008),a=C(t(900727)),s=t(568175),l=t(933372),d=C(t(174161)),f=t(375696),m=t(223280),u=n(t(594711)),p=t(466920),g=n(t(714039)),v=n(t(887492));function E(y){if(typeof WeakMap!="function")return null;var b=new WeakMap,D=new WeakMap;return(E=function(j){return j?D:b})(y)}function C(y,b){if(!b&&y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var D=E(b);if(D&&D.has(y))return D.get(y);var j={__proto__:null},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in y)if(R!=="default"&&Object.prototype.hasOwnProperty.call(y,R)){var L=U?Object.getOwnPropertyDescriptor(y,R):null;L&&(L.get||L.set)?Object.defineProperty(j,R,L):j[R]=y[R]}return j.default=y,D&&D.set(y,j),j}const T=()=>{(0,d.useEffect)(()=>{(0,f.trackUserViewsSetupGuide)()},[]);const{availableIntents:y,isFetchingIntents:b,isRegistrationSellersGuideEnabled:D,isSetupGuideLandingEnabled:j,isSetupGuideMerchAndVideoWidgetsEnabled:U,isSetupGuideMerchWidgetEnabled:R,isTestStateReady:L,isSitePasswordProtected:x,isSitePublished:G,siteTitle:k,websiteDomain:V}=(0,m.useSetupGuideContext)(),$=(0,d.useMemo)(()=>y.map(re=>{let{intent:Ee}=re;return Ee}),[y]),J=(0,p.useWidgetInfo)(),ee=U||R;if(!L)return d.default.createElement(u.default,null);const de={lifecycleStage:l.LifecycleStage.PRE_PUBLISH,productArea:l.ProductArea.SETUP_GUIDE,widgetPositionTotal:J.totalWidgets};return d.default.createElement(s.Panel,{"data-testid":"setup-guide-container"},d.default.createElement(s.Content.Full,{style:{padding:0,textWrap:"pretty"}},d.default.createElement(v.default,null),d.default.createElement(i.Flex,{flexDirection:"column",gap:2,mb:6},d.default.createElement(a.default,(0,r.default)({hideTitle:!ee,intents:$,isRegistrationSellersGuideEnabled:D,pb:4,px:6,sitePreviewProps:{isSetupGuideLandingEnabled:j,isSitePasswordProtected:x,isSitePublished:G,siteTitle:k,websiteDomain:V},variant:ee?a.SetupGuideWidgetVariant.GRAY:void 0,widgetPositionIndex:J.positionMap[l.WidgetName.SETUP_GUIDE]},de)),U&&d.default.createElement(g.default,{py:4},d.default.createElement(e.default,(0,r.default)({intents:$,isLoading:b,widgetPositionIndex:J.positionMap[l.WidgetName.HELP_VIDEO]},de))),ee&&d.default.createElement(g.default,{py:4},d.default.createElement(c.default,(0,r.default)({intents:$,isLoading:b,widgetPositionIndex:J.positionMap[l.WidgetName.PRODUCT_MERCHANDISING]},de))))))};var I=o.default=T;P.exports=o.default},148592:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(339919),c=t(670563),i=n(t(174161));const a=l=>{let{children:d,...f}=l;const m=(0,e.useNavigationWidth)(),u=parseInt(m)||0,p=[768-u,1024-u,1440-u,1/0];return i.default.createElement(c.Grid.Container,(0,r.default)({breakpoints:p,gutter:6,margin:0,maxWidth:"100%",px:6},f),d)};var s=o.default=a;P.exports=o.default},594711:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(670563),e=t(778008),c=n(t(174161)),i=t(92278);const a=()=>c.default.createElement(e.Flex,{alignItems:"center",height:`${i.SETUP_GUIDE_LOADING_HEIGHT}px`,justifyContent:"center"},c.default.createElement(r.ActivityIndicator,null));var s=o.default=a;P.exports=o.default},567589:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(465006),e=t(778008),c=t(352635),i=n(t(174161)),a=t(770748);const s={display:"inline-block"},l={"button:has(&) &":{flexShrink:0}},d=i.default.createElement(a.T,{project:"guidance-engine"},"Home"),f=u=>{let{isSelected:p,isVisible:g,isEditing:v,isEditable:E}=u;const C=v&&(!g||!E),T=p?"fg.default":"fg.muted",I={"&:hover":{color:"gray.200"}};return i.default.createElement(e.Flex,{alignItems:"flex-start",color:C?"fg.disabled":T,sx:v?{}:I},i.default.createElement(e.Text.Subtitle,{color:"inherit",m:0,sx:{...l}},i.default.createElement("span",{style:{...s}},i.default.createElement(a.T,{project:"guidance-engine"},"Setup Guide"))),i.default.createElement("span",null,i.default.createElement(r.SetupGuide,{color:"inherit",sx:{ml:1,position:"relative",top:"3px",width:c.sizes.sizes[125]}})))};var m=o.default=f;P.exports=o.default},488886:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;const t="/setup-guide";var n=o.default=t;P.exports=o.default},92278:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SETUP_GUIDE_LOADING_HEIGHT=void 0;const t=o.SETUP_GUIDE_LOADING_HEIGHT=688},867569:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(485533),r=t(57474);const e=i=>{var a,s,l,d,f;let{isFetchingIntents:m,predictedIntents:u,withDeviceType:p}=i;const{hasSuccessfullyExtendedUser:g}=(0,r.useExtendUser)({data:{...u?{goal_ecommerce:((a=u.GOAL_ECOMMERCE)===null||a===void 0?void 0:a.score)??0,goal_invoicing:((s=u.GOAL_INVOICING)===null||s===void 0?void 0:s.score)??0,goal_service_seller:((l=u.GOAL_SERVICE_SELLER)===null||l===void 0?void 0:l.score)??0,goal_scheduling:((d=u.GOAL_SCHEDULING)===null||d===void 0?void 0:d.score)??0,goal_registration_seller:((f=u.GOAL_REGISTRATION_SELLER)===null||f===void 0?void 0:f.score)??0}:null,...p?{device_type:n.Utils.getDeviceType()}:null},isReadyToExtend:u?!m:!0});return{hasSuccessfullyExtendedUser:g}};var c=o.default=e;P.exports=o.default},253256:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(57474),r=t(174161);const e=(0,n.setUpABTestExperiment)({experimentName:n.ActivationEngineStatsigExperiment.SETUP_GUIDE_REGISTRATION_SELLERS_GUIDE,team:n.Team.ACTIVATION_ENGINE}),c=a=>{let{isReadyForAssignment:s}=a;return(0,r.useEffect)(()=>{s&&e.fireAssignmentEvent()},[s]),s&&e.isEnabled()};var i=o.default=c;P.exports=o.default},962961:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(57474),r=t(174161);const e=(0,n.setUpABTestExperiment)({experimentName:n.ActivationEngineStatsigExperiment.SETUP_GUIDE_MERCH_AND_VIDEO_WIDGETS,team:n.Team.ACTIVATION_ENGINE}),c=a=>{let{isReadyForAssignment:s}=a;return(0,r.useEffect)(()=>{s&&e.fireAssignmentEvent()},[s]),s&&e.isEnabled()};var i=o.default=c;P.exports=o.default},14029:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(57474),r=t(174161);const e=(0,n.setUpABTestExperiment)({experimentName:n.ActivationEngineStatsigExperiment.SETUP_GUIDE_MERCH_WIDGET,team:n.Team.ACTIVATION_ENGINE}),c=a=>{let{isReadyForAssignment:s}=a;return(0,r.useEffect)(()=>{s&&e.fireAssignmentEvent()},[s]),s&&e.isEnabled()};var i=o.default=c;P.exports=o.default},466920:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useWidgetInfo=void 0;var n=t(933372),r=t(174161),e=t(223280);const c=()=>{const{isSetupGuideMerchAndVideoWidgetsEnabled:i,isSetupGuideMerchWidgetEnabled:a}=(0,e.useSetupGuideContext)();return(0,r.useMemo)(()=>{const s=[{name:n.WidgetName.SETUP_GUIDE,isEnabled:!0},{name:n.WidgetName.HELP_VIDEO,isEnabled:i},{name:n.WidgetName.PRODUCT_MERCHANDISING,isEnabled:i||a}].filter(d=>d.isEnabled),l={};return s.forEach((d,f)=>{l[d.name]=f}),{totalWidgets:s.length,positionMap:l,availableWidgets:s.map(d=>d.name)}},[i,a])};o.useWidgetInfo=c},697137:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(174161)),e=t(679497),c=n(t(255694));function i(){return r.default.createElement(c.default,null)}var a=o.default=(0,e.withEnsureGuidanceEnginePreferences)(i);P.exports=o.default},714039:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(670563),e=n(t(174161)),c=n(t(148592));const i=s=>{let{children:l,...d}=s;return e.default.createElement(c.default,d,e.default.createElement(r.Grid.Item,{columns:12},l))};var a=o.default=i;P.exports=o.default},887492:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(894458),e=t(778008),c=t(569901),i=n(t(174161)),a=t(223280),s=t(770748),l=t(375696),d=t(305031);const f=()=>{const{isSetupGuideLandingEnabled:u,toggleSiteEditMode:p}=(0,a.useSetupGuideContext)(),{push:g}=(0,c.useNavigation)(),v=(0,d.getFirstName)(),E=v?(0,s.t)("{firstName}'s Setup Guide",{firstName:v},{project:"guidance-engine"}):(0,s.t)("Setup Guide",null,{project:"guidance-engine"}),C=()=>{(0,l.trackUserClicksEditSiteButton)(),u?g("/website"):p()};return i.default.createElement(r.PageHeader,{mb:0,pb:8,pt:5,px:6},i.default.createElement(r.PageHeader.Body,null,i.default.createElement(r.PageHeader.Title,{title:E}),i.default.createElement(r.PageHeader.Actions,null,i.default.createElement(e.Button.Primary,{size:"medium",onClick:C},i.default.createElement(s.T,{project:"guidance-engine"},"Edit site")))))};var m=o.default=f;P.exports=o.default},501233:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.onCompleteGuidanceEngineTask=e;var n=t(750946),r=t(938044);function e(c){let{taskType:i}=c;try{(0,n.completeTask)(i)}catch(a){(0,r.captureException)("Failed to complete task",a)}}},713745:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useEscapeHandler=void 0;var n=t(451846),r=t(174161);const e=(c,i)=>{const a=(0,r.useCallback)(s=>{!i||!n.Keyboard.isEscapeKey(s)||(s.stopPropagation(),c())},[c,i]);(0,r.useEffect)(()=>(document.addEventListener("keyup",a,{capture:!0}),()=>{document.removeEventListener("keyup",a,{capture:!0})}))};o.useEscapeHandler=e},184913:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FOCUS_DATA_ATTRIBUTE_TOOLTIP_BODY=o.FOCUS_DATA_ATTRIBUTE_SPOTLIGHT=o.FOCUS_DATA_ATTRIBUTE_BUBBLE_DRAG_HANDLE=o.FOCUS_DATA_ATTRIBUTE_BUBBLE=o.DIRECTION=void 0,o.focusOnBubble=l,o.getNextIndex=f,o.getTabbableElementsInContainer=a,o.getTabbableGuidanceElements=s,o.useFocusLockOrdering=void 0;var n=t(174161);const r=o.FOCUS_DATA_ATTRIBUTE_BUBBLE="data-focus-guidance-bubble",e=o.FOCUS_DATA_ATTRIBUTE_BUBBLE_DRAG_HANDLE="data-focus-guidance-bubble-drag-handle",c=o.FOCUS_DATA_ATTRIBUTE_TOOLTIP_BODY="data-focus-guidance-tooltip-body",i=o.FOCUS_DATA_ATTRIBUTE_SPOTLIGHT="data-focus-guidance-spotlight";function a(u){if(!u)return[];const p='button:not([disabled]):not([tabindex="-1"])',g='a[href]:not([tabindex="-1"])',v='[tabindex]:not([tabindex="-1"])',E=u.querySelectorAll(`
    ${p},
    ${g},
    ${v}
  `);return E?Array.from(E):[]}function s(){const u=document.querySelector(`[${r}]`),p=document.querySelector(`[${e}]`),g=document.querySelector(`[${c}]`),v=document.querySelector(`[${i}]`),E=a(g),C=a(v);return[...E,p,u,...C]}function l(){var u;(u=document.querySelector(`[${r}]`))===null||u===void 0||u.focus()}const d=o.DIRECTION={FORWARD:1,BACK:-1};function f(u){let{currentIndex:p,direction:g,totalItems:v}=u;const E=v;return(p+g+E)%v}const m=u=>{let{isTouring:p}=u;const g=(0,n.useRef)(0),v=(0,n.useRef)(()=>{}),E=(0,n.useCallback)(y=>{if(y.key.toLowerCase()==="tab"){y.preventDefault();const b=s();g.current=f({currentIndex:g.current,direction:y.shiftKey?d.BACK:d.FORWARD,totalItems:b.length});const D=b[g.current];D==null||D.focus()}},[]),C=(0,n.useCallback)(()=>{var y;(y=s()[0])===null||y===void 0||y.focus()},[]),T=(0,n.useCallback)(()=>{document.body.addEventListener("keydown",E),v.current=()=>{document.body.removeEventListener("keydown",E)}},[E]),I=(0,n.useCallback)(()=>{v.current(),g.current=0},[]);(0,n.useEffect)(()=>(p&&(C(),T()),()=>{I()}),[p,C,T,I])};o.useFocusLockOrdering=m},679497:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.withEnsureGuidanceEnginePreferences=o.useGuidanceEnginePreferences=o.setGuidanceEnginePreferences=o.Namespace=void 0;var n=t(451846);const r=o.Namespace="guidanceEngine",{setPreferences:e,usePreferences:c,withEnsurePreferences:i}=(0,n.setupNamespace)({namespace:r});o.withEnsureGuidanceEnginePreferences=i,o.useGuidanceEnginePreferences=c,o.setGuidanceEnginePreferences=e},770748:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.t=o.pluralize=o.parseNumber=o.getCurrencySymbol=o.formatQuantity=o.formatNumber=o.formatIcuMessage=o.formatCurrencyToParts=o.formatCurrency=o.T=o.Plural=o.FormattedNumber=o.FormattedDateTime=o.FormattedCurrency=void 0;var r=n(t(555912)),e=n(t(470407)),c=n(t(59794)),i=t(258082);const a=(0,i.getI18nInstance)(),s=new c.default(a),l=new r.default(a),d=new e.default(a),{formatIcuMessage:f}=l;o.formatIcuMessage=f;const{parseNumber:m}=d;o.parseNumber=m;const{T:u,Plural:p,FormattedCurrency:g,FormattedNumber:v,FormattedDateTime:E}=s;o.FormattedDateTime=E,o.FormattedNumber=v,o.FormattedCurrency=g,o.Plural=p,o.T=u;const{formatNumber:C,formatCurrency:T,formatCurrencyToParts:I,getCurrencySymbol:y,formatQuantity:b,translate:D,pluralize:j}=a;o.pluralize=j,o.t=D,o.formatQuantity=b,o.getCurrencySymbol=y,o.formatCurrencyToParts=I,o.formatCurrency=T,o.formatNumber=C},258082:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.setI18nInstance=o.getI18nInstance=void 0;var n=t(638204);const r="guidance-engine";function e(a){return t(865440)(`./${r}.${a}.yaml`)}const{getI18nInstance:c,setI18nInstance:i}=(0,n.setupLibrary)(r,e);o.setI18nInstance=i,o.getI18nInstance=c},132782:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"ContextualGuidance",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(o,"ElementDataIds",{enumerable:!0,get:function(){return i.ElementDataIds}}),Object.defineProperty(o,"GUIDANCE_DATA_ATTRIBUTE",{enumerable:!0,get:function(){return c.GUIDANCE_DATA_ATTRIBUTE}}),Object.defineProperty(o,"GuidanceEngineProvider",{enumerable:!0,get:function(){return d.GuidanceEngineProvider}}),Object.defineProperty(o,"SetupGuide",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(o,"SetupGuideProvider",{enumerable:!0,get:function(){return m.SetupGuideProvider}}),Object.defineProperty(o,"SetupGuideRoute",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(o,"SetupGuideTitle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(o,"TaskType",{enumerable:!0,get:function(){return r.TaskType}}),Object.defineProperty(o,"getElementSelector",{enumerable:!0,get:function(){return s.getElementSelector}}),Object.defineProperty(o,"getGuidanceEngineDataAttribute",{enumerable:!0,get:function(){return l.getGuidanceEngineDataAttribute}}),Object.defineProperty(o,"isContextualGuidanceEnabled",{enumerable:!0,get:function(){return l.isContextualGuidanceEnabled}}),Object.defineProperty(o,"isEligibleForGuidanceEngine",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(o,"onCompleteGuidanceEngineTask",{enumerable:!0,get:function(){return g.onCompleteGuidanceEngineTask}}),Object.defineProperty(o,"useGuidance",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(o,"useGuidanceEngineContext",{enumerable:!0,get:function(){return d.useGuidanceEngineContext}}),Object.defineProperty(o,"useGuidanceEnginePreferences",{enumerable:!0,get:function(){return v.useGuidanceEnginePreferences}});var r=t(534246),e=n(t(870435)),c=t(771109),i=t(385219),a=n(t(986830)),s=t(412348),l=t(842170),d=t(174219),f=n(t(697137)),m=t(223280),u=n(t(567589)),p=n(t(488886)),g=t(501233),v=t(679497),E=n(t(443537))},156129:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.trackUserViewsContextualGuidanceTourStep=o.trackUserViewsContextualGuidanceBubbleTip=o.trackUserViewsContextualGuidanceBubble=o.trackUserOpensContextualGuidanceBubble=o.trackUserNavigatesInContextualGuidanceBubble=o.trackUserMovesContextualGuidanceBubble=o.trackUserDismissesContextualGuidanceBubble=o.trackUserClosesContextualGuidanceBubbleTip=o.trackUserClicksScreenDuringTour=o.trackUserClicksContextualGuidanceBubbleCTA=void 0;var n=t(485533),r=t(153102);const{Action:e,Actor:c,ObjectType:i}=n.Utils.EventTracker,a=E=>{let{guideType:C,taskType:T}=E;(0,r.trackEvent)({action:e.VIEW,actor:c.USER,event_name:"UserViewsGuidanceBubble",object_type:i.MODAL,object_identifier:T,guide_name:C})};o.trackUserViewsContextualGuidanceBubble=a;const s=E=>{let{guideType:C,isFallback:T,taskType:I,tipIdentifier:y}=E;(0,r.trackEvent)({action:e.VIEW,actor:c.USER,event_name:"UserViewsGuidanceBubbleTip",is_fallback:T,object_type:i.MODAL,object_identifier:y,guide_name:C,task_name:I})};o.trackUserViewsContextualGuidanceBubbleTip=s;const l=E=>{let{guideType:C,objectIdentifier:T,taskType:I,tipIdentifier:y}=E;(0,r.trackEvent)({action:e.VIEW,actor:c.USER,event_name:"UserClosesGuidanceBubble",object_type:i.MODAL,object_identifier:T,indirect_object_identifier:y,guide_name:C,task_name:I})};o.trackUserClosesContextualGuidanceBubbleTip=l;const d=E=>{let{guideType:C,taskType:T,tipIdentifier:I}=E;(0,r.trackEvent)({action:e.VIEW,actor:c.USER,event_name:"UserViewsGuidanceTourStep",object_type:i.MODAL,object_identifier:I,guide_name:C,task_name:T})};o.trackUserViewsContextualGuidanceTourStep=d;const f=E=>{let{guideType:C,objectIdentifier:T,taskType:I,tipIdentifier:y}=E;(0,r.trackEvent)({action:e.CLICK,actor:c.USER,event_name:"UserClicksGuidanceBubbleCTA",object_type:i.BUTTON,object_identifier:T,indirect_object_identifier:y,guide_name:C,task_name:I})};o.trackUserClicksContextualGuidanceBubbleCTA=f;const m=E=>{let{guideType:C,taskType:T,tipIdentifier:I}=E;(0,r.trackEvent)({action:e.DISMISS,actor:c.USER,event_name:"UserDismissesGuidanceBubble",object_type:i.MODAL,object_identifier:I,guide_name:C,task_name:T})};o.trackUserDismissesContextualGuidanceBubble=m;const u=E=>{let{clickedButton:C,guideType:T,isNavigatingForward:I,taskType:y,tipIdentifier:b}=E;(0,r.trackEvent)({action:e.CLICK,actor:c.USER,event_name:I?"UserNavigatesForwardInGuidanceBubble":"UserNavigatesBackwardInGuidanceBubble",object_type:i.BUTTON,object_identifier:C?"button":"slide-control",indirect_object_identifier:b,guide_name:T,task_name:y})};o.trackUserNavigatesInContextualGuidanceBubble=u;const p=E=>{let{guideType:C,taskType:T,tipIdentifier:I,xPosition:y,yPosition:b}=E;(0,r.trackEvent)({action:e.MOVE,actor:c.USER,event_name:"UserMovesGuidanceBubble",object_type:i.MODAL,object_identifier:I,guide_name:C,task_name:T,x_position:y,y_position:b})};o.trackUserMovesContextualGuidanceBubble=p;const g=E=>{let{guideType:C,taskType:T,tipIdentifier:I}=E;(0,r.trackEvent)({action:e.OPEN,actor:c.USER,event_name:"UserOpensContextualGuidanceBubble",object_type:i.MODAL,indirect_object_identifier:I,guide_name:C,task_name:T})};o.trackUserOpensContextualGuidanceBubble=g;const v=E=>{let{guideType:C,taskType:T,tipIdentifier:I,objectIdentifier:y}=E;(0,r.trackEvent)({action:e.CLICK,actor:c.USER,event_name:"UserClicksScreenDuringTour",object_type:i.SCREEN,object_identifier:y,indirect_object_identifier:I,guide_name:C,task_name:T})};o.trackUserClicksScreenDuringTour=v},375696:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.trackUserViewsTooltip=o.trackUserViewsSetupGuide=o.trackUserViewsGuide=o.trackUserDismissesTooltip=o.trackUserClicksTaskCard=o.trackUserClicksStatusTaskButton=o.trackUserClicksStatusCTA=o.trackUserClicksEditSiteButton=o.trackUserClicksDismissTaskCardConfirmationModal=o.trackUserClicksDismissTaskCard=o.trackUserClicksDismissSetupGuideCard=o.trackUserClicksDismissSetupGuide=void 0;var n=t(689699),r=t(153102);const e=()=>{(0,r.trackEvent)({action:n.Action.VIEW,actor:n.Actor.USER,event_name:"UserViewsSetupGuide",object_type:n.ObjectType.PAGE})};o.trackUserViewsSetupGuide=e;const c=()=>{(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksDismissSetupGuide",object_type:n.ObjectType.BUTTON})};o.trackUserClicksDismissSetupGuide=c;const i=v=>{let{didDismiss:E}=v;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksDismissSetupGuideCard",object_type:n.ObjectType.CARD,object_identifier:E?"dismiss":"cancel"})};o.trackUserClicksDismissSetupGuideCard=i;const a=v=>{let{guideType:E}=v;(0,r.trackEvent)({action:n.Action.VIEW,actor:n.Actor.USER,event_name:"UserViewsGuide",object_type:n.ObjectType.SECTION,object_identifier:E})};o.trackUserViewsGuide=a;const s=v=>{let{id:E,currentStatus:C,type:T,widgetName:I}=v;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksStatusCTA",object_type:T,object_identifier:E,indirect_object_identifier:C,widget_name:I})};o.trackUserClicksStatusCTA=s;const l=v=>{let{currentStatus:E,taskType:C}=v;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksStatusTaskButton",object_type:n.ObjectType.BUTTON,guide_name:"website_status",object_identifier:C,indirect_object_identifier:E})};o.trackUserClicksStatusTaskButton=l;const d=v=>{let{guideType:E,taskType:C}=v;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksTaskCard",object_type:n.ObjectType.CARD,object_identifier:C,guide_name:E})};o.trackUserClicksTaskCard=d;const f=v=>{let{guideType:E,taskType:C}=v;(0,r.trackEvent)({action:n.Action.DISMISS,actor:n.Actor.USER,event_name:"UserClicksDismissTaskCard",object_type:n.ObjectType.BUTTON,guide_name:E,task_name:C})};o.trackUserClicksDismissTaskCard=f;const m=v=>{let{didDismiss:E,guideType:C,taskType:T}=v;(0,r.trackEvent)({action:n.Action.DISMISS,actor:n.Actor.USER,event_name:"UserClicksDismissTaskCardConfirmationModal",object_type:n.ObjectType.MODAL,object_identifier:E?"dismiss":"cancel",guide_name:C,task_name:T})};o.trackUserClicksDismissTaskCardConfirmationModal=m;const u=v=>{let{tooltipCopy:E}=v;(0,r.trackEvent)({action:n.Action.VIEW,actor:n.Actor.USER,event_name:"UserViewsTooltip",object_type:n.ObjectType.TOOLTIP,object_identifier:E})};o.trackUserViewsTooltip=u;const p=v=>{let{tooltipCopy:E}=v;(0,r.trackEvent)({action:n.Action.DISMISS,actor:n.Actor.USER,event_name:"UserDismissesTooltip",object_type:n.ObjectType.TOOLTIP,object_identifier:E})};o.trackUserDismissesTooltip=p;const g=()=>{(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksEditSiteButton",object_type:n.ObjectType.BUTTON,object_identifier:"edit_site"})};o.trackUserClicksEditSiteButton=g},153102:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.trackEvent=void 0;var r=t(485533),e=t(228946),c=n(t(625392));const{createEventTracker:i}=r.Utils.EventTracker,a="SetupGuide",s="setup-guide",l="activation-engine",d=(0,c.default)(()=>i(a,{product_area:s,event_owner_team:l})),f=m=>{d()(m);const{event_name:p,...g}=m;(0,e.fireEvent)(p,g)};o.trackEvent=f},883303:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(174161),r=t(156129);const e=i=>{let{guidance:a,guideType:s,isTouring:l,spotlightTourStepIndex:d,isFallback:f}=i;const m=a==null?void 0:a.type,u=(0,n.useMemo)(()=>{if(!a)return;const U=[`step ${a.activeGuidanceStepId+1} of ${a.totalSteps}`];return l&&a.spotlightTourSteps&&U.push(`tour step ${d+1} of ${a.spotlightTourSteps.length}`),U.join(", ")},[a,l,d]),p=(0,n.useCallback)(U=>{m&&s&&u&&(0,r.trackUserClicksContextualGuidanceBubbleCTA)({guideType:s,objectIdentifier:U,taskType:m,tipIdentifier:u})},[s,m,u]),g=(0,n.useCallback)(U=>{m&&s&&u&&(0,r.trackUserClicksScreenDuringTour)({guideType:s,objectIdentifier:U,taskType:m,tipIdentifier:u})},[s,m,u]),v=(0,n.useCallback)(U=>{m&&s&&u&&(0,r.trackUserClosesContextualGuidanceBubbleTip)({guideType:s,objectIdentifier:U,tipIdentifier:u,taskType:m})},[s,u,m]),E=(0,n.useCallback)(()=>{m&&s&&u&&(0,r.trackUserDismissesContextualGuidanceBubble)({guideType:s,tipIdentifier:u,taskType:m})},[m,s,u]),C=(0,n.useCallback)(U=>{let{xPosition:R,yPosition:L}=U;m&&s&&u&&(0,r.trackUserMovesContextualGuidanceBubble)({guideType:s,taskType:m,tipIdentifier:u,xPosition:R,yPosition:L})},[m,s,u]),T=(0,n.useCallback)(U=>{let{clickedButton:R,isNavigatingForward:L}=U;m&&s&&u&&(0,r.trackUserNavigatesInContextualGuidanceBubble)({clickedButton:R,guideType:s,isNavigatingForward:L,taskType:m,tipIdentifier:u})},[m,s,u]),I=(0,n.useCallback)(()=>{m&&s&&u&&(0,r.trackUserOpensContextualGuidanceBubble)({guideType:s,taskType:m,tipIdentifier:u})},[m,s,u]),y=(0,n.useCallback)(()=>{m&&s&&(0,r.trackUserViewsContextualGuidanceBubble)({guideType:s,taskType:m})},[m,s]),b=(0,n.useCallback)(()=>{m&&s&&u&&(0,r.trackUserViewsContextualGuidanceBubbleTip)({guideType:s,isFallback:f,taskType:m,tipIdentifier:u})},[m,s,u,f]),D=(0,n.useCallback)(()=>{m&&s&&u&&(0,r.trackUserViewsContextualGuidanceTourStep)({guideType:s,taskType:m,tipIdentifier:u})},[m,s,u]),j=(0,n.useCallback)(()=>{m&&s&&(0,r.trackUserViewsContextualGuidanceBubbleTip)({guideType:s,isFallback:f,taskType:m,tipIdentifier:"end_of_tour"})},[s,f,m]);return{onUserClicksContextualGuidanceBubbleCTA:p,onUserClicksScreenDuringTour:g,onUserClosesContextualGuidanceBubbleTip:v,onUserDismissesContextualGuidanceBubble:E,onUserMovesContextualGuidanceBubble:C,onUserNavigatesInContextualGuidanceBubble:T,onUserOpensContextualGuidanceBubble:I,onUserViewsBubbleImprovementsEndOfTour:j,onUserViewsContextualGuidanceBubble:y,onUserViewsContextualGuidanceBubbleTip:b,onUserViewsContextualGuidanceTourStep:D}};var c=o.default=e;P.exports=o.default},810838:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PositionPoints=void 0;let t=o.PositionPoints=function(n){return n.TOP_LEFT="top-left",n.TOP_RIGHT="top-right",n.BOTTOM_RIGHT="bottom-right",n.BOTTOM_LEFT="bottom-left",n}({})},305031:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getFirstName=o.getAuthenticatedAccount=void 0;var n=t(883036);const r=()=>{var c;return(c=(0,n.getAccountContext)())===null||c===void 0?void 0:c.authenticatedAccount};o.getAuthenticatedAccount=r;const e=()=>{var c;return(c=r())===null||c===void 0?void 0:c.firstName};o.getFirstName=e},750946:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.getGuides=o.getGuide=o.dismissTasks=o.completeTasks=o.completeTask=o.ROOT_URL=o.MAX_RETRIES=void 0;var r=t(485533),e=n(t(456903));const c=o.ROOT_URL="/api/v1/guidance",i=o.MAX_RETRIES=3,a=[u=>{let{hasExceededMaxRetries:p}=u;return p?r.RetryPolicy.STOP:r.RetryPolicy.DEFAULT},{maxRetries:i}],s=u=>(0,r.retriablePromise)(()=>e.default.get(`${c}/surfaceArea`,{params:{surfaceArea:u}}),...a);o.getGuides=s;const l=(u,p)=>(0,r.retriablePromise)(()=>e.default.get(`${c}/guide`,{params:{guide:u,surfaceArea:p}}),...a);o.getGuide=l;const d=(u,p)=>(0,r.retriablePromise)(()=>e.default.post(`${c}/task/dismissal`,{surfaceArea:u,tasks:p}),...a);o.dismissTasks=d;const f=u=>(0,r.retriablePromise)(()=>e.default.post(`${c}/task/completion`,{tasks:u}),...a);o.completeTasks=f;const m=u=>f([u]);o.completeTask=m},938044:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.captureMessage=o.captureException=o.ErrorTags=o.ErrorBoundary=void 0;var n=t(451846),r=o.ErrorTags=function(a){return a.GUIDE_TYPE="guide_type",a.TASK_TYPE="task_type",a.GUIDANCE_STEP_INDEX="guidance_step_index",a.IS_IN_SPOTLIGHT_TOUR="is_in_spotlight_tour",a.SPOTLIGHT_TOUR_STEP_INDEX="spotlight_tour_step_index",a.IS_FALLBACK_STEP="is_fallback_step",a.GUIDANCE_TRIGGER_CATEGORY="guidance_trigger_category",a}(r||{});const{captureMessage:e,captureException:c,BaseErrorBoundary:i}=(0,n.createGenericErrorHandling)({project:"guidance-engine"});o.ErrorBoundary=i,o.captureException=c,o.captureMessage=e},926492:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.findElements=e,o.findElementsSync=s,o.findFirstElement=i,o.findFirstElementSync=a,o.findLastElement=c,o.getDocumentFromFrame=r;var n=t(451846);function r(l){const d=l&&document.querySelector(l);return d&&d.contentDocument||document}async function e(l){let{anchorSelector:d,frameSelector:f,preSearchDelay:m,maxSearchTime:u,shouldSkipWait:p}=l;m&&await new Promise(E=>{setTimeout(()=>{E(null)},m)});const g=r(f);return p||await(0,n.waitForDomNodeToSettle)(d,{targetDocument:g,...u!==void 0?{delay:u}:{}}),Array.from(g.querySelectorAll(d))}async function c(l){let{anchorSelector:d,frameSelector:f,preSearchDelay:m,maxSearchTime:u,shouldSkipWait:p}=l;const g=await e({anchorSelector:d,frameSelector:f,preSearchDelay:m,maxSearchTime:u,shouldSkipWait:p});return g.length?g[g.length-1]??null:null}async function i(l){let{anchorSelector:d,frameSelector:f,preSearchDelay:m,shouldSkipWait:u}=l;m&&await new Promise(v=>{setTimeout(()=>{v(null)},m)});const p=r(f);return u||await(0,n.waitForDomNodeToSettle)(d,{targetDocument:p}),p.querySelector(d)}function a(l){let{anchorSelector:d,frameSelector:f}=l;return r(f).querySelector(d)}function s(l){let{anchorSelector:d,frameSelector:f}=l;const u=r(f).querySelectorAll(d);return Array.from(u)}},689242:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.clearRegisteredTimers=i,o.getRegisteredTimers=c,o.performFunctionWhenElementsFound=s,o.registerTimer=e,o.setRegisteredTimeout=a;var n=t(926492);let r=[];function e(l){r.push(l)}function c(){return Object.freeze([...r])}function i(){r.forEach(clearTimeout),r=[]}function a(l,d){const f=setTimeout(l,d);return e(f),f}function s(l){let{selectorsToFind:d,functionToRun:f,secondsBetweenAttempts:m=.5,maxWaitTimeInSeconds:u=30,onElementsNotFound:p}=l;const g=Math.floor(u/m);let v=0;const E=setInterval(()=>{v<g?d.every(T=>!!(0,n.findFirstElementSync)(T))?(f(),clearInterval(E)):v++:(clearInterval(E),p==null||p())},m*1e3);return e(E),E}},426758:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.hoverHandlers=void 0;var n=t(661454),r=t(926492);function e(i){const a=(0,r.findFirstElementSync)({anchorSelector:`${n.SiteEditorElementSelectors.sectionEditingUi}.show-toolbar`});if(a===(i==null?void 0:i.nextActiveSectionUI))return;const s=new MouseEvent("mouseout",{view:window,bubbles:!0,cancelable:!0});a==null||a.dispatchEvent(s)}const c=o.hoverHandlers={resetHeaderAnnotations:async()=>{const i=(0,r.findFirstElementSync)({anchorSelector:n.SiteHeaderElementSelectors.headerAnnotationReset});i==null||i.click()},showEditHeaderButton:async()=>{const i=await(0,r.findFirstElement)({anchorSelector:n.SiteHeaderElementSelectors.header,frameSelector:n.SiteEditorElementSelectors.siteFrame});i==null||i.classList.add(n.FunctionalClassNames.showEditHeaderButton)},hidePreviousActiveSectionUi:e,showSectionEditorUi:async()=>{const i=await(0,r.findFirstElement)({anchorSelector:n.SiteEditorElementSelectors.sectionEditingUi});e({nextActiveSectionUI:i});const a=new MouseEvent("mouseover",{view:window,bubbles:!0,cancelable:!0});i==null||i.dispatchEvent(a)},showLastSectionEditorUi:async()=>{const i=await(0,r.findLastElement)({anchorSelector:n.SiteEditorElementSelectors.sectionEditingUi});e({nextActiveSectionUI:i});const a=new MouseEvent("mouseover",{view:window,bubbles:!0,cancelable:!0});i==null||i.dispatchEvent(a)},showSiteNavEditorUi:async()=>{const i=await(0,r.findFirstElement)({anchorSelector:n.SiteHeaderElementSelectors.siteNavOutline});i==null||i.click()},showSiteTitleEditorUi:async()=>{const i=await(0,r.findFirstElement)({anchorSelector:n.SiteHeaderElementSelectors.siteTitleOutline});i==null||i.click()},showSiteStyles:async()=>{if(!(0,r.findFirstElementSync)({anchorSelector:n.SiteStylesElementSelectors.stylesPreviewContainer})){const a=await(0,r.findFirstElement)({anchorSelector:n.SiteStylesElementSelectors.siteStylesButton});a==null||a.click()}}}},443537:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=e;var n=t(485533);const r=new Date(172305e7);function e(){return n.Checks.getIsWebsiteCreatedAfter(r)&&!n.Checks.getIsCircleMemberWebsite()&&!n.Checks.getIsWebsiteExpired()&&n.Checks.getIsTemplateSevenOne()}P.exports=o.default},755499:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.runOnNextRenderFrame=void 0;const t=n=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})};o.runOnNextRenderFrame=t},865440:function(P,o,t){var n={"./guidance-engine.en-US.yaml":"289216"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=865440},808477:function(P,o,t){"use strict";t.d(o,{Z:()=>a,e:()=>c});var n=t(174161),r=t(571199),e=t(837035);let c=function(s){return s.Default="default",s.Info="info",s.Success="success",s.Warning="warning",s.Error="error",s}({});const a=s=>{let{status:l,statusMap:d,labelId:f,usage:m="badge",tooltip:u}=s;const p=d[l];if(!p)return null;const{text:g,badgeStatus:v,textColor:E=""}=p,C={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},T=E?{...C,color:E}:C,I=n.createElement(r.Z.Label,{sx:T,"aria-labelledby":f},g);return n.createElement(r.Z.Container,{usage:m,status:v,sx:{gap:"4px"}},I,u&&n.createElement(e.Z,{Icon:u.Glyph},u.text))}},837035:function(P,o,t){"use strict";t.d(o,{Z:()=>m});var n=t(160553),r=t.n(n),e=t(174161),c=t(418698),i=t(967552),a=t(600194),s=t(543314),l=t.n(s),d=t(870740);const m=u=>{let{children:p,dataTestId:g,Icon:v,touchableElementProps:E,...C}=u;const{t:T}=(0,d.Z)(),[I,y]=(0,e.useState)(!1),[b,D]=(0,e.useState)(null),j=()=>{y(!0)},U=()=>{y(!1)};return e.createElement(e.Fragment,null,e.createElement(i.Z.Element.WithoutFeedback,r()({className:l().keyboardAccessibleElement,"aria-label":T("Help",null,{project:"payments",notes:"aria-label for a help tooltip"}),"aria-describedby":"tooltip",ref:D,onMouseEnter:j,onMouseLeave:U,onFocus:j,onBlur:U,"data-testid":g||"tooltip",display:"flex",width:"auto",tabIndex:"0"},E),v||e.createElement(a.Z,{height:"16px",width:"16px",color:"gray.300"})),e.createElement(c.Z,r()({anchor:b,isOpen:I,position:"top"},C),p))}},124393:function(P,o,t){"use strict";t.d(o,{EJ:()=>r,HZ:()=>c,p_:()=>n,ss:()=>e});const n={ACTIVE:"ACTIVE",PAYOUTS_RESTRICTED:"PAYOUTS_RESTRICTED",ACTIVE_ADDITIONAL_INFO_REQUIRED:"ACTIVE_ADDITIONAL_INFO_REQUIRED",ACTIVE_PENDING_REVIEW:"ACTIVE_PENDING_REVIEW",INACTIVE:"INACTIVE",SUSPENDED:"SUSPENDED",CLOSED:"CLOSED",ACCOUNT_CREATION_IN_PROGRESS:"ACCOUNT_CREATION_IN_PROGRESS",INITIALIZED:"INITIALIZED",ACCOUNT_CREATION_FAILED:"ACCOUNT_CREATION_FAILED",ONBOARDING_IN_PROGRESS:"ONBOARDING_IN_PROGRESS",REJECTED:"REJECTED",DEPRECATED:"DEPRECATED"},r="USD",e="US",c={AUTO_ONBOARDING:"AUTO_ONBOARDING",EMBEDDED_ONBOARDING:"EMBEDDED_ONBOARDING"}},667193:function(P,o,t){"use strict";t.d(o,{B:()=>s,a:()=>a});var n=t(64950),r=t(619813),e=t(679727),c=t(870740),i=t(237895);let a=function(l){return l[l.InitialSetupRequired=0]="InitialSetupRequired",l[l.InitialSetupRequiredSavingsAccountError=1]="InitialSetupRequiredSavingsAccountError",l[l.InitialSetupRequiredDebitAuth=2]="InitialSetupRequiredDebitAuth",l[l.ActionNeededIDV=3]="ActionNeededIDV",l[l.PaymentsOk=4]="PaymentsOk",l[l.PayoutsPending=5]="PayoutsPending",l[l.PayoutsPendingManualMicroDeposit=6]="PayoutsPendingManualMicroDeposit",l[l.PayoutStatusOk=7]="PayoutStatusOk",l[l.PausedVerificationPastDue=8]="PausedVerificationPastDue",l[l.PausedErroredOrFailed=9]="PausedErroredOrFailed",l[l.PausedSuspendedOrRejected=10]="PausedSuspendedOrRejected",l[l.PaymentsOnboardingVerificationFailed=11]="PaymentsOnboardingVerificationFailed",l[l.PayoutsOnboardingVerificationFailed=12]="PayoutsOnboardingVerificationFailed",l[l.PausedPayoutAccountConnectionRequired=13]="PausedPayoutAccountConnectionRequired",l}({});const s=()=>{const{t:l}=(0,c.Z)(),d={label:l("Ready to accept payments",null,{project:"payments"}),icon:n.Z,description:a.PaymentsOk,color:i.z2.SUCCESS},f={label:l("Action needed to accept payments",null,{project:"payments"}),icon:r.Z,description:a.PausedVerificationPastDue,color:i.z2.ERROR},m={label:l("Unable to accept payments",null,{project:"payments"}),icon:r.Z,description:a.PausedSuspendedOrRejected,color:i.z2.ERROR},u={label:l("Unable to accept payments",null,{project:"payments"}),icon:r.Z,description:l("Payments won't process through Squarespace Payments.",null,{project:"payments"}),color:i.z2.ERROR},p={label:l("Payments are paused",null,{project:"payments"}),icon:e.Z,description:l("Your information is in review.",null,{project:"payments"}),color:i.z2.WARNING},g={label:l("Payments are not yet enabled",null,{project:"payments"}),icon:e.Z,description:l("Your information is in review.",null,{project:"payments"}),color:i.z2.WARNING},v={label:l("Payments are paused",null,{project:"payments"}),icon:e.Z,description:l("Your information is in review.",null,{project:"payments"}),color:i.z2.WARNING},E={label:l("Action needed to accept new payments",null,{project:"payments"}),icon:r.Z,description:l("Squarespace Payments is not set as your primary payment processor. Orders placed with previously saved payment methods will still be processed. ",null,{project:"payments"}),color:i.z2.WARNING},C={label:l("Action needed to accept payments",null,{project:"payments"}),icon:r.Z,description:a.PaymentsOnboardingVerificationFailed,color:i.z2.WARNING},T={label:l("Ready to receive payouts",null,{project:"payments"}),icon:n.Z,description:a.PayoutStatusOk,color:i.z2.SUCCESS},I={label:l("Action needed to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.ActionNeededIDV,color:i.z2.ERROR},y={label:l("Action needed to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.PausedErroredOrFailed,color:i.z2.ERROR},b={label:l("Payouts are paused",null,{project:"payments"}),icon:e.Z,description:l("Your information is in review.",null,{project:"payments"}),color:i.z2.WARNING},D={label:l("Payouts are pending",null,{project:"payments"}),icon:e.Z,description:a.PayoutsPending,color:i.z2.WARNING},j={label:l("Payouts are pending",null,{project:"payments"}),icon:e.Z,description:a.PayoutsPendingManualMicroDeposit,color:i.z2.WARNING},U={label:l("Unable to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.PausedSuspendedOrRejected,color:i.z2.ERROR},R={label:l("Unable to receive payouts",null,{project:"payments"}),icon:r.Z,description:l("Payouts won't process through Squarespace Payments.",null,{project:"payments"}),color:i.z2.ERROR},L={label:l("You don't have any payouts",null,{project:"payments"}),icon:e.Z,description:l("After your first payment, you'll connect a bank account to process payouts.",null,{project:"payments"}),color:i.z2.DEFAULT},x={label:l("Action needed to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.InitialSetupRequired,color:i.z2.WARNING},G={label:l("Payouts are paused",null,{project:"payments"}),icon:e.Z,description:l("Your information is in review.",null,{project:"payments"}),color:i.z2.WARNING},k={label:l("Action needed to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.InitialSetupRequiredSavingsAccountError,color:i.z2.ERROR},V={label:l("Action needed to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.InitialSetupRequiredDebitAuth,color:i.z2.WARNING},$={label:l("Action needed to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.PayoutsOnboardingVerificationFailed,color:i.z2.WARNING},J={label:l("Action needed to receive payouts",null,{project:"payments"}),icon:r.Z,description:a.PausedPayoutAccountConnectionRequired,color:i.z2.WARNING};return{paymentsOk:d,paymentsPaused:v,paymentsSuspended:m,paymentsRejected:u,paymentsUnderReview:p,paymentsNotReady:g,paymentsPausedPastDue:f,paymentsDetached:E,paymentsOnboardingVerificationFailed:C,payoutsOk:T,payoutsPaused:G,payoutsPausedPastDue:I,payoutsPausedReconnectPayoutAccount:y,payoutsPausedUnderReview:b,payoutsPending:D,payoutsPendingManualMicroDeposit:j,payoutsSuspended:U,payoutsRejected:R,payoutsNotReady:L,payoutsActionNeeded:x,payoutsConnectedSavingsAccountError:k,payoutsInitialSetupRequiredDebitAuth:V,payoutsOnboardingVerificationFailed:$,pausedPayoutAccountConnectionRequired:J}}},293269:function(P,o,t){"use strict";t.d(o,{A:()=>c,Z:()=>a});var n=t(352635),r=t(260175),e=t(174161);let c=function(s){return s.Desktop="desktop",s.Tablet="tablet",s.Mobile="mobile",s}({});const a=s=>{let{maxWidthTablet:l,maxWidthMobile:d}=s;const f=(0,r.i)(n.breakpoints).platform==="mobile",[m,u]=(0,e.useState)(f?c.Mobile:c.Desktop),p=(0,e.useCallback)(()=>{const g=document.documentElement.clientWidth,E=d&&g<=d?c.Mobile:l&&g<=l?c.Tablet:c.Desktop;E!==m&&u(E)},[m,d,l]);return(0,e.useEffect)(()=>{p()},[p]),(0,e.useLayoutEffect)(()=>(window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)),[p]),{layout:m}}},32819:function(P,o,t){"use strict";t.d(o,{Af:()=>n,L:()=>s,T5:()=>r,gs:()=>i,iq:()=>c,p0:()=>e,zA:()=>a});let n=function(l){return l.CONNECTED_READY_FOR_NEXT_PAYOUT="CONNECTED_READY_FOR_NEXT_PAYOUT",l.CONNECTION_OK="CONNECTION_OK",l.CONNECTION_BROKEN_UPDATE_REQUIRED="CONNECTION_BROKEN_UPDATE_REQUIRED",l}({}),r=function(l){return l.IN_PROGRESS="IN_PROGRESS",l.SUCCESSFUL="SUCCESSFUL",l.FAILED="FAILED",l.CLEARED="CLEARED",l}({}),e=function(l){return l.SUCCESSFUL="SUCCESSFUL",l.FAILED="FAILED",l.PENDING_MANUAL_MICRO_DEPOSIT="PENDING_MANUAL_MICRO_DEPOSIT",l.PENDING_AUTO_MICRO_DEPOSIT="PENDING_AUTO_MICRO_DEPOSIT",l.PENDING_DEBIT_AUTHORIZATION="PENDING_DEBIT_AUTHORIZATION",l}({}),c=function(l){return l.NOT_STARTED="NOT_STARTED",l.MANUAL_REVIEW="MANUAL_REVIEW",l.SUCCESSFUL="SUCCESSFUL",l.FAILED="FAILED",l}({}),i=function(l){return l.BACS="BACS",l.SEPA="SEPA",l}({}),a=function(l){return l.BANK_ACCOUNT_SESSION="BANK_ACCOUNT_SESSION",l.ENTER_MICRODEPOSIT_VERIFICATION_CODE="ENTER_MICRODEPOSIT_VERIFICATION_CODE",l.IDENTITY_VERIFICATION_SESSION="IDENTITY_VERIFICATION_SESSION",l}({}),s=function(l){return l.PLAID="PLAID",l.STRIPE="STRIPE",l}({})},50894:function(P,o,t){"use strict";t.d(o,{C:()=>r,b:()=>n});let n=function(e){return e.PAID="PAID",e.PENDING="PENDING",e.FAILED="FAILED",e.BLOCKED="BLOCKED",e.CANCELED="CANCELED",e.REFUNDED="REFUNDED",e.PARTIALLY_REFUNDED="PARTIALLY_REFUNDED",e.REFUND_PENDING="REFUND_PENDING",e.REFUND_FAILED="REFUND_FAILED",e.CHARGEBACK_RECEIVED="CHARGEBACK_RECEIVED",e.CHARGEBACK_PENDING="CHARGEBACK_PENDING",e.CHARGEBACK_LOST="CHARGEBACK_LOST",e.CHARGEBACK_WON="CHARGEBACK_WON",e}({}),r=function(e){return e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.CANCELED="CANCELED",e}({})},276637:function(P,o,t){"use strict";t.d(o,{D:()=>r,T:()=>n});let n=function(e){return e.SUCCESSFUL="SUCCESSFUL",e.FAILED="FAILED",e.IN_TRANSIT="IN_TRANSIT",e}({}),r=function(e){return e.NO_SCHEDULED_PAYOUT="NO_SCHEDULED_PAYOUT",e.IN_TRANSIT="IN_TRANSIT",e.PAUSED_ERRORED="PAUSED_ERRORED",e.PAUSED_INITIAL_HOLDING_PERIOD="PAUSED_INITIAL_HOLDING_PERIOD",e}({})},237895:function(P,o,t){"use strict";t.d(o,{Ul:()=>r,YL:()=>n,z2:()=>e});let n=function(c){return c[c.MANAGE_SETTINGS=0]="MANAGE_SETTINGS",c[c.VIEW_PAYMENTS=1]="VIEW_PAYMENTS",c[c.VIEW_PAYOUTS=2]="VIEW_PAYOUTS",c}({}),r=function(c){return c.COMPLETE_ACCOUNT_SETUP="COMPLETE_ACCOUNT_SETUP",c.CONNECT_BANK_ACCOUNT="CONNECT_BANK_ACCOUNT",c.CONTACT_SUPPORT="CONTACT_SUPPORT",c.DEBIT_AUTH="DEBIT_AUTH",c.MANAGE_PAYMENT_SETTINGS="MANAGE_PAYMENT_SETTINGS",c.CHANGE_SAVINGS_ACCOUNT_TO_CHECKING="CHANGE_SAVINGS_ACCOUNT_TO_CHECKING",c.CONNECT_CHECKING_ACCOUNT="CONNECT_CHECKING_ACCOUNT",c.PLAID_IDV="PLAID_IDV",c.PLAID_MICRO_DEPOSIT="PLAID_MICRO_DEPOSIT",c.RECONNECT_BANK_ACCOUNT="RECONNECT_BANK_ACCOUNT",c.UPDATE_INFO="UPDATE_INFO",c.VIEW_PAYMENTS="VIEW_PAYMENTS",c.VIEW_PAYOUTS="VIEW_PAYOUTS",c}({}),e=function(c){return c.SUCCESS="green.300",c.ERROR="red.300",c.WARNING="orange.300",c.DEFAULT="gray.300",c}({})},1785:function(P,o,t){"use strict";t.d(o,{a:()=>n});let n;(function(r){let e=function(E){return E.COMMERCE="commerce",E.COMMERCE_PAYMENTS="commerce_payments",E.PAYMENTS="payments",E.CAPITAL="capital",E}({});r.EventOwnerTeam=e;let c=function(E){return E.WEB="web",E}({});r.EventSource=c;let i=function(E){return E.COMMERCE_CORE="commerce-core",E.PAYMENTS="payments",E.CAPITAL="capital",E}({});r.ProductArea=i;let a=function(E){return E.PAYMENTS_PANEL="payments-panel",E.AUTO_KYC_MODAL="kyc-modal",E.CAPITAL="capital",E}({});r.ProductPage=a;let s=function(E){return E.USER="user",E}({});r.Actor=s;let l=function(E){return E.CLICK="click",E.CLOSE="close",E.COMPLETE="complete",E.OPEN="open",E.SELECT="select",E.SUBMIT="submit",E.START="start",E.VIEW="view",E}({});r.Action=l;let d=function(E){return E.BUTTON="button",E.DROPDOWN="dropdown",E.FORM="form",E.MODAL="modal",E.PAGE="page",E.RADIO="radio",E.TEXTAREA="textarea",E}({});r.ObjectType=d;let f=function(E){return E.VIEW_QUESTION="UserViewsSurveyQuestion",E.SUBMIT_QUESTION="UserSubmitsSurveyQuestion",E.DISMISS_QUESTION="UserCancelsSurveyQuestion",E}({});r.SurveyEventName=f;let m=function(E){return E.DISCOVERY="DISCOVERY",E.ONBOARDING_IN_PROGRESS="ONBOARDING_IN_PROGRESS",E.PAYMENTS_ENABLED="PAYMENTS_ENABLED",E.PAYOUTS_ENABLED="PAYOUTS_ENABLED",E}({});r.SurveyAccountState=m;let u;(function(E){let C=function(D){return D.VIEW_AUTO_KYC_MODAL="User_Views_Auto_KYC_Modal_Page",D.CLICK_BANNER="CommerceDashboard_Click_CommerceDashboardBannerCTA",D.DIMISS_BANNER="CommerceDashboard_Dismiss_CommerceDashboardBanner",D}({});E.EventName=C;let T=function(D){return D.GET_STARTED="get-started",D.WARNINGS="warnings",D.START_IMPORT="start-import",D.LOADING_STATE_1="loading-state-1",D.LOADING_STATE_2="loading-state-2",D.OUTCOME="outcome",D}({});E.ObjectIdentifier=T;let I=function(D){return D.ORDER_CONTEXTUAL_TIP="order-contextual-tip",D.SELLING_DASHBOARD_BANNER="selling-dashboard-banner",D.PAYMENTS_SETTINGS_PAGE="payments-settings-page",D.PRODUCTS_AND_SERVICES="products-and-services",D}({});E.EntryPoint=I;let y=function(D){return D.SUCCESS="success",D.VERIFICATION_PENDING="verification-pending",D.HOP_INTRO="hop-intro",D.ERROR="error",D}({});E.OutcomeState=y;let b=function(D){return D.CONNECT="connect",D.DISMISS="dismiss",D}({});E.ObjectValue=b})(u||(u=r.AutoKyc||(r.AutoKyc={})));let p;(function(E){let C=function(D){return D.DONATIONS="donations",D.DIGITAL_PRODUCTS="digital-products",D.FINANCE_DASHBOARD="finance-dashboard",D.SELLING_CHECKLIST="selling-checklist",D.INVOICE_DASHBOARD="invoice-dashboard",D.INVOICING_BANNER="invoicing-banner",D.PAYMENT_SETTINGS="payment-settings",D.GUIDANCE_CHECKLIST="guidance-checklist",D.CONFIG_FINANCE_MERCHANDISING="config-finance-merchandising",D.CONFIG_FINANCE_SETUP="config-finance-setup",D.CONFIG_FINANCE_ELIGIBLE_FOR_MIGRATION="config-finance-eligible-for-migration",D}({});E.EntryPoint=C;let T=function(D){return D.USER_STARTS_PAYMENTS_ONBOARDING="UserStartsPaymentsOnboarding",D.USER_COMPLETES_PAYMENTS_ONBOARDING="UserCompletesPaymentsOnboarding",D.USER_CLICKS_MORE_INFORMATION_DROPDOWN="UserClicksMoreInformationDropdown",D.USER_CLICKS_PAYMENTS_HELP_CENTER="UserClicksPaymentsHelpCenter",D.USER_INPUTS_COUNTRY_OF_OPERATION="UserInputsCountryofOperation",D.USER_CLOSES_ONBOARDING_FORM="UserClosesOnboardingForm",D.USER_CLICKS_MANAGE_PAYMENT_METHODS="UserClicksManagePaymentSettings",D.USER_VIEWS_ERROR_STATE="UserViewsErrorState",D.USER_RESTARTS_SETUP="UserRestartsSetup",D.USER_STARTS_EDITING_ONBOARDING_FORM="UserStartsEditingOnboardingForm",D.USER_SAVES_EDITS_ON_ONBOARDING_FORM="UserSavesEditsOnOnboardingForm",D.USER_CLICKS_VIEW_ALL_PAYMENT_OPTIONS="UserClicksViewAllPaymentOptions",D.USER_INITIATES_MANUAL_BANK_ENTRY="UserInitiatesManualBankEntry",D}({});E.EventName=T;let I=function(D){return D.EVERYTHING_YOU_GET_WITH_SQUARESPACE_PAYMENTS="everything-you-get-with-squarespace-payments",D.HELP_CENTER="help-center",D.EXIT="exit",D.SAVE_AND_EXIT="save-and-exit",D.MANAGE_PAYMENT_METHODS="manage-payment-methods",D.SOMETHING_WENT_WRONG="something-went-wrong",D.RESTART_SETUP="restart-setup",D.SAVE_EDITS="save-edits",D.VIEW_ALL_PAYMENT_OPTIONS="view-all-payment-options",D.BANK_ENTRY_INITIATED="bank-entry-initiated",D}({});E.ObjectIdentifier=I;let y=function(D){return D.SELECT_COUNTRY="select-country",D.STRIPE_FORM="stripe-form",D.COMPLETE="complete",D.ERROR="error",D}({});E.FormStage=y;let b=function(D){return D.HOP="HOP",D.EMBEDDED="embedded",D.AUTO_KYC="auto_kyc",D}({});E.Flow=b})(p||(p=r.Onboarding||(r.Onboarding={})));let g;(function(E){let C=function(T){return T.APPLICATION_SUBMITTED="PaymentsCapitalUI_ApplicationSubmitted",T.ELIGIBLE_FINANCING_OFFER_LOADED="PaymentsCapitalUI_EligibleFinancingOfferLoaded",T.OFFER_DISMISSED="PaymentsCapitalUI_OfferDismissed",T.APPLICATION_STEP_CHANGE="PaymentsCapitalUI_StepChange",T}({});E.EventName=C})(g||(g=r.Capital||(r.Capital={})));let v;(function(E){let C=function(b){return b.USER_VIEWS_INSTANT_PAYOUT_POP_UP_CARD="UserViewsInstantPayoutPopUpCard",b.USER_CLICKS_GET_INSTANT_PAYOUT="UserClicksGetInstantPayout",b.USER_CLICKS_TO_DISMISS_INSTANT_PAYOUT_MODAL="UserClicksToDismissInstantPayoutModal",b.USER_CLICKS_TO_DISMISS_INSTANT_PAYOUT_POP_UP="UserClicksToDismissInstantPayoutPopUp",b.USER_CLICKS_SEND_INSTANT_PAYOUT="UserClicksSendInstantPayout",b.USER_CLICKS_GET_INSTANT_PAYOUT_REMINDER="UserClicksGetInstantPayoutReminder",b}({});E.EventName=C;let T=function(b){return b.INSTANT_PAYOUT="instant-payout",b.TRY_INSTANT_PAYOUT="try-instant-payout",b.GET_INSTANT_PAYOUT="get-instant-payout",b.DISMISS_INSTANT_PAYOUT_MODAL="dismiss-instant-payout-modal",b.DISMISS_INSTANT_PAYOUT_POPUP="dismiss-instant-payout-popup",b.SEND_INSTANT_PAYOUT="send-instant-payout",b.GET_INSTANT_PAYOUT_REMINDER="get-instant-payout-reminder",b}({});E.ObjectIdentifier=T;let I=function(b){return b.DASHBOARD_HEADER="dashboard-header",b.MODAL="modal",b.POP_UP_CARD="pop-up-card",b}({});E.EntryPoint=I;let y=function(b){return b.FINANCE_L1="finance_l1",b}({});E.EntryPointLevel2=y})(v||(v=r.InstantPayout||(r.InstantPayout={})))})(n||(n={}))},11856:function(P,o,t){"use strict";t.d(o,{KA:()=>f,Pp:()=>m,Pt:()=>l,RC:()=>p,YO:()=>d,jM:()=>u,jx:()=>g,ox:()=>a,ts:()=>i,zt:()=>s});var n=t(379344),r=t(461761),e=t.n(r),c=t(574782);const i=v=>v?v.stripeSettings.connected:!1,a=v=>v?v.paypalSettings.accountConnected:!1,s=v=>v?v.squareSettings.connected:!1,l=v=>{if(!v)return!1;const E=i(v),C=a(v),T=s(v);return E||C||T},d=v=>({isConnectedToStripe:i(v),isConnectedToPaypal:a(v),isConnectedToSquare:s(v)}),f=v=>v?(0,c.CE)()===v:!1,m=v=>!v||!v.firstName?"":v.lastName?`${v.firstName} ${v.lastName}`:v.firstName,u=(v,E,C)=>{if(v===n.YB.INDIVIDUAL){const T=m(E);return T?C&&T!==C?[T,C]:[T]:C?[C]:null}return C?[C]:null},p=(v,E)=>E?E.some(C=>C.type===v):!1,g=()=>e()(window,"top.Static.SQUARESPACE_CONTEXT.impersonatedSession",!1)},60318:function(P,o,t){"use strict";t.d(o,{o:()=>r,w:()=>n});const n=e=>e.isEnabled&&!e.isInitialRequestCompleted,r=e=>e.some(c=>typeof c=="boolean"?c:n(c))},618054:function(P,o,t){"use strict";t.d(o,{DJ:()=>u,OL:()=>f,T$:()=>m,bB:()=>s,c9:()=>p,hU:()=>d,ye:()=>l});var n=t(589242),r=t(461761),e=t.n(r),c=t(574782),i=t(136538),a=t(293269);let s=function(g){return g[g.Desktop=0]="Desktop",g[g.Tablet=1]="Tablet",g[g.Mobile=2]="Mobile",g}({});const l={[a.A.Desktop]:s.Desktop,[a.A.Tablet]:s.Tablet,[a.A.Mobile]:s.Mobile},d=g=>{let{countryCode:v,localeOverride:E}=g;const C=E||(0,c.aj)(),T=new Set([...n.Z.member.all,...n.Z.visitor.all]);if(!v)return C&&T.has(C)?C:"en-US";const I=C?C.toLowerCase().split("-")[0]:"en",y=v.toUpperCase(),b=`${I}-${y}`;return T.has(b)?b:"en-US"},f=g=>{let{localizedAssets:v,size:E=s.Desktop,locale:C="en-US",countryCode:T}=g;const I=(0,c.aj)()??"",y=e()(v,I,v["en-US"]),b=e()(y,[E],y[s.Desktop]),D=T?d({countryCode:T}):C,j=e()(v,[D,E],e()(v,[D,s.Desktop]));return j||b},m=g=>(0,i.s)((0,c.aj)())+g,u=()=>m("/payments-terms"),p=()=>m("/privacy")},484561:function(P,o,t){"use strict";t.d(o,{Sn:()=>s,UU:()=>i,bb:()=>a});var n=t(116397),r=t(870740),e=t(717186),c=t(541895);const i=()=>{const{formatCurrency:l,formatDecimal:d}=(0,e.Z)(),{t:f}=(0,r.Z)(),m=C=>C?l(C.toFloat(),C.getCurrencyCode()):"",u=C=>d(C/100,{style:"percent",maximumFractionDigits:2}),p=C=>C?d(C.percentFee,{style:"percent",maximumFractionDigits:2}):"",g=C=>{if(!C)return"";const T=p(C),I=l(Number(C.flatFee.value),C.flatFee.currency);return f("{percentRate} + {currencyConstantFee}",{percentRate:T,currencyConstantFee:I},{project:"payments",notes:"Displays the rate per transaction. Example: 2.5% + $0.30 USD"})},v=C=>{if(!C)return"";const T=p(C);return f("+{percentRate}",{percentRate:T},{project:"payments",notes:"An additive fee rate in percent. Example: +2.5%"})};return{formatMoney:m,formatPercent:u,formatRateTypePercentOnly:p,formatFlatRatePlusConstant:g,formatInternationalFeeRate:(C,T)=>C?T?g(C):v(C):"",formatAdditivePercentageRate:v}},a=l=>{const{t:d}=(0,r.Z)();switch(l){case c.n.CA:return d("chequing account",null,{project:"payments",notes:"string for a checking account in Canada"});case c.n.AU:case c.n.GB:case c.n.NZ:return d("bank account",null,{project:"payments",notes:"string for a checking account in the UK"});default:return d("checking account",null,{project:"payments",notes:"string for a checking account in the US"})}},s=(l,d)=>l?new n.default(l.value,l.currency):d?new n.default(d.value,d.currency):null},908947:function(P,o,t){"use strict";t.r(o),t.d(o,{AssetSize:()=>c.bB,StatsigFeatureFlags:()=>n.D,convertMoneyJSONToMoney:()=>a.Sn,getAssetLocaleForCountryCode:()=>c.hU,getAuthenticatedAccountAvatarUrl:()=>l.YW,getAuthenticatedAccountDisplayName:()=>l.WP,getAuthenticatedAccountId:()=>l.CE,getAuthenticatedAccountInitials:()=>l.Lf,getBankLast4ForDisplay:()=>f.oc,getCountryConfigValue:()=>i.Rt,getCustOpsSupportEmail:()=>l.Qs,getFullName:()=>r.Pp,getHasAccountRequirement:()=>r.RC,getHasAllDiscountedRates:()=>f.Kz,getHasAtLeastOneDiscountedRate:()=>f.Th,getIsConnectedToNonSqspPaymentsProcessor:()=>r.Pt,getIsCountryCodeEnabledForSqspPayments:()=>i.tY,getIsCurrentUserAccountOwner:()=>r.KA,getIsEU:()=>i.z3,getIsEligibleForAch:()=>i.UX,getIsEligibleForIdeal:()=>i.jf,getIsEligibleForSepa:()=>i.ln,getIsEnterpriseWebsite:()=>l.Kt,getIsFetchingBlockingRequests:()=>e.o,getIsImpersonatedSession:()=>r.jx,getIsInitialRequestEnabledAndLoading:()=>e.w,getIsNpaEligibleForIpAddress:()=>l.QY,getIsPaypalConnected:()=>r.ox,getIsSquareConnected:()=>r.zt,getIsStripeBankConnectionRequired:()=>i.ks,getIsStripeConnected:()=>r.ts,getLanguageCode:()=>l.ht,getLegalBusinessNames:()=>r.jM,getLocalizedAsset:()=>c.OL,getLocalizedPaymentsTermsOfServiceUrl:()=>c.DJ,getLocalizedPrivacyPolicyUrl:()=>c.c9,getLocalizedSquarespaceUrl:()=>c.T$,getLowestNpaRate:()=>l.Ae,getNonSqspPaymentProcessorConnections:()=>r.YO,getNotificationLocationScreen:()=>l.L9,getNotificationsByType:()=>l._S,getOnboardingEligibleCountryCodes:()=>i.Hq,getPreferredLocale:()=>l.aj,getStripeConnectInstance:()=>d.x,getWebsiteCountryCode:()=>l.m_,getWebsiteCountryCodeIfEnabledForSqspPayments:()=>i.M3,getWebsiteId:()=>l.Ws,getWebsiteName:()=>l.z7,getWebsiteSiteStatus:()=>l.dg,handleDismissNotification:()=>l.gt,isAnyFinanceDashboardPath:()=>l.Ex,isValidDate:()=>m.q,isWebsiteTrial:()=>l.oA,layoutToAssetSizeMap:()=>c.ye,paymentsEventTracking:()=>p.ZP,postLocationUpdate:()=>s._,useBalanceTransferStatusMap:()=>u.WV,useCustOpsSupportEmailDetails:()=>l.ci,useCustomFormatters:()=>a.UU,useFormatCheckingAccountRegionalString:()=>a.bb,useOrderFulfillmentStatusMap:()=>u.XM,usePaymentsStatusMap:()=>u.RI,usePaymentsStatusMessages:()=>f.n9,usePayoutsStatusMessages:()=>f.WM,useUpcomingPayoutStatusMap:()=>u.Qy});var n=t(87858),r=t(11856),e=t(60318),c=t(618054),i=t(416387),a=t(484561),s=t(823810),l=t(574782),d=t(154198),f=t(400463),m=t(463938),u=t(8805),p=t(556072)},823810:function(P,o,t){"use strict";t.d(o,{_:()=>r});var n=t(710756);const r=function(c){var i;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(i=window.top)===null||i===void 0?void 0:i.postMessage;const s={type:n.D.LOCATION_UPDATE,payload:{to:c,app:"config"}};a&&a(s,window.location.origin)};var e=null},400463:function(P,o,t){"use strict";t.d(o,{Kz:()=>f,Th:()=>d,WM:()=>s,n9:()=>a,oc:()=>l});var n=t(379344),r=t(32819),e=t(667193),c=t(124393),i=t(11856);const a=m=>{let{paymentStatusCode:u,accountStatus:p,isSqspPaymentsDetached:g}=m;const v=(0,e.B)();return u?g?v.paymentsDetached:p===c.p_.ACTIVE||p===c.p_.PAYOUTS_RESTRICTED?v.paymentsOk:{[n.Ro.OK]:v.paymentsOk,[n.Ro.ONBOARDING_VERIFICATION_FAILED]:v.paymentsOnboardingVerificationFailed,[n.Ro.PAUSED_ERRORED]:v.paymentsUnderReview,[n.Ro.NOT_READY]:v.paymentsNotReady,[n.Ro.PAUSED]:v.paymentsPaused,[n.Ro.PAUSED_SUSPENDED]:v.paymentsSuspended,[n.Ro.PAUSED_REJECTED]:v.paymentsSuspended,[n.Ro.PAUSED_VERIFICATION_PAST_DUE]:v.paymentsPausedPastDue}[u]:null},s=m=>{let{payoutsStatusCode:u,bankOnboardingSession:p,accountStatus:g,accountRequirements:v}=m;const E=(0,e.B)();if(!u)return null;const C=g===c.p_.ACTIVE,T=g===c.p_.DEPRECATED,I=g===c.p_.PAYOUTS_RESTRICTED,y=g===c.p_.SUSPENDED,b=(I||y)&&(v==null?void 0:v.length)===1&&(0,i.RC)(n.H4.HOLDING_PERIOD,v);if(C||T||b)return E.payoutsOk;if(u===n.Ro.INITIAL_SETUP_REQUIRED&&(p==null?void 0:p.status)===r.T5.IN_PROGRESS){if((p==null?void 0:p.authStatus)===r.p0.PENDING_AUTO_MICRO_DEPOSIT)return E.payoutsPending;if((p==null?void 0:p.authStatus)===r.p0.PENDING_MANUAL_MICRO_DEPOSIT)return E.payoutsPendingManualMicroDeposit;if((p==null?void 0:p.verificationStatus)===r.iq.MANUAL_REVIEW)return E.payoutsPending}return{[n.Ro.OK]:E.payoutsOk,[n.Ro.ONBOARDING_VERIFICATION_FAILED]:E.payoutsOnboardingVerificationFailed,[n.Ro.PAUSED_INITIAL_HOLDING_PERIOD]:E.payoutsOk,[n.Ro.PAUSED_ERRORED]:E.payoutsPausedReconnectPayoutAccount,[n.Ro.NOT_READY]:E.payoutsNotReady,[n.Ro.INITIAL_SETUP_REQUIRED]:E.payoutsActionNeeded,[n.Ro.ACTION_NEEDED_IDV]:E.payoutsPausedPastDue,[n.Ro.PAUSED]:E.payoutsPaused,[n.Ro.PAUSED_PAYOUT_FAILED]:E.payoutsPausedReconnectPayoutAccount,[n.Ro.PAUSED_SUSPENDED]:E.payoutsSuspended,[n.Ro.PAUSED_REJECTED]:E.payoutsSuspended,[n.Ro.PAUSED_VERIFICATION_PAST_DUE]:E.payoutsPausedPastDue,[n.Ro.INITIAL_SETUP_REQUIRED_SAVINGS_ACCOUNT_ERROR]:E.payoutsConnectedSavingsAccountError,[n.Ro.INITIAL_SETUP_REQUIRED_BACS_AUTH]:E.payoutsInitialSetupRequiredDebitAuth,[n.Ro.INITIAL_SETUP_REQUIRED_SEPA_AUTH]:E.payoutsInitialSetupRequiredDebitAuth,[n.Ro.PAUSED_PAYOUT_ACCOUNT_CONNECTION_REQUIRED]:E.pausedPayoutAccountConnectionRequired}[u]},l=function(m){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";return m?`${p.repeat(u)}${m}`:""},d=m=>m?m.hasDiscountedAchRate||m.hasDiscountedBasicCCRate:!1,f=m=>m?m.hasDiscountedAchRate&&m.hasDiscountedBasicCCRate:!1},8805:function(P,o,t){"use strict";t.d(o,{Qy:()=>l,RI:()=>a,WV:()=>s,XM:()=>i});var n=t(808477),r=t(870740),e=t(50894),c=t(276637);const i=()=>{const{t:d}=(0,r.Z)();return{[e.C.FULFILLED]:{text:d("Fulfilled",null,{notes:"Order has been fulfilled",project:"payments"}),badgeStatus:n.e.Default,textColor:"green.300"},[e.C.PENDING]:{text:d("Pending",null,{notes:"Order status is pending",project:"payments"}),badgeStatus:n.e.Warning,textColor:"orange.500"},[e.C.CANCELED]:{text:d("Canceled",null,{notes:"Order has been canceled",project:"payments"}),badgeStatus:n.e.Default,textColor:"gray.300"}}},a=()=>{const{t:d}=(0,r.Z)();return{[e.b.FAILED]:{text:d("Failed",null,{notes:"Failed payment or payout status",project:"payments"}),badgeStatus:n.e.Error},[e.b.PAID]:{text:d("Paid",null,{notes:"Paid status for a payment or payout",project:"payments"}),badgeStatus:n.e.Success},[e.b.PARTIALLY_REFUNDED]:{text:d("Partially refunded",null,{notes:"Partially refunded status for a payment or payout",project:"payments"}),badgeStatus:n.e.Default},[e.b.REFUND_PENDING]:{text:d("Refund in progress",null,{notes:"Refund is still in progress",project:"payments"}),badgeStatus:n.e.Default},[e.b.REFUND_FAILED]:{text:d("Refund failed",null,{notes:"Refund failed for payment or payout",project:"payments"}),badgeStatus:n.e.Error},[e.b.REFUNDED]:{text:d("Refunded",null,{notes:"Refunded payment or payout",project:"payments"}),badgeStatus:n.e.Default},[e.b.PENDING]:{text:d("In progress",null,{notes:"Pending status for a payment or payout",project:"payments"}),badgeStatus:n.e.Default},[e.b.BLOCKED]:{text:d("Blocked",null,{notes:"Blocked status for a payment or payout",project:"payments"}),badgeStatus:n.e.Error},[e.b.CANCELED]:{text:d("Canceled",null,{notes:"Canceled status for a payment or payout",project:"payments"}),badgeStatus:n.e.Default},[e.b.CHARGEBACK_RECEIVED]:{text:d("Open dispute",null,{notes:"the current status in the payment dispute lifecycle",project:"payments"}),badgeStatus:n.e.Warning},[e.b.CHARGEBACK_PENDING]:{text:d("Response submitted",null,{notes:"the outcome in the payment dispute lifecycle",project:"payments"}),badgeStatus:n.e.Default},[e.b.CHARGEBACK_LOST]:{text:d("Dispute lost",null,{notes:"the outcome in the payment dispute lifecycle",project:"payments"}),badgeStatus:n.e.Error},[e.b.CHARGEBACK_WON]:{text:d("Dispute won",null,{notes:"the outcome in the payment dispute lifecycle",project:"payments"}),badgeStatus:n.e.Success}}},s=()=>{const{t:d}=(0,r.Z)();return{[c.T.SUCCESSFUL]:{text:d("Successful",null,{notes:"Payout has been sent to Merchant bank",project:"payments"}),badgeStatus:n.e.Success},[c.T.IN_TRANSIT]:{text:d("In transit",null,{notes:"The total amount or transactions that be a part of the next payout",project:"payments"}),badgeStatus:n.e.Info},[c.T.FAILED]:{text:d("Failed",null,{notes:"Payout was sent but failed due to misconfigurations or bank issues",project:"payments"}),badgeStatus:n.e.Error}}},l=()=>{const{t:d}=(0,r.Z)();return{[c.D.IN_TRANSIT]:{text:d("In transit",null,{notes:"The total amount or transactions that be a part of the next payout",project:"payments"}),badgeStatus:n.e.Info},[c.D.PAUSED_ERRORED]:{text:d("Paused",null,{notes:"upcoming payout is paused due to an error",project:"payments"}),badgeStatus:n.e.Default},[c.D.PAUSED_INITIAL_HOLDING_PERIOD]:null,[c.D.NO_SCHEDULED_PAYOUT]:null}}},154198:function(P,o,t){"use strict";t.d(o,{x:()=>e});var n=t(797815),r=t(574782);const e=c=>{let{publishableKey:i,fetchClientSecret:a,appearance:s}=c;if(i)return(0,n.W)({publishableKey:i,fetchClientSecret:a,fonts:[{cssSrc:"https://assets.squarespace.com/universal/fonts/squarespace-clarkson-v2.css"}],appearance:{variables:{colorPrimary:"#0E0E0E",colorText:"#0E0E0E",colorBackground:"#FFFFFF",buttonSecondaryColorBackground:"#FFFFFF",buttonSecondaryColorBorder:"#E7E7E7",buttonSecondaryColorText:"#0E0E0E",colorSecondaryText:"#0E0E0E",actionPrimaryColorText:"#000000",actionSecondaryColorText:"#666666",colorBorder:"#E7E7E7",formHighlightColorBorder:"#0E0E0E",formAccentColor:"#666666",colorDanger:"#C32D38",badgeNeutralColorBackground:"#E7E7E7",badgeNeutralColorBorder:"#E7E7E7",badgeNeutralColorText:"#0E0E0E",badgeSuccessColorBackground:"#CDEDDB",badgeSuccessColorBorder:"#CDEDDB",badgeSuccessColorText:"#1B754F",badgeWarningColorBackground:"#FDE696",badgeWarningColorBorder:"#FDE696",badgeWarningColorText:"#925B20",badgeDangerColorBackground:"#FEE0DE",badgeDangerColorBorder:"#FEE0DE",badgeDangerColorText:"#C23D38",offsetBackgroundColor:"#D3D3D3",formBackgroundColor:"#ffffff",borderRadius:"4px",buttonBorderRadius:"0px",badgeBorderRadius:"14px",spacingUnit:"11px",fontFamily:"Clarkson",fontSizeBase:"16px",headingXlFontSize:"22px",headingXlFontWeight:"600",headingMdFontSize:"22px",headingMdFontWeight:"600",headingSmFontSize:"22px",headingSmFontWeight:"600",headingXsFontSize:"12px",bodyMdFontSize:"16px",bodyMdFontWeight:"400",bodySmFontSize:"14px",bodySmFontWeight:"400",labelMdFontSize:"11px",labelMdFontWeight:"300",labelMdTextTransform:"uppercase",labelSmFontSize:"12px",...s==null?void 0:s.variables}},locale:(0,r.aj)()??"en-US"})}},556072:function(P,o,t){"use strict";t.d(o,{T:()=>u,UY:()=>f,ZP:()=>y,cy:()=>m});var n=t(897071),r=t.n(n),e=t(221661),c=t.n(e),i=t(981491),a=t(461761),s=t.n(a),l=t(1785);const d=["Static","SQUARESPACE_CONTEXT"],{AUTH_ACCOUNT:f,WEBSITE:m}={AUTH_ACCOUNT:[...d,"authenticatedAccount"],WEBSITE:[...d,"website"]},u=i.isStage()?e.SourceEnvironment.STAGING:e.SourceEnvironment.PROD,p=new(r())({customSchemaName:"commerce_setup"},{event_owner_team:l.a.EventOwnerTeam.COMMERCE,event_source:l.a.EventSource.WEB,product_area:l.a.ProductArea.COMMERCE_CORE}),g=new(c())({customSchemaName:"SurveyComponent",sourceEnvironment:u},{event_owner_team:l.a.EventOwnerTeam.COMMERCE,event_source:l.a.EventSource.WEB,product_area:l.a.ProductArea.COMMERCE_CORE}),v=new(c())({customSchemaName:"CommerceSQSPPayments",sourceEnvironment:u},{event_owner_team:l.a.EventOwnerTeam.COMMERCE_PAYMENTS,event_source:l.a.EventSource.WEB,product_area:l.a.ProductArea.PAYMENTS}),E=new(c())({customSchemaName:"PaymentsOnboarding",sourceEnvironment:u},{event_owner_team:l.a.EventOwnerTeam.PAYMENTS,event_source:l.a.EventSource.WEB,product_area:l.a.ProductArea.PAYMENTS}),C=new(c())({customSchemaName:"PaymentsCapitalUI",sourceEnvironment:u},{event_owner_team:l.a.EventOwnerTeam.CAPITAL,event_source:l.a.EventSource.WEB,product_area:l.a.ProductArea.CAPITAL}),T={user_member_account_id:s()(window,[...f,"id"],null),member_account_id:s()(window,[...f,"id"],null),member_account_locale:s()(window,[...f,"preferredLocale"],null),context_website_id:s()(window,[...m,"id"],null),user_website_id:s()(window,[...m,"id"],null),website_locale:s()(window,[...m,"language"],null)},y={connectSqspPayments:b=>{p.track({action:l.a.Action.CLICK,actor:l.a.Actor.USER,object_display_name:"Connect SquareSpace Payments",object_identifier:"connect-sqsp-payments",object_type:l.a.ObjectType.BUTTON,product_page:l.a.ProductPage.PAYMENTS_PANEL,product_section:"commerce-onboarding",indirect_object_identifier:b,...T})},sendSurveyResponse:b=>{let{accountId:D,accountState:j,surveyResponse:U}=b;g.track({survey_identifier:"sqsp_payments_merchant_feedback_survey",survey_session_id:D,response_free_text:U,response_structured_text:j,object_type:l.a.ObjectType.TEXTAREA,event_name:l.a.SurveyEventName.SUBMIT_QUESTION,action:l.a.Action.SUBMIT,actor:l.a.Actor.USER,...T})},trackAutoKycModal:b=>{let{entryPoint:D,objectIdentifier:j,outcomeState:U,hasSavedPayments:R}=b;v.track({action:l.a.Action.VIEW,actor:l.a.Actor.USER,auto_kyc_outcome_state:U,entry_point:D,event_name:l.a.AutoKyc.EventName.VIEW_AUTO_KYC_MODAL,object_identifier:j,object_type:l.a.ObjectType.PAGE,product_page:l.a.ProductPage.AUTO_KYC_MODAL,has_saved_payments:R,...T})},trackOnboarding:b=>{let{action:D,eventName:j,objectType:U,objectIdentifier:R,formStage:L,onboardingFlow:x,accountId:G}=b;E.track({action:D,actor:l.a.Actor.USER,event_name:j,object_identifier:R,object_type:U,form_stage:L,onboarding_flow:x,sqsp_payments_account_id:G,...T})},capitalApplicationSubmitted(b){C.track({action:l.a.Action.SUBMIT,event_name:l.a.Capital.EventName.APPLICATION_SUBMITTED,object_type:l.a.ObjectType.FORM,actor:l.a.Actor.USER,sqsp_payments_account_id:b,...T})},capitalEligibleFinancingOfferLoaded(b){C.track({action:l.a.Action.VIEW,event_name:l.a.Capital.EventName.ELIGIBLE_FINANCING_OFFER_LOADED,object_type:l.a.ObjectType.FORM,actor:l.a.Actor.USER,sqsp_payments_account_id:b,...T})},capitalOfferDismissed(b){C.track({action:l.a.Action.CLOSE,event_name:l.a.Capital.EventName.OFFER_DISMISSED,object_type:l.a.ObjectType.FORM,actor:l.a.Actor.USER,sqsp_payments_account_id:b,...T})},capitalApplicationStepChanged(b,D){C.track({action:l.a.Action.VIEW,event_name:l.a.Capital.EventName.APPLICATION_STEP_CHANGE,object_type:l.a.ObjectType.FORM,actor:l.a.Actor.USER,sqsp_payments_account_id:D,object_identifier:b,...T})}}},463938:function(P,o,t){"use strict";t.d(o,{q:()=>n});const n=r=>!!r&&typeof r=="string"&&!isNaN(new Date(r).getTime())},877205:function(P,o,t){"use strict";t.d(o,{Z:()=>f});var n=t(160553),r=t.n(n),e=t(174161),c=t(685763),i=t(338465),a=t(81262),s=t(228946),l=t(13658);const f=m=>{let{onRequestClose:u,children:p,position:g="center",dialogStyles:v,lockFocus:E=!0,modalProps:C,...T}=m;const I=(0,l.Z)();return e.createElement(c.Z.Transition,null,e.createElement(c.Z,r()({onRequestClose:u,lockFocus:E},C),e.createElement(c.Z.Overlay,null),e.createElement(c.Z.Position,{position:g},(()=>{const y=e.createElement(c.Z.Dialog,r()({className:s.unmask},v),e.createElement(c.Z.TouchScroll,null,e.createElement(i.Z,r()({overflow:"auto","data-anchor":a.Fl.SCROLL_REF},I?{height:"100%"}:{width:"100vw",height:"100vh",maxWidth:"100%"},T),p)));return I?e.createElement(c.Z.Dialog.ResponsiveProvider,null,y):y})())))}},81262:function(P,o,t){"use strict";t.d(o,{$A:()=>s,Fl:()=>c,ZP:()=>d,gt:()=>a});var n=t(174161),r=t(379835),e=t.n(r);let c=function(f){return f.SCROLL_REF="scroll-ref",f}({}),i;const a=f=>document.querySelector(`[data-anchor="${f}"]`),s=()=>a(c.SCROLL_REF),d=f=>{const[m,u]=(0,n.useState)(!1);return{isScrolling:m,scrollToLink:function(g,v){u(!0);const E=a(g);E&&(i||(i=a(f[0].anchor).offsetTop),e()(s(),E.offsetTop-i,{easing:v?!1:"easeInOutSine",minDuration:400,maxDuration:500,onEnd:()=>u(!1)}))}}}},13658:function(P,o,t){"use strict";t.d(o,{Z:()=>m});var n=t(174161),r=t(567713),e=t(176944),c=t.n(e);function i(u,p){let{element:g=document.body,useCapture:v,passive:E,shouldListen:C=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=(0,n.useRef)(p);(0,n.useEffect)(()=>{T.current=p},[p]),(0,n.useEffect)(()=>{if(g&&C){const I={};c()(v)||(I.capture=v),c()(E)||(I.passive=E);const y=b=>T.current(b);return setTimeout(()=>g.addEventListener(u,y,I)),()=>{g.removeEventListener(u,y,I)}}},[u,g,C,E,v])}const a={innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0};function s(u){return u?{innerHeight:u.innerHeight,innerWidth:u.innerWidth,outerHeight:u.outerHeight,outerWidth:u.outerWidth}:a}function l(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;const[p,g]=(0,n.useState)(s(u));(0,n.useEffect)(()=>{g(s(u))},[u]);function v(){g(s(u))}return i("resize",v,{element:u}),p}const d=920,m=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d;const{innerWidth:p}=l(),{platform:g}=(0,n.useContext)(r.Z.Context);return!(!(g==="mobile")&&p>u)}},790685:function(P,o,t){"use strict";t.d(o,{Z:()=>s});var n=t(642979),r=t.n(n),e=t(174161),c=t(795478),i=t.n(c),a=t(905723);class s extends e.Component{constructor(){super(...arguments),r()(this,"state",{children:null})}componentDidMount(){a.Z.registerExit({tunnelKey:this.props.tunnelKey,render:d=>{let{children:f}=d;this.setState({children:f})}})}componentWillUnmount(){a.Z.deregisterExit(this.props.tunnelKey)}render(){return this.props.render({children:this.state.children&&e.createElement("div",null,this.state.children)})}}r()(s,"propTypes",{tunnelKey:i().string.isRequired,render:i().func.isRequired})},958736:function(P,o,t){"use strict";t.d(o,{Z:()=>C});var n=t(160553),r=t.n(n),e=t(174161),c=t(338465),i=t(766519),a=t(139066),s=t(790685),l=t(485785),d=t(539799),f=t(180668),m=t(567713);const p=T=>{let{children:I,margin:y=0,...b}=T;const{isStaticNav:D}=(0,f.ZP)(),{platform:j}=e.useContext(m.Z.Context);return D?e.createElement(e.Fragment,null,e.createElement(s.Z,{tunnelKey:a.DU[a.BB.BASE],render:U=>{let{children:R}=U;return e.createElement(l.Z,{tunnelKey:d.Z.TUNNEL_KEY},e.createElement(c.Z,{px:j==="mobile"?4:6},e.createElement(i.Z.Container,r()({margin:y},b),e.createElement(i.Z.Item,{columns:12},e.createElement(c.Z,{mx:-6},R)))))}}),e.createElement(a.VY.Provider,{value:{layoutType:a.BB.BASE}},e.createElement(i.Z.Container,r()({margin:y},b),e.createElement(i.Z.Item,{columns:12},I)))):e.createElement(e.Fragment,null,I)};var g=t(161381);const v=T=>{let{children:I,hasMenuHeader:y=!1,sx:b,...D}=T;const{isStaticNav:j}=(0,f.ZP)();return j?e.createElement(e.Fragment,null,e.createElement(s.Z,{tunnelKey:a.DU[a.BB.FULL],render:U=>{let{children:R}=U;return e.createElement(l.Z,{tunnelKey:d.Z.TUNNEL_KEY},e.createElement(c.Z,{sx:{mx:"auto",maxWidth:"1440px"}},R))}}),e.createElement(a.VY.Provider,{value:{layoutType:a.BB.FULL}},e.createElement(c.Z,r()({},D,{sx:{mx:"auto",maxWidth:"1440px",px:6,paddingTop:y?0:6,width:"100%",...b}}),I))):e.createElement(e.Fragment,null,I)},E=(0,g.Z)(T=>{var I;let{router:y,...b}=T;const D=y&&((I=y.getCurrentRoute())===null||I===void 0?void 0:I.showMenuHeader)!==!1;return e.createElement(v,r()({hasMenuHeader:D},b))}),C={Base:p,Full:E,LAYOUT_TYPES:a.BB,LayoutContext:a.VY}},398642:function(P,o,t){"use strict";t.d(o,{Z:()=>be});var n=t(160553),r=t.n(n),e=t(642979),c=t.n(e),i=t(174161),a=t(845076),s=t.n(a),l=t(177716),d=t(538312),f=t(418698),m=t(571199),u=t(161381),p=t(402804),g=t.n(p),v=t(338465),E=t(708674),C=t(228907);const{NavItem:T,NavText:I,NavItemAccessory:y}=l.Z,b=/\/([^/]+)\/?$/;function D(me){if(me.scrollIntoViewIfNeeded){me.scrollIntoViewIfNeeded();return}me.scrollIntoView({block:"nearest"})}const j=i.memo(me=>{let{children:ne,dataTest:Ce,detail:Ae,href:Xe,path:Ne,hash:st,backTo:ze,router:we,onClickForTracking:Ke,onClick:se,isSelected:Oe,shouldScrollIntoView:ye,isItemVisibleInDom:ct=!0,useTitleVariant:at,variant:Ct,isDisabled:lt,isNew:Lt,disabledTooltipText:At,applyStaticNavStyle:Yt}=me;const xe=(0,i.useCallback)(_e=>{if(_e.preventDefault(),se){se();return}const He=Ne?{pathname:Ne,hash:st,state:{backTo:ze}}:null;return Ke&&Ke(He?He.pathname:"",Xe,He?He.hash:""),He?setTimeout(()=>we.push(He),0):window.open(Xe)},[Xe,se,Ke,we,ze,st,Ne]),tt=(0,i.useMemo)(()=>{if(Ce)return Ce;const _e=b.exec(Ne??"");return _e?"menuItem-"+_e[1]:"menuItem-unknown"},[Ne,Ce]),F=(0,i.useRef)(null),ie=_e=>i.createElement("a",r()({ref:F},_e));(0,i.useEffect)(()=>{!Oe||!ye||!F.current||!ct||D(F.current)},[Oe,ye,ct]);const Ze=(0,i.useRef)(null);if(Ne&&!we.isValidPath(Ne))return null;const Ue=lt||Ne&&we.isDisabledPath(Ne);Ct=at?"title":Ct??"subtitle";const Le=Yt?g().staticNavText:void 0;if(Ue){const _e=i.createElement(v.Z,{display:"inline-block",width:"100%"},i.createElement("span",{ref:F}),i.createElement(d.Z,{variant:Ct,color:"gray.600",fontWeight:"medium",my:1,sx:{cursor:"not-allowed",display:"flex"},as:"a",className:Le,"data-test":tt,"data-is-selected":Oe,ref:Ze},ne));return At?i.createElement(E.Z,{component:He=>i.createElement(f.Z,{isOpen:He,anchor:Ze.current,position:"bottom",delay:{enter:120,exit:0}},At)},_e):_e}return i.createElement(T,{onClick:xe,"data-test":tt,"data-is-selected":Oe,className:s()(g().noBorder,{[g().noSpaceBetween]:Lt}),isSelected:Oe,is:ie,href:Ne||void 0},i.createElement(I,r()({variant:Ct,className:Le,css:Lt?{flexBasis:"auto",flexGrow:"inherit"}:{}},at?{fontWeight:"medium"}:null),ne),Lt&&i.createElement(m.Z,{ml:1,sx:{textTransform:"uppercase"},status:"info",usage:"badge",label:i.createElement(d.Z.Label,{color:"inherit",sx:{margin:0}},i.createElement(C.T,{project:"universal-panel-components",notes:"badge label indicating a menu option is new"},"New"))}),Ae&&i.createElement(y,{id:"navItemAccessory",variant:Ct,className:Le},Ae))});j.displayName="MenuItem";const U=(0,u.Z)(j),R=me=>me.endsWith("/")?me:me+"/",x=(me,ne)=>!me||!ne?!1:R(ne).startsWith(R(me));var G=t(828323),k=t(612020);const{NavText:V,NavItem:$}=l.Z,J=function(){const{isOpen:me}=i.useContext(G.Z.Item.Context),ne="gray.100";return i.createElement(v.Z,{sx:{transform:me?"rotateZ(180deg)":void 0,transformOrigin:"center"},transitionDuration:300,transitionProperty:"transform",transitionTimingFunction:"default"},i.createElement(v.Z,{width:"sizes.150",height:"sizes.150"},i.createElement(k.Z,{color:ne})))},ee=me=>{var ne;let{title:Ce,items:Ae,applyStaticNavStyle:Xe,textVariant:Ne,location:st}=me;const[ze,we]=(0,i.useState)(!1),{pathname:Ke}=st;(0,i.useEffect)(()=>{for(const ct of Ae){const at=ct.to;(Ke===at||x(at,Ke))&&we(!0)}},[Ke,Ae]);const se=(0,i.useRef)(null),Oe=se==null||(ne=se.current)===null||ne===void 0?void 0:ne.offsetHeight,ye=Xe?g().staticNavText:void 0;return i.createElement(G.Z,{isItemOpen:()=>ze,onToggleItem:()=>we(!ze)},i.createElement(G.Z.Item,{sx:{"& > div[role='separator']":{display:"none"}}},i.createElement($,null,i.createElement(G.Z.Header,{exteriorAccessory:J,interiorPre:null,label:i.createElement(V,{variant:Ne??"subtitle",className:ye},Ce),sx:{py:0,minHeight:0}})),i.createElement(G.Z.Body,{sx:{ml:4}},i.createElement(v.Z,{ref:se},i.createElement(be,{areItemsVisibleInDom:!!Oe,groupClassName:g().accordionGroup,groups:[{key:`${Ce}-items`,items:Ae}],applyStaticNavStyle:!0,textVariant:Ne,shouldScrollToSelectedItem:!0})))))},de=(0,u.Z)(ee);var re=t(511973);const{NavGroup:Ee}=l.Z,Te=me=>Array.isArray(me.groups);class z extends i.Component{constructor(){super(...arguments),c()(this,"state",{groups:(0,re.Z)(this.props.router,this.polyfillGroups(this.props)),path:this.props.location.pathname}),c()(this,"isSelected",(ne,Ce)=>{const{selectedKey:Ae}=this.props,{path:Xe}=this.state;return ne?ne===Ae:Xe===Ce||x(Ce,Xe)})}UNSAFE_componentWillReceiveProps(ne){const Ce=this.polyfillGroups(ne);this.setState({groups:(0,re.Z)(this.props.router,Ce),path:ne.location.pathname})}polyfillGroups(ne){return Te(ne)?ne.groups:[{key:"solo-group",items:ne.items,className:ne.className}]}render(){const{onClickForTracking:ne,useTitleVariant:Ce,groupClassName:Ae,applyStaticNavStyle:Xe=!1,textVariant:Ne,shouldScrollToSelectedItem:st,areItemsVisibleInDom:ze}=this.props,{groups:we}=this.state,Ke=Xe?s()(Ae,g().staticNavContainer):Ae;return i.createElement(i.Fragment,null,we.length>0&&we.map((se,Oe)=>se.items.length>0&&i.createElement(Ee,{className:Ke,key:se.label||"unlabeled"+Oe},se.label&&i.createElement(d.Z.Label,{id:se.anchorId,my:2},se.label),se.items.map(ye=>(0,re.D)(ye)?i.createElement(de,r()({},ye,{key:ye.title,textVariant:Ne,applyStaticNavStyle:Xe})):i.createElement(U,{key:ye.key||ye.to,path:ye.to,hash:ye.hash,href:ye.href,backTo:ye.backTo,dataTest:ye.dataTest,detail:ye.detail,isDisabled:ye.disabled,isNew:ye.isNew,disabledTooltipText:ye.disabledTooltipText,isSelected:this.isSelected(ye.key,ye.to),shouldScrollIntoView:st,isItemVisibleInDom:ze,onClickForTracking:ne,onClick:ye.onClick,useTitleVariant:Ce,variant:Ne,applyStaticNavStyle:Xe},ye.title)))))}}const be=(0,u.Z)(z)},511973:function(P,o,t){"use strict";t.d(o,{D:()=>n,Z:()=>c});const n=i=>i&&"type"in i&&i.type==="accordion";function r(i,a){return a.onClick||a.href||a.to&&i.isValidPath(a.to)}function e(i,a){return a.some(s=>s.shouldShow!==!1&&r(i,s))}function c(i,a){return a.map(s=>({...s,items:s.items.filter(l=>n(l)&&e(i,l.items)||!n(l)&&l.shouldShow!==!1&&r(i,l))})).filter(s=>s.items.length>0)}},627613:function(P,o,t){"use strict";t.d(o,{Z:()=>xe});var n=t(174161);const r=n.createContext({shouldShowHamburger:!1});var e=t(160553),c=t.n(e),i=t(210750),a=t.n(i),s=t(338465),l=t(432762),d=t(567713),f=t(790685),m=t(766519),u=t(352635),p=t(482053),g=t(485785);const v=u.sizes.sizes[700],E=u.sizes.sizes[450],C=u.sizes.sizes[350],T="FullWidthMenuHeader",I="SubPanelMenuHeader",y=tt=>`${I}-${tt}`,b=tt=>`${T}-${tt}`,D=tt=>{let{appKey:F,children:ie}=tt;return n.createElement(g.Z,{tunnelKey:y(F)},n.createElement(p.Z,{alignItems:"center",height:E,ml:-1,pl:1,sx:{overflow:"hidden"}},ie))},j=tt=>{let{appKey:F,children:ie}=tt;return n.createElement(g.Z,{tunnelKey:b(F)},n.createElement(p.Z,{alignItems:"center",height:C,width:"100vw",px:4},ie))},R=tt=>{let{appKey:F,children:ie}=tt;return n.createElement(d.Z.Renderer,{appKey:F,render:{default:D,"mobile-0":j,"mobile-100":j}},ie)},L=(tt,F)=>tt?`calc(${F}px - ${C} - ${u.space[1]})`:`calc(${F}px - ${E} - ${u.space[1]})`,x=tt=>{let{appKey:F,gridOverrides:ie}=tt;return n.createElement(m.Z.Container,c()({className:"sub-panel-grid-container",gutter:0,margin:0,px:6},ie),n.createElement(m.Z.Item,{columns:12},n.createElement(s.Z,{height:E},n.createElement(f.Z,{tunnelKey:y(F),render:Ze=>{let{children:Ue}=Ze;return n.createElement(n.Fragment,null,Ue)}}))))},G=tt=>{var F;let{children:ie,gridOverrides:Ze,panelContentStyleOverrides:Ue,isMobile:Le=!1}=tt;const _e=(0,n.useRef)(document.querySelector(".App-sidebar")||document.querySelector(".sqs-damask")),[He,oe]=(0,n.useState)(((F=_e.current)===null||F===void 0?void 0:F.clientHeight)??window.innerHeight),ce=a()(()=>{var fe;oe(_e.current?(fe=_e.current)===null||fe===void 0?void 0:fe.clientHeight:window.innerHeight)},100,{trailing:!0}),Q=(0,n.useRef)(new l.d(ce));return(0,n.useEffect)(()=>{_e.current&&Q.current.observe(_e.current);const fe=_e.current,le=Q.current;return()=>{fe&&le.unobserve(fe)}},[]),n.createElement(m.Z.Container,c()({className:"sub-panel-grid-container",gutter:0,margin:0,px:Le?4:6,sx:{marginTop:1,position:"relative"}},Ze),n.createElement(m.Z.Item,{columns:12,sx:{height:L(Le,He)}},n.createElement(s.Z,c()({pb:Le?4:6},Ue),ie)))},k=tt=>{let{appKey:F,children:ie,dataTest:Ze,gridOverrides:Ue,panelContentStyleOverrides:Le}=tt;return n.createElement(s.Z,{"data-test":Ze},n.createElement(x,{appKey:F,gridOverrides:Ue}),n.createElement(G,{gridOverrides:Ue,panelContentStyleOverrides:Le},ie))},V=tt=>{let{children:F,dataTest:ie,gridOverrides:Ze,panelContentStyleOverrides:Ue}=tt;return n.createElement(s.Z,{"data-test":ie},n.createElement(G,{gridOverrides:Ze,isMobile:!0,panelContentStyleOverrides:Ue},F))},J=Object.assign(tt=>{let{appKey:F,children:ie,dataTest:Ze,gridOverrides:Ue,panelContentStyleOverrides:Le}=tt;return n.createElement(d.Z.Renderer,{appKey:F,dataTest:Ze,gridOverrides:Ue,panelContentStyleOverrides:Le,render:{default:k,"mobile-0":V,"mobile-100":V}},ie)},{Header:R,getSubPanelTunnelKey:y});var ee=t(392338),de=t(721247),re=t(161381),Ee=t(845076),Te=t.n(Ee),z=t(181298);const be=z.default["global-transition-easing"],{loadStyles:me,convertTranslateToMatrix:ne}=de.utils,Ce=me("CSSTG-SlideVariableWidth",{".group":{overflow:"hidden",transition:`width .4s ${be}`},".slide":{overflow:"hidden",transition:`transform .4s ${be}, min-height .4s ${be}, max-height .4s ${be}, opacity .4s ${be}`,display:"inline-block"},".leave":{overflow:"hidden",position:"absolute",top:0,left:0},".right":{position:"absolute",top:0,right:0}}),Ae=(tt,F)=>({appear:{className:Ce.slide,from:{opacity:0},to:{opacity:1}},enter:{className:Ce.slide,from:{transform:ie=>{const Ze=ie.nextSibling||ie.previousSibling,Ue=tt>0?ie:Ze;return ne(-tt*Ue.scrollWidth,0)},opacity:0},to:{transform:ie=>ne(0,0),opacity:1}},leave:{className:Te()(Ce.slide,Ce.leave),from:{transform:ie=>ne(0,0),opacity:1},to:{transform:ie=>{const Ze=ie.nextSibling||ie.previousSibling,Ue=tt>0?Ze:ie;return ne(tt*Ue.scrollWidth,0)},opacity:0}}}),Xe={className:Ce.group,rightClassName:Ce.right,transitions:{toLeft:Ae(-1,0),toRight:Ae(1,0),toTop:Ae(0,-1),toBottom:Ae(0,1)}};var Ne=t(539799);const st=Ne.Z.Stateful,ze=tt=>{let{backLabel:F,location:ie,onBackClick:Ze,MultiProductHamburger:Ue,router:Le}=tt;const{shouldShowHamburger:_e}=(0,n.useContext)(r);return _e&&Ue?n.createElement(Ue,null):n.createElement(st,{router:Le,location:ie,backLabel:F,onBackClick:Ze})},we=tt=>{let{appKey:F,backLabel:ie,location:Ze,MultiProductHamburger:Ue,onBackClick:Le,pathname:_e,router:He}=tt;return n.createElement(p.Z,{alignItems:"center",height:C},n.createElement(f.Z,{tunnelKey:b(F),render:oe=>{let{children:ce}=oe;return n.createElement(n.Fragment,null,ce||n.createElement(st,{router:He,location:Ze,backLabel:_e==="/"?ie:void 0,onBackClick:_e==="/"?Le:void 0,renderFallback:Ue}))}}))},Ke=tt=>{let{appKey:F,backLabel:ie,location:Ze,MultiProductHamburger:Ue,onBackClick:Le,router:_e}=tt;return n.createElement(p.Z,{alignItems:"center",height:E},n.createElement(f.Z,{tunnelKey:b(F),render:He=>{let{children:oe}=He;return n.createElement(n.Fragment,null,oe||n.createElement(ze,{backLabel:ie,location:Ze,MultiProductHamburger:Ue,onBackClick:Le,router:_e}))}}))},se=tt=>{let{children:F,location:ie,pathname:Ze,navigation:Ue}=tt;return Ze==="/"?n.createElement(s.Z,{px:4},n.createElement(Ue,{location:ie})):n.createElement(n.Fragment,null,F)},Oe=tt=>{var F;let{appKey:ie,backLabel:Ze,children:Ue,isMobileWithoutNav:Le,location:_e,MultiProductHamburger:He,navigation:oe,onBackClick:ce,router:Q,subRouter:fe}=tt;const le=(F=fe.getCurrentLocation())===null||F===void 0?void 0:F.pathname,[Re,Me]=(0,n.useState)(!0);return(0,n.useEffect)(()=>fe.onBeforeChange(dt=>{Me(typeof le=="string"&&dt.pathname.includes(le))}),[le,fe]),n.createElement(s.Z,{backgroundColor:le==="/"&&!Le?void 0:"white",sx:{transition:`background-color .4s ${be}`}},n.createElement(we,{appKey:ie,backLabel:Ze,location:_e,MultiProductHamburger:He,onBackClick:ce,pathname:le,router:Q}),n.createElement(de.CSSTransitionGroup,{"data-test":"full-width-panel-mobile-transition",key:"full-width-mobile-transition-group",style:{overflow:"hidden",height:`calc(${window.innerHeight}px - ${C})`},transitions:Re?Xe.transitions.toLeft:Xe.transitions.toRight,wrapChildWithTag:!1},n.createElement(s.Z,{key:`full-width-mobile-${le}`},Le?Ue:se({children:Ue,location:_e,pathname:le,navigation:oe}))))},ye=tt=>{let{appKey:F,backLabel:ie,children:Ze,location:Ue,MultiProductHamburger:Le,navigation:_e,onBackClick:He,router:oe}=tt;return n.createElement(p.Z,{height:"100%"},n.createElement(p.Z,{className:"full-width-desktop-navigation",sx:{flexDirection:"column",flexBasis:v,flexGrow:0,flexShrink:0,maxWidth:v}},n.createElement(Ke,{appKey:F,backLabel:ie,location:Ue,MultiProductHamburger:Le,onBackClick:He,router:oe}),n.createElement(s.Z,{sx:{px:6,pb:6,flex:1,position:"relative",overflowY:"auto"}},n.createElement(_e,{location:Ue}))),n.createElement(s.Z,{bg:"white",sx:{flexGrow:1,height:"100%",minWidth:0}},Ze))},ct=tt=>{let{appKey:F,children:ie,router:Ze,...Ue}=tt;return n.createElement(s.Z,{height:"100%"},n.createElement(d.Z.Renderer,c()({},Ue,{appKey:F,router:Ze,subRouter:Ze.getSubRouterByName(F),render:{default:ye,"mobile-0":Oe,"mobile-100":Oe}}),ie))},at=Object.assign((0,re.Z)(ct),{getWrapperTunnelKey:b});var Ct=t(552124),lt=t(762005),Lt=t(969145);const At=tt=>{let{appKey:F,router:ie,navigation:Ze,parentPanelLabel:Ue,parentBackClick:Le,MultiProductHamburger:_e,isMobileWithoutNav:He}=tt;const oe=ie.getSubRouterByName(F),ce=oe.getCurrentLocation();return n.createElement(at,{appKey:F,navigation:Ze,backLabel:Ue,onBackClick:Le,MultiProductHamburger:_e,isMobileWithoutNav:He},n.createElement(Lt.Z.Provider,{theme:lt.rosetta.white},n.createElement(Ct.VA,null,n.createElement(Ct.rs,{location:ce},oe.validRoutes.map(Q=>{let{path:fe,component:le}=Q;return n.createElement(Ct.AW,{exact:!0,key:fe,path:fe},n.createElement(le,null))})))))},Yt=(0,re.Z)(At),xe=Object.assign(Yt,{Context:r,SubPanel:J,Wrapper:at})},568175:function(P,o,t){"use strict";t.r(o),t.d(o,{Content:()=>n.Z,MenuHeader:()=>r.Z,NavMenu:()=>e.Z,Panel:()=>i.Z,StatefulReviewingChangesModal:()=>s.Z,View:()=>a.Z,filterNavItems:()=>c.Z,getReviewingChangesModalOptions:()=>l.b,isAccordion:()=>c.D,useEnsureClean:()=>l.Z});var n=t(958736),r=t(539799),e=t(398642),c=t(511973),i=t(283919),a=t(627613),s=t(572862),l=t(817223)},491986:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(746648),c=t(933372),i=n(t(174161)),a=n(t(807681));const s=d=>{let{intents:f,isError:m,isLoading:u,lifecycleStage:p,productArea:g=c.ProductArea.HOME,widgetPositionIndex:v,widgetPositionTotal:E}=d;const C={lifecycleStage:p,productArea:g,widgetPositionIndex:v,widgetPositionTotal:E};return f?i.default.createElement(a.default,(0,r.default)({},C,{intents:f,isError:m,isLoading:u})):i.default.createElement(e.IntentWrapper,{integrationPoint:"help-video-widget"},i.default.createElement(a.default,C))};var l=o.default=s;P.exports=o.default},807681:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(746648),e=t(388672),c=t(778008),i=t(277578),a=t(933372),s=u(t(174161)),l=n(t(488900)),d=n(t(331492)),f=t(704877);function m(v){if(typeof WeakMap!="function")return null;var E=new WeakMap,C=new WeakMap;return(m=function(T){return T?C:E})(v)}function u(v,E){if(!E&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var C=m(E);if(C&&C.has(v))return C.get(v);var T={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in v)if(y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)){var b=I?Object.getOwnPropertyDescriptor(v,y):null;b&&(b.get||b.set)?Object.defineProperty(T,y,b):T[y]=v[y]}return T.default=v,C&&C.set(v,T),T}const p=v=>{let{intents:E=[],isError:C,isLoading:T,lifecycleStage:I,productArea:y,widgetPositionIndex:b,widgetPositionTotal:D}=v;const j=(0,s.useRef)(!1),{T:U}=(0,d.default)(),{isVisible:R,ref:L}=(0,e.useIntersectionObserver)({threshold:.5}),[x,G]=(0,s.useState)(),k=(0,l.default)({intents:E}),V=(0,s.useMemo)(()=>k.map(se=>{let{category:Oe,title:ye}=se;return{id:Oe,label:ye}}),[k]),$=(0,s.useMemo)(()=>{var se;return((se=k.find(Oe=>{let{category:ye}=Oe;return ye===x}))===null||se===void 0?void 0:se.videos)||[]},[x,k]);(0,s.useEffect)(()=>{V.find(Oe=>{let{id:ye}=Oe;return ye===x})||G(V[0].id||null)},[x,V]);const{handleTrackUserViewsWidget:J,handleTrackUserClicksHelpVideoTab:ee,handleTrackUserNavigatesForwardInHelpVideos:de,handleTrackUserNavigatesBackwardInHelpVideos:re,handleTrackUserClosesHelpVideo:Ee,handleTrackUserCompletesHelpVideo:Te,handleTrackUserOpensHelpVideo:z,handleTrackUserClicksHelpVideoControl:be}=(0,f.useTracking)({widget_name:a.WidgetName.HELP_VIDEO,widget_position_index:b,widget_position_total:D,product_area:y,surface_state:I}),me=(0,s.useCallback)(se=>{const Oe=k.find(ye=>{let{category:ct}=ye;return ct===(se??x)});return{intent:Oe!=null&&Oe.intent?[Oe.intent]:[],content_position_index:k.findIndex(ye=>{let{category:ct}=ye;return ct===x}),content_position_total:k.length}},[x,k]),ne=(0,s.useCallback)(se=>{let{title:Oe,url:ye}=se;return{...me(),item_name:Oe,item_position_index:$.findIndex(ct=>{let{url:at}=ct;return at===ye}),item_position_total:$.length}},[$,me]),Ce=(0,s.useCallback)(se=>{z(ne(se))},[ne,z]),Ae=(0,s.useCallback)(se=>{Ee(ne(se))},[ne,Ee]),Xe=(0,s.useCallback)(se=>{be({...ne(se),object_identifier:f.ObjectIdentifier.PLAY})},[ne,be]),Ne=(0,s.useCallback)(se=>{be({...ne(se),object_identifier:f.ObjectIdentifier.PAUSE})},[ne,be]),st=(0,s.useCallback)(se=>{Te(ne(se))},[ne,Te]),ze=(0,s.useCallback)(se=>{G(se),ee(me(se))},[me,ee]),we=(0,s.useCallback)(()=>{re(me())},[me,re]),Ke=(0,s.useCallback)(()=>{de(me())},[me,de]);return(0,s.useEffect)(()=>{!T&&!j.current&&R&&(J({intent:E}),j.current=!0)},[T,E,R,J]),s.default.createElement(s.default.Fragment,null,s.default.createElement(i.WidgetTitle,null,I&&I!==a.LifecycleStage.PRE_PUBLISH?s.default.createElement(U,{project:"help-video-widget"},"Keep learning"):s.default.createElement(U,{project:"help-video-widget"},"Learn the basics")),C?s.default.createElement(i.WidgetErrorView,{mt:4}):s.default.createElement(c.Box,{ref:L},s.default.createElement(r.VideoCarousel,{activeCategory:x,categories:V,isLoading:T,videos:$,onCardClick:Ce,onCategoryChange:ze,onNextPage:Ke,onPrevPage:we,onVideoEnd:st,onVideoPause:Ne,onVideoPlay:Xe,onVideoPlayerClose:Ae})))};var g=o.default=p;P.exports=o.default},20332:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SUPPORTED_INTENTS=void 0;var n=t(647938);const r=o.SUPPORTED_INTENTS=[n.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,n.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,n.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,n.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING,n.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER]},488900:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,t(392338);var r=t(174161),e=t(549074),c=n(t(901572));const i=s=>{let{intents:l}=s;const d=(0,e.useReleasedVideoData)(),f=(0,c.default)({intents:l});return(0,r.useMemo)(()=>f.map(u=>{let{intent:p,category:g,title:v}=u;const T=d.filter(I=>{let{intent:y,isGenericContent:b}=I;return p?y.includes(p):b}).sort((I,y)=>I.positionInPlaylist-y.positionInPlaylist).map(I=>{let{url:y,title:b,thumbnail:D,videoDuration:j}=I;return{url:y,title:b,thumbnail:D,videoDuration:j}});return{category:g,intent:p,title:v,videos:T}}).filter(u=>{let{videos:p}=u;return p.length>0}),[d,f])};var a=o.default=i;P.exports=o.default},549074:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useReleasedVideoData=void 0;var r=t(174161),e=t(972990),c=n(t(927031));const i=()=>{const a=(0,c.default)();return(0,r.useMemo)(()=>a.filter(l=>l.status===e.VideoContentStatus.RELEASED),[a])};o.useReleasedVideoData=i},901572:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,t(392338);var r=t(647938),e=t(174161),c=t(20332),i=n(t(331492)),a=t(972990);const s={[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER]:a.VideoCategory.SERVICE_SELLER,[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING]:a.VideoCategory.INVOICING,[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE]:a.VideoCategory.PHYSICAL_SELLER,[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING]:a.VideoCategory.SCHEDULING,[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER]:a.VideoCategory.REGISTRATION_SELLER},l=f=>{let{intents:m=[]}=f;const{t:u}=(0,i.default)(),p=(0,e.useMemo)(()=>({[a.VideoCategory.SERVICE_SELLER]:u("Services",null,{project:"help-video-widget"}),[a.VideoCategory.INVOICING]:u("Invoicing",null,{project:"help-video-widget"}),[a.VideoCategory.PHYSICAL_SELLER]:u("Physical Goods",null,{project:"help-video-widget"}),[a.VideoCategory.SCHEDULING]:u("Scheduling",null,{project:"help-video-widget"}),[a.VideoCategory.WEBSITE]:u("Website",null,{project:"help-video-widget"}),[a.VideoCategory.REGISTRATION_SELLER]:u("Group Events",null,{project:"help-video-widget"})}),[u]),g=(0,e.useMemo)(()=>({category:a.VideoCategory.WEBSITE,title:p[a.VideoCategory.WEBSITE]}),[p]);return(0,e.useMemo)(()=>{const T=Object.entries(s).filter(I=>{let[y]=I;return c.SUPPORTED_INTENTS.includes(y)}).map(I=>{let[y,b]=I;return{category:b,intent:y,title:p[b]}}).filter(I=>{let{intent:y}=I;return m.includes(y)}).sort((I,y)=>{const b=I.intent,D=y.intent;return m.indexOf(b)-m.indexOf(D)});return[g,...T]},[m,p,g])};var d=o.default=l;P.exports=o.default},927031:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(647938),e=t(174161),c=n(t(331492)),i=t(972990);const a=()=>{const{t:l}=(0,c.default)();return(0,e.useMemo)(()=>[{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],url:"https://youtu.be/kcI4bFWHUyk",title:l("Using Scheduling Blocks",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/513fa75b-2390-4140-bbdb-5b5fef97f885/52_Scheduling.png?content-type=image%2Fpng",videoDuration:72,positionInPlaylist:1},{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],url:"https://youtu.be/OhfXxsOSRRo",title:l("Managing Clients",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/717e966b-ed8b-4401-a3ff-e0536cc1f51c/149_Invoicing.png?content-type=image%2Fpng",videoDuration:169,positionInPlaylist:1},{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE],url:"https://youtu.be/QQDWnftNVC4",title:l("Adding Products to Your Store",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/c2968584-7a46-4c7a-afca-91cc1a21f64c/127_Physical.png?content-type=image%2Fpng",videoDuration:43,positionInPlaylist:1},{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],url:"https://youtu.be/5OwpUUaHYn0",title:l("Adding a Site Logo or Browser Icon",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/86398af7-c8bb-4e0b-b63e-7255c62a143c/33_All.png?content-type=image%2Fpng",videoDuration:63,positionInPlaylist:3},{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],url:"https://www.youtube.com/watch?v=ZfLHF3BCNYk",title:l("Inviting Contributors",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/a5089e1e-ee17-4f87-836d-4f2ff4f85e62/76_All.png?content-type=image%2Fpng",videoDuration:86,positionInPlaylist:4},{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING,r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],url:"https://youtu.be/8d1kpp93XRk",title:l("Managing Form Submissions",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/a2672b96-c6eb-48d4-bdf6-dd4fa226cf64/101_All.png?content-type=image%2Fpng",videoDuration:75,positionInPlaylist:2},{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],url:"https://youtu.be/syvIZp-6o2I",title:l("Creating Portfolio Pages",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/99ef0968-40bf-4d56-a6e3-e28c8c79f8fe/42_Service.png?content-type=image%2Fpng",videoDuration:166,positionInPlaylist:1},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://youtu.be/4dbm5vsdLuM",title:l("Adding Background Videos",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/d747b747-1da6-46b3-8f01-4dc5e99c0e9b/10_All.png?content-type=image%2Fpng",videoDuration:63,positionInPlaylist:7},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://youtu.be/jpLndYAinbw",title:l("Using Gallery Sections",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/6d8dc1af-6c65-4608-8372-ab8ae5af5b4f/19_All.png?content-type=image%2Fpng",videoDuration:154,positionInPlaylist:6},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://www.youtube.com/watch?v=O_X3YwpPReg",title:l("Using Fluid Engine",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/720e322e-dfd4-47a2-8143-249b59f22a71/41_All.png?content-type=image%2Fpng",videoDuration:90,positionInPlaylist:8},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://youtu.be/0S4zCRcPeRg",title:l("Changing Fonts",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/311dd74d-369d-4e85-a90f-cea5117a8af5/62_All.png?content-type=image%2Fpng",videoDuration:87,positionInPlaylist:3},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://youtu.be/BEeVwoNuQSA",title:l("Styling Buttons",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/ecb753cf-c269-4097-a7f4-8cf2ce43d54e/106_All.png?content-type=image%2Fpng",videoDuration:58,positionInPlaylist:4},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://www.youtube.com/watch?v=xwJl6Ak2We8",title:l("Adding Page Sections",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/f2543b97-26a2-42c3-9f15-27dd29436f00/112_All.png?content-type=image%2Fpng",videoDuration:49,positionInPlaylist:1},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://youtu.be/u7rg_l8kT9Q",title:l("Adding Content with Blocks",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/e16e49b0-aa3f-4eee-bf24-e44eb57c2a0d/117_All.png?content-type=image%2Fpng",videoDuration:44,positionInPlaylist:2},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://youtu.be/dXE_mp5C-oI",title:l("Understanding the Not Linked Section",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/309db353-df09-4714-8cad-f574fdcc1c40/140_All.png?content-type=image%2Fpng",videoDuration:52,positionInPlaylist:9},{status:i.VideoContentStatus.RELEASED,isGenericContent:!0,intent:[],url:"https://www.youtube.com/watch?v=XujeGm1HdMg",title:l("Using Image Blocks",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/2b3308f9-d901-4498-934f-4c1eaa30dd61/192_All.png?content-type=image%2Fpng",videoDuration:58,positionInPlaylist:5},{status:i.VideoContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],url:"https://youtu.be/zgRdSZ4hZuY",title:l("Adding Additional Product Information",null,{project:"help-video-widget"}),thumbnail:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/788249aa-d97a-4875-8da6-31b4448e79be/Registration_256x144.png?content-type=image%2Fpng",videoDuration:48,positionInPlaylist:1}],[l])};var s=o.default=a;P.exports=o.default},331492:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=c;var n=t(269734);const r="help-video-widget";function e(i){return t(271721)(`./${r}.${i}.yaml`)}function c(){return(0,n.useTranslateWithTranslationLoader)(e)}P.exports=o.default},963522:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(o,"isWidgetAvailable",{enumerable:!0,get:function(){return e.isWidgetAvailable}});var r=n(t(491986)),e=t(577398)},704877:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useTracking=o.ObjectIdentifier=void 0;var n=t(689699),r=t(933372),e=t(174161);let c=o.ObjectIdentifier=function(a){return a.PLAY="play",a.PAUSE="pause",a}({});const i=a=>{let{widget_name:s,widget_position_index:l,widget_position_total:d,product_area:f,surface_state:m}=a;const u=(0,e.useCallback)(y=>{let{intent:b}=y;(0,r.trackUserViewsWidget)({widget_name:s,intent:b,widget_position_index:l,widget_position_total:d,product_area:f,surface_state:m})},[s,l,d,f,m]),p=(0,e.useCallback)(y=>{let{content_position_index:b,content_position_total:D,intent:j}=y;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksHelpVideoTab",object_type:n.ObjectType.TAB,product_area:f,widget_name:s,surface_state:m,content_type:r.ContentType.PLAYLIST,intent:j,widget_position_index:l,widget_position_total:d,content_position_index:b,content_position_total:D})},[s,l,d,f,m]),g=(0,e.useCallback)(y=>{let{content_position_index:b,content_position_total:D,intent:j}=y;(0,r.trackUserNavigatesWithinWidget)({direction:r.NavigationDirection.FORWARD,widget_name:s,content_type:r.ContentType.PLAYLIST,content_position_index:b,content_position_total:D,intent:j,widget_position_index:l,widget_position_total:d,product_area:f,surface_state:m})},[s,l,d,f,m]),v=(0,e.useCallback)(y=>{let{content_position_index:b,content_position_total:D,intent:j}=y;(0,r.trackUserNavigatesWithinWidget)({direction:r.NavigationDirection.BACKWARD,widget_name:s,content_type:r.ContentType.PLAYLIST,content_position_index:b,content_position_total:D,intent:j,widget_position_index:l,widget_position_total:d,product_area:f,surface_state:m})},[s,l,d,f,m]),E=(0,e.useCallback)(y=>{let{content_position_index:b,content_position_total:D,item_name:j,item_position_index:U,item_position_total:R,intent:L}=y;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClosesHelpVideo",object_type:n.ObjectType.MODAL,product_area:f,surface_state:m,widget_name:s,content_type:r.ContentType.VIDEO,intent:L,item_name:j,widget_position_index:l,widget_position_total:d,content_position_index:b,content_position_total:D,item_position_index:U,item_position_total:R})},[s,l,d,f,m]),C=(0,e.useCallback)(y=>{let{content_position_index:b,content_position_total:D,item_name:j,item_position_index:U,item_position_total:R,intent:L}=y;(0,r.trackEvent)({action:n.Action.COMPLETE,actor:n.Actor.USER,event_name:"UserCompletesHelpVideo",object_type:n.ObjectType.VIDEO,product_area:f,surface_state:m,widget_name:s,content_type:r.ContentType.VIDEO,intent:L,item_name:j,widget_position_index:l,widget_position_total:d,content_position_index:b,content_position_total:D,item_position_index:U,item_position_total:R})},[s,l,d,f,m]),T=(0,e.useCallback)(y=>{let{content_position_index:b,content_position_total:D,item_name:j,item_position_index:U,item_position_total:R,intent:L}=y;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserOpensHelpVideo",object_type:n.ObjectType.VIDEO,product_area:f,surface_state:m,widget_name:s,content_type:r.ContentType.VIDEO,intent:L,item_name:j,widget_position_index:l,widget_position_total:d,content_position_index:b,content_position_total:D,item_position_index:U,item_position_total:R})},[s,l,d,f,m]),I=(0,e.useCallback)(y=>{let{content_position_index:b,content_position_total:D,item_name:j,item_position_index:U,item_position_total:R,object_identifier:L,intent:x}=y;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksHelpVideoControl",object_type:n.ObjectType.BUTTON,product_area:f,surface_state:m,widget_name:s,content_type:r.ContentType.VIDEO,intent:x,item_name:j,widget_position_index:l,widget_position_total:d,content_position_index:b,content_position_total:D,item_position_index:U,item_position_total:R,object_identifier:L})},[s,l,d,f,m]);return{handleTrackUserViewsWidget:u,handleTrackUserClicksHelpVideoTab:p,handleTrackUserNavigatesForwardInHelpVideos:g,handleTrackUserNavigatesBackwardInHelpVideos:v,handleTrackUserClosesHelpVideo:E,handleTrackUserCompletesHelpVideo:C,handleTrackUserOpensHelpVideo:T,handleTrackUserClicksHelpVideoControl:I}};o.useTracking=i},972990:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.VideoContentStatus=o.VideoCategory=void 0;let t=o.VideoContentStatus=function(r){return r.RELEASED="RELEASED",r.STAGED="STAGED",r}({}),n=o.VideoCategory=function(r){return r.INVOICING="INVOICING",r.PHYSICAL_SELLER="PHYSICAL_SELLER",r.SCHEDULING="SCHEDULING",r.SERVICE_SELLER="SERVICE_SELLER",r.WEBSITE="WEBSITE",r.REGISTRATION_SELLER="REGISTRATION_SELLER",r}({})},577398:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isWidgetAvailable=void 0;var n=t(645791);const r=()=>(0,n.getIsLocaleEnglish)();o.isWidgetAvailable=r},271721:function(P,o,t){var n={"./help-video-widget.en-US.yaml":"272416"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=271721},73555:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(746648),c=t(933372),i=n(t(174161)),a=n(t(256841));const s=d=>{let{intents:f,isError:m,isLoading:u,lifecycleStage:p,productArea:g=c.ProductArea.HOME,widgetPositionIndex:v,widgetPositionTotal:E}=d;const C={lifecycleStage:p,productArea:g,widgetPositionIndex:v,widgetPositionTotal:E};return f?i.default.createElement(a.default,(0,r.default)({},C,{intents:f,isError:m,isLoading:u})):i.default.createElement(e.IntentWrapper,{integrationPoint:"product-merchandising-widget"},i.default.createElement(a.default,C))};var l=o.default=s;P.exports=o.default},533804:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(670563),c=t(778008),i=t(436700),a=t(923842),s=t(933372),l=v(t(174161)),d=t(371989),f=t(627575),m=t(625069),u=t(553900),p=t(332791);function g(T){if(typeof WeakMap!="function")return null;var I=new WeakMap,y=new WeakMap;return(g=function(b){return b?y:I})(T)}function v(T,I){if(!I&&T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var y=g(I);if(y&&y.has(T))return y.get(T);var b={__proto__:null},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in T)if(j!=="default"&&Object.prototype.hasOwnProperty.call(T,j)){var U=D?Object.getOwnPropertyDescriptor(T,j):null;U&&(U.get||U.set)?Object.defineProperty(b,j,U):b[j]=T[j]}return b.default=T,y&&y.set(T,b),b}const E=T=>{let{headline:I,uiImage:y,bgImage:b,CTA:D,linkPath:j,isLoading:U,name:R,onMerchCardClick:L,...x}=T;const G=(0,u.getIsMobile)(),[k,V]=(0,l.useState)(!1),[$,J]=(0,l.useState)(!1),{time:ee}=(0,i.useTheme)(),[de,re]=(0,a.useMeasure)({debounce:250}),Ee=(0,l.useMemo)(()=>{const{width:be}=re;return be<m.AD_CARD_WIDTH_BREAKPOINTS.SM?m.MERCH_CARD_SIZES.SM:be<m.AD_CARD_WIDTH_BREAKPOINTS.MD?m.MERCH_CARD_SIZES.MD:m.MERCH_CARD_SIZES.LG},[re]),Te={bottom:6,left:6,position:"absolute"},z=(0,u.isExternalLink)(j);return l.default.createElement(c.Button,(0,r.default)({},z&&{as:"a",href:j,target:"_blank",rel:"noopener noreferrer"},{backgroundColor:"gray.950",backgroundImage:U?"none":`url(${b})`,backgroundPosition:"center",backgroundSize:"cover",borderRadius:"11px",display:"flex",justifyContent:"space-between",maxWidth:m.CARD_MAX_WIDTH,position:"relative",ref:de,sx:{cursor:U?"initial":"pointer",padding:0,textAlign:"left","&::before":{display:"none"},"&:focus-visible":d.MERCH_CARD_FOCUS_OUTLINE,flexDirection:Ee===m.MERCH_CARD_SIZES.LG?"row":"column"},textTransform:"none",onBlur:()=>J(!1),onClick:()=>{U||L({id:R,linkPath:j,content_type:s.ContentType.AD,item_name:I,isExternal:z})},onFocus:()=>!U&&J(!0),onMouseEnter:()=>!U&&V(!0),onMouseLeave:()=>V(!1)},x),l.default.createElement(c.Box,{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.80) 0%, rgba(0, 0, 0, 0.80) 100%), lightgray",borderRadius:"11px",height:"100%",opacity:k||$?"0.8":"0",position:"absolute",transitionDuration:ee[300],transitionProperty:"opacity",transitionTimingFunction:"ease-in-out",width:"100%",zIndex:"1"}),l.default.createElement(c.Flex,{alignSelf:"stretch",flex:1,flexDirection:"column",gap:4,height:"100%",justifyContent:Ee===m.MERCH_CARD_SIZES.LG?"space-between":"flex-start",pb:Ee===m.MERCH_CARD_SIZES.LG?6:0,pl:6,pr:Ee===m.MERCH_CARD_SIZES.LG?2:6,pt:6,zIndex:"2"},l.default.createElement(p.AdCardHeader,{headline:I,isLoading:U}),l.default.createElement(f.AdCardCTAButton,(0,r.default)({CTA:D,borderColor:U?"gray.100":"white",color:U?"gray.100":"white",isExpanded:!U&&(k||G)},Ee===m.MERCH_CARD_SIZES.LG?Te:{}))),l.default.createElement(c.Flex,{alignItems:"flex-end",flex:1,height:"100%",justifyContent:"flex-end",p:6},!U&&l.default.createElement(e.Image,{src:y,width:m.AD_UI_IMAGE_WIDTH})))};var C=o.default=E;P.exports=o.default},627575:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.AdCardCTAButton=void 0;var r=n(t(160553)),e=t(488475),c=t(778008),i=t(436700),a=d(t(174161)),s=t(625069);function l(m){if(typeof WeakMap!="function")return null;var u=new WeakMap,p=new WeakMap;return(l=function(g){return g?p:u})(m)}function d(m,u){if(!u&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var p=l(u);if(p&&p.has(m))return p.get(m);var g={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in m)if(E!=="default"&&Object.prototype.hasOwnProperty.call(m,E)){var C=v?Object.getOwnPropertyDescriptor(m,E):null;C&&(C.get||C.set)?Object.defineProperty(g,E,C):g[E]=m[E]}return g.default=m,p&&p.set(m,g),g}const f=m=>{let{isExpanded:u,CTA:p,...g}=m;const[v,E]=(0,a.useState)(null),C=(0,a.useRef)(null),{time:T}=(0,i.useTheme)();(0,a.useEffect)(()=>{p&&C.current?E(Math.ceil(C.current.getBoundingClientRect().width)):E(null)},[p]);const I=a.default.createElement(c.Text.Label,{color:"white",fontSize:2,mr:1,sx:{whiteSpace:"nowrap"}},p);return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Flex,{height:0,position:"absolute",px:s.AD_CARD_CTA_BUTTON_HEIGHT/2,ref:C,sx:{visibility:"hidden"}},I,a.default.createElement(e.ArrowRight,null)),a.default.createElement(c.Flex,(0,r.default)({alignItems:"center",borderRadius:s.AD_CARD_CTA_BUTTON_HEIGHT,borderStyle:"solid",borderWidth:"1px",flexShrink:0,height:s.AD_CARD_CTA_BUTTON_HEIGHT,justifyContent:"center",overflow:"hidden",transitionDuration:T[300],transitionProperty:"width",transitionTimingFunction:"ease-in-out",width:u?v?`${v}px`:"auto":"36px"},g),u&&I,a.default.createElement(e.ArrowRight,{color:"inherit"})))};o.AdCardCTAButton=f},332791:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.AdCardHeader=void 0;var r=t(778008),e=n(t(174161)),c=t(389847);const i=a=>{let{headline:s,isLoading:l}=a;return l?e.default.createElement(c.TextSkeletonLoader,{containerProps:{pb:6},lastRowProps:{mr:8,width:"initial"}}):e.default.createElement(r.Text.DisplayTitle,{color:"white",textAlign:"left"},s)};o.AdCardHeader=i},426446:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(485533),c=t(778008),i=n(t(174161)),a=t(371989),s=n(t(533804)),l=n(t(116882));const d=m=>{let{ads:u,tips:p,isLoading:g,onMerchCardClick:v}=m;const C=(0,e.useMatchesMediaQuery)(`(max-width: ${a.SCREEN_WIDTH_BREAKPOINTS.LG}px)`)?4:6;return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.Flex,{flex:"1",flexDirection:"column",gap:C},u[0]&&i.default.createElement(s.default,(0,r.default)({flex:.7,isLoading:g},u[0],{onMerchCardClick:v})),p[0]&&i.default.createElement(l.default,(0,r.default)({flex:.3,isLoading:g},p[0],{onMerchCardClick:v}))),i.default.createElement(c.Flex,{flex:"1",flexDirection:"column",gap:C},p[1]&&i.default.createElement(l.default,(0,r.default)({flex:.3,isLoading:g},p[1],{onMerchCardClick:v})),u[1]&&i.default.createElement(s.default,(0,r.default)({flex:.7,isLoading:g},u[1],{onMerchCardClick:v}))))};var f=o.default=d;P.exports=o.default},256841:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(485533),e=t(388672),c=t(778008),i=t(277578),a=t(871773),s=t(933372),l=v(t(174161)),d=t(190104),f=t(371989),m=t(241673),u=n(t(472208)),p=n(t(426446));function g(T){if(typeof WeakMap!="function")return null;var I=new WeakMap,y=new WeakMap;return(g=function(b){return b?y:I})(T)}function v(T,I){if(!I&&T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var y=g(I);if(y&&y.has(T))return y.get(T);var b={__proto__:null},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in T)if(j!=="default"&&Object.prototype.hasOwnProperty.call(T,j)){var U=D?Object.getOwnPropertyDescriptor(T,j):null;U&&(U.get||U.set)?Object.defineProperty(b,j,U):b[j]=T[j]}return b.default=T,y&&y.set(T,b),b}const E=T=>{let{intents:I=[],isError:y=!1,isLoading:b=!1,lifecycleStage:D,productArea:j,widgetPositionIndex:U,widgetPositionTotal:R}=T;const L=(0,l.useRef)(!1),{isVisible:x,ref:G}=(0,e.useIntersectionObserver)({threshold:.5}),{pushWithRedirect:k}=(0,m.useNavigateWithRedirect)(),{trackUserViewsWidget:V,trackUserClicksWidgetLink:$}=(0,m.useTracking)({widget_name:s.WidgetName.PRODUCT_MERCHANDISING,widget_position_index:U,widget_position_total:R,intent:I,product_area:j,surface_state:D});(0,l.useEffect)(()=>{!b&&!L.current&&x&&(V(),L.current=!0)},[b,I,x,V]);const J=(0,m.useFilteredGroupedMerchContent)({intents:I,lifecycleStage:D}),{T:ee}=(0,u.default)(),de=(0,l.useCallback)(z=>{var be;let{id:me,linkPath:ne,content_type:Ce,item_name:Ae,isExternal:Xe}=z;if($({content_type:Ce,item_name:Ae}),Xe)return;const Ne=(be=d.NavigationRequestMap[Ce])===null||be===void 0?void 0:be[me];if(!Ne){k(ne);return}const ze=Ne===a.NavigationRequestType.OPEN_ADD_SERVICE_MODAL?{requestType:Ne,payload:{path:ne}}:{requestType:Ne};(0,a.broadcastWidgetNavigationRequest)(ze)},[$,k]),Ee=(0,r.useMatchesMediaQuery)(`(max-width: ${f.SCREEN_WIDTH_BREAKPOINTS.LG}px)`)?4:6,Te=(0,m.useContentValidation)(J);return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.Box,{pb:4},l.default.createElement(i.WidgetTitle,null,l.default.createElement(ee,{project:"product-merchandising-widget"},"Discover more"))),y||!Te?l.default.createElement(i.WidgetErrorView,{height:f.WIDGET_CONTAINER_MIN_HEIGHT}):l.default.createElement(c.Flex,{gap:Ee,minHeight:f.WIDGET_CONTAINER_MIN_HEIGHT,ref:G},l.default.createElement(p.default,{ads:J.merchAd,isLoading:b,tips:J.merchTip,onMerchCardClick:de})))};var C=o.default=E;P.exports=o.default},389847:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.TextSkeletonLoader=void 0;var r=n(t(160553)),e=t(670563),c=t(778008),i=n(t(174161));const a=23,s=l=>{let{rows:d=3,lastRowProps:f,containerProps:m}=l;return i.default.createElement(c.Flex,(0,r.default)({flexDirection:"column",gap:2},m),[...Array(d).keys()].map(u=>{const p=u===d-1;return i.default.createElement(e.Skeleton,(0,r.default)({height:a,key:u},p?f:{}))}))};o.TextSkeletonLoader=s},116882:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(778008),c=t(436700),i=t(933372),a=n(t(174161)),s=t(371989),l=t(553900),d=t(389847),f=t(625069);const m=p=>{let{eyebrow:g,description:v,CTA:E,linkPath:C,isLoading:T,name:I,onMerchCardClick:y,...b}=p;const{time:D}=(0,c.useTheme)(),j=(0,l.isExternalLink)(C);return a.default.createElement(e.Button,(0,r.default)({},j&&{as:"a",href:C,target:"_blank",rel:"noopener noreferrer"},{alignItems:"center",backgroundColor:"gray.950",borderRadius:"11px",display:"flex",maxWidth:f.CARD_MAX_WIDTH,sx:{px:6,py:8,flexDirection:"column",transition:`all ${D[300]} ease-in-out`,"&::before":{display:"none"},"&:focus-visible":s.MERCH_CARD_FOCUS_OUTLINE,"&.focused, &:hover, &:focus":T?{}:{backgroundColor:"gray.900",boxShadow:"0px 0px 1px 0px rgba(0, 0, 0, 0.08), 0px 2px 8px 0px rgba(0, 0, 0, 0.12)"},cursor:T?"initial":"pointer"},textTransform:"none",onClick:()=>{T||y({id:I,linkPath:C,content_type:i.ContentType.TIP,item_name:v,isExternal:j})}},b),T?a.default.createElement(d.TextSkeletonLoader,{containerProps:{px:10},lastRowProps:{mx:3,width:"initial"}}):a.default.createElement(e.Box,{textAlign:"center"},a.default.createElement(e.Text.Label,{sx:T?{}:{cursor:"pointer"}},g),a.default.createElement(e.Text.SectionTitle,{fontWeight:"medium",mb:6,mt:1},v),a.default.createElement(e.Text.Body,{color:"gray.100",fontSize:2,fontWeight:"medium",m:0,sx:{textDecoration:"underline"},textTransform:"uppercase"},E)))};var u=o.default=m;P.exports=o.default},216936:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GENERIC_CONTENT=void 0;const t=o.GENERIC_CONTENT="GENERIC_CONTENT"},625069:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"AD_CARD_CTA_BUTTON_HEIGHT",{enumerable:!0,get:function(){return n.AD_CARD_CTA_BUTTON_HEIGHT}}),Object.defineProperty(o,"AD_CARD_WIDTH_BREAKPOINTS",{enumerable:!0,get:function(){return n.AD_CARD_WIDTH_BREAKPOINTS}}),Object.defineProperty(o,"AD_UI_IMAGE_WIDTH",{enumerable:!0,get:function(){return n.AD_UI_IMAGE_WIDTH}}),Object.defineProperty(o,"CARD_MAX_WIDTH",{enumerable:!0,get:function(){return n.CARD_MAX_WIDTH}}),Object.defineProperty(o,"GENERIC_CONTENT",{enumerable:!0,get:function(){return e.GENERIC_CONTENT}}),Object.defineProperty(o,"MERCH_CARD_SIZES",{enumerable:!0,get:function(){return n.MERCH_CARD_SIZES}}),Object.defineProperty(o,"SCREEN_WIDTH_BREAKPOINTS",{enumerable:!0,get:function(){return n.SCREEN_WIDTH_BREAKPOINTS}}),Object.defineProperty(o,"STAGED_INTENTS",{enumerable:!0,get:function(){return r.STAGED_INTENTS}}),Object.defineProperty(o,"SUPPORTED_INTENTS",{enumerable:!0,get:function(){return r.SUPPORTED_INTENTS}}),Object.defineProperty(o,"StagedIntent",{enumerable:!0,get:function(){return r.StagedIntent}}),Object.defineProperty(o,"SupportedIntent",{enumerable:!0,get:function(){return r.SupportedIntent}}),Object.defineProperty(o,"WIDGET_CONTAINER_MIN_HEIGHT",{enumerable:!0,get:function(){return n.WIDGET_CONTAINER_MIN_HEIGHT}});var n=t(371989),r=t(977079),e=t(216936)},977079:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SUPPORTED_INTENTS=o.STAGED_INTENTS=void 0;var n=t(647938);const r=o.SUPPORTED_INTENTS=[n.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,n.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,n.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,n.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING,n.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],e=o.STAGED_INTENTS=[]},190104:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.NavigationRequestMap=void 0;var n=t(871773),r=t(933372);const e=o.NavigationRequestMap={[r.ContentType.AD]:{},[r.ContentType.TIP]:{"CREATE-SERVICE_REGISTRATION":n.NavigationRequestType.OPEN_ADD_SERVICE_MODAL,"SCHEDULING-PAGE_SCHEDULING":n.NavigationRequestType.OPEN_PAGE_CATALOG_SCHEDULING,"SERVICES-PAGE_REGISTRATION":n.NavigationRequestType.OPEN_PAGE_CATALOG_SERVICES,"SERVICES-PAGE_SERVICE":n.NavigationRequestType.OPEN_PAGE_CATALOG_SERVICES,"STORE-PAGE_SERVICE":n.NavigationRequestType.OPEN_PAGE_CATALOG_STORE}}},371989:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WIDGET_CONTAINER_MIN_HEIGHT=o.SCREEN_WIDTH_BREAKPOINTS=o.MERCH_CARD_SIZES=o.MERCH_CARD_FOCUS_OUTLINE=o.CARD_MAX_WIDTH=o.AD_UI_IMAGE_WIDTH=o.AD_CARD_WIDTH_BREAKPOINTS=o.AD_CARD_CTA_BUTTON_HEIGHT=void 0;const t=o.CARD_MAX_WIDTH=700,n=o.SCREEN_WIDTH_BREAKPOINTS={LG:1440,SM:1080},r=o.AD_UI_IMAGE_WIDTH=205,e=o.AD_CARD_CTA_BUTTON_HEIGHT=36,c=o.AD_CARD_WIDTH_BREAKPOINTS={MD:517,SM:368};let i=o.MERCH_CARD_SIZES=function(l){return l.LG="LG",l.MD="MD",l.SM="SM",l}({});const a=o.MERCH_CARD_FOCUS_OUTLINE={outlineStyle:"solid",outlineColor:"black",outlineWidth:2,outlineOffset:2},s=o.WIDGET_CONTAINER_MIN_HEIGHT=574},241673:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"useContentValidation",{enumerable:!0,get:function(){return i.useContentValidation}}),Object.defineProperty(o,"useFilteredGroupedMerchContent",{enumerable:!0,get:function(){return c.useFilteredGroupedMerchContent}}),Object.defineProperty(o,"useMerchData",{enumerable:!0,get:function(){return n.useMerchData}}),Object.defineProperty(o,"useNavigateWithRedirect",{enumerable:!0,get:function(){return e.useNavigateWithRedirect}}),Object.defineProperty(o,"useTracking",{enumerable:!0,get:function(){return r.useTracking}});var n=t(996210),r=t(67679),e=t(371567),c=t(550933),i=t(63611)},63611:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useContentValidation=void 0;var r=t(174161),e=t(553900),c=n(t(421189));const i=a=>{const s=(0,r.useMemo)(()=>(0,e.validateMerchContent)(a),[a]);return(0,r.useEffect)(()=>{s.isValid||c.default.withSquarespaceScope(()=>{c.default.captureException(new Error(`Missing merchandising content: ${s.missing.join(", ")}`))})},[s.isValid]),s.isValid};o.useContentValidation=i},550933:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useFilteredGroupedMerchContent=void 0;var n=t(174161),r=t(553900),e=t(275188);const c=i=>{let{lifecycleStage:a,intents:s}=i;const l=(0,e.useReleasedMerchData)();return(0,n.useMemo)(()=>{const d=(0,r.groupMerchContent)(l),f=(0,r.filterMerchContentByIntent)({intents:s,merchContent:d}),{merchAd:m,merchTip:u}=(0,r.filterMerchContentByLifecycleStage)({lifecycleStage:a,merchContent:f});return{merchAd:(0,r.getRandomAdPair)(m),merchTip:u}},[l,s,a])};o.useFilteredGroupedMerchContent=c},996210:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.useMerchData=void 0;var r=t(647938),e=t(933372),c=t(174161),i=n(t(472208)),a=t(620979),s=t(989038);const l=()=>{const{t:d}=(0,i.default)();return(0,c.useMemo)(()=>({MerchAd:[{name:"LEGALZOOM_SERVICE",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],CTA:d("START YOUR LLC",null,{project:"product-merchandising-widget"}),linkPath:"https://legalzoomcominc.pxf.io/c/6407244/3126734/26746",headline:d("Confidently protect your assets & kickstart your LLC with LegalZoom",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/71810e93-87a1-494e-92f8-29959c61f699/SCHEDULING_SCHEDULING_LZdefault.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/402587e1-fa85-46c8-9678-6a2a559aeb0f/LegalZoom_Logo.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.PARTNER},{name:"ZENBUSINESS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],CTA:d("GET AN LLC",null,{project:"product-merchandising-widget"}),linkPath:"https://www.awin1.com/awclick.php?gid=516219&mid=102801&awinaffid=2094299&linkid=4031504",headline:d("Protect your business with an LLC from our partner ZenBusiness",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/f63ecaea-883e-4baa-bc85-54998ab627a2/SCHEDULING_SCHEDULING_ZBgrey.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/0e2d2cf0-9a53-42b9-aaba-75fc05999e97/ZB+Mark+Full+Color+Logo+Knockout+%281%29+1+%281%29.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.PARTNER},{name:"ANALYTICS_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],CTA:d("Explore Analytics",null,{project:"product-merchandising-widget"}),linkPath:"/config/analytics",headline:d("Get insights on traffic, sales, and engagement with clear analytics",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/043da6ab-a9e6-42c4-a326-61480673692c/ANALYTICS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/c1a358c1-1434-4aff-b89c-1a7dc5909ffb/ANALYTICS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"EMAIL-CAMPAIGNS_GENERIC",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[],CTA:d("Explore Campaigns",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/campaigns",headline:d("Engage visitors and drive sales with email campaigns",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/f869e561-4d4b-4401-b8bc-1fee36b03721/EMAIL_CAMPAIGNS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/7dc8bf9e-afa5-4fcb-aa2a-a9d361466de3/EMAIL_CAMPAIGNS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"EMAIL-CAMPAIGNS_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],CTA:d("Explore Campaigns",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/campaigns",headline:d("Engage clients and drive sales with email campaigns",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/f869e561-4d4b-4401-b8bc-1fee36b03721/EMAIL_CAMPAIGNS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/7dc8bf9e-afa5-4fcb-aa2a-a9d361466de3/EMAIL_CAMPAIGNS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"EMAIL-CAMPAIGNS_PHYSICAL",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE],CTA:d("Explore Campaigns",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/campaigns",headline:d("Engage customers and drive sales with email campaigns",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/f869e561-4d4b-4401-b8bc-1fee36b03721/EMAIL_CAMPAIGNS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/7dc8bf9e-afa5-4fcb-aa2a-a9d361466de3/EMAIL_CAMPAIGNS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"PAYMENTS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],CTA:d("Explore Payments",null,{project:"product-merchandising-widget"}),linkPath:"/config/finance",headline:d("Keep more of what you make with low-fee ACH Direct Debit",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/5ae7bab9-9457-490e-8545-6650cf349ba1/PAYMENTS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/a6662169-a2d8-4eba-95bc-69df72eb4e40/PAYMENTS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"PAYMENTS_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],CTA:d("Explore Payments",null,{project:"product-merchandising-widget"}),linkPath:"/config/finance",headline:d("Easily manage all your payments and payouts directly on Squarespace",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/5ae7bab9-9457-490e-8545-6650cf349ba1/PAYMENTS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/a6662169-a2d8-4eba-95bc-69df72eb4e40/PAYMENTS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"ACUITY_SCHEDULING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],CTA:d("Try Acuity Scheduling",null,{project:"product-merchandising-widget"}),linkPath:"/config/scheduling",headline:d("Book clients, collect payments, and automate tasks for appointments",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/7152f98f-63c0-4fc3-acec-cf1c463592ef/SCHEDULING_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/1a1a2d4c-3316-415b-b168-0edf4bb82974/SCHEDULING_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.MERCH},{name:"AUTOMATIONS_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],CTA:d("Explore Automations",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/automations",headline:d("Take the work out of marketing with automated email campaigns",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/4d1ab5e7-f475-4b96-b176-2b65f8c069a7/AUTOMATIONS_MULTI_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/bd5cefb8-2f48-4d70-9ffa-5aa619b69046/AUTOMATIONS_MULTI_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.MERCH},{name:"BIOSITE_GENERIC",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[],CTA:d("Explore Bio Sites",null,{project:"product-merchandising-widget"}),linkPath:"https://biosites.com/",headline:d("Share your online world in one link",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/ec7d3fa7-964d-424d-a432-f50eca67298a/BIOSITE_GENERIC_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/d474950c-849a-45c1-98e2-822e3c85f187/BIOSITES_GENERIC_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH,e.LifecycleStage.POST_FIRST_SALE],adType:a.AdType.MERCH},{name:"CONTRACTS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],CTA:d("Explore Contracts",null,{project:"product-merchandising-widget"}),linkPath:"/config/invoicing",headline:d("Get agreement on your terms, services, and payment schedule",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/0e093911-f388-4a7a-8951-da5cda606ff9/CONTRACTS_INVOICING_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/6b96ab3f-f586-4551-bc9b-7e67bb3b1f7b/CONTRACTS_INVOICING_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE],adType:a.AdType.MERCH},{name:"EMAIL-CAMPAIGNS_REGISTRATION",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],CTA:d("Explore Campaigns",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/campaigns",headline:d("Keep guests and attendees up to date with professional, branded emails",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/f869e561-4d4b-4401-b8bc-1fee36b03721/EMAIL_CAMPAIGNS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/7dc8bf9e-afa5-4fcb-aa2a-a9d361466de3/EMAIL_CAMPAIGNS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"EXTENSIONS_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],CTA:d("Explore Extensions",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/third-party-tools/extensions",headline:d("Manage, optimize, and expand your business with third-party extensions",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/944dc0b4-e92a-4341-a739-1e59ca552ca0/EXTENSIONS_MULTI_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/48141ee4-09df-4657-bf85-1208b22c039a/EXTENSIONS_MULTI_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE],adType:a.AdType.MERCH},{name:"FULFILLMENT_PHYSICAL",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE],CTA:d("Explore Fulfillment Options",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/shipping",headline:d("Add shipping or pickup options that work for every customer",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/0ed1a977-381e-4c10-8f41-af73065f751d/FULFILLMENT_PHYSICAL_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/f958afb8-4306-4721-a32a-4732bc38ada8/FULFILLMENT_PHYSICAL_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.MERCH},{name:"INVOICING_REGISTRATION",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],CTA:d("Explore Invoicing",null,{project:"product-merchandising-widget"}),linkPath:"/config/invoicing",headline:d("Accept deposits and collect payments with professional invoicing",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/6960b3a2-6a4a-4fc1-b8ca-51c85e5bb7e3/INVOICING_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/706d941e-5224-4f7c-b32e-e4b1a2b8a7dd/INVOICING_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.MERCH},{name:"INVOICING_SERVICE",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],CTA:d("Explore Invoicing",null,{project:"product-merchandising-widget"}),linkPath:"/config/invoicing",headline:d("Reduce admin work and get paid on time with professional invoicing",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/6960b3a2-6a4a-4fc1-b8ca-51c85e5bb7e3/INVOICING_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/706d941e-5224-4f7c-b32e-e4b1a2b8a7dd/INVOICING_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.MERCH},{name:"MOBILE-APP_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],CTA:d("Download App",null,{project:"product-merchandising-widget"}),linkPath:"https://squarespace.onelink.me/gETZ/958fjb8a",headline:d("Run your business on the go with the Squarespace mobile app",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/e2ea9169-d2d3-453d-9c5e-189687c5561d/MOBILE-APP_MULTI_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/39f0f602-1440-4164-90f8-5731c470d0a5/MOBILE-APP_MULTI_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE],adType:a.AdType.MERCH},{name:"NEWSLETTER_GENERIC",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[],CTA:d("Create Newsletter",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/campaigns/composer/68193521f447617fb08efca6",headline:d("Connect with your audience with an engaging newsletter",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/94b8b098-1d47-494c-bee1-d676c78d917d/NEWSLETTER_GENERIC_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/6c2cff39-f92a-4766-9520-4b5ff5a6349a/NEWSLETTER_GENERIC_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH,e.LifecycleStage.POST_FIRST_SALE],adType:a.AdType.MERCH},{name:"PAYMENTS_REGISTRATION",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],CTA:d("Explore Payments",null,{project:"product-merchandising-widget"}),linkPath:"/config/finance",headline:d("Maximize profits with flexible payment options and low fees",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/5ae7bab9-9457-490e-8545-6650cf349ba1/PAYMENTS_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/a6662169-a2d8-4eba-95bc-69df72eb4e40/PAYMENTS_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH],adType:a.AdType.MERCH},{name:"PRODUCTS-SERVICES_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],CTA:d("Explore more ways to sell",null,{project:"product-merchandising-widget"}),linkPath:"/config/commerce",headline:d("Streamline sales by packaging your services in an online store",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/400050e6-4145-409b-8a86-9a5544c6be84/PRODUCTS-SERVICES_MULTI_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/ca5d38cb-6643-435d-be91-1ffbbb236d19/PRODUCTS-SERVICES_MULTI_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE],adType:a.AdType.MERCH},{name:"PROPOSALS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],CTA:d("Create Proposal",null,{project:"product-merchandising-widget"}),linkPath:"/config/invoicing?create=proposal",headline:d("Win more clients with branded proposals and estimates",null,{project:"product-merchandising-widget"}),bgImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/82da30bc-6c15-4a6d-abc2-d149d82e29a1/PROPOSALS_INVOICING_BG.png?content-type=image%2Fpng",uiImage:"https://images.squarespace-cdn.com/content/67bf3410594cf94c04bea1c4/9fa6f56f-14f3-4931-ac0a-20880c5ccf45/PROPOSALS_INVOICING_UI.png?content-type=image%2Fpng",lifecycleStage:[e.LifecycleStage.POST_PUBLISH],adType:a.AdType.MERCH}],MerchTip:[{name:"BUSINESS-INFORMATION_PHYSICAL",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Avoid spam filters on order and shipping confirmations by adding your business name and address.",null,{project:"product-merchandising-widget"}),CTA:d("Confirm information",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/business-information",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"EXTENSIONS_GENERIC",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("You can access a full library of extensions to manage, optimize, and expand your online presence.",null,{project:"product-merchandising-widget"}),CTA:d("Browse extensions",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/third-party-tools/extensions",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"PROPOSALS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("You can win more clients with professional, on-brand proposals that match your website.",null,{project:"product-merchandising-widget"}),CTA:d("Create proposal",null,{project:"product-merchandising-widget"}),linkPath:"/config/invoicing",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"SCHEDULING-PAGE_SCHEDULING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("Using scheduling page layouts can increase appointment bookings.",null,{project:"product-merchandising-widget"}),CTA:d("View layouts",null,{project:"product-merchandising-widget"}),linkPath:"/home",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"SERVICES-PAGE_SERVICE",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("Service page layouts can help you to tell a compelling story about your offerings.",null,{project:"product-merchandising-widget"}),CTA:d("View layouts",null,{project:"product-merchandising-widget"}),linkPath:"/home",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"SOCIAL-LINKS_GENERIC",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Use social links to drive traffic between your website and your social media accounts.",null,{project:"product-merchandising-widget"}),CTA:d("Add account URLs",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/website/social-links",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"SOCIAL-LINKS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Add social links to help leads find you wherever you\u2019re posting content on social media.",null,{project:"product-merchandising-widget"}),CTA:d("Add account URLs",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/website/social-links",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"SOCIAL-LINKS_PHYSICAL",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Add social links to help customers find you wherever you\u2019re posting content on social media.",null,{project:"product-merchandising-widget"}),CTA:d("Add account URLs",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/website/social-links",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"SOCIAL-LINKS_SCHEDULING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Add social links to help clients find you wherever you\u2019re posting content on social media.",null,{project:"product-merchandising-widget"}),CTA:d("Add account URLs",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/website/social-links",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"STORE-PAGE_SERVICE",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("You can create an online store to sell services, classes, consultations, and more.",null,{project:"product-merchandising-widget"}),CTA:d("Add store",null,{project:"product-merchandising-widget"}),linkPath:"/home",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"ABANDONED-CART_REGISTRATION",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Set up abandoned checkout recovery to email customers who don't complete their purchase.",null,{project:"product-merchandising-widget"}),CTA:d("Create automation",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/automations/abandoned-cart-recovery/edit",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]},{name:"CREATE-SERVICE_REGISTRATION",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("Adding a service product lets customers register for your offerings directly through your website.",null,{project:"product-merchandising-widget"}),CTA:d("Add service product",null,{project:"product-merchandising-widget"}),linkPath:"/config/commerce/products/service",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"CUSTOM-CHECKOUT_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("You can customize the entire checkout experience. Try adding policies, receipt details, and more.",null,{project:"product-merchandising-widget"}),CTA:d("Customize checkout",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/checkout",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"CUSTOM-CHECKOUT_REGISTRATION",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Add custom forms at checkout to collect attendee details. No more back and forth over email.",null,{project:"product-merchandising-widget"}),CTA:d("Add custom form",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/checkout/advanced",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"CUSTOMER-NOTIFICATIONS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Customize your customer notifications to give your invoices and other client emails the same look and feel.",null,{project:"product-merchandising-widget"}),CTA:d("Manage email styles",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/customer-notifications",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"CUSTOMER-NOTIFICATIONS_SERVICE",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Help your brand shine by updating all your customer notifications to match your site styles.",null,{project:"product-merchandising-widget"}),CTA:d("Customize emails",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/customer-notifications#global-styles",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"DISCOUNTS_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE,r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("Discounts increase sales conversion. Create and customize one of four discount templates.",null,{project:"product-merchandising-widget"}),CTA:d("Create discount",null,{project:"product-merchandising-widget"}),linkPath:"/config/commerce/discounts/create",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]},{name:"EXPRESS-CHECKOUT_SERVICE",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("If you have a small inventory, turning on express checkout can help increase sales conversion.",null,{project:"product-merchandising-widget"}),CTA:d("Try Express Checkout",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/cart",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]},{name:"FORM-FOLLOWUP_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("You can auto-respond to form submissions to save time and turn more leads into customers.",null,{project:"product-merchandising-widget"}),CTA:d("Set up automation",null,{project:"product-merchandising-widget"}),linkPath:"/config/marketing/automations/create",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"LISTS-SEGMENTS_SCHEDULING",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Create lists and segments to send email campaigns to target audiences.",null,{project:"product-merchandising-widget"}),CTA:d("Explore contacts",null,{project:"product-merchandising-widget"}),linkPath:"/config/profiles/lists-and-segments",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"LOW-STOCK_PHYSICAL",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Set up low stock alerts so you know whenever a product\u2019s stock drops to a certain threshold.",null,{project:"product-merchandising-widget"}),CTA:d("Set up alerts",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/low-stock-alerts",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]},{name:"PRODUCT-REVIEWS_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING,r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Start requesting customer reviews. Adding them to your site can boost sales.",null,{project:"product-merchandising-widget"}),CTA:d("Request customer reviews",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/product-reviews",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]},{name:"PROJECTS_INVOICING",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("Projects help you organize client contracts, proposals, and invoices into one simple workflow.",null,{project:"product-merchandising-widget"}),CTA:d("Create Project",null,{project:"product-merchandising-widget"}),linkPath:"/config/invoicing?create=project",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]},{name:"PROMOTIONAL-POPUP_MULTI",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("You can use a promotional pop-up to collect email addresses as soon as visitors get to your site.",null,{project:"product-merchandising-widget"}),CTA:d("Add promotional pop-up",null,{project:"product-merchandising-widget"}),linkPath:"/config/pages/popup-overlay",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"SERVICES-PAGE_REGISTRATION",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Use service page layouts to give in-depth details on experiences like camps, travel packages, and more.",null,{project:"product-merchandising-widget"}),CTA:d("Add service page",null,{project:"product-merchandising-widget"}),linkPath:"/home",lifecycleStage:[e.LifecycleStage.PRE_PUBLISH]},{name:"WAITLISTS_PHYSICAL",status:s.MerchContentStatus.RELEASED,isGenericContent:!1,intent:[r.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("Product waitlists allow you to accept and manage pre-orders for any product listing.",null,{project:"product-merchandising-widget"}),CTA:d("Set up waitlists",null,{project:"product-merchandising-widget"}),linkPath:"/config/settings/selling/waitlists",lifecycleStage:[e.LifecycleStage.POST_PUBLISH]},{name:"LISTS-SEGMENTS_GENERIC",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[],eyebrow:d("Pro Tip",null,{project:"product-merchandising-widget"}),description:d("Create lists and segments to send email campaigns to target audiences.",null,{project:"product-merchandising-widget"}),CTA:d("Explore contacts",null,{project:"product-merchandising-widget"}),linkPath:"/config/profiles/lists-and-segments",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]},{name:"PROMOTIONAL-POPUP_GENERIC",status:s.MerchContentStatus.RELEASED,isGenericContent:!0,intent:[],eyebrow:d("Did you know?",null,{project:"product-merchandising-widget"}),description:d("You can use a promotional pop-up to collect email addresses as soon as visitors get to your site.",null,{project:"product-merchandising-widget"}),CTA:d("Add promotional pop-up",null,{project:"product-merchandising-widget"}),linkPath:"/config/pages/popup-overlay",lifecycleStage:[e.LifecycleStage.POST_FIRST_SALE]}]}),[d])};o.useMerchData=l},371567:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useNavigateWithRedirect=o.default=void 0;var n=t(569901),r=t(174161),e=t(469664);const c={"/config/finance":{newPath:"/config/settings/selling/payments",shouldRedirect:()=>!(0,e.getIsSqspPaymentsEligible)()}},i=()=>{const{push:s}=(0,n.useNavigation)();return{pushWithRedirect:(0,r.useCallback)(d=>{const f=c[d],m=f==null?void 0:f.shouldRedirect();s(m?f.newPath:d)},[s])}};o.useNavigateWithRedirect=i;var a=o.default=i},275188:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useReleasedMerchData=void 0;var n=t(174161),r=t(989038),e=t(996210),c=t(265636);const i=()=>{const a=(0,e.useMerchData)(),s=(0,c.useUnreleasedOverride)();return(0,n.useMemo)(()=>({merchAd:a.MerchAd.filter(d=>s?!0:d.status===r.MerchContentStatus.RELEASED),merchTip:a.MerchTip.filter(d=>s?!0:d.status===r.MerchContentStatus.RELEASED)}),[a,s])};o.useReleasedMerchData=i},67679:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useTracking=void 0;var n=t(933372),r=t(174161);const e=c=>{let{widget_name:i,widget_position_index:a,widget_position_total:s,intent:l,product_area:d,surface_state:f=n.LifecycleStage.PRE_PUBLISH}=c;const m=(0,r.useCallback)(()=>{(0,n.trackUserViewsWidget)({widget_name:i,intent:l,widget_position_index:a,widget_position_total:s,product_area:d,surface_state:f})},[i,l,a,s,d,f]);return{trackUserClicksWidgetLink:(0,r.useCallback)(p=>{let{content_type:g,item_name:v}=p;(0,n.trackUserClicksWidgetLink)({content_type:g,item_name:v,widget_name:i,intent:l,widget_position_index:a,widget_position_total:s,product_area:d,surface_state:f})},[i,l,a,s,d,f]),trackUserViewsWidget:m}};o.useTracking=e},265636:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useUnreleasedOverride=void 0;var n=t(569901);const r="product_merchandising_unreleased",e=()=>{var c;const{query:i}=(0,n.useLocation)(),a=(c=i[r])===null||c===void 0?void 0:c.toLowerCase();return a==="true"?!0:a==="false"?!1:null};o.useUnreleasedOverride=e},472208:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=c;var n=t(269734);const r="product-merchandising-widget";function e(i){return t(773605)(`./${r}.${i}.yaml`)}function c(){return(0,n.useTranslateWithTranslationLoader)(e)}P.exports=o.default},586069:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return r.default}});var r=n(t(73555));P.exports=o.default},620979:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AdType=void 0;let t=o.AdType=function(n){return n.PARTNER="PARTNER",n.MERCH="MERCH",n}({})},989038:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MerchContentStatus=void 0;let t=o.MerchContentStatus=function(n){return n.RELEASED="RELEASED",n.STAGED="STAGED",n}({})},882722:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.filterMerchContentByIntent=void 0;var n=t(625069);const r=e=>{let{intents:c,merchContent:i}=e;for(const a of c)if(a in i)return i[a];return i[n.GENERIC_CONTENT]};o.filterMerchContentByIntent=r},95571:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.filterMerchContentByLifecycleStage=void 0,t(392338);var n=t(933372);const r=e=>{let{lifecycleStage:c,merchContent:i}=e;return c?{merchAd:i.merchAd.filter(a=>a.lifecycleStage.includes(c)),merchTip:i.merchTip.filter(a=>a.lifecycleStage.includes(c))}:{merchAd:i.merchAd.filter(a=>a.lifecycleStage.includes(n.LifecycleStage.PRE_PUBLISH)),merchTip:i.merchTip.filter(a=>a.lifecycleStage.includes(n.LifecycleStage.PRE_PUBLISH))}};o.filterMerchContentByLifecycleStage=r},600115:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getIsMobile=void 0;var n=t(352635),r=t(923842);const e=()=>(0,r.getBreakpoint)(n.breakpoints).platform==="mobile";o.getIsMobile=e},148749:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getIsScreenSmallerThan=void 0;const t=n=>window.innerWidth<n;o.getIsScreenSmallerThan=t},542265:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.getRandomAdPair=void 0;var r=n(t(820201)),e=t(620979);const c=i=>{const a=i.filter(f=>f.adType===e.AdType.MERCH),s=i.filter(f=>f.adType===e.AdType.PARTNER);if(s.length===0)return a;const l=(0,r.default)(a)[0],d=(0,r.default)(s)[0];return(0,r.default)([l,d])};o.getRandomAdPair=c},421189:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(608800),e=n(t(166455)),c=o.default=new r.ConfigSentryIntegration("product-merchandising-widget",e.default.ACTIVATION);P.exports=o.default},788183:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.groupMerchContent=void 0,t(392338);var n=t(625069);const r=e=>{const c=Object.fromEntries([...n.SUPPORTED_INTENTS,n.GENERIC_CONTENT].map(i=>[i,{merchAd:[],merchTip:[]}]));return c[n.GENERIC_CONTENT]={merchAd:e.merchAd.filter(i=>{let{isGenericContent:a}=i;return a}),merchTip:e.merchTip.filter(i=>{let{isGenericContent:a}=i;return a})},n.SUPPORTED_INTENTS.forEach(i=>{c[i]={merchAd:e.merchAd.filter(a=>a.intent.includes(i)),merchTip:e.merchTip.filter(a=>a.intent.includes(i))}}),c};o.groupMerchContent=r},553900:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"filterMerchContentByIntent",{enumerable:!0,get:function(){return n.filterMerchContentByIntent}}),Object.defineProperty(o,"filterMerchContentByLifecycleStage",{enumerable:!0,get:function(){return r.filterMerchContentByLifecycleStage}}),Object.defineProperty(o,"getIsMobile",{enumerable:!0,get:function(){return c.getIsMobile}}),Object.defineProperty(o,"getIsScreenSmallerThan",{enumerable:!0,get:function(){return i.getIsScreenSmallerThan}}),Object.defineProperty(o,"getRandomAdPair",{enumerable:!0,get:function(){return a.getRandomAdPair}}),Object.defineProperty(o,"groupMerchContent",{enumerable:!0,get:function(){return s.groupMerchContent}}),Object.defineProperty(o,"isExternalLink",{enumerable:!0,get:function(){return l.isExternalLink}}),Object.defineProperty(o,"validateMerchContent",{enumerable:!0,get:function(){return e.validateMerchContent}});var n=t(882722),r=t(95571),e=t(757116),c=t(600115),i=t(148749),a=t(542265),s=t(788183),l=t(625696)},625696:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isExternalLink=void 0;const t=n=>/^https?:\/\//.test(n);o.isExternalLink=t},469664:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getIsSqspPaymentsEligible=o.SQSP_PAYMENTS_FEAUTRE_FLAG=void 0;var n=t(97705),r=t(908947);const e=o.SQSP_PAYMENTS_FEAUTRE_FLAG="sqspp-merchant-eligibility",c=()=>{var i;const a=((i=(0,n.getPaymentsContext)())===null||i===void 0?void 0:i.some(d=>d.featureGate===e&&d.value==="true"))||!1,s=(0,r.getWebsiteCountryCode)(),l=(0,r.getIsCountryCodeEnabledForSqspPayments)({priorityCountryCode:s});return a&&l};o.getIsSqspPaymentsEligible=c},757116:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.validateMerchContent=void 0;const t=n=>{const{merchAd:r,merchTip:e}=n,c=[];return r!=null&&r.length||c.push("ads"),e!=null&&e.length||c.push("tips"),{isValid:c.length===0,missing:c}};o.validateMerchContent=t},773605:function(P,o,t){var n={"./product-merchandising-widget.en-US.yaml":"8921"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=773605},670232:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(746648),c=t(772068),i=f(t(174161)),a=n(t(496633)),s=t(570910),l=t(731586);function d(p){if(typeof WeakMap!="function")return null;var g=new WeakMap,v=new WeakMap;return(d=function(E){return E?v:g})(p)}function f(p,g){if(!g&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var v=d(g);if(v&&v.has(p))return v.get(p);var E={__proto__:null},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in p)if(T!=="default"&&Object.prototype.hasOwnProperty.call(p,T)){var I=C?Object.getOwnPropertyDescriptor(p,T):null;I&&(I.get||I.set)?Object.defineProperty(E,T,I):E[T]=p[T]}return E.default=p,v&&v.set(p,E),E}const m=p=>{let{hideTitle:g,intents:v,isError:E,isRegistrationSellersGuideEnabled:C,lifecycleStage:T,productArea:I,sitePreviewProps:y,variant:b,widgetPositionIndex:D,widgetPositionTotal:j,widgetPreferences:U,onWidgetPreferencesChange:R,...L}=p;const x=(0,i.useRef)(!1),G=(0,s.useIntentGuideOverrides)(),k={hideTitle:g,isRegistrationSellersGuideEnabled:C,lifecycleStage:T,productArea:I,sitePreviewProps:y,variant:b,widgetPositionIndex:D,widgetPositionTotal:j,...L},V=(0,i.useMemo)(()=>v||(G&&G.length>0?(0,l.mapGuidesToIntents)({guideTypes:G}):U!=null&&U.guides?(0,l.mapGuidesToIntents)({guideTypes:U.guides}):null),[v,G,U]),$=(0,i.useCallback)(J=>{if(x.current)return;const ee=(0,l.mapIntentsToGuides)({intents:J,isRegistrationSellersGuideEnabled:C});R==null||R({guides:[c.GetStartedWidgetSettingsGuidesEnum.WEBSITE_ESSENTIALS,...ee]}),x.current=!0},[C,R]);return V?i.default.createElement(a.default,(0,r.default)({},k,{intents:V,isError:E})):i.default.createElement(e.IntentWrapper,{integrationPoint:"setup-guide-widget",onIntentsChange:$},i.default.createElement(a.default,k))};var u=o.default=m;P.exports=o.default},151967:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(526974),e=n(t(174161)),c=n(t(163042));const i=s=>{let{intents:l,isRegistrationSellersGuideEnabled:d,variant:f}=s;const m=(0,c.default)({intents:l,isRegistrationSellersGuideEnabled:d});return e.default.createElement(r.GuidanceChecklistGroup,{allowMultipleItemsOpen:!0,isAccordion:m.length>0,surfaceArea:r.SurfaceArea.SETUP_GUIDE,variant:f},e.default.createElement(r.GuidanceChecklistGroup.Item,{guideType:r.GuideType.WEBSITE_ESSENTIALS}),m.map(u=>e.default.createElement(r.GuidanceChecklistGroup.Item,{guideType:u,key:u})))};var a=o.default=i;P.exports=o.default},142540:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(339919),c=t(670563),i=n(t(174161));const a=l=>{let{children:d,...f}=l;const m=(0,e.useNavigationWidth)(),u=parseInt(m)||0,p=[768-u,1024-u,1440-u,1/0];return i.default.createElement(c.Grid.Container,(0,r.default)({breakpoints:p,gutter:6,margin:0,maxWidth:"100%",px:0},f),d)};var s=o.default=a;P.exports=o.default},496633:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(388672),c=t(526974),i=t(670563),a=t(778008),s=T(t(931981)),l=t(277578),d=t(933372),f=n(t(174161)),m=n(t(142540)),u=t(750434),p=n(t(566370)),g=t(65681),v=t(354902),E=n(t(151967));function C(b){if(typeof WeakMap!="function")return null;var D=new WeakMap,j=new WeakMap;return(C=function(U){return U?j:D})(b)}function T(b,D){if(!D&&b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var j=C(D);if(j&&j.has(b))return j.get(b);var U={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in b)if(L!=="default"&&Object.prototype.hasOwnProperty.call(b,L)){var x=R?Object.getOwnPropertyDescriptor(b,L):null;x&&(x.get||x.set)?Object.defineProperty(U,L,x):U[L]=b[L]}return U.default=b,j&&j.set(b,U),U}const I=b=>{let{hideTitle:D,intents:j=[],isError:U,isRegistrationSellersGuideEnabled:R,lifecycleStage:L,productArea:x=d.ProductArea.HOME,sitePreviewProps:G,variant:k=g.SetupGuideWidgetVariant.DEFAULT,widgetPositionIndex:V,widgetPositionTotal:$,...J}=b;const ee=(0,v.getIsSetupGuidePreviewOnly)(),de=(0,v.getIsPrebulishAndHasPermissions)(L),re=ee?c.ChecklistVariant.GRAY:c.ChecklistVariant[k],Ee=ee?s.SitePreviewWidgetVariant.STANDALONE:s.SitePreviewWidgetVariant[k],{handleTrackUserViewsWidget:Te}=(0,u.useTracking)({intent:j,product_area:x,surface_state:L,widget_name:d.WidgetName.SETUP_GUIDE,widget_position_index:V,widget_position_total:$}),z=(0,e.useTrackViewEvent)(Te),{t:be}=(0,p.default)();return U?f.default.createElement(l.WidgetErrorView,null):f.default.createElement(a.Box,(0,r.default)({},J,{ref:z}),!D&&f.default.createElement(a.Box,{pb:4},f.default.createElement(l.WidgetTitle,null,de?be("Get started",null,{project:"setup-guide-widget"}):be("Your site at a glance",null,{project:"setup-guide-widget"}))),ee?f.default.createElement(s.default,(0,r.default)({},G,{productArea:x,variant:Ee,widgetPositionIndex:V,widgetPositionTotal:$})):f.default.createElement(m.default,null,f.default.createElement(i.Grid.Item,{columns:[12,7],mb:2},f.default.createElement(E.default,{intents:j,isRegistrationSellersGuideEnabled:R,variant:re})),f.default.createElement(i.Grid.Item,{columns:[12,5],mb:2},f.default.createElement(s.default,(0,r.default)({},G,{productArea:x,variant:Ee,widgetPositionIndex:V,widgetPositionTotal:$})))))};var y=o.default=I;P.exports=o.default},163042:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(174161),r=t(731586);const e=i=>{let{intents:a,isRegistrationSellersGuideEnabled:s}=i;return(0,n.useMemo)(()=>(0,r.mapIntentsToGuides)({intents:a,isRegistrationSellersGuideEnabled:s}),[a,s])};var c=o.default=e;P.exports=o.default},570910:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useIntentGuideOverrides=void 0;var n=t(534246),r=t(174161);const e=()=>{const c=(0,r.useMemo)(()=>new URLSearchParams(window.location.search),[]);return(0,r.useMemo)(()=>Object.values(n.GuideType).map(a=>{var s;const l=`${a.toLowerCase()}_guide`;return((s=c.get(l))===null||s===void 0?void 0:s.toLowerCase())==="true"?a:null}).filter(a=>a!==null),[c])};o.useIntentGuideOverrides=e},750434:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.useTracking=void 0;var n=t(933372),r=t(174161);const e=c=>{let{intent:i,product_area:a,surface_state:s,widget_name:l,widget_position_index:d,widget_position_total:f}=c;return{handleTrackUserViewsWidget:(0,r.useCallback)(()=>{(0,n.trackUserViewsWidget)({widget_name:l,intent:i,widget_position_index:d,widget_position_total:f,product_area:a,surface_state:s})},[l,i,d,f,a,s])}};o.useTracking=e},566370:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=c;var n=t(269734);const r="setup-guide-widget";function e(i){return t(255111)(`./${r}.${i}.yaml`)}function c(){return(0,n.useTranslateWithTranslationLoader)(e)}P.exports=o.default},900727:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"SetupGuideWidgetVariant",{enumerable:!0,get:function(){return e.SetupGuideWidgetVariant}}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return r.default}});var r=n(t(670232)),e=t(65681)},65681:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SetupGuideWidgetVariant=void 0;let t=o.SetupGuideWidgetVariant=function(n){return n.DEFAULT="DEFAULT",n.GRAY="GRAY",n}({})},788489:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.getHasPermissions=void 0,t(392338);var r=t(883036),e=n(t(24175));const c=()=>{var i;const a=(i=(0,r.getAccountContext)())===null||i===void 0?void 0:i.accessPermissions;return a==null?void 0:a.includes(e.default.CONFIG_CONTENT_MANAGER)};o.getHasPermissions=c},250322:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getIsPrebulishAndHasPermissions=void 0;var n=t(933372),r=t(788489);const e=c=>(!c||c===n.LifecycleStage.PRE_PUBLISH)&&(0,r.getHasPermissions)();o.getIsPrebulishAndHasPermissions=e},93677:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getIsSetupGuidePreviewOnly=void 0;var n=t(645791),r=t(788489);const e=()=>(0,n.getIsWebsiteExpired)()||!(0,r.getHasPermissions)();o.getIsSetupGuidePreviewOnly=e},731586:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.mapIntentsToGuides=o.mapGuidesToIntents=o.IntentGuideMapping=void 0;var n=t(647938),r=t(534246);const e=o.IntentGuideMapping={[n.ProvideInsightsRequestInsightsEnum.GOAL_DIGITAL_PRODUCTS_SERVICES]:r.GuideType.SETUP_CONTENT_AND_MEMBERSHIPS,[n.ProvideInsightsRequestInsightsEnum.GOAL_DONATIONS]:r.GuideType.SETUP_DONATIONS,[n.ProvideInsightsRequestInsightsEnum.GOAL_ECOMMERCE]:r.GuideType.SETUP_PHYSICAL_STORE,[n.ProvideInsightsRequestInsightsEnum.GOAL_INVOICING]:r.GuideType.SETUP_INVOICING,[n.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER]:r.GuideType.REGISTRATION_SELLERS,[n.ProvideInsightsRequestInsightsEnum.GOAL_SCHEDULING]:r.GuideType.SETUP_SCHEDULING,[n.ProvideInsightsRequestInsightsEnum.GOAL_SERVICE_SELLER]:r.GuideType.SETUP_SERVICES_STORE},c=a=>{let{intents:s,isRegistrationSellersGuideEnabled:l,maxGuides:d=2}=a;const f=s.filter(m=>m===n.ProvideInsightsRequestInsightsEnum.GOAL_REGISTRATION_SELLER?l:!!e[m]).map(m=>e[m]);return d?f.slice(0,d):f};o.mapIntentsToGuides=c;const i=a=>{let{guideTypes:s}=a;const l=Object.keys(e);return s.map(f=>l.find(m=>e[m]===f)).filter(f=>f!==void 0)};o.mapGuidesToIntents=i},354902:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"getHasPermissions",{enumerable:!0,get:function(){return n.getHasPermissions}}),Object.defineProperty(o,"getIsPrebulishAndHasPermissions",{enumerable:!0,get:function(){return r.getIsPrebulishAndHasPermissions}}),Object.defineProperty(o,"getIsSetupGuidePreviewOnly",{enumerable:!0,get:function(){return e.getIsSetupGuidePreviewOnly}});var n=t(788489),r=t(250322),e=t(93677)},255111:function(P,o,t){var n={"./setup-guide-widget.en-US.yaml":"311170"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=255111},234786:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.SitePreviewWidgetVariant=o.PREVIEW_WIDTH=void 0;var r=n(t(160553)),e=t(388672),c=t(670563),i=t(778008),a=t(569901),s=t(871773),l=t(933372),d=v(t(174161)),f=n(t(578309)),m=n(t(467397)),u=n(t(202740)),p=n(t(604102));function g(y){if(typeof WeakMap!="function")return null;var b=new WeakMap,D=new WeakMap;return(g=function(j){return j?D:b})(y)}function v(y,b){if(!b&&y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var D=g(b);if(D&&D.has(y))return D.get(y);var j={__proto__:null},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in y)if(R!=="default"&&Object.prototype.hasOwnProperty.call(y,R)){var L=U?Object.getOwnPropertyDescriptor(y,R):null;L&&(L.get||L.set)?Object.defineProperty(j,R,L):j[R]=y[R]}return j.default=y,D&&D.set(y,j),j}const E=o.PREVIEW_WIDTH=448;let C=o.SitePreviewWidgetVariant=function(y){return y.DEFAULT="DEFAULT",y.GRAY="GRAY",y.STANDALONE="STANDALONE",y}({});const T=y=>{let{isLoading:b,isSetupGuideLandingEnabled:D,isSitePasswordProtected:j=!1,isSitePublished:U=!1,lifecycleStage:R,productArea:L=l.ProductArea.HOME,siteTitle:x,variant:G=C.DEFAULT,websiteDomain:k,widgetPositionIndex:V,widgetPositionTotal:$,onPreviewSiteClick:J}=y;const{push:ee}=(0,a.useNavigation)(),de=(0,u.default)({isSitePasswordProtected:j,isSitePublished:U}),{trackUserClicksEditSiteButton:re,trackUserClicksLink:Ee,trackUserClicksStatusCTA:Te,trackUserViewsWidget:z}=(0,p.default)({widget_position_index:V,widget_position_total:$,product_area:L,surface_state:R}),be=(0,e.useTrackViewEvent)(z),me=(0,d.useCallback)(()=>{re({item_name:D?"edit_pages":"edit_site"}),D?ee("/pages"):(0,s.broadcastWidgetNavigationRequest)({requestType:s.NavigationRequestType.TOGGLE_EDIT_MODE})},[re,D,ee]),ne=(0,d.useCallback)(()=>{Te({item_name:"domain_button"}),ee("/settings/domains-email/domains")},[Te,ee]),Ce=(0,d.useCallback)(()=>{Ee({item_name:"domain_link"})},[Ee]),Ae=(0,d.useCallback)(()=>{Te({item_name:"site_status_button"}),ee("/settings/website/site-availability")},[Te,ee]),Xe=(0,d.useCallback)(()=>{Te({item_name:"preview_site_button"}),J==null||J()},[Te,J]),Ne={backgroundColor:"gray.950",borderRadius:"11px"},st={isLoading:b,siteStatus:de,siteTitle:x,variant:G,websiteDomain:k,onDomainButtonClick:ne,onDomainLinkClick:Ce,onPreviewSiteClick:Xe,onSiteStatusButtonClick:Ae};return G===C.STANDALONE?d.default.createElement(i.Flex,{gap:6,height:"250px",ref:be,width:"100%"},d.default.createElement(i.Flex,(0,r.default)({},Ne,{flexGrow:0,flexShrink:0,height:"100%",overflow:"hidden"}),d.default.createElement(m.default,{isSetupGuideLandingEnabled:D,siteStatus:de,variant:G,onClick:me})),d.default.createElement(c.Card,(0,r.default)({},Ne,{height:"100%",variant:"quiet",width:"100%"}),d.default.createElement(c.Card.Body,{height:"100%",sx:{pb:4,pt:5,px:4}},d.default.createElement(f.default,st)))):d.default.createElement(i.Box,{ref:be},d.default.createElement(c.Card,(0,r.default)({width:"100%"},G===C.DEFAULT?{borderRadius:"6px"}:{...Ne,variant:"quiet"}),d.default.createElement(m.default,{isSetupGuideLandingEnabled:D,siteStatus:de,variant:G,onClick:me}),d.default.createElement(c.Card.Body,{height:"100%",sx:{pb:4,pt:5,px:4}},d.default.createElement(f.default,st))))};var I=o.default=T},578309:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(670563),e=t(488475),c=t(778008),i=n(t(174161)),a=t(234786),s=t(202740),l=n(t(165547)),d=n(t(864841));const f=u=>{let{isLoading:p,siteStatus:g,siteTitle:v="",websiteDomain:E={url:"",isCustom:!1,isRegistering:!1},variant:C,onDomainButtonClick:T,onDomainLinkClick:I,onPreviewSiteClick:y,onSiteStatusButtonClick:b}=u;const{T:D}=(0,l.default)(),j=C===a.SitePreviewWidgetVariant.STANDALONE;return i.default.createElement(c.Flex,{flexDirection:"column",gap:5,height:"100%",justifyContent:"space-between"},i.default.createElement(c.Box,null,i.default.createElement(c.Text.Title,{fontWeight:"medium",m:0},p?i.default.createElement(r.Skeleton,{height:28,width:185}):v),i.default.createElement(c.Box,{mt:j?2:1},i.default.createElement(c.Flex,{alignItems:"center"},j&&i.default.createElement(c.Flex,{flexGrow:0,flexShrink:0,mr:1},i.default.createElement(e.Global,{color:"blue.300"})),p?i.default.createElement(r.Skeleton,{height:22,width:225}):E.isRegistering?i.default.createElement(c.Text.Body,{color:"yellow.300",m:0,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},i.default.createElement(D,{project:"site-preview-widget"},"Domain registration in progress")):i.default.createElement(r.TextLink,{href:`https://${E.url}`,target:"_blank",onClick:I},i.default.createElement(c.Text.Body,{m:0,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},E.url))))),i.default.createElement(c.Flex,{flexDirection:"column",gap:2},j?i.default.createElement(d.default,{icon:i.default.createElement(e.SitePreview,{color:"blue.300"}),variant:C,onClick:y},i.default.createElement(D,{project:"site-preview-widget"},"Preview site")):i.default.createElement(i.default.Fragment,null,i.default.createElement(d.default,{icon:i.default.createElement(e.Global,{color:"blue.300"}),variant:C,onClick:T},E&&(E.isCustom||E.isRegistering)?i.default.createElement(D,{project:"site-preview-widget"},"Manage domain"):i.default.createElement(D,{project:"site-preview-widget"},"Get a custom domain")),i.default.createElement(d.default,{icon:g===s.SiteStatus.PUBLISHED?i.default.createElement(e.Unlock,{color:"blue.300"}):i.default.createElement(e.Lock,{color:"blue.300"}),variant:C,onClick:b},g===s.SiteStatus.PUBLISHED?i.default.createElement(D,{project:"site-preview-widget"},"Manage site status"):i.default.createElement(D,{project:"site-preview-widget"},"Publish your site")))))};var m=o.default=f;P.exports=o.default},276029:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(670563),e=t(488475),c=t(778008),i=t(451846),a=n(t(174161)),s=n(t(165547)),l=t(827523);const d=m=>{let{imageSrc:u,status:p}=m;const{T:g}=(0,s.default)();return p===i.ScreenshotStatus.ERROR?a.default.createElement(c.Flex,{alignItems:"center",flexDirection:"column",height:"100%",justifyContent:"center",mx:"auto",textAlign:"center",width:"100%"},a.default.createElement(e.LogoSquarespace,null),a.default.createElement(c.Text.Body,{m:0,mt:2},a.default.createElement(g,{project:"site-preview-widget"},"The site preview isn't available.")),a.default.createElement(c.Text.Caption,{m:0,mt:1},a.default.createElement(g,{project:"site-preview-widget"},"Reload the page to view your site preview."))):a.default.createElement(r.Image,{fallback:a.default.createElement(c.Flex,{alignItems:"center",flexDirection:"column",height:"100%",justifyContent:"center",mx:"auto",textAlign:"center",width:"100%"},a.default.createElement(r.ActivityIndicator,null)),height:"100%",src:(0,l.getSqspStaticImageUrl)(u),sx:{objectFit:"cover"},width:"100%"})};var f=o.default=d;P.exports=o.default},467397:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(670563),e=t(778008),c=t(436700),i=t(923842),a=t(451846),s=g(t(174161)),l=t(234786),d=n(t(857520)),f=n(t(165547)),m=n(t(276029)),u=n(t(995427));function p(C){if(typeof WeakMap!="function")return null;var T=new WeakMap,I=new WeakMap;return(p=function(y){return y?I:T})(C)}function g(C,T){if(!T&&C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var I=p(T);if(I&&I.has(C))return I.get(C);var y={__proto__:null},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in C)if(D!=="default"&&Object.prototype.hasOwnProperty.call(C,D)){var j=b?Object.getOwnPropertyDescriptor(C,D):null;j&&(j.get||j.set)?Object.defineProperty(y,D,j):y[D]=C[D]}return y.default=C,I&&I.set(C,y),y}const v=C=>{let{isSetupGuideLandingEnabled:T,siteStatus:I,variant:y,onClick:b}=C;const{T:D}=(0,f.default)(),{time:j}=(0,c.useTheme)(),[U,R]=(0,s.useState)(!1),{screenshotData:{status:L,path:x}}=(0,d.default)(),G=y===l.SitePreviewWidgetVariant.STANDALONE,k=L===a.ScreenshotStatus.LOADING||L===a.ScreenshotStatus.PROCESSING,V=U||k;return s.default.createElement(e.Box,{backgroundColor:"gray.950",height:"100%",position:"relative",style:{aspectRatio:16/9},tabIndex:G?-1:0,width:"100%",onBlur:()=>{G||R(!1)},onFocus:()=>{G||R(!0)},onKeyDown:$=>{!G&&i.Keyboard.isEnter($)&&b()},onMouseLeave:()=>{G||R(!1)},onMouseOver:()=>{G||R(!0)}},s.default.createElement(m.default,{imageSrc:x,status:L}),s.default.createElement(u.default,{bottom:0,m:2,position:"absolute",right:0,siteStatus:I}),!G&&s.default.createElement(e.Box,{height:"100%",left:0,position:"absolute",top:0,width:"100%"},s.default.createElement(e.Box,{backgroundColor:"gray.100",css:{transition:`opacity ${j[300]}`},height:"100%",opacity:V?.4:0,position:"absolute",width:"100%"}),V&&s.default.createElement(e.Flex,{alignItems:"center",flexDirection:"column",height:"100%",justifyContent:"center",mx:"auto",textAlign:"center"},U?s.default.createElement(e.Button.Secondary,{backgroundColor:"white",size:"medium",tabIndex:-1,onClick:b},T?s.default.createElement(D,{project:"site-preview-widget"},"Edit Pages"):s.default.createElement(D,{project:"site-preview-widget"},"Edit site")):s.default.createElement(r.ActivityIndicator,{color:"light"}))))};var E=o.default=v;P.exports=o.default},995427:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(670563),c=t(465006),i=t(778008),a=t(436700),s=n(t(174161)),l=t(202740),d=n(t(165547));const f=u=>{let{siteStatus:p,...g}=u;const{shadows:v}=(0,a.useTheme)(),{T:E}=(0,d.default)();return s.default.createElement(e.Chip,(0,r.default)({backgroundColor:"white",boxShadow:v[400],color:"blue.300",glyph:p===l.SiteStatus.PUBLISHED?s.default.createElement(c.Unlock,null):s.default.createElement(c.Lock,null),label:s.default.createElement(i.Box,{color:"black"},p===l.SiteStatus.PUBLISHED?s.default.createElement(E,{project:"site-preview-widget"},"Public"):p===l.SiteStatus.PASSWORD_PROTECTED?s.default.createElement(E,{project:"site-preview-widget"},"Password protected"):s.default.createElement(E,{project:"site-preview-widget"},"Private"))},g))};var m=o.default=f;P.exports=o.default},864841:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=n(t(160553)),e=t(778008),c=n(t(174161)),i=t(234786);const a=l=>{let{icon:d,variant:f,onClick:m,children:u}=l;return c.default.createElement(e.Button.Secondary,(0,r.default)({size:"medium",onClick:m},f===i.SitePreviewWidgetVariant.DEFAULT?{}:{backgroundColor:"white"}),c.default.createElement(e.Flex,{alignItems:"center"},d&&c.default.createElement(e.Flex,{flexGrow:0,flexShrink:0},d),c.default.createElement(e.Box,{ml:d?1:0,overflow:"hidden"},u)))};var s=o.default=a;P.exports=o.default},908765:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.listenForRequestNewScreenshotEvent=void 0;var n=t(454139);const r=e=>{var c;const i=s=>{e(s.detail)};return(c=window)===null||c===void 0||(c=c.top)===null||c===void 0||c.addEventListener(n.REQUEST_NEW_SCREENSHOT_EVENT,i),()=>{var s;return(s=window)===null||s===void 0||(s=s.top)===null||s===void 0?void 0:s.removeEventListener(n.REQUEST_NEW_SCREENSHOT_EVENT,i)}};o.listenForRequestNewScreenshotEvent=r},857520:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(451846),e=t(174161),c=t(908765),i=n(t(140727));const a=5e3,s=2500,l=4,d=()=>{const[m,u]=(0,e.useState)({status:r.ScreenshotStatus.NONE,path:null,token:null}),[p,g]=(0,e.useState)(0),[v,E]=(0,e.useState)(!1),C=(0,e.useCallback)(async()=>{try{const{data:I}=await r.SitePreviewAPI.requestNewScreenshot();u({status:r.ScreenshotStatus.PROCESSING,path:null,token:I.id})}catch(I){i.default.captureException(new Error("Error requesting new Site Preview screenshot",{cause:I}))}},[]),T=(0,e.useCallback)(async I=>{m.status!==r.ScreenshotStatus.PROCESSING&&u({...m,status:r.ScreenshotStatus.LOADING});try{const{data:b}=await r.SitePreviewAPI.fetchScreenshot((m==null?void 0:m.token)||void 0);u({status:b.screenshotStatus,path:b.path,token:b.screenshotToken})}catch(b){var y;(b==null||(y=b.response)===null||y===void 0?void 0:y.status)===404?I&&C():(u({status:r.ScreenshotStatus.ERROR,path:null,token:null}),i.default.captureException(new Error("Error fetching Site Preview screenshot",{cause:b})))}},[m,C]);return(0,e.useEffect)(()=>{T(!0)},[]),(0,e.useEffect)(()=>(0,c.listenForRequestNewScreenshotEvent)(y=>{let{token:b}=y;u({...m,status:r.ScreenshotStatus.PROCESSING,token:b??m.token})}),[T,m]),(0,e.useEffect)(()=>{if(m.status===r.ScreenshotStatus.LOADING)return;if(m.status!==r.ScreenshotStatus.PROCESSING){g(0),E(!1);return}if(v)return;const I=p+1;if(I<=l){g(I);const y=setTimeout(()=>{T()},I>1?s:a);return()=>clearTimeout(y)}g(0),E(!0)},[T,v]),{screenshotData:m,isTimedOut:v}};var f=o.default=d;P.exports=o.default},202740:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.SiteStatus=void 0;var n=t(645791);let r=o.SiteStatus=function(i){return i.PASSWORD_PROTECTED="PASSWORD_PROTECTED",i.PUBLISHED="PUBLISHED",i.TRIALER="TRIALER",i.UNPUBLISHED="UNPUBLISHED",i}({});const e=i=>{let{isSitePasswordProtected:a,isSitePublished:s}=i;return(0,n.getIsWebsiteTrial)()?r.TRIALER:a?r.PASSWORD_PROTECTED:s?r.PUBLISHED:r.UNPUBLISHED};var c=o.default=e},604102:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(689699),r=t(933372),e=t(174161);const c=r.WidgetName.SITE_PREVIEW,i=s=>{let{product_area:l,surface_state:d,widget_position_index:f,widget_position_total:m}=s;const u=(0,e.useCallback)(()=>{(0,r.trackUserViewsWidget)({product_area:l,surface_state:d,widget_name:c,widget_position_index:f,widget_position_total:m})},[l,d,f,m]),p=(0,e.useCallback)(E=>{let{item_name:C}=E;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksEditSiteButton",object_type:n.ObjectType.BUTTON,item_name:C,product_area:l,surface_state:d,widget_name:c,widget_position_index:f,widget_position_total:m})},[l,d,f,m]),g=(0,e.useCallback)(E=>{let{item_name:C}=E;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksStatusCTA",object_type:n.ObjectType.BUTTON,item_name:C,product_area:l,surface_state:d,widget_name:c,widget_position_index:f,widget_position_total:m})},[l,d,f,m]),v=(0,e.useCallback)(E=>{let{item_name:C}=E;(0,r.trackUserClicksWidgetLink)({item_name:C,product_area:l,surface_state:d,widget_name:c,widget_position_index:f,widget_position_total:m})},[l,d,f,m]);return{trackUserClicksEditSiteButton:p,trackUserClicksLink:v,trackUserClicksStatusCTA:g,trackUserViewsWidget:u}};var a=o.default=i;P.exports=o.default},165547:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=c;var n=t(269734);const r="site-preview-widget";function e(i){return t(414134)(`./${r}.${i}.yaml`)}function c(){return(0,n.useTranslateWithTranslationLoader)(e)}P.exports=o.default},931981:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"SitePreviewWidgetVariant",{enumerable:!0,get:function(){return n.SitePreviewWidgetVariant}}),Object.defineProperty(o,"broadcastRequestNewScreenshotEvent",{enumerable:!0,get:function(){return r.broadcastRequestNewScreenshotEvent}}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return n.default}});var n=c(t(234786)),r=t(996129);function e(i){if(typeof WeakMap!="function")return null;var a=new WeakMap,s=new WeakMap;return(e=function(l){return l?s:a})(i)}function c(i,a){if(!a&&i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var s=e(a);if(s&&s.has(i))return s.get(i);var l={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in i)if(f!=="default"&&Object.prototype.hasOwnProperty.call(i,f)){var m=d?Object.getOwnPropertyDescriptor(i,f):null;m&&(m.get||m.set)?Object.defineProperty(l,f,m):l[f]=i[f]}return l.default=i,s&&s.set(i,l),l}},140727:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t(608800),e=n(t(166455)),c=o.default=new r.ConfigSentryIntegration("site-preview-widget",e.default.ACTIVATION);P.exports=o.default},827523:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getSqspStaticImageUrl=void 0;var n=t(596530),r=t(225840);const e=c=>{var i,a;if(!c)return"";const s=(i=(0,r.getWebsiteContext)())===null||i===void 0||(i=i.website)===null||i===void 0?void 0:i.id;return`https://static.${((a=(0,n.getEnvContext)())===null||a===void 0?void 0:a.appDomain)||"squarespace.com"}/static/screenshots/${s+c}`};o.getSqspStaticImageUrl=e},414134:function(P,o,t){var n={"./site-preview-widget.en-US.yaml":"938758"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=414134},12388:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.WidgetErrorView=void 0;var r=n(t(160553)),e=t(778008),c=n(t(174161)),i=n(t(957271));const a=s=>{let{height:l,children:d,...f}=s;const{T:m}=(0,i.default)();return c.default.createElement(e.Flex,(0,r.default)({alignItems:"center",borderColor:"gray.800",borderRadius:"11px",borderStyle:"solid",borderWidth:1,height:l??300,justifyContent:"center",width:"100%"},f),d||c.default.createElement(e.Text.Body,{color:"gray.300"},c.default.createElement(m,{project:"widget-common"},"Unable to load content. Refresh the page to try again.")))};o.WidgetErrorView=a},432967:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.WidgetTitle=c;var r=t(778008),e=n(t(174161));function c(i){let{children:a}=i;return e.default.createElement(r.Text.DisplayTitle,{as:"h2",fontSize:"20px",lineHeight:"20px"},a)}},277578:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"WidgetErrorView",{enumerable:!0,get:function(){return n.WidgetErrorView}}),Object.defineProperty(o,"WidgetTitle",{enumerable:!0,get:function(){return r.WidgetTitle}});var n=t(12388),r=t(432967)},555788:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.broadcastWidgetNavigationRequest=void 0;var n=t(762472);const r=c=>{var i;(i=window)===null||i===void 0||(i=i.top)===null||i===void 0||i.dispatchEvent(c)},e=c=>{r(new CustomEvent(n.NAVIGATION_REQUEST_EVENT,{detail:c}))};o.broadcastWidgetNavigationRequest=e},762472:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.NAVIGATION_REQUEST_EVENT=void 0;const t="sqsp_widget_common",n=o.NAVIGATION_REQUEST_EVENT=`${t}__navigation_request`},500344:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t(174161),r=t(920843);const e=i=>{let{navigationRequest:a}=i;(0,n.useEffect)(()=>(0,r.listenForNavigationRequestEvent)(l=>{a==null||a(l)}),[a])};var c=o.default=e;P.exports=o.default},871773:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"NavigationRequestType",{enumerable:!0,get:function(){return i.NavigationRequestType}}),Object.defineProperty(o,"broadcastWidgetNavigationRequest",{enumerable:!0,get:function(){return e.broadcastWidgetNavigationRequest}}),Object.defineProperty(o,"listenForNavigationRequestEvent",{enumerable:!0,get:function(){return c.listenForNavigationRequestEvent}}),Object.defineProperty(o,"useWidgetEventListeners",{enumerable:!0,get:function(){return r.default}});var r=n(t(500344)),e=t(555788),c=t(920843),i=t(521628)},920843:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.listenForNavigationRequestEvent=void 0;var n=t(762472);const r=(c,i)=>{var a;const s=d=>{const f=d.detail;i(f)};return(a=window)===null||a===void 0||(a=a.top)===null||a===void 0||a.addEventListener(c,s),()=>{var d;return(d=window)===null||d===void 0||(d=d.top)===null||d===void 0?void 0:d.removeEventListener(c,s)}},e=c=>r(n.NAVIGATION_REQUEST_EVENT,c);o.listenForNavigationRequestEvent=e},521628:function(P,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.NavigationRequestType=void 0;let t=o.NavigationRequestType=function(n){return n.OPEN_ADD_SERVICE_MODAL="OPEN_ADD_SERVICE_MODAL",n.OPEN_AI_PRODUCT_COMPOSER="OPEN_AI_PRODUCT_COMPOSER",n.OPEN_PAGE_CATALOG_SCHEDULING="OPEN_PAGE_CATALOG_SCHEDULING",n.OPEN_PAGE_CATALOG_SERVICES="OPEN_PAGE_CATALOG_SERVICES",n.OPEN_PAGE_CATALOG_STORE="OPEN_PAGE_CATALOG_STORE",n.TOGGLE_EDIT_MODE="TOGGLE_EDIT_MODE",n}({})},957271:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=c;var n=t(269734);const r="widget-common";function e(i){return t(588046)(`./${r}.${i}.yaml`)}function c(){return(0,n.useTranslateWithTranslationLoader)(e)}P.exports=o.default},933372:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"ContentType",{enumerable:!0,get:function(){return r.ContentType}}),Object.defineProperty(o,"LifecycleStage",{enumerable:!0,get:function(){return n.LifecycleStage}}),Object.defineProperty(o,"NavigationDirection",{enumerable:!0,get:function(){return r.NavigationDirection}}),Object.defineProperty(o,"ProductArea",{enumerable:!0,get:function(){return r.ProductArea}}),Object.defineProperty(o,"WidgetName",{enumerable:!0,get:function(){return r.WidgetName}}),Object.defineProperty(o,"WidgetTrackingProperties",{enumerable:!0,get:function(){return r.WidgetTrackingProperties}}),Object.defineProperty(o,"trackEvent",{enumerable:!0,get:function(){return r.trackEvent}}),Object.defineProperty(o,"trackUserChangesWidgetSetting",{enumerable:!0,get:function(){return e.trackUserChangesWidgetSetting}}),Object.defineProperty(o,"trackUserClicksWidgetLink",{enumerable:!0,get:function(){return e.trackUserClicksWidgetLink}}),Object.defineProperty(o,"trackUserNavigatesWithinWidget",{enumerable:!0,get:function(){return e.trackUserNavigatesWithinWidget}}),Object.defineProperty(o,"trackUserTogglesWidgetSettingsPanel",{enumerable:!0,get:function(){return e.trackUserTogglesWidgetSettingsPanel}}),Object.defineProperty(o,"trackUserViewsSubWidget",{enumerable:!0,get:function(){return e.trackUserViewsSubWidget}}),Object.defineProperty(o,"trackUserViewsWidget",{enumerable:!0,get:function(){return e.trackUserViewsWidget}});var n=t(772068),r=t(793865),e=t(247687)},793865:function(P,o,t){"use strict";var n=t(241225);Object.defineProperty(o,"__esModule",{value:!0}),o.trackEvent=o.WidgetName=o.ProductArea=o.NavigationDirection=o.ContentType=void 0;var r=t(689699),e=t(228946),c=t(772068),i=n(t(625392));const a="HomeDashboard";let s=o.ProductArea=function(g){return g.HOME="home-dashboard",g.SETUP_GUIDE="setup-guide",g}({});const l="activation-engine";let d=o.WidgetName=function(g){return g.SETUP_GUIDE="setup_guide",g.SITE_PREVIEW="site_preview",g[g.HELP_VIDEO=c.WidgetKey.HELP_VIDEOS]="HELP_VIDEO",g[g.EMAIL_CAMPAIGNS=c.WidgetKey.EMAIL_CAMPAIGNS]="EMAIL_CAMPAIGNS",g[g.PRODUCT_MERCHANDISING=c.WidgetKey.FEATURE_PROMOS]="PRODUCT_MERCHANDISING",g[g.AI_TOOLS=c.WidgetKey.AI_BUSINESS_TOOLS]="AI_TOOLS",g[g.ANALYTICS=c.WidgetKey.ANALYTICS]="ANALYTICS",g}({}),f=o.ContentType=function(g){return g.AD="ad",g.TIP="tip",g.VIDEO="video",g.PLAYLIST="playlist",g.AI_ENTRYPOINT="ai-entrypoint",g.CAMPAIGN="campaign",g.VIEW_ALL_LINK="view-all-link",g}({}),m=o.NavigationDirection=function(g){return g.FORWARD="forward",g.BACKWARD="backward",g}({});const u=(0,i.default)(()=>(0,r.createEventTracker)(a,{product_area:s.HOME,event_owner_team:l})),p=g=>{u()(g);const{event_name:E,...C}=g;(0,e.fireEvent)(E,C)};o.trackEvent=p},247687:function(P,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.trackUserViewsWidget=o.trackUserViewsSubWidget=o.trackUserTogglesWidgetSettingsPanel=o.trackUserNavigatesWithinWidget=o.trackUserClicksWidgetLink=o.trackUserChangesWidgetSetting=void 0;var n=t(689699),r=t(793865);const e=d=>{let{widget_name:f,intent:m,widget_position_index:u,widget_position_total:p,product_area:g,surface_state:v,sub_widgets_visible:E}=d;(0,r.trackEvent)({action:n.Action.VIEW,actor:n.Actor.USER,event_name:"UserViewsWidget",object_type:n.ObjectType.SECTION,surface_state:v,widget_name:f,intent:m,widget_position_index:u,widget_position_total:p,product_area:g,sub_widgets_visible:E})};o.trackUserViewsWidget=e;const c=d=>{let{item_name:f,product_area:m,surface_state:u,widget_name:p,widget_position_index:g,widget_position_total:v}=d;(0,r.trackEvent)({action:n.Action.VIEW,actor:n.Actor.USER,event_name:"UserViewsSubWidget",item_name:f,object_type:n.ObjectType.SECTION,product_area:m,surface_state:u,widget_name:p,widget_position_index:g,widget_position_total:v})};o.trackUserViewsSubWidget=c;const i=d=>{let{widget_name:f,content_type:m,intent:u,item_name:p,widget_position_index:g,widget_position_total:v,product_area:E,surface_state:C}=d;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserClicksWidgetLink",object_type:n.ObjectType.LINK,surface_state:C,widget_name:f,content_type:m,intent:u,item_name:p,widget_position_index:g,widget_position_total:v,product_area:E})};o.trackUserClicksWidgetLink=i;const a=d=>{let{widget_name:f,content_type:m,direction:u,content_position_index:p,content_position_total:g,intent:v,widget_position_index:E,widget_position_total:C,product_area:T,surface_state:I}=d;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:`UserNavigates${u===r.NavigationDirection.FORWARD?"Forward":"Backward"}WithinWidget`,object_type:n.ObjectType.BUTTON,surface_state:I,widget_name:f,content_type:m,content_position_index:p,content_position_total:g,intent:v,widget_position_index:E,widget_position_total:C,product_area:T})};o.trackUserNavigatesWithinWidget=a;const s=d=>{let{object_identifier:f,product_area:m,surface_state:u,widget_name:p,widget_position_index:g,widget_position_total:v}=d;(0,r.trackEvent)({action:n.Action.CLICK,actor:n.Actor.USER,event_name:"UserTogglesWidgetSettingsPanel",item_name:"settings",object_type:n.ObjectType.BUTTON,product_area:m,surface_state:u,widget_name:p,widget_position_index:g,widget_position_total:v,object_identifier:f})};o.trackUserTogglesWidgetSettingsPanel=s;const l=d=>{let{item_name:f,object_identifier:m,product_area:u,sub_widgets_visible:p,surface_state:g,widget_name:v}=d;(0,r.trackEvent)({action:n.Action.SAVE,actor:n.Actor.USER,event_name:"UserChangesWidgetSetting",item_name:f,object_identifier:m,object_type:n.ObjectType.SETTING,product_area:u,sub_widgets_visible:p,surface_state:g,widget_name:v})};o.trackUserChangesWidgetSetting=l},588046:function(P,o,t){var n={"./widget-common.en-US.yaml":"916096"};function r(c){var i=e(c);return t(i)}function e(c){if(!t.o(n,c)){var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}return n[c]}r.keys=function(){return Object.keys(n)},r.resolve=e,P.exports=r,r.id=588046},296883:function(P,o,t){"use strict";t.d(o,{P:()=>v});var n=t(174161),r=t(714487),e=t(362187),c=t(685763);function i(E,C,T){return C in E?Object.defineProperty(E,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[C]=T,E}const{Transition:a,Overlay:s,Position:l}=c.Z,d="commerce-channels",f=window.SQUARESPACE_SENTRY,m=(E,C)=>{E.setTag("project",d),C&&E.setExtra("context",JSON.stringify(C))},u=(E,C)=>{f&&f.withScope(T=>{m(T,C),f.captureMessage(E),console.error(`[${d} Sentry] context: `,C)})},p=(E,C)=>{f&&f.withScope(T=>{m(T,C),f.captureException(E),console.error(`[${d} Sentry] context: `,C)})};class g extends n.Component{componentDidCatch(C){p(`[${d} boundary] ${C}`),this.setState({hasError:!0})}render(){const{hasError:C,hasDismissedAlert:T}=this.state,{title:I,message:y,confirmLabel:b}=this.props;return C?n.createElement(a,null,!T&&n.createElement(c.Z,{onRequestClose:this.handleClose,lockFocus:!1},n.createElement(s,null),n.createElement(l,{position:"center"},n.createElement(e.Z,{title:I,message:y,buttons:[n.createElement(e.Z.Button,{key:"confirm",onClick:this.handleClose},b)]})))):this.props.children}constructor(...C){super(...C),i(this,"state",{hasError:!1,hasDismissedAlert:!1}),i(this,"handleClose",()=>{this.setState({hasDismissedAlert:!0},()=>{const{onDismissAlert:T}=this.props;T==null||T()})})}}function v(E){return C=>n.createElement(g,{title:(0,r.t)("Something went wrong",null,{project:"commerce-channels"}),message:(0,r.t)("There was a problem loading this service.",null,{project:"commerce-channels"}),confirmLabel:(0,r.t)("Okay",null,{project:"commerce-channels"})},n.createElement(E,C))}},991483:function(P,o,t){"use strict";t.d(o,{Z:()=>u});var n=t(174161),r=t(935154),e=t.n(r),c=t(517658),i=t(117562),a=t(374335),s=t.n(a),l=t(711679),d=t(967361),f=t(834105);function m(p){let{isFeatureGated:g,isTrial:v,featureGatedCopy:E,...C}=p;return g&&n.createElement(c.Z,{isTrial:v,analyticsId:"commerce-payment-settings",...E,...C})}const u=s()({getStores(){return[f.Z]},getPropsFromStores(p){let{className:g}=p;const v=f.Z.isTrial(),E=d.Z.isAddOnEnabled(i.Z.MEMBER_AREAS),C=d.Z.isFeatureGated(e().COMMERCE)&&!E,T=l.Z.getCommerceOrMemberAreasUpsell();return{isFeatureGated:C,isTrial:v,featureGatedCopy:T,className:g}}},m)},199297:function(P,o,t){"use strict";t.d(o,{b9:()=>$,_k:()=>ee,Fh:()=>de,ZP:()=>me,IH:()=>Ee,F$:()=>k,dC:()=>V});var n=t(814710),r=t(156130),e=t(174161),c=t(233284),i=t(526974),a=t(203119),s=t(133803),l=t(44348),d=t.n(l),f=t(821673),m=t(37585),u=t(271685),p=t(597280),g=t(472373),v=t(714487),E=t(829499),C=t(290601),T=t(219190),I=t(352635);const y=()=>e.createElement(T.Z,{width:I.space[4],height:I.space[4],color:"gray.400"}),b=ne=>ne?ne.filter(Ce=>Ce.stock.quantity>0||Ce.stock.unlimited).map(Ce=>Ce.id):[],D=async ne=>{var Ce;if(!(!((Ce=E.default.getState().storeSettings)===null||Ce===void 0)&&Ce.merchandisingSettings.restockNotificationsEnabled))return;const Xe=b(ne.variants);if(!Xe.length)return;const Ne=ne.name;if(await(0,C.Hd)(ne.id,Xe)>0)return{text:(0,v.t)("You have waitlist signups for {productTitle}.",{productTitle:Ne},{project:"commerce-product-composer"}),accessories:[{text:(0,v.t)("View",null,{project:"commerce-product-composer"}),onPress:()=>window.Y.Squarespace.Singletons.Location.go("/config/commerce/waitlists")},{component:y()}]}},j=()=>({text:(0,v.t)("Your product was duplicated",null,{project:"commerce-product-composer"})});var U=t(646922),R=t(296923),L=t.n(R),x=t(970671);function G(ne,Ce,Ae){return Ce in ne?Object.defineProperty(ne,Ce,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):ne[Ce]=Ae,ne}var k=function(ne){return ne.SAVE_BUTTON="SAVE_BUTTON",ne.DELETE_BUTTON="DELETE_BUTTON",ne.DUPLICATE_BUTTON="DUPLICATE_BUTTON",ne}({});const V="PRODUCT_COMPOSER_CLOSE_EVENT",$=ne=>{const{current:Ce}=(0,e.useRef)(Ae=>{const Xe=Ae.detail;ne(Xe)});(0,e.useEffect)(()=>(document.addEventListener(V,Ce),()=>{document.removeEventListener(V,Ce)}),[Ce])},J=ne=>{document.dispatchEvent(new CustomEvent(V,{detail:ne}))},ee="PRODUCT_COMPOSER_DRAWER_OPEN_EVENT",de="PRODUCT_COMPOSER_DRAWER_SAVE_EVENT",re=ne=>{document.dispatchEvent(new CustomEvent(de,{detail:ne}))},Ee=ne=>{const{current:Ce}=(0,e.useRef)(Ae=>{const Xe=Ae.detail;ne(Xe)});(0,e.useEffect)(()=>(document.addEventListener(ee,Ce),()=>{document.removeEventListener(ee,Ce)}),[Ce])},Te=(0,a.Z)(f.Z);class z{constructor(){G(this,"container",void 0),G(this,"originalZIndex",void 0),G(this,"showToast",Ce=>{let{text:Ae,accessories:Xe}=Ce;g.Z.present({text:Ae,accessories:Xe})}),G(this,"close",()=>{c.unmountComponentAtNode(this.container),this.originalZIndex!==null&&(window.Y.Squarespace.DIALOG_ZINDEX_BASE=this.originalZIndex)}),G(this,"openProductComposer",async Ce=>{let{productId:Ae,isNew:Xe,onSavingClose:Ne,onNonSavingClose:st,showVariantPanelOnOpen:ze,serviceType:we,useDrawer:Ke,modalProps:se,eventEntrypoint:Oe,aiProductComposer:ye}=Ce;await(0,s.bb)(),this.close(),this.originalZIndex=window.Y.Squarespace.DIALOG_ZINDEX_BASE,window.Y.Squarespace.DIALOG_ZINDEX_BASE+=5e4;const ct=e.createElement(Te,{isNewProduct:!!Xe,productId:Ae,showVariantPanelOnOpen:ze,serviceType:we,useDrawer:Ke,modalProps:se,eventEntrypoint:Oe,externalYUIModules:{additionalInfoConstructor:window.Y.Squarespace.DialogFields.Layout,customFormsConstructor:window.Y.Squarespace.DialogFields.FormSelector,socialAccountsConstructor:window.Y.Squarespace.DialogFields.ItemPush,dialog:new window.Y.Squarespace.EditingDialog},aiProductComposer:ye,onCancelButtonClick:()=>{this.close(),st==null||st()},onSaveButtonClick:async at=>{const Ct=(0,p.Z)(at);this.close(),Ne==null||Ne({product:at,contentItem:Ct,closeType:"SAVE_BUTTON"}),J({closeType:"SAVE_BUTTON"}),Ke&&re({productId:Ae}),(0,i.broadcastGuidanceTaskCompletion)({taskType:i.TaskType.ADD_PRODUCT_OR_SERVICES}),at.productType===L().PHYSICAL?(0,i.broadcastGuidanceTaskCompletion)({taskType:i.TaskType.ADD_PHYSICAL_PRODUCT}):at.productType===L().SERVICE&&(0,i.broadcastGuidanceTaskCompletion)({taskType:i.TaskType.ADD_SERVICE_PRODUCT});const lt=await D(at);lt&&this.showToast(lt)},onDeleteButtonClick:at=>{const Ct={...(0,p.Z)(at),workflowState:d().DELETED};this.close(),Ne==null||Ne({product:at,contentItem:Ct,closeType:"DELETE_BUTTON"}),J({closeType:"DELETE_BUTTON"}),re({productId:void 0})},onDuplicateButtonClick:(at,Ct)=>{const lt=(0,p.Z)(Ct);this.close(),this.openProductComposer({productId:at.id,onSavingClose:Ne,onNonSavingClose:st}),Ne==null||Ne({product:Ct,contentItem:lt,closeType:"DUPLICATE_BUTTON"}),J({closeType:"DUPLICATE_BUTTON",duplicatedProductId:at.id}),(0,i.broadcastGuidanceTaskCompletion)({taskType:i.TaskType.ADD_PRODUCT_OR_SERVICES}),this.showToast(j())},onError:()=>{this.close(),st==null||st()}});c.render(ct,this.container)}),G(this,"openProductCreationWizard",async Ce=>{let{collection:Ae,categoryId:Xe,onProductCreated:Ne,onSavingClose:st,onNonSavingClose:ze,onCancelCreate:we,entrypoint:Ke,initialProductType:se,validProductTypes:Oe,serviceType:ye,useDrawer:ct,modalProps:at,eventEntrypoint:Ct,aiProductComposer:lt}=Ce;this.close();const Lt=e.createElement(x.Z,null,e.createElement(m.Z,{useDrawer:ct,modalProps:at,onRequestClose:()=>{this.close(),we==null||we()},onProductCreated:async(At,Yt)=>{const xe=(0,U.zL)(At);Ne==null||Ne(xe),Xe&&await u._j([Xe],At.id),this.openProductComposer({productId:At.id,isNew:!0,onSavingClose:st,onNonSavingClose:ze,serviceType:ye??Yt,useDrawer:ct,modalProps:at,eventEntrypoint:Ct,aiProductComposer:lt})},validProductTypes:Oe,initialProductType:se,collectionId:Ae==null?void 0:Ae.id,collectionItemCount:Ae==null?void 0:Ae.itemCount,entrypoint:Ke,eventEntrypoint:Ct}));c.render(Lt,this.container)}),this.container=document.createElement("div"),this.originalZIndex=null}}const me=new z},821673:function(P,o,t){"use strict";t.d(o,{Z:()=>EE});var n=t(871349),r=t(155784),e=t(174161),c=t(929635),i=t(419467),a=t(714487),s=t(934951),l=t(482053),d=t(516865),f=t(538312),m=t(180852),u=t(902863),p=t(443416),g=t(613672),v=t.n(g),E=t(985078),C=t(997447),T=t(119978),I=t(157484),y=t(251678),b=t(719881),D=t(976003),j=t.n(D),U=t(646922),R=t(338465),L=t(766400),x=t(161381),G=function(h){return h.HOME="HOME",h.VARIANT_TABLE="VARIANT_TABLE",h}({});const[k,V]=(0,c.Z)();function $(h){let{children:S,router:A}=h;const[O,M]=e.useState(!1),[N,B]=e.useState(!1),[_,W]=e.useState(!1),[w,Z]=e.useState(null),H=e.useRef(null),[X,K]=e.useState("HOME");function ae(ge){Z(ge),M(!0)}function q(){Z(null),M(!1)}function te(ge){const ue=H.current;ue&&ue.show(ge)}return e.createElement(V,{value:{isLoading:O,loadingMessage:w,showLoadingMessage:ae,clearLoadingMessage:q,showToast:te,toastRef:H,isVariantGeneratorOpen:N,setIsVariantGeneratorOpen:B,currentRoute:X,setCurrentRoute:K,router:A,hasIgnoredVariantWarning:_,setHasIgnoredVariantWarning:W}},S)}const J=(0,x.Z)($);function ee(){return e.createElement(R.Z,{sx:{backgroundColor:"background",opacity:".5",position:"absolute",height:"100%",width:"100%"}})}function de(){const{loadingMessage:h}=k();return e.createElement(l.Z,{sx:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",alignItems:"center",justifyContent:"center"}},e.createElement(ee,null),e.createElement(l.Z,{sx:{flexDirection:"column",alignItems:"center"}},e.createElement(L.Z,null),e.createElement(R.Z,{sx:{marginTop:"1",color:"black",fontSize:"3"}},h)))}const re=de;var Ee=t(712953),Te=t(456903),z=t(994336),be=t.n(z),me=t(629266),ne=t.n(me),Ce=t(348500),Ae=t(35045),Xe=t(30712);const Ne=["image/gif","image/jpeg","image/png",...(0,Xe.L)().isWebpEnabled?["image/webp"]:[]],st=Ne.join(","),ze=async h=>{var S,A;const{data:O}=await Te.default.get(`/api/content-items/${h}`);return{id:O.id,urls:{https:O.assetUrl},focalPoint:{x:((S=O.mediaFocalPoint)===null||S===void 0?void 0:S.x)||.5,y:((A=O.mediaFocalPoint)===null||A===void 0?void 0:A.y)||.5},mediaProcessingState:O.mediaProcessingState}};async function we(h){return await Te.default.delete(`/api/commerce/products/${h}/thumbnail-image`,{params:{itemId:h}})}var Ke=function(h){return h.PRODUCT="PRODUCT",h.SEO="SEO",h.THUMBNAIL="THUMBNAIL",h}({});async function se(h,S,A,O){var M,N;const{id:B}=Ce.Z.getState(),{id:_}=Ae.default.getState(),w={SEO:`/api/content-service/product/1.1/websites/${_}/products/${S}/product-items/${h}/seo/social-sharing-image/image-reference`,PRODUCT:`/api/commerce/products/${h}/images/asset-reference`,THUMBNAIL:`/api/commerce/products/${h}/thumbnail-image/asset-reference`}[O],{data:Z}=await Te.default.post(w,{authorId:B,systemDataId:A},{headers:{"X-CSRF-TOKEN":be().get("crumb")}});return{id:Z.id,systemDataId:A,urls:{https:Z.assetUrls?Z.assetUrls[0].url:Z.url},focalPoint:{x:((M=Z.focalPoint)===null||M===void 0?void 0:M.x)||.5,y:((N=Z.focalPoint)===null||N===void 0?void 0:N.y)||.5},mediaProcessingState:ne().READY}}var Oe=t(877205),ye=t(339858),ct=t(584925),at=t(677013),Ct=function(h){return h.DETAILS="details",h.IMAGES="images",h.INVENTORY="inventory",h.FULFILLMENT="fulfillment",h.ORGANIZATION="organization",h.SELLING_TOOLS="selling-tools",h.MARKETING="marketing",h.SCROLL_REF="scroll-ref",h.FORMS="forms",h}(Ct||{});const lt=Ct;var Lt=t(108647);function At(h){let{onRequestClose:S,children:A,size:O,noTransition:M}=h;return e.createElement(ct.ZP,{isUnmasked:!0,isOpen:!0,onRequestClose:S,desktopMaxWidth:O==="small"?at.R:"100vw",desktopMaxHeight:O==="small"?at.P:"100vh",overflow:"scroll","data-anchor":lt.SCROLL_REF,noTransition:M},A)}const Yt=()=>{window.location.reload()},[xe,tt]=(0,c.Z)();function F(h){let{children:S}=h;const{productId:A,shouldShowOnboarding:O,isShowingCommerceOnboardingV2:M,useDrawer:N,eventEntrypoint:B}=kt(),_=(0,ye.Z)({useDrawer:N}),[W,w]=(0,e.useState)(null),[Z,H]=(0,e.useState)(null),[X,K]=(0,e.useState)(null),[ae,q]=(0,e.useState)(0),{onGeneratedTextUpdate:te,onGeneratedTextSave:ge}=(0,Ee.R)(),ue=()=>!j()(Z,W),[Ve,Pe]=(0,e.useState)(!1);function De(he){w(Fe=>Object.assign({},Fe,he))}function ve(he,Fe){if(!W)throw new Error("patchProductImage called with null product");De({images:W.images.map(Ie=>Ie.id===he?{...Ie,...Fe}:Ie)})}function ke(he,Fe){if(!W)throw new Error("patchVariant called with null product");const{variants:Ie}=W,je=Ie.findIndex(et=>et.id===he);if(je===-1)throw new Error(`Could not find variant with id: ${he}`);De({variants:[...Ie.slice(0,je),Object.assign({},Ie[je],Fe),...Ie.slice(je+1)]})}return(0,e.useEffect)(()=>{async function he(){try{var Fe;const Ie=await(0,U.wv)(A);if(!((Fe=Ie.seoData)===null||Fe===void 0)&&Fe.seoImageId&&(Ie.seoData.seoImage=await ze(Ie.seoData.seoImageId)),w(Ie),H(Ie),Ie){const je=(0,y.Z)(Ie.productType);je&&(0,T.WD)({productId:Ie.id,productType:je,productName:Ie.name,productEditor:I.MX.PRODUCT_COMPOSER_V1,fulfilledExternally:(0,C.sn)(Ie),entryPoint:B})}}catch(Ie){K(Ie)}}he()},[A,N]),!W||!Z?M?null:O?e.createElement(At,{onRequestClose:()=>null,size:"small"},e.createElement(re,null)):Ve?null:X?e.createElement(Lt.Z,{title:(0,a.t)("Something went wrong",null,{project:"apps.App.Commerce"}),message:(0,a.t)("Try again or refresh the page.",null,{project:"apps.App.Commerce"}),cancelButton:{onClick:()=>{Pe(!0)},text:(0,a.t)("Cancel",null,{project:"apps.App.Commerce",notes:"label for button to cancel the product creation"})},confirmButton:{onClick:Yt,text:(0,a.t)("Refresh",null,{project:"apps.App.Commerce",notes:"label for button to refresh the web editor"})}}):e.createElement(Oe.Z,{onRequestClose:()=>{Pe(!0)},..._},e.createElement(re,null)):X?e.createElement("div",null,`Un-Designed and Temporary Error State: ${X}`):e.createElement(tt,{value:{product:W,originalProduct:Z,isDirty:ue,setProduct:w,patchProduct:De,patchProductImage:ve,patchVariant:ke,composerOpenedAt:ae,setComposerOpenedAt:q,onGeneratedTextUpdate:te,onGeneratedTextSave:ge}},S)}var ie=t(641548);const Ze="productComposer",{withEnsurePreferences:Ue,setPreferences:Le,usePreferences:_e}=(0,ie.$)({namespace:Ze}),He=_e;var oe=t(101311),ce=t(413981),Q=t(906046),fe=t(964364),le=t(251196),Re=t(317527),Me=t(47362),dt=t(634083),pt=t(789900);const yt={default:(0,a.t)("Eucalyptus Face Scrub",null,{project:"commerce-product-composer"}),serviceTypeDefault:(0,a.t)("Catskills Yoga Retreat",null,{project:"commerce-product-composer"}),[pt.U.GROUP_EVENT]:(0,a.t)("Summer Art Camp",null,{project:"commerce-product-composer"}),[pt.U.CONSULTING_PACKAGES]:(0,a.t)("Marketing Consultation",null,{project:"commerce-product-composer"})},Qt=(h,S)=>{if(!h)return yt.default;switch(S){case pt.U.GROUP_EVENT:case pt.U.CONSULTING_PACKAGES:return yt[S];default:return yt.serviceTypeDefault}},tn={desktop:{default:(0,a.t)("Made with eucalyptus and aloe. Carefully formulated with essential vitamins and minerals to gently exfoliate and restore the vitality of your skin. Handmade and organic.",null,{project:"commerce-product-composer"}),serviceTypeDefault:(0,a.t)("Join us in the Catskill mountains for an in-person wellness retreat. We're offering 3-day sessions in April, May, and June \u2014 choose the weekend that works best for you.",null,{project:"commerce-product-composer"}),[pt.U.GROUP_EVENT]:(0,a.t)("Spark your child's imagination this summer with our hands-on projects. Your kid will develop artistic skills taught by our creative experts. This camp is designed for the ages of 9 to 12.",null,{project:"commerce-product-composer"}),[pt.U.CONSULTING_PACKAGES]:(0,a.t)("Take your brand to the next level with a brand and marketing audit across your websites, social platforms, and email campaigns. Brand identity playbooks and content calendars are also available as add-ons.",null,{project:"commerce-product-composer"})},mobile:{default:(0,a.t)("Made with eucalyptus and aloe. Carefully formulated with essential vitamins and minerals\u2026",null,{project:"commerce-product-composer"}),serviceTypeDefault:(0,a.t)("Join us in the Catskill mountains for an in-person wellness retreat. We're offering 3-day sessions\u2026",null,{project:"commerce-product-composer"}),[pt.U.GROUP_EVENT]:(0,a.t)("Spark your child's imagination this summer with our hands-on projects. Your kid will develop artistic skills taught by our creative experts. This camp is\u2026",null,{project:"commerce-product-composer"}),[pt.U.CONSULTING_PACKAGES]:(0,a.t)("Take your brand to the next level with a brand and marketing audit across your websites, social platforms, and email campaigns. Brand identity playbooks\u2026",null,{project:"commerce-product-composer"})}},Nn=(h,S)=>{let{isMobile:A,serviceType:O}=S;const M=A?tn.mobile:tn.desktop;if(!h)return M.default;switch(O){case pt.U.GROUP_EVENT:case pt.U.CONSULTING_PACKAGES:return M[O];default:return M.serviceTypeDefault}};var Vn=t(207599),Hn=t.n(Vn),Ft=t(228946);function _n(h){let{placeholder:S}=h;const{product:A,patchProduct:O}=xe(),{serviceType:M}=kt(),N=B=>{O({name:B})};return e.createElement("div",{"data-testid":"product-name","data-test":"product-name",className:Ft.unmask},e.createElement(f.Z.Label,{mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Product name")),e.createElement(Q.Z,{className:Hn().productName,variant:"floating",body:e.createElement(Me.Z,{placeholder:S||Qt((0,C.j)(A),M),value:A.name,onChange:N,maxLength:dt.ac,sx:{":focus":{background:"none"}}})}))}var vn=t(239718);function jn(h){let{isDraggingImage:S,onClick:A,label:O,height:M}=h;return e.createElement(l.Z,{backgroundColor:S?"gray.600":"base",height:M||"117px",width:"100%",alignItems:"center",justifyContent:"center",onClick:A,borderStyle:"dashed",borderWidth:"1px",borderColor:"gray.600",borderRadius:"8px",sx:{cursor:"pointer"},tabIndex:0,onKeyDown:N=>{N.key==="Enter"&&(A==null||A())}},e.createElement(l.Z,{flexDirection:"column",position:"relative",alignItems:"center"},e.createElement(l.Z,{height:"sizes.200",width:"sizes.200",backgroundColor:"gray.900",borderRadius:"50%",alignItems:"center",justifyContent:"center"},e.createElement(vn.Z,{color:"gray.100"})),O&&e.createElement(f.Z.Body,{mt:2,mb:0,sx:{cursor:"pointer"}},O)))}var Qe=t(276309),We=t(289731),Ye=t.n(We),Je=t(125607),ot=t(58468),qe=t(608284),nt=t(559470),ut=t(850882),mt=t(98393),Ut=t(263681),Tt=t(398084),jt=t(905790),it=t(20666),ht=t(808391),It=t(998124);const bt=20,Ot=70,nn=h=>URL.revokeObjectURL(h),rt=()=>{const h=(O,M)=>({id:M??Ye()(),systemDataId:O.assetId,urls:{https:O.imageSrc},focalPoint:{x:.5,y:.5},mediaProcessingState:ne().READY,deferUpload:!0,title:O.filename}),S=(O,M)=>{var N;const B=nt.Z.fromUploadError({assetType:ut.h.IMAGE,statusCode:O==null||(N=O.response)===null||N===void 0?void 0:N.status},M);return{title:B==null?void 0:B.title,message:B==null?void 0:B.message}};return{addLibraryImage:h,uploadImage:async(O,M)=>{let{onComplete:N,onProgress:B,onError:_}=M,W;const{isWebpEnabled:w}=(0,Xe.L)(),Z=w?{acceptedTypes:[...Object.values(mt.kr),mt.yB.WebP]}:{},H=(0,Ut.Z)(ut.h.IMAGE,Z);try{const{isValidFile:X,title:K,message:ae}=await(0,Tt.ZP)(ut.h.IMAGE,O,H);if(!X){_({title:K,message:ae});return}const q=(0,qe.a)({isDev:(0,It.isDev)(),isQA:(0,It.isQA)(),isStage:(0,It.isStage)()});W=URL.createObjectURL(O);const te={urls:{https:W},focalPoint:{x:.5,y:.5},processingProgress:bt,mediaProcessingState:ne().PROCESSING,title:O.name};B(te);const ge=await(0,jt.Z)(ut.h.IMAGE,O,{onProgress:ke=>{B({...te,processingProgress:Math.min(ke,Ot)})},environment:q,websiteId:Ae.default.getState().id}),ue=await(0,it.Z)(ut.h.IMAGE,ge.data.jobId,q);if(!ue.isSuccess){const ke=nt.Z.fromFailedJob(ue,H);nn(W),_({title:ke.title,message:ke.message});return}const{id:Ve,assetUrl:Pe,mediaFocalPoint:De}=(0,ht.Z)(ut.h.IMAGE,ue.assetRecord),ve={...te,systemDataId:Ve,urls:{https:Pe},focalPoint:De,mediaProcessingState:ne().READY,processingProgress:void 0,deferUpload:!0};B({...ve}),nn(W),N({...ve})}catch(X){const{title:K,message:ae}=S(X,H);_({title:K,message:ae})}}}};var ln=function(h){return h[h.PRODUCT_COMPOSER=0]="PRODUCT_COMPOSER",h[h.ONBOARDING_WIZARD=1]="ONBOARDING_WIZARD",h}({});const qt={isCancellable:!1,title:(0,a.t)("Image failed to upload",null,{project:"commerce-product-composer"}),message:(0,a.t)("An unexpected error occurred.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Close",null,{project:"commerce-product-composer"})};function In(h,S){return{id:h,urls:{https:(0,i.isString)(S)?S:URL.createObjectURL(S)},focalPoint:{x:.5,y:.5},mediaProcessingState:ne().QUEUED,processingProgress:0,uploadBatchId:h}}const un=6;function $t(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{product:S,patchProduct:A}=xe(),{showConfirmModal:O}=(0,Je.t)(),{addLibraryImage:M,uploadImage:N}=rt(),[B,_]=(0,e.useState)([]),{images:W,thumbnailImage:w,variants:Z}=S,H=e.useRef(W),X=e.useRef(w),K=e.useRef(Z),ae=h===1;e.useEffect(()=>{H.current=W},[W]),e.useEffect(()=>{X.current=w},[w]),e.useEffect(()=>{K.current=Z},[Z]),(0,e.useEffect)(()=>{const he=new Set(W.filter(Fe=>Fe.uploadBatchId&&(Fe.mediaProcessingState===ne().READY||Fe.mediaProcessingState===ne().ERROR)).map(Fe=>Fe.uploadBatchId));he.size>0&&_(Fe=>Fe.filter(Ie=>!he.has(Ie.uploadBatchId)))},[W,_]),(0,e.useEffect)(()=>{const he=new Map(B.filter(Ie=>Ie.uploadBatchId&&Ie.mediaProcessingState===ne().READY).map(Ie=>[Ie.uploadBatchId,Ie])),Fe=new Map(B.filter(Ie=>Ie.uploadBatchId&&Ie.mediaProcessingState===ne().ERROR).map(Ie=>[Ie.uploadBatchId,Ie]));if(he.size>0||Fe.size>0){const Ie=H.current.map(je=>({...je,...je.uploadBatchId?he.get(je.uploadBatchId):{}})).filter(je=>!je.uploadBatchId||!Fe.has(je.uploadBatchId));A({images:Ie})}},[B,H,A]);const q=(he,Fe)=>{_(Ie=>Ie.map(je=>je.id===he?{...je,...Fe}:je))},te=he=>{_(Fe=>Fe.map(Ie=>Ie.id===he?{...Ie,mediaProcessingState:ne().ERROR}:Ie))},ge=he=>{A({images:he})},ue=(he,Fe)=>{ge(H.current.map(Ie=>Ie.id===he?{...Ie,...Fe}:Ie))},Ve=(he,Fe)=>{const Ie=K.current.map(je=>{var et;return((et=je.mainImage)===null||et===void 0?void 0:et.id)===he?{...je,mainImage:Fe}:je});A({variants:Ie})};return{pendingUploads:B,addImagesFromAssetPicker:async he=>{const Fe=he.map(je=>({...M(je),eventing:{duringOnboarding:ae,fromAssetLibrary:!1}})),Ie=H.current.length+Fe.length===1&&!X.current?{...Fe[0],id:S.id}:void 0;return A({images:[...W,...Fe],...Ie?{thumbnailImage:Ie}:{}}),Fe},setThumbnail:async he=>{A({thumbnailImage:{...he,deferUpload:!0}})},uploadImages:async(he,Fe)=>{const Ie=he.map(gt=>({file:gt,image:In(Ye()(),gt)}));ge([...H.current,...Ie.map(gt=>({...gt.image}))]),_(gt=>[...gt,...Ie.map(Et=>Et.image)]);const je=Ie.map(gt=>{let{image:Et,file:St}=gt;return()=>N(St,{onProgress:Rt=>q(Et.id,Rt),onComplete:Rt=>{q(Et.id,{...Rt,eventing:{duringOnboarding:ae,fromAssetLibrary:!1}}),Ie.length===1&&!X.current&&Rt.systemDataId&&(ae&&ge([{...Rt,id:Et.id}]),A({thumbnailImage:Rt})),Fe==null||Fe(Rt.id)},onError:Rt=>{let{title:Jt,message:gn}=Rt;O({...qt,title:Jt??qt.title,message:gn??qt.title}),te(Et.id)}})}),et=(0,i.chunk)(je,un);for(const gt of et)await Promise.all(gt.map(Et=>Et()))},uploadReplacementImage:(he,Fe)=>{const Ie={file:Fe,image:In(he,Fe)};_(je=>[...je,Ie.image]),ue(he,Ie.image),N(Fe,{onProgress:je=>q(he,je),onComplete:je=>{q(he,{...je,deferUpload:!0,id:Ye()(),eventing:{duringOnboarding:ae,fromAssetLibrary:!1}}),Ve(he,je)},onError:je=>{let{title:et,message:gt}=je;O({...qt,title:et??qt.title,message:gt??qt.title}),te(he)}})}}}const Wt=$t;var Cn=t(299223),hn=t(245118),Sn=t(830348),On=t(262046),Un=t(306537),pn=t(989845),Pn=t(435769),fn=t(836708),pe=t(132178);const{useFileInputField:Be}=Sn.default,Ge={isValidFile:!0},$e=(h,S)=>{const A=S?Object.keys(S):[],O=(0,On.s)(h,{licensedAssetIds:A})||Ge;return O.isValidFile?{isError:!1,errorMessage:""}:{isError:!0,errorMessage:O.message||""}},[ft,Gt]=(0,c.Z)(),Dt=h=>{let{onChooseAssetIds:S,onUploadFiles:A,isMultiple:O,upperLimitForCollection:M=1/0,children:N}=h;const[B,_]=(0,e.useState)(!1),{onOpenFileBrowser:W,inputRef:w}=Be(Z=>{if(Z){const H=Array.from(Z);A(H)}});return e.createElement(Gt,{value:{onImageOpenFileBrowser:W,onOpenAssetPicker:()=>_(!0)}},e.createElement(Sn.default,{isMultiple:O,ref:w,acceptedTypes:Ne}),e.createElement(Pn.Z,{assetDestination:"product-composer",productPage:"product-composer",baseZIndex:300001,onChooseAssetIds:Z=>{let{assets:H}=Z;_(!1),S(H)},isOpen:B,onRequestClose:()=>_(!1),upperLimitForCollection:M},e.createElement(fn.default.MyLibrary,{key:"my-library",isAddDisabled:$e})),N)},wt=h=>{let{children:S,sx:A}=h;const[O,M]=(0,e.useState)(!1),{onImageOpenFileBrowser:N,onOpenAssetPicker:B}=ft();return pe.trackABTestPCAssetManager(!0),e.createElement(e.Fragment,null,e.createElement(Un.Z,{sx:{p:0,m:0,...A},assetType:ut.h.IMAGE},O&&e.createElement(pn.Z.ReplaceFileMenu,{renderTrigger:()=>e.createElement("div",null),isOpen:!0,onRequestClose:()=>M(!1),onRequestOpen:()=>null,position:"bottom-right",menuActions:[{name:(0,a.t)("Upload File",null,{project:"commerce-product-composer"}),icon:Cn.Z,handler:()=>{N(),M(!1)}},{name:(0,a.t)("Select From Library",null,{project:"commerce-product-composer"}),icon:hn.Z,handler:()=>{B(),M(!1)}}],isFullWidth:!1}),S({onTrigger:()=>{M(!0)}})))};var Se=t(352635);function dn(h){let{percentage:S}=h;return e.createElement(R.Z,{bg:"black",height:"3px",width:`${S}%`,sx:{position:"absolute",bottom:0,left:0,transition:`width ${Se.time[400]} ${Se.easing.product.default}`}})}function En(h){let{title:S,description:A,placeholder:O}=h;const{product:M,patchProduct:N,patchVariant:B}=xe(),{pendingUploads:_,addImagesFromAssetPicker:W,uploadImages:w}=Wt(ln.ONBOARDING_WIZARD),[Z,H]=(0,e.useState)(!1),X=M.images.length===0,K={...M.images[0],..._.find(ae=>ae.id===M.images[0].id)||{}};return e.createElement(l.Z,{flexDirection:"column"},e.createElement(f.Z.Title,null,S||e.createElement(s.T,{project:"commerce-product-composer"},"Create your first product")),e.createElement(f.Z.Subtitle,{color:"gray.300",mb:2,pb:2},A||e.createElement(s.T,{project:"commerce-product-composer"},"Start by filling out the product name and adding an image.")),e.createElement(_n,{placeholder:O}),e.createElement(f.Z.Label,{mt:4,mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Image")),e.createElement(R.Z,{pb:2},X?e.createElement(ce.Z,{onDrop:ae=>{w([ae]),H(!1)},onDragEnter:()=>H(!0),onDragLeave:()=>H(!1),validMimeTypes:Ne,multiple:!1},e.createElement(Dt,{onUploadFiles:w,onChooseAssetIds:W},e.createElement(wt,null,ae=>{let{onTrigger:q}=ae;return e.createElement(jn,{label:(0,a.t)("Add image",null,{project:"commerce-product-composer"}),onClick:()=>{q()},isDraggingImage:Z,height:"100px"})}))):e.createElement(e.Fragment,null,e.createElement(Q.Z,{pt:0,interiorPre:e.createElement(R.Z,{width:"sizes.200",height:"sizes.200",position:"relative"},e.createElement(fe.Z,{width:"100%",height:"100%",src:K.urls.https,sx:{objectFit:"cover",opacity:K.processingProgress&&"0.4"}}),!!K.processingProgress&&e.createElement(dn,{percentage:K.processingProgress})),interiorAccessory:e.createElement(d.Z.Base,{disabled:!!M.images[0].processingProgress,onClick:()=>{B(M.variants[0].id,{mainImage:void 0}),N({images:[],thumbnailImage:void 0})}},e.createElement(Re.Z,{color:K.processingProgress&&"gray.600"}))}),e.createElement(le.Z,null),e.createElement(f.Z.Caption,{mt:1},e.createElement(s.T,{project:"commerce-product-composer"},"You can add more images later.")))))}var Dn=t(153088),an=t(456825),Kn=t(845076),Mt=t.n(Kn),Rn=t(271810),wn=t.n(Rn),Ls=t(733876),ar=t.n(Ls),oa=t(546469),ir=t(896139),ra=t(6443),Ns=t(296923),Kt=t.n(Ns),zt=t(272821);function aa(){const{product:h}=xe(),{visibility:S,productType:A}=h;return!(A!==Kt().PHYSICAL||S.state!==zt.B.HIDDEN)}const fo=h=>{let{text:S,sx:A}=h;const O=aa(),{shouldShowHints:M}=kt();return!O||!M?null:e.createElement(l.Z,{width:"100%",pt:2,alignItems:"center",sx:A},e.createElement(ra.Z,{color:"blue.300",sx:{minWidth:"19px",height:"19px"}}),e.createElement(f.Z.Caption,{color:"blue.300",ml:1},S))};var Bn=t(158127);const ia={px:3,"> div":{mb:0,"&:after":{height:"1px !important"},"> div":{px:1}}},sa=h=>{let{price:S,salePrice:A,onSale:O,onChangePrice:M,onFocus:N,onBlur:B}=h;return e.createElement(oa.Z,{appearance:"cell",max:dt.y2,min:O?A.toFloat():0,label:(0,a.t)("Price",null,{project:"commerce-product-composer"}),price:S,onChange:_=>{const W=(0,ir.gi)(_,A,O);M(W.price,W.sale)},inputProps:{className:Mt()(ar().priceInput,{[ar().originalPrice]:O}),onFocus:N,onBlur:B},sx:ia,"data-test":"pc-price-input"})},_s=h=>{let{price:S,salePrice:A,onChangeSalePrice:O}=h;return e.createElement(oa.Z,{appearance:"cell",max:S.toFloat(),label:(0,a.t)("Sale Price",null,{project:"commerce-product-composer"}),price:A,onChange:M=>{O((0,ir.Fl)(M,S))},inputProps:{className:ar().priceInput,placeholder:(0,a.t)("0.00",null,{project:"commerce-product-composer"})},sx:ia,"data-test":"pc-salePrice-input"})};function js(h){let{onSale:S,price:A,salePrice:O,onChangePrice:M,onChangeSalePrice:N,onChangeOnSale:B}=h;const[_,W]=(0,e.useState)(!1);return e.createElement("div",{className:Mt()(wn().fields,Ft.unmask)},e.createElement(sa,{price:A,salePrice:O,onSale:S,onChangePrice:M,onFocus:()=>W(!0),onBlur:()=>W(!1)}),_&&e.createElement(fo,{text:(0,a.t)('Set your price and use the "On Sale" toggle when you want to offer a discount.',null,{project:"commerce-product-composer"}),sx:{px:2}}),e.createElement(an.default,{label:(0,a.t)("On Sale",null,{project:"commerce-product-composer"}),value:S,onChange:w=>B(w),"data-test":"pc-onSale-label",onKeyDown:(0,Bn.Z)(()=>B(!S))}),S&&e.createElement(_s,{price:A,salePrice:O,onChangeSalePrice:N}))}var no=t(115350),ca=t(741566);function la(h){return h.length>dt.VC&&(h=h.substring(0,dt.VC)),h}var ua=t(453962);const Bs=(0,no.Z)(Q.Z,le.Z),da=h=>{let{stock:S,onChangeStock:A}=h;const[O,M]=(0,e.useState)(0),N=B=>{const _=(0,ua.Z)(S.quantity);A({unlimited:B,quantity:_}),M(_)};return(0,e.useEffect)(()=>{S.unlimited||M(S.quantity)},[]),e.createElement(e.Fragment,null,S.unlimited?e.createElement(Q.Z,{mx:4,pb:0,label:(0,a.t)("Stock",null,{project:"commerce-product-composer"}),interiorAccessory:"\u221E",post:e.createElement(l.Z,{width:"calc(100% + 12px)",mt:"5px",ml:"-5px"},e.createElement(le.Z,null))}):e.createElement(ca.default,{label:(0,a.t)("Stock",null,{project:"commerce-product-composer"}),value:O,onChange:B=>{const _=(0,ua.Z)(B);M(_),A({unlimited:!1,quantity:_})},onBlur:B=>{B.target.value||(M(dt.zJ),A({unlimited:!1,quantity:dt.zJ}))},rightAlign:!0,min:0}),e.createElement(an.default,{label:(0,a.t)("Unlimited Stock",null,{project:"commerce-product-composer"}),value:S.unlimited,onChange:B=>{N(B)},onKeyDown:(0,Bn.Z)(()=>{N(!S.unlimited)})}))};function Fs(h){let{stock:S,sku:A,onChangeStock:O,onChangeSku:M,hasSubscription:N}=h;return e.createElement("div",{className:N?void 0:wn().container},N?e.createElement(f.Z.Body,{color:"gray.300",mt:4,mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"This is a subscription product and has no stock levels.")):e.createElement("div",{className:wn().fields},S&&e.createElement(da,{stock:S,onChangeStock:O})),e.createElement(Bs,{exteriorPre:(0,a.t)("SKU",null,{project:"commerce-product-composer"}),body:e.createElement(Me.Z,{value:A,placeholder:(0,a.t)("Add...",null,{project:"commerce-product-composer"}),onChange:B=>M(la(B)),textAlign:"right",sx:{":focus":{background:"none"}}})}))}function Gs(){const{product:h,patchVariant:S}=xe(),A=h.variants[0];return e.createElement(l.Z,{flexDirection:"column"},e.createElement(f.Z.Title,null,e.createElement(s.T,{project:"commerce-product-composer"},"Set up your inventory")),e.createElement(f.Z.Subtitle,{color:"gray.300"},e.createElement(s.T,{project:"commerce-product-composer"},"Add price and available quantity of your product.")),e.createElement(l.Z,{flexDirection:"column",mx:-4},e.createElement(sa,{price:A.price,salePrice:A.salePrice,onSale:A.onSale,onChangePrice:(O,M)=>{S(A.id,{price:O,salePrice:M})}}),A.stock&&e.createElement(da,{stock:A.stock,onChangeStock:O=>{S(A.id,{stock:O})}})))}const xs=t.p+"PinkBackground-d8580ef702961b07.jpg";var sr=t(612020),Uo=t(682610),Ws=t(635718);function ma(h){let{options:S,noBackgroundImage:A,minHeight:O="40%",productReviewsEnabled:M,placeholder:N}=h;var B;const{product:_}=xe(),W=(B=_.images[0])===null||B===void 0?void 0:B.urls.https,{serviceType:w}=kt(),Z={height:"4px",borderRadius:"4px",backgroundColor:"gray.600"};return e.createElement(l.Z,{height:"100%",width:"100%",alignItems:"center",justifyContent:"center",backgroundImage:A?void 0:`url(${xs})`,backgroundSize:"cover",backgroundPosition:"50%"},e.createElement(R.Z,{position:"relative",px:5,py:7,minHeight:O,width:"80%",boxShadow:Se.shadows[300],background:"white"},e.createElement(l.Z,{position:"relative",width:"100%",height:"100%"},e.createElement(R.Z,{width:"50%",height:"210px",backgroundColor:"gray.900"},W&&e.createElement(fe.Z,{width:"100%",height:"100%",src:W,sx:{objectFit:"cover"}})),e.createElement(R.Z,{width:"50%",pl:4,overflowY:"scroll"},e.createElement(f.Z.Title,{mb:4,fontSize:"16px",lineHeight:"20px",color:_.name?"gray.100":"gray.600",fontWeight:"book"},_.name||N||Qt((0,C.j)(_),w)),e.createElement(f.Z.Body,{mt:-3,color:"gray.100"},(0,a.lb)(_.variants[0].price)),e.createElement(R.Z,{width:"100%"},e.createElement(R.Z,{...Z,width:"100%",mb:1}),e.createElement(R.Z,{...Z,width:"40%",mb:S?0:3}),S?S.map(H=>{let{label:X}=H;return e.createElement(e.Fragment,null,e.createElement(f.Z.Body,{m:"8px 0 2px",p:0,fontSize:"8px",lineHeight:"14px"},X),e.createElement(l.Z,{height:"17px",alignItems:"center",justifyContent:"end",backgroundColor:"gray.900"},e.createElement(sr.Z,{sx:{marginRight:"2px"}})))}):e.createElement(l.Z,{height:"17px",alignItems:"center",justifyContent:"end",backgroundColor:"gray.900",mb:2},e.createElement(sr.Z,{sx:{marginRight:"2px"}})),e.createElement(R.Z,{width:"100%",height:"17px",backgroundColor:"gray.200",mt:S?3:0})))),M&&e.createElement(R.Z,{mt:4},e.createElement(Uo.Z,{color:"gray.600"}),e.createElement(Uo.Z,{color:"gray.600"}),e.createElement(Uo.Z,{color:"gray.600"}),e.createElement(Uo.Z,{color:"gray.600"}),e.createElement(Ws.Z,{color:"gray.600"}),e.createElement(R.Z,{...Z,width:"80%"}))))}function cr(h){let S=0;for(const M of h.variants){var A,O;if(!((A=M.stock)===null||A===void 0)&&A.unlimited)return null;S+=(O=M.stock)===null||O===void 0?void 0:O.quantity}return S}var pa=function(h){return h.NAME_IMAGE="1",h.INVENTORY="2",h}(pa||{});const ws=(h,S,A)=>{const O=(0,y.Z)(h.productType),M=I.MX.FIRST_PRODUCT_ADD_ONBOARDING,N=h.variants[0],B=S.variants[0];if(O&&((0,T.IS)({productId:h.id,productType:O,productName:h.name,stock_quantity:cr(h),timeElapsed:A,fulfilledExternally:(0,C.sn)(h)}),h.name!==S.name&&(0,T.Xd)(h.name,O,M,h.id,(0,C.sn)(h)),N.price.toFloat()!==B.price.toFloat()&&(0,T.L8)({attributeType:"retail-price",productId:h.id,productName:h.name,productType:O,variantId:N.id,updatedValue:N.price.toFloat().toString(),productEditor:M,originalValue:B.price.toFloat().toString(),fulfilledExternally:(0,C.sn)(h)}),!(0,i.isEqual)(N.stock,B.stock))){const _=B.stock.unlimited?null:B.stock.quantity.toString(),W=N.stock.unlimited?null:N.stock.quantity.toString();(0,T.L8)({attributeType:"stock",productId:h.id,productName:h.name,productType:O,variantId:N.id,updatedValue:W,productEditor:M,originalValue:_,fulfilledExternally:(0,C.sn)(h)})}},Zs=h=>!(E.Z.hasAchievement(v().PRODUCT_SAVED)||h);function ks(h){let{onCancel:S,onClose:A}=h;const[O,M]=(0,e.useState)("1"),[N]=(0,e.useState)(()=>new m.Z.History),{product:B,originalProduct:_,composerOpenedAt:W}=xe(),w=()=>{const K=Date.now()-W;_&&ws(B,_,K),Le({addFirstProductOnboardingViewDate:Date.now()}),A()},Z=()=>{Le({addFirstProductOnboardingViewDate:Date.now()}),S()},H={nextButtonProps:{label:(0,a.t)("Add more details",null,{project:"commerce-product-composer"}),inverted:!0,icon:e.createElement(u.Z,{color:"white"}),margin:"0 !important",onClick:w},hideNext:!1},X={nextButtonProps:{label:!B.name&&!B.images.length?(0,a.t)("Skip",null,{project:"commerce-product-composer"}):(0,a.t)("Next",null,{project:"commerce-product-composer"}),icon:e.createElement(u.Z,null),margin:"0 !important"}};return e.createElement(ct.ZP,{desktopMaxWidth:at.R,desktopMaxHeight:at.P,onRequestClose:Z,isOpen:!0,lockFocus:!0,"data-test":"product-composer-onboarding-modal"},e.createElement(m.Z.SplitScreen,null,e.createElement(m.Z.SplitScreen.Panel,null,e.createElement(m.Z,{currentStepId:O,onRequestStep:M,history:N,renderNavigation:K=>e.createElement(m.Z.Navigation,{...K,...O==="1"?X:H}),renderProgress:K=>e.createElement(l.Z,{width:"100%",justifyContent:"space-between"},e.createElement(d.Z.Tertiary,{size:"large",onClick:()=>O==="1"?Z():M("1")},O==="1"?e.createElement(s.T,{project:"commerce-product-composer"},"Close"):e.createElement(e.Fragment,null,e.createElement(p.Z,null),e.createElement(s.T,{project:"commerce-product-composer"},"Back"))),e.createElement(f.Z.Caption,{mt:"15px"},e.createElement(s.T,{project:"commerce-product-composer",currentStep:O,numSteps:Object.keys(pa).length},"{currentStep} OF {numSteps}")))},e.createElement(m.Z.Step,{id:"1",nextStepId:"2",hideCloseButton:!0},e.createElement(m.Z.Step.Content,null,e.createElement(En,null))),e.createElement(m.Z.Step,{id:"2",hideBack:!0,hideCloseButton:!0},e.createElement(m.Z.Step.Content,null,e.createElement(Gs,null))))),e.createElement(m.Z.SplitScreen.Panel,null,e.createElement(ma,null))))}const Vs=Ue(ks),Hs=h=>{let{aiProductComposer:S}=h;const A=!!(S!=null&&S.enabled&&S.initialShouldOpenGenerationModalIndependently),[O,M]=(0,e.useState)(A);return{isProductFormHidden:O,onShowProductForm:()=>{M(!1)},initialShouldOpenGenerationModalIndependently:A}},[kt,Ks]=(0,c.Z)();function Ys(h){let{children:S,...A}=h;const{initialShouldOpenGenerationModalIndependently:O,isProductFormHidden:M,onShowProductForm:N}=Hs({aiProductComposer:A.aiProductComposer}),{preferences:B}=He(),_=Zs(!!B.addFirstProductOnboardingViewDate)&&!O,[W,w]=(0,e.useState)(!0);return e.createElement(Ks,{value:{...A,shouldShowOnboarding:_,shouldShowHints:W,setShouldShowHints:w,isProductFormHidden:M,onShowProductForm:N,initialShouldOpenGenerationModalIndependently:O}},S)}var zs=t(920526),fa=t(7304),$s=t(513738),CE=t(654574),Fn=t(766519),lr=t(621942),Yn=t(394954),Xs=t(161829);const ur=h=>{let{onSave:S,onCancel:A}=h;const{product:O,patchProduct:M}=xe();return e.createElement(Xs.Z,{label:(0,a.t)("Publish time",null,{project:"commerce-product-composer"}),initialValue:O.visibility.visibleOn,onSave:N=>{M({visibility:{visibleOn:N,state:zt.B.SCHEDULED}}),S()},onCancel:A})};var Ea=t(649393),ga=t(309456),dr=t(479348);const va=e.createContext({taxCategory:void 0,setTaxCategory:()=>{},originalTaxCategory:void 0,setOriginalTaxCategory:()=>{},stripeTaxCategory:void 0,setStripeTaxCategory:()=>{},originalStripeTaxCategory:void 0,setOriginalStripeTaxCategory:()=>{}});function Qs(h){let{children:S}=h;const[A,O]=(0,e.useState)(),[M,N]=(0,e.useState)(),[B,_]=(0,e.useState)(),[W,w]=(0,e.useState)();return e.createElement(va.Provider,{value:{taxCategory:M,setTaxCategory:N,originalTaxCategory:A,setOriginalTaxCategory:O,stripeTaxCategory:W,setStripeTaxCategory:w,originalStripeTaxCategory:B,setOriginalStripeTaxCategory:_}},S)}function mr(){return e.useContext(va)}var Js=t(48387),Ca=t(143829),Po=t(362187),_t=t(685763),qs=t(141117);const{Transition:ec,Overlay:tc,Position:nc}=_t.Z,oc="commerce-product-composer",{captureMessage:SE,captureException:ha,BaseErrorBoundary:rc}=(0,qs.Z)({project:oc}),Sa=h=>{let{title:S,message:A,confirmLabel:O,onDismissAlert:M,children:N}=h;const[B,_]=(0,e.useState)(!1),W=()=>{_(!0),M==null||M()};return e.createElement(rc,{errorContents:e.createElement(ec,null,!B&&e.createElement(_t.Z,{onRequestClose:W,lockFocus:!1},e.createElement(tc,null),e.createElement(nc,{position:"center"},e.createElement(Po.Z,{title:S,message:A,buttons:[e.createElement(Po.Z.Button,{key:"confirm",onClick:W},O)]}))))},N)};function pr(h){return S=>e.createElement(Sa,{title:(0,a.t)("Something went wrong",null,{project:"commerce-product-composer"}),message:(0,a.t)("There was a problem loading this screen.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Okay",null,{project:"commerce-product-composer"}),onDismissAlert:()=>{const{onClose:A}=S;A&&A()}},e.createElement(h,S))}var co=t(741563),Ta=t(522364),ya=t(637635),Ia=t(603382);const ac=(0,a.t)("Saving Product",null,{project:"commerce-product-composer"}),Pa={isCancellable:!1,title:(0,a.t)("Something went wrong",null,{project:"commerce-product-composer"}),message:(0,a.t)("An unexpected error occurred. Please try again later.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Close",null,{project:"commerce-product-composer"})};function Lo(){const{isNewProduct:h,isShowingCommerceOnboardingV2:S,eventEntrypoint:A}=kt(),{product:O,originalProduct:M,composerOpenedAt:N}=xe(),{productFulfillmentTable:B,assignProductsToProfile:_}=(0,Ea.q)(),{showLoadingMessage:W,clearLoadingMessage:w}=k(),{taxCategory:Z,originalTaxCategory:H,stripeTaxCategory:X,originalStripeTaxCategory:K}=mr(),{showConfirmModal:ae}=(0,Je.t)(),q=async he=>{const Fe=he.images.map(async(et,gt)=>{if(et.deferUpload&&et.systemDataId){var Et,St;const Rt={...await se(he.id,he.collectionId,et.systemDataId,Ke.PRODUCT),focalPoint:et.focalPoint,title:et.title};return he.images[gt]=Rt,(0,co.n1)({imageId:Rt.id,product:he,productSection:!((Et=et.eventing)===null||Et===void 0)&&Et.fromAssetLibrary?"asset-picker":"product-editor",productEditor:!((St=et.eventing)===null||St===void 0)&&St.duringOnboarding?I.MX.FIRST_PRODUCT_ADD_ONBOARDING:I.MX.PRODUCT_COMPOSER_V1}),Rt}});await Promise.all(Fe),he.variants.forEach((et,gt)=>{var Et;if(!(!((Et=et.mainImage)===null||Et===void 0)&&Et.deferUpload))return;const St=he.images.find(Rt=>{var Jt;return Rt.systemDataId===((Jt=et.mainImage)===null||Jt===void 0?void 0:Jt.systemDataId)});St&&(he.variants[gt].mainImage=St)});const Ie=(async()=>{var et,gt;!((et=he.thumbnailImage)===null||et===void 0)&&et.deferUpload&&(!((gt=he.thumbnailImage)===null||gt===void 0)&&gt.systemDataId)&&(he.thumbnailImage=await se(he.id,he.collectionId,he.thumbnailImage.systemDataId,Ke.THUMBNAIL))})(),je=(async()=>{var et,gt,Et,St;if(!((gt=he.seoData)===null||gt===void 0||(et=gt.seoImage)===null||et===void 0)&&et.deferUpload&&(!((St=he.seoData)===null||St===void 0||(Et=St.seoImage)===null||Et===void 0)&&Et.systemDataId)){const Rt=await se(he.id,he.collectionId,he.seoData.seoImage.systemDataId,Ke.SEO);he.seoData.seoImageId=Rt.id}})();await Promise.all([Ie,je])},te=async he=>{!(he!=null&&he.thumbnailImage)&&(M!=null&&M.thumbnailImage)&&await we(he.id)},ge=async he=>{const Fe=new Set(he.images.filter(je=>!je.deferUpload).map(je=>je.id)),Ie=M.images.filter(je=>!Fe.has(je.id)).map(async je=>await(0,U.bL)(he.id,je.id));await Promise.all(Ie)},ue=he=>{let{draftProduct:Fe,originalAltText:Ie,updatedAltText:je,imageId:et}=he;const gt={[Kt().PHYSICAL]:I.kv.PHYSICAL,[Kt().DIGITAL]:I.kv.DIGITAL,[Kt().SERVICE]:I.kv.SERVICE,[Kt().GIFT_CARD]:I.kv.GIFT_CARD};(0,T.L8)({attributeType:"image-alt-text",fulfilledExternally:(0,C.sn)(Fe),originalValue:Ie,productEditor:I.MX.PRODUCT_COMPOSER_V1,productId:Fe.id,productName:Fe.name,productType:gt[Fe.productType],updatedValue:je,variantId:et})},Ve=async he=>{const Fe=new Map(M.images.map(et=>[et.id,et])),je=he.images.filter(et=>{if(!Fe.has(et.id))return!0;const gt=Fe.get(et.id);return(et==null?void 0:et.title)!==(gt==null?void 0:gt.title)||et.focalPoint!==(gt==null?void 0:gt.focalPoint)}).filter(et=>et.id).map(async et=>{await(0,U.eA)(he.id,et.id,et.title??"",et.focalPoint);const gt=et.id,Et=gt?Fe.get(gt):void 0,St=(Et==null?void 0:Et.title)??"",Rt=et.title??"";gt&&Et&&St!==Rt&&ue({draftProduct:he,originalAltText:St,updatedAltText:Rt,imageId:gt})});await Promise.all(je)},Pe=()=>{if(!O||!M)return null;(0,Js.R)(O,M,I.MX.PRODUCT_COMPOSER_V1);const he=(0,y.Z)(O.productType),Fe=Date.now()-N;if(he){const Ie={productId:O.id,productType:he,productName:O.name,productEditor:I.MX.PRODUCT_COMPOSER_V1,stock_quantity:cr(O),timeElapsed:Fe,fulfilledExternally:(0,C.sn)(O),entryPoint:A,visibility:O.visibility.state};h?(0,T.kC)(Ie):(0,T.mh)(Ie)}if(Z!==H){const Ie=Z?T.Ir.ADD:T.Ir.DELETE;(0,T.sJ)({action:"submit",categoryAction:Ie,categoryName:Z?Z.taxCategoryName:null,productId:O.id,productType:he,productEditor:I.MX.PRODUCT_COMPOSER_V1})}},De=async()=>{if(!O||!M)return{error:!0};const he=!S&&h,Fe=await(0,Ca.q)(O,he);if(Fe)return{error:!0,errorMessage:Fe};try{W(ac);const Ie={...O,images:O.images.filter(je=>je.mediaProcessingState!==ne().QUEUED&&je.mediaProcessingState!==ne().PROCESSING&&je.mediaProcessingState!==ne().ERROR)};await q(Ie),await te(Ie),await Ve(Ie),await(0,U.gg)(Ie,M,h,{currentTaxCategory:Z,originalTaxCategory:H,currentStripeTaxCategory:X,originalStripeTaxCategory:K}),await ge(Ie),ya.Z.isCached(O.id)&&await Ta.Z.read(O.id),Ia.Z.clearCache(),w()}catch(Ie){console.error(Ie),w();const je=(0,Ca.T)(Ie);return je||ha(`Unexpected product save error: ${Ie}`),{error:!0,errorMessage:je}}return{error:!1}};async function ve(){if(O){const he=B[O.id],Fe=he?he.id:null;try{await _(Fe,[O.id]);const Ie=he?he.name:null;ga.RW("product-composer",Fe,O.id,Ie)}catch{}}}async function ke(){if(!O||!M)return{encounteredErrors:!0};const{error:he,errorMessage:Fe}=await De();if(he)return ae({...Pa,message:Fe||Pa.message}),{encounteredErrors:!0};await ve(),h&&!S&&!E.Z.hasAchievement(v().PRODUCT_CREATED_PRODUCT_COMPOSER)&&dr.Z.grantAchievement(v().PRODUCT_CREATED_PRODUCT_COMPOSER),E.Z.hasAchievement(v().PRODUCT_SAVED)||dr.Z.grantAchievement(v().PRODUCT_SAVED);try{Pe()}catch{console.error("error tracking product composer")}return{encounteredErrors:!1}}return{saveProduct:ke}}var No=t(561463),ba=t(290858);function ic(h){let{isOpen:S,onDismiss:A,header:O,body:M}=h;const[N,B]=(0,ba.Z)(),[_,W]=(0,ba.Z)(),w=e.useRef(null);return e.useEffect(()=>{if(S){var Z;(Z=w.current)===null||Z===void 0||Z.setDockIndex(1)}},[S]),S?e.createElement(No.Z.Portal,null,e.createElement(No.Z.Container,null,e.createElement(No.Z.Overlay,{onClick:A,sx:{background:"rgba(0, 0, 0, 0.4)"}}),e.createElement(No.Z.Drawer,{ref:w,docks:[50,B.height+W.height],renderHeader:()=>e.createElement(l.Z,{ref:N,justifyContent:"space-between",alignItems:"center",height:55},e.createElement(R.Z,null),e.createElement(f.Z.Subtitle,{m:0},O),e.createElement(R.Z,null)),renderBody:()=>e.createElement(l.Z,{ref:_,flexDirection:"column"},M)}))):null}const _o={height:"44px",mx:3,justifyContent:"start",borderBottom:1,borderColor:"gray.800"};function sc(h){let{isOpen:S,isNewProduct:A,onSave:O,onSaveAndPublish:M,onSchedule:N,onDiscard:B,onDismiss:_}=h;const{product:W,originalProduct:w}=xe(),Z=A||W.visibility.state===zt.B.HIDDEN&&w.visibility.state===zt.B.HIDDEN,H=()=>e.createElement(d.Z.Tertiary,{sx:_o,onClick:O},Z?e.createElement(s.T,{project:"commerce-product-composer"},"Save as Hidden"):e.createElement(s.T,{project:"commerce-product-composer"},"Save")),X=()=>e.createElement(d.Z.Tertiary,{sx:_o,onClick:M},e.createElement(s.T,{project:"commerce-product-composer"},"Publish")),K=()=>e.createElement(d.Z.Danger,{sx:_o,onClick:B},A?e.createElement(s.T,{project:"commerce-product-composer"},"Discard Product"):e.createElement(s.T,{project:"commerce-product-composer"},"Discard Changes")),ae=()=>e.createElement(d.Z.Tertiary,{sx:_o,onClick:N},e.createElement(s.T,{project:"commerce-product-composer"},"Schedule")),q=()=>{switch(W.visibility.state){case zt.B.SCHEDULED:return e.createElement(e.Fragment,null,e.createElement(H,null),e.createElement(K,null));case zt.B.HIDDEN:return e.createElement(e.Fragment,null,e.createElement(X,null),e.createElement(H,null),e.createElement(ae,null),e.createElement(K,null));case zt.B.VISIBLE:return e.createElement(e.Fragment,null,e.createElement(H,null),e.createElement(K,null));default:return null}};return e.createElement(ic,{isOpen:S,onDismiss:_,header:(0,a.t)("Confirm Changes",null,{project:"commerce-product-composer"}),body:e.createElement(e.Fragment,null,e.createElement(q,null),e.createElement(l.Z,{sx:{paddingTop:6}}))})}function Aa(){const{showLoadingMessage:h,clearLoadingMessage:S}=k(),{isNewProduct:A,onDeleteButtonClick:O}=kt(),{showConfirmModal:M}=(0,Je.t)(),{product:N}=xe(),B=async function(){const W=(0,y.Z)(N.productType);try{return await(0,U.Ir)(N.id),O(N),W&&(0,T.ly)({productId:N.id,productType:W,productName:N.name,productEditor:I.MX.PRODUCT_COMPOSER_V1,fulfilledExternally:(0,C.sn)(N)}),ya.Z.isCached(N.id)&&await Ta.Z.read(N.id),Ia.Z.clearCache(),{error:!1}}catch{return{error:!0}}};return{deleteProduct:async function(){A||h((0,a.t)("Deleting Product",null,{project:"commerce-product-composer"}));const{error:W}=await B();W&&(S(),await M({isCancellable:!1,title:(0,a.t)("Cannot Delete Product",null,{project:"commerce-product-composer"}),message:(0,a.t)("There was a problem deleting this product.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Close",null,{project:"commerce-product-composer"})}))}}}const jo=()=>{const{deleteProduct:h}=Aa(),{isNewProduct:S,onCancelButtonClick:A}=kt();return{cancelOrDelete:()=>{S?h():A()}}};function cc(){const[h,S]=(0,e.useState)(!1),{onSaveButtonClick:A,isNewProduct:O}=kt(),{saveProduct:M}=Lo(),{product:N,patchProduct:B}=xe(),[_,W]=(0,e.useState)(!1),{cancelOrDelete:w}=jo(),[Z,H]=(0,e.useState)(!1),X=async()=>{H(!0)};(0,e.useEffect)(()=>{Z&&(async()=>{const{encounteredErrors:ge}=await M();ge?H(!1):A(N)})()},[Z]);const K=async()=>{X()},ae=async()=>{B({visibility:{state:zt.B.VISIBLE,visibleOn:new Date}}),X()},q=()=>{W(!0)};return e.createElement(e.Fragment,null,e.createElement(e.Fragment,null,e.createElement(d.Z.Tertiary,{onClick:()=>S(!0)},e.createElement(s.T,{project:"commerce-product-composer"},"Done")),e.createElement(sc,{isOpen:h,isNewProduct:O,onDiscard:w,onSave:K,onSaveAndPublish:ae,onSchedule:q,onDismiss:()=>S(!1)})),_&&e.createElement(ur,{onCancel:()=>{W(!1)},onSave:async()=>{W(!1),X()}}))}var yE=t(200457),Zn=t(967552),Oa=t(139717),Da=t(134280);const lc=h=>{let{isOpen:S,onClose:A,label:O,children:M,variant:N="secondary",...B}=h;const _=e.useRef(null);return e.createElement(e.Fragment,null,O?e.createElement(d.Z,{variant:N,ref:_,animationDirection:"none",lineHeight:1},O):e.createElement(Zn.Z.Element.Icon,{ref:_},e.createElement(Da.Z,null)),e.createElement(Oa.Z,{...B,isOpen:S,anchor:()=>_.current,onRequestClose:A,closeOnClickOutside:!0,hideArrow:!0},e.createElement("div",{className:Ft.unmask,onClick:W=>{W.stopPropagation(),A()}},M)))};var on=t(525475),uc=t(310690),dc=t(461761),mc=t.n(dc),pc=t(820201),fc=t.n(pc),Ec=t(260175),Ra=t(522429),fr=t(942849),bo=t(541585),Ma=t(709778),gc=t(13596),vc=t(296883);const Cc=fc()([{displayName:(0,a.t)("I don't want to sell the same products on Squarespace",null,{project:"commerce-etsy-import"}),responseValue:"don't_want_to_sell_same_products"},{displayName:(0,a.t)("I don't currently sell on Etsy",null,{project:"commerce-etsy-import"}),responseValue:"don't_currently_sell_on_platform"},{displayName:(0,a.t)("It's faster to add products myself",null,{project:"commerce-etsy-import"}),responseValue:"faster_add_myself"},{displayName:(0,a.t)("I didn't know I could import my products from Etsy",null,{project:"commerce-etsy-import"}),responseValue:"didn't_know_I_could_import_from_platform"}]),hc=(0,Ec.i)(Se.breakpoints).platform==="mobile"?"100%":"60%",Sc=async()=>{const h=(0,Ma.gP)("seenProductImportSurvey")!==!0,S=16321572e5,A=mc()(window,"Static.SQUARESPACE_CONTEXT.website.createdOn",null)>S,O=E.Z.hasAchievement(v().ETSY_INTENT_EXPRESSED);if(h&&A&&O)try{return(await(0,gc.se)()).length===0}catch{return!1}return!1},Tc=h=>{let{onClose:S,router:A}=h;const[O,M]=(0,e.useState)(""),[N,B]=(0,e.useState)(""),_=window.location.pathname,W=_.includes("pages"),w=_.includes("inventory"),Z=W?"pages":w?"inventory-panel":"",H=()=>{(0,bo.vr)(Z),S()},X=()=>{(0,bo.Sh)(Z,O,N),S()};(0,e.useEffect)(()=>{(0,bo.PA)(Z),dr.Z.grantAchievement(v().PRODUCT_CREATED_PRODUCT_COMPOSER),(0,Ma.fW)("seenProductImportSurvey",!0)},[]);const K=Cc.map(ae=>{const{displayName:q,responseValue:te}=ae;return e.createElement(R.Z,{key:te},e.createElement(f.Z.Body,{as:"label",display:"flex",position:"relative",lineHeight:"18px",sx:{cursor:"pointer"},mb:q.startsWith("I did")&&te===O?0:3},e.createElement(fr.Z,{checked:O===te,value:te,onChange:M,mr:3}),q),q.startsWith("I did")&&te===O&&e.createElement(l.Z,{mb:3,ml:6,mt:1,flexWrap:"wrap"},e.createElement(f.Z.Body,{color:"gray.300",mr:1,my:0},e.createElement(s.T,{project:"commerce-etsy-import"},"Would you like to import your products from Etsy?")),e.createElement(f.Z.Body,{color:"gray.300",borderBottom:1,borderColor:"gray.300",my:0,onClick:()=>{(0,bo.UW)(Z),(0,bo.Sh)(Z,O,N),S(),A.push("/config/inventory?open=etsy-import")},sx:{transition:"border-color .1s ease-in-out",cursor:"pointer","&:hover":{borderColor:"gray.200"}}},e.createElement(s.T,{project:"commerce-etsy-import"},"Try it now"))))});return e.createElement(_t.Z.Transition,null,e.createElement(_t.Z,{onRequestClose:H},e.createElement(_t.Z.Overlay,null),e.createElement(_t.Z.Position,{position:"center"},e.createElement(_t.Z.Dialog.ResponsiveProvider,null,e.createElement(_t.Z.Dialog,null,e.createElement(l.Z,{justifyContent:"space-between",px:6},e.createElement(d.Z.Tertiary,{onClick:H,my:4},e.createElement(s.T,{project:"commerce-etsy-import"},"Close")),e.createElement(d.Z.Tertiary,{onClick:X,my:4,disabled:O===""},e.createElement(s.T,{project:"commerce-etsy-import"},"Submit"))),e.createElement(R.Z,{px:6,pt:5,pb:3,width:hc,mx:"auto"},e.createElement(f.Z.Title,null,e.createElement(s.T,{project:"commerce-etsy-import"},"Help us improve your experience")),e.createElement(f.Z.Subtitle,{mb:2,color:"gray.300"},e.createElement(s.T,{project:"commerce-etsy-import"},"We're making it easier to sell on Squarespace and Etsy and would appreciate your feedback.")),e.createElement(f.Z.Subtitle,null,e.createElement(s.T,{project:"commerce-etsy-import"},"Why did you choose not to import your products from Etsy?")),K,e.createElement(f.Z.Body,{as:"label",display:"flex",position:"relative",lineHeight:"18px",sx:{cursor:"pointer"}},e.createElement(fr.Z,{checked:O==="other",value:"other",onChange:M,mr:3}),e.createElement(s.T,{project:"commerce-etsy-import"},"Other")),O==="other"&&e.createElement(Ra.Z,{mt:2,ml:6,backgroundColor:"gray.900",height:130,p:2,width:"85%",value:N,onChange:B,placeholder:"Tell us more (optional)"})))))))},yc=(0,vc.P)((0,x.Z)(Tc));var Ic=t(184149);const Ua=()=>{const{product:h}=xe();return h.images.some(S=>S.mediaProcessingState===ne().QUEUED||S.mediaProcessingState===ne().PROCESSING)};var Pc=t(925184);function bc(){const[h,S]=e.useState(!1),{isNewProduct:A,onSaveButtonClick:O,useDrawer:M,eventEntrypoint:N}=kt(),{saveProduct:B}=Lo(),{product:_,patchProduct:W,originalProduct:w,onGeneratedTextSave:Z,isDirty:H}=xe(),[X,K]=e.useState(!1),[ae,q]=(0,e.useState)(!1),[te,ge]=(0,e.useState)([]),ue=Ua(),[Ve,Pe]=(0,e.useState)(null),[De,ve]=(0,e.useState)(!1),ke=()=>{const{subscriptionChangeSummaries:Pt,errorModalType:Nt}=(0,uc._V)(w,_,A);Pe(Nt),ge(Pt),!(Nt||Pt.length>0)&&ve(!0)},he=async()=>{A&&await Sc()?q(!0):ke()};if((0,e.useEffect)(()=>{De&&(async()=>{const{encounteredErrors:Nt}=await B();Nt?ve(!1):(O(_),Z())})()},[De]),!_||!w)return null;const Fe=async()=>{he()},Ie=async()=>{W({visibility:{state:zt.B.VISIBLE,visibleOn:new Date}}),he()},je=()=>{K(!0)},et=()=>{q(!1),ke()},gt=_.visibility.state===zt.B.HIDDEN&&w.visibility.state!==zt.B.HIDDEN,Et=()=>{Pe(null)},St=()=>{Pe(null),ve(!0)},Rt=M&&A&&N!==Pc.Q.PAGES_PANEL,Jt=()=>e.createElement(d.Z.Primary,{animationDirection:"none",ml:4,onClick:Ie,"data-testid":"pc-save-button"},e.createElement(s.T,{project:"commerce-product-composer"},"Save")),gn=()=>e.createElement(on.Z.Button,{onRequestClose:()=>{S(!1)},onClick:Fe,"data-testid":"pc-save-button"},_.visibility.state===zt.B.SCHEDULED?e.createElement(s.T,{project:"commerce-product-composer"},"Save"):e.createElement(s.T,{project:"commerce-product-composer"},"Save as Hidden")),Ln=()=>e.createElement(on.Z.Button,{"data-test":"save-and-publish-button",onRequestClose:()=>{S(!1)},onClick:Ie},e.createElement(s.T,{project:"commerce-product-composer"},"Publish")),xt=()=>e.createElement(on.Z.Button,{onRequestClose:()=>{S(!1)},onClick:je},e.createElement(s.T,{project:"commerce-product-composer"},"Schedule")),cn=()=>e.createElement(R.Z,{px:4,py:2,borderTop:1,borderColor:"gray.800"},e.createElement(l.Z,{flexDirection:"column"},e.createElement(f.Z.Caption,null,e.createElement(s.T,{project:"commerce-product-composer"},"Scheduled"))," ",e.createElement(f.Z.Caption,null,(0,a.p6)(_.visibility.visibleOn.getTime(),{date:"medium",time:"short"})))),kn=()=>{switch(_.visibility.state){case zt.B.SCHEDULED:return e.createElement(e.Fragment,null,e.createElement(gn,null),e.createElement(cn,null));case zt.B.HIDDEN:return e.createElement(e.Fragment,null,e.createElement(Ln,null),e.createElement(gn,null),e.createElement(xt,null));case zt.B.VISIBLE:default:return null}},vt=()=>{if(ue)return e.createElement(d.Z.Primary,{opacity:.5,sx:{cursor:"not-allowed"},ml:4},e.createElement(s.T,{project:"commerce-product-composer"},"Uploading"),e.createElement(L.Z,{size:0,color:"light",ml:2}));if(H()){if(Rt)return e.createElement(Jt,null)}else return e.createElement(d.Z.Primary,{ml:4,"data-testid":"pc-save-button",disabled:!0},e.createElement(s.T,{project:"commerce-product-composer"},"Save"));return _.visibility.state===zt.B.VISIBLE||gt?e.createElement(d.Z.Primary,{animationDirection:"none",ml:4,onClick:Fe,"data-testid":"pc-save-button"},e.createElement(s.T,{project:"commerce-product-composer"},"Save")):e.createElement(R.Z,{onMouseEnter:Pt=>{const Nt=Pt.target;Nt instanceof HTMLElement&&Nt.focus(),S(!0)},onMouseLeave:()=>S(!1),onClick:()=>S(!h),ml:4,"data-testid":"pc-header-done-button"},e.createElement(lc,{label:e.createElement(l.Z,{alignItems:"center"},e.createElement(s.T,{project:"commerce-product-composer"},"Save"),e.createElement(sr.Z,{color:"white",sx:{marginRight:-1}})),variant:"primary",isOpen:h,onClose:()=>S(!1),position:"bottom-left",anchorPoint:{x:"right",y:"bottom"},offset:0},e.createElement(l.Z,{my:1,bg:"white",flexDirection:"column"},e.createElement(kn,null))))};return e.createElement(e.Fragment,null,vt(),X&&e.createElement(ur,{onCancel:()=>{K(!1)},onSave:async()=>{K(!1),he()}}),ae&&e.createElement(yc,{onClose:et}),e.createElement(Ic.Z,{product:_,productEditor:I.MX.PRODUCT_COMPOSER_V1,subscriptionOptionChangeSummaries:te,onApply:()=>{ge([]),ve(!0)},onEditPlanModalClose:()=>{ge([])},alertDialogOnCancel:Et,alertDialogOnContinue:St,errorModalType:Ve}))}var Ac=t(654466),Eo=t(303474),Er=t(186538),Bo=t(701970);const Ao=()=>{const{isNewProduct:h}=kt(),{product:{productType:S}}=xe();return S?(0,Eo.isAiProductComposerEnabledForProductType)({productType:S,isNewProduct:h}):!1};function Oc(){const{product:{productType:h}}=xe(),{openAiProductComposerModal:S,storeProductSnapshot:A}=(0,Bo.useAiProductComposerContext)(),{trackUserClicksEntryPoint:O}=(0,Bo.useAnalyticsContext)(),M=Ao();return e.createElement(e.Fragment,null,M&&(0,Eo.isEligibleProductType)(h)&&e.createElement(Er.Z,{icon:e.createElement(Ac.Z,null),title:(0,a.t)("Generate with AI",null,{project:"commerce-product-composer"}),onClick:()=>{S(),A(),O({ctaText:"Generate with AI",productType:h})}}))}var Dc=t(379835),Rc=t.n(Dc);let gr;function vr(h){return document.querySelector(`[data-anchor="${h}"]`)}function Mc(){return vr(lt.SCROLL_REF)}function Cr(){const[h,S]=e.useState(!1);return{isScrolling:h,scrollToLink:function(O,M){S(!0);const N=vr(O);N&&(gr||(gr=vr(lt.DETAILS).offsetTop),Rc()(Mc(),N.offsetTop-gr,{easing:M?!1:"easeInOutSine",minDuration:400,maxDuration:500,onEnd:()=>S(!1)}))}}}function Uc(h){let{isMobile:S}=h;const{showConfirmModal:A}=(0,Je.t)(),{deleteProduct:O}=Aa(),M=async()=>{await A({title:(0,a.t)("Remove Product",null,{project:"commerce-product-composer"}),message:(0,a.t)("Are you sure you wish to remove this product?",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Delete",null,{project:"commerce-product-composer"})})&&O()},N=(0,a.t)("Delete",null,{project:"commerce-product-composer"});return S?e.createElement(R.Z,{sx:{color:"red.300"},onClick:M,"data-testid":"pc-delete-button"},N):e.createElement(Er.Z,{icon:e.createElement(Re.Z,{color:"red.300"}),title:N,onClick:M,testId:"pc-delete-button"})}const La=Uc;var Lc=t(774439);function Nc(){const{showConfirmModal:h}=(0,Je.t)(),{isDirty:S}=xe(),{saveProduct:A}=Lo();return{confirmExit:async M=>{const N=S();if(M)return N?await h({title:(0,a.t)("Leave Editor?",null,{project:"commerce-product-composer"}),message:(0,a.t)("You will lose any unsaved changes.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Leave",null,{project:"commerce-product-composer"})}):!0;if(N){if(!await h({title:(0,a.t)("Leave Editor?",null,{project:"commerce-product-composer"}),message:(0,a.t)("Completing this action requires leaving the editor.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Save and Leave",null,{project:"commerce-product-composer"})}))return!1;const{encounteredErrors:W}=await A();return!W}return await h({title:(0,a.t)("Leave Editor?",null,{project:"commerce-product-composer"}),message:(0,a.t)("Completing this action requires leaving the editor.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Leave",null,{project:"commerce-product-composer"})})}}}const lo=Nc,go=()=>{const{onCancelButtonClick:h}=kt(),{confirmExit:S}=lo(),{router:A}=k();return{navigateAway:async M=>{await S()&&(h(),A.push(M))}}};function Na(h){let{isMobile:S}=h;const{product:A,isDirty:O,composerOpenedAt:M}=xe(),{showLoadingMessage:N,clearLoadingMessage:B}=k(),{showConfirmModal:_}=(0,Je.t)(),{saveProduct:W}=Lo(),{onDuplicateButtonClick:w}=kt(),{navigateAway:Z}=go(),H=Ua();if(!A)return null;const X=()=>{Z("/config/commerce/print-on-demand")},K=async()=>{if((0,C.fv)(A)&&(0,C.sn)(A)){await _({isCancellable:!0,title:(0,a.t)("This product cannot be duplicated",null,{project:"commerce-product-composer"}),message:(0,a.t)("Orders of duplicated Print on Demand products will not be fulfilled. To duplicate this product, visit the extension site.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Print on Demand",null,{project:"commerce-product-composer"})})&&X();return}if(O()){if(!await _({title:(0,a.t)("Duplicate Product",null,{project:"commerce-product-composer"}),message:(0,a.t)("Would you like to save and duplicate this product?",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Save and Duplicate",null,{project:"commerce-product-composer"})}))return;const{encounteredErrors:te}=await W();if(te)return}N((0,a.t)("Duplicating Product",null,{project:"commerce-product-composer"}));try{const q=await(0,U.OV)(A.id),te=(0,y.Z)(A.productType);te&&((0,T.G7)({oldProductId:A.id,newProductId:q.id,productType:te,productName:A.name,productEditor:I.MX.PRODUCT_COMPOSER_V1,fulfilledExternally:(0,C.sn)(A)}),(0,T.kC)({productId:q.id,productType:te,productName:A.name,productEditor:I.MX.PRODUCT_COMPOSER_V1,stock_quantity:cr(A),timeElapsed:Date.now()-M,fulfilledExternally:(0,C.sn)(A),visibility:A.visibility.state})),B(),w(q,A)}catch{B(),await _({isCancellable:!1,title:(0,a.t)("Something went wrong",null,{project:"commerce-product-composer"}),message:(0,a.t)("An error occurred while duplicating this item.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Okay",null,{project:"commerce-product-composer"})})}},ae=(0,a.t)("Duplicate",null,{project:"commerce-product-composer"});return S?e.createElement(R.Z,{onClick:K,animationDirection:"none","data-testid":"pc-duplicate-button"},ae):e.createElement(Er.Z,{icon:e.createElement(Lc.Z,{color:H?"gray.600":void 0,sx:H?{cursor:"not-allowed"}:{}}),title:ae,onClick:H?()=>null:K,testId:"pc-duplicate-button"})}const _c=(0,e.lazy)(()=>Promise.resolve().then(t.bind(t,672745)).then(h=>({default:h.DismissAiProductComposerPopover})));function jc(h,S){switch(h){case Kt().PHYSICAL:return(0,a.t)("Create Physical Product",null,{project:"commerce-product-composer"});case Kt().DIGITAL:return(0,a.t)("Create Download",null,{project:"commerce-product-composer"});case Kt().SERVICE:switch(S){case pt.U.RETREATS_AND_GROUP_TRIPS:return(0,a.t)("Create Retreats and Group Trips Product",null,{project:"commerce-product-composer"});case pt.U.CONSULTING_PACKAGES:return(0,a.t)("Create Consulting Package",null,{project:"commerce-product-composer"});case pt.U.GROUP_EVENT:return(0,a.t)("Create Group Event",null,{project:"commerce-product-composer"});default:return(0,a.t)("Create Service Product",null,{project:"commerce-product-composer"})}case Kt().GIFT_CARD:return(0,a.t)("Create Gift Card Product",null,{project:"commerce-product-composer"})}}function Bc(h){switch(h){case Kt().PHYSICAL:return(0,a.t)("Physical Product",null,{project:"commerce-product-composer"});case Kt().DIGITAL:return(0,a.t)("Download",null,{project:"commerce-product-composer"});case Kt().SERVICE:return(0,a.t)("Service Product",null,{project:"commerce-product-composer"});case Kt().GIFT_CARD:return(0,a.t)("Gift Card Product",null,{project:"commerce-product-composer"})}}function Fc(h,S){const{state:A}=h.visibility;if(S&&A===zt.B.HIDDEN)return(0,a.t)("Draft",null,{project:"commerce-product-composer"});const O=Bc(h.productType),M=A===zt.B.HIDDEN?(0,a.t)("Hidden",null,{project:"commerce-product-composer"}):A===zt.B.SCHEDULED?(0,a.t)("Scheduled",null,{project:"commerce-product-composer"}):"";return M?[O,M].join(" - "):O}function Gc(h){let{product:S,isMobile:A,variant:O}=h;const{isNewProduct:M,serviceType:N}=kt(),B=Ao(),{scrollToLink:_}=Cr(),{cancelOrDelete:W}=jo(),{confirmExit:w}=lo(),{setIsVariantGeneratorOpen:Z,currentRoute:H,setCurrentRoute:X}=k(),[K,ae]=e.useState(),q=H===G.HOME,te=H===G.VARIANT_TABLE,ge=async()=>{await w(!0)&&await W()};return e.createElement(R.Z,{sx:{position:"sticky",top:0,backgroundColor:"white",zIndex:1}},e.createElement(Fn.Z.Container,{alignItems:"center",gridConstraint:12,height:"sizes.400"},e.createElement(Fn.Z.Item,{columns:[3,4]},q?A?e.createElement(cc,null):e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:ge,"data-testid":"pc-cancel-button"},e.createElement(s.T,{project:"commerce-product-composer"},"Cancel")):e.createElement(lr.Z,{onClick:()=>{X(G.HOME),te&&setTimeout(()=>_(lt.INVENTORY,!0),100)}})),e.createElement(Fn.Z.Item,{columns:[6,4],sx:{textAlign:"center"}},e.createElement(f.Z.Title,{fontSize:"13px",lineHeight:"1"},A&&O?e.createElement(s.T,{project:"commerce-product-composer"},"Edit Variant"):M?jc(S.productType,N):te?e.createElement(s.T,{project:"commerce-product-composer"},"Edit Variants"):e.createElement(s.T,{project:"commerce-product-composer",productName:S.name},"Edit {productName}")),e.createElement(f.Z.Caption,{sx:{display:"block",marginTop:"3px"}},te?e.createElement(e.Fragment,null,(0,a._6)({one:"{%n} Variant",other:"{%n} Variants"},S.variants.length,null,{project:"commerce-product-composer"})):A&&O?Object.values(O.attributes).join(" \xB7 "):Fc(S,M))),e.createElement(Fn.Z.Item,{columns:[3,4]},te?e.createElement(Yn.Z,{justifyContent:"flex-end",alignItems:"center",direction:"row"},e.createElement(d.Z.Primary,{animationDirection:"none",onClick:()=>{Z(!0)},"data-testid":"pc-cancel-button"},e.createElement(s.T,{project:"commerce-product-composer"},"Manage Options"))):q&&!A?e.createElement(e.Fragment,null,e.createElement(Yn.Z,{justifyContent:"flex-end",alignItems:"center",direction:"row",ref:ae},B&&e.createElement(Oc,null),e.createElement(La,{isMobile:!1}),e.createElement(Na,{isMobile:!1}),e.createElement(bc,null)),B&&e.createElement(e.Suspense,{fallback:null},e.createElement(_c,{anchor:K}))):null)))}const xc=Gc;var Wc=t(646106),_a=t(663634);const wc=()=>(0,_a.cr)("disable_product_content_push"),ja=h=>h.productType===Kt().PHYSICAL;var Ba=t(916661);const Zc=h=>{const{productType:S}=h;return Ba.Z.isSevenOne()&&(S===Kt().PHYSICAL||S===Kt().DIGITAL||S===Kt().SERVICE)};var Qn=t(534616),kc=t(451226),Vc=t(134521),Hc=t.n(Vc);function Kc(){const[h,S]=(0,e.useState)(null),[A,O]=(0,e.useState)(0),M=(0,e.useCallback)(Hc()(N=>{O(N.target.scrollTop)},250),[]);return(0,e.useEffect)(()=>(h&&h.addEventListener("scroll",M),()=>h==null?void 0:h.removeEventListener("scroll",M)),[h,M]),{node:h,setNode:S,scrollY:A}}function hr(h){return`scrolled_to_${h}`}function Fa(h){return document.querySelector(`[data-anchor="${h}"]`)}function Yc(){return Fa(lt.SCROLL_REF)}function zc(h){let{text:S,isActive:A,onScrollStart:O,onClick:M}=h;return e.createElement(l.Z,null,e.createElement(Zn.Z,{as:"span",interaction:N=>e.createElement(Zn.Z.Underline,{...N,isActive:A}),onClick:()=>{O(),M()}},e.createElement(f.Z.Subtitle,{m:0,mb:2,sx:{"&:hover":{color:"gray.100"}},color:A?"gray.100":"gray.300"},S)))}function $c(h,S,A,O){if(!h.length)throw new Error("no anchor links found");let M=h[0];for(const N of h)if(N.offsetTop-A<=Math.ceil(S))M=N;else break;return Math.ceil(S)>=O?h[h.length-1]:M}function Xc(){const[h,S]=e.useState(lt.DETAILS),[A,O]=e.useState(0),{node:M,setNode:N,scrollY:B}=Kc(),{product:_}=xe(),{isScrolling:W,scrollToLink:w}=Cr(),Z=X=>{S(X),document.dispatchEvent(new Event(hr(X)))};e.useEffect(()=>{O(Fa(lt.DETAILS).offsetTop),N(Yc())},[N]),e.useEffect(()=>{if(M&&!W){const X=Array.from((M==null?void 0:M.querySelectorAll("[data-anchor]"))||[]),K=M.scrollHeight-M.clientHeight,q=$c(X,B,A,K).getAttribute("data-anchor");q!==null&&Z(q)}},[M,B]);const H=[{anchor:lt.DETAILS,text:(0,a.t)("Details",null,{project:"commerce-product-composer"})},...(0,C.Mm)(_)?[]:[{anchor:lt.FORMS,text:(0,a.t)("Forms",null,{project:"commerce-product-composer"})}],{anchor:lt.IMAGES,text:(0,a.t)("Images",null,{project:"commerce-product-composer"})},{anchor:lt.INVENTORY,text:(0,a.t)("Inventory",null,{project:"commerce-product-composer"})},...ja(_)?[{anchor:lt.FULFILLMENT,text:(0,a.t)("Fulfillment",null,{project:"commerce-product-composer"})}]:[],{anchor:lt.ORGANIZATION,text:(0,a.t)("Organization",null,{project:"commerce-product-composer"})},{anchor:lt.SELLING_TOOLS,text:(0,a.t)("Selling Tools",null,{project:"commerce-product-composer"})},{anchor:lt.MARKETING,text:(0,a.t)("Marketing",null,{project:"commerce-product-composer"})}];return e.createElement(l.Z,{flexDirection:"column",width:"100%"},H.map(X=>{let{anchor:K,text:ae}=X;return e.createElement(zc,{key:K,text:ae,isActive:h===K,onClick:()=>w(K),onScrollStart:()=>{Z(K),(0,T.Lq)({value:K,productId:_.id,productName:_.name,productType:(0,y.Z)(_.productType)})}})}))}var Qc=t(292165),Jn=t(868192),sn=t(102258);function Jc(h){let{selectedProfileId:S,fulfillmentProfiles:A,onDropdownChange:O}=h;return e.createElement(sn.Z,{value:S,onChange:O},e.createElement(sn.Z.Option,{value:null,label:(0,a.t)("Default",null,{project:"commerce-product-composer"})},e.createElement(s.T,{project:"commerce-product-composer"},"Default Profile")),A.map(M=>e.createElement(sn.Z.Option,{key:M.id,value:M.id},M.name)))}var Ga=t(332316);const vo=h=>{let{label:S,subtitle:A,onClick:O,sx:M,htmlAttributes:N}=h;return e.createElement(e.Fragment,null,e.createElement(Q.Z,{tabIndex:0,label:S,description:e.createElement(f.Z.Caption,null,A),exteriorAccessory:e.createElement(Ga.Z,{color:"gray.400"}),onClick:O,sx:{...M,"&:hover":{cursor:"pointer"}},onKeyDown:(0,Bn.Z)(O),...N}),e.createElement(le.Z,null))};var qc=t(991483),Fo=t(369537),el=t(384735),tl=t.n(el);function Go(h){let{children:S,className:A}=h;return e.createElement(Fo.Z,{className:Mt()(tl().paddingHack,A)},S)}Go.Left=Fo.Z.Left,Go.Center=Fo.Z.Center,Go.Right=Fo.Z.Right;const Tn=Go;var nl=t(259904),ol=t.n(nl);const xo=h=>{let{onClose:S,onSave:A,onBack:O,children:M,title:N,subtitle:B,showFeatureGateBadge:_,maxHeight:W,width:w,isDirty:Z,savesIndependently:H,saveButtonVariant:X,isGray:K,renderRightButtons:ae,isSaveDisabled:q,isUnmasked:te,...ge}=h;const{showConfirmModal:ue}=(0,Je.t)(),Ve=H?e.createElement(s.T,{project:"commerce-product-composer"},"Save"):e.createElement(s.T,{project:"commerce-product-composer"},"Apply"),Pe=async()=>{(!(()=>{if(typeof Z=="boolean")return Z;if(typeof Z=="function")return Z()})()||await ue({title:(0,a.t)("Are You Sure?",null,{project:"commerce-product-composer"}),message:(0,a.t)("You have unsaved changes.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Discard",null,{project:"commerce-product-composer"})}))&&S()};return e.createElement(ct.ZP,{isOpen:!0,onRequestClose:Pe,bg:K?"gray.900":void 0,desktopMaxHeight:W??600,desktopMaxWidth:w??400,pt:4,pb:6,px:6,isUnmasked:te,...ge},e.createElement(Tn,{className:ol().toolbar},O?e.createElement(Tn.Left,null,e.createElement(R.Z,{my:-1},e.createElement(lr.Z,{onClick:O}))):e.createElement(e.Fragment,null,e.createElement(Tn.Left,null,e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:Pe},e.createElement(s.T,{project:"commerce-product-composer"},"Cancel"))),e.createElement(Tn.Center,null),e.createElement(Tn.Right,null,ae==null?void 0:ae(),A&&e.createElement(d.Z,{disabled:q,variant:X||"tertiary",animationDirection:"none",onClick:A},Ve)))),e.createElement(l.Z,{sx:{alignItems:"center",marginTop:5}},e.createElement(l.Z,{flexDirection:"column"},_&&e.createElement(qc.Z,null),e.createElement(f.Z.Title,null,N))),B&&e.createElement(xo.Subtitle,null,B),M)};xo.Subtitle=h=>{let{children:S}=h;return e.createElement(f.Z.Subtitle,{sx:{marginBottom:0,color:"gray.400"}},S)},xo.Section=h=>{let{children:S,...A}=h;return e.createElement(l.Z,{flexDirection:"column",mt:4,...A},S)};const rn=xo;var zn=t(859940),Sr=t(704947);const rl=h=>{let{shippingSize:S,shippingWeight:A}=h;return S.height===0&&S.width===0&&S.length===0&&A.value===0},xa=h=>{let{variant:S,emptyState:A}=h;if(rl(S))return A;const{shippingSize:O,shippingWeight:M}=S,N=O.unit===zn.cr.CENTIMETER?"centimeter":"inch",B=M.unit===zn.yR.KILOGRAM?"kilogram":"pound",_=(0,a.oH)({value:O.length,unit:N},{length:"narrow"}),W=(0,a.oH)({value:O.width,unit:N},{length:"narrow"}),w=(0,a.oH)({value:O.height,unit:N},{length:"narrow"}),Z=(0,a.oH)({value:M.value,unit:B},{length:"short"});return`${_} \u2715 ${W} \u2715 ${w} \xB7 ${Z}`},Wo=h=>{const[S,A]=e.useState(h.value+""),O=M=>isNaN(M)?0:Math.max(M,0);return e.createElement(Sr.default,{...h,label:"",value:S,onChange:M=>{let N=Number(M);const B=isNaN(N)||N<0||M==="";!B&&(0,i.isNumber)(h.max)&&N>h.max&&(N=h.max,M=String(N)),A(B?"0":M),h.onChange(O(N))},type:"number",flush:!0,rightAlign:!0,beforeInput:e.createElement(f.Z.Body,{width:96},h.label),afterInput:e.createElement(f.Z.Caption,{width:24,pl:1},h.unit)})},al=h=>h===zn.cr.CENTIMETER?"cm":"in",il=h=>h===zn.yR.KILOGRAM?"kg":"lb",Wa=h=>{let{variant:S,onUpdateVariant:A}=h;const{shippingSize:O,shippingWeight:M}=S,N=al(O.unit),B=il(M.unit);return e.createElement(e.Fragment,null,e.createElement(Wo,{label:(0,a.t)("Length",null,{project:"commerce-product-composer"}),unit:N,max:dt.sd,value:S.shippingSize.length,onChange:_=>{A({...S,shippingSize:{...S.shippingSize,length:_}})},placeholder:(0,a.t)("Enter Length",null,{project:"commerce-product-composer"})}),e.createElement(Wo,{label:(0,a.t)("Width",null,{project:"commerce-product-composer"}),unit:N,max:dt.sd,value:S.shippingSize.width,onChange:_=>{A({...S,shippingSize:{...S.shippingSize,width:_}})},placeholder:(0,a.t)("Enter Width",null,{project:"commerce-product-composer"})}),e.createElement(Wo,{label:(0,a.t)("Height",null,{project:"commerce-product-composer"}),unit:N,max:dt.sd,value:S.shippingSize.height,onChange:_=>{A({...S,shippingSize:{...S.shippingSize,height:_}})},placeholder:(0,a.t)("Enter Height",null,{project:"commerce-product-composer"})}),e.createElement(Wo,{label:(0,a.t)("Weight",null,{project:"commerce-product-composer"}),unit:B,max:dt.oM,value:S.shippingWeight.value,onChange:_=>{A({...S,shippingWeight:{...S.shippingWeight,value:_}})},placeholder:(0,a.t)("Enter Weight",null,{project:"commerce-product-composer"})}))},wa=h=>{let{variant:S,onUpdateVariant:A}=h;return e.createElement(e.Fragment,null,e.createElement(R.Z,{mx:-2,mt:4,mb:2},e.createElement(Wa,{variant:S,onUpdateVariant:A})),e.createElement(f.Z.Label,null,e.createElement(s.T,{project:"commerce-product-composer"},"Product Dimensions")),e.createElement(f.Z.Caption,null,e.createElement(s.T,{project:"commerce-product-composer",learnMoreLink:e.createElement("a",{href:Jn.SETTING_UP_SHIPPING_RATES,target:"_blank"},e.createElement(s.T,{project:"commerce-product-composer"},"setting up shipping rates"))},"Specify the weight and dimensions of your product to estimate the cost of shipping using real-time carrier calculated or weight-based rates. To learn more, visit {learnMoreLink}.")))},sl=h=>{let{onClose:S,onSave:A,onUpdateVariant:O,variant:M}=h;return e.createElement(rn,{onClose:S,onSave:A,title:(0,a.t)("Weight and Dimensions",null,{project:"commerce-product-composer",notes:"label for advanced shipping based on product weight and dimension"}),subtitle:(0,a.t)("Specify the weight and dimensions of your package to estimate the cost of shipping using real-time carrier calculated rates.",null,{project:"commerce-product-composer"})},e.createElement(wa,{variant:M,onUpdateVariant:O}))};var Tr=t(979221),Mn=t(273408),Za=t(673844);const cl=5;function ka(h){let{attributes:S}=h;return Object.values(S).filter(A=>!!A).join(" \xB7 ")}function ll(h){let{price:S,salePrice:A,onSale:O,stock:M}=h;const N=Tr.h.formatter.format(O?A:S);if(M===void 0)return N;const B=M.unlimited?"\u221E":(0,a._6)({one:"{%n} Unit",other:"{%n} Units"},M.quantity,null,{project:"commerce-product-composer"});return`${N} \xB7 ${B}`}function Va(h){let{mainImage:S}=h;return S?S.urls.https:"placeholder"}function ul(h){const S=h.find(A=>A.mainImage);return S?Va(S):"placeholder"}function Ha(h){let{variant:S,subtitle:A,onClick:O}=h;return e.createElement(Mn.default,{label:ka(S),subtitle:A,accessory:e.createElement(Za.default,{name:"chevronLargeRightLight"}),icon:Va(S),flush:!0,onClick:O,"data-test":"pc-variant-list-cell"})}function dl(h){if(h.length===0)throw new Error("Unable to generate price range from empty variant list");const S=h.map(B=>B.price);let A=S[0],O=S[0];S.forEach(B=>{const{value:_}=B;_.gt(O.value)?O=B:_.lt(A.value)&&(A=B)});const M=Tr.h.formatter.format(A,{trimZeroFractions:!0}),N=Tr.h.formatter.format(O,{trimZeroFractions:!0});return A.value.eq(O.value)?M:`${M}-${N}`}function ml(h){let{variants:S}=h;const{setCurrentRoute:A}=k();return e.createElement(e.Fragment,null,e.createElement(f.Z.Label,null,e.createElement(s.T,{project:"commerce-product-composer"},"Variants")),e.createElement(l.Z,{flexDirection:"column",mx:-2},S.length>cl?e.createElement(Mn.default,{label:(0,a.t)("{numVariants} variants",{numVariants:S.length},{project:"commerce-product-composer"}),subtitle:dl(S),accessory:e.createElement(Za.default,{name:"chevronLargeRightLight"}),icon:ul(S),flush:!0,onClick:()=>A(G.VARIANT_TABLE),"data-test":"pc-variant-collapsed-list-cell"}):S.map(O=>e.createElement(Ha,{key:O.id,variant:O,subtitle:ll(O),onClick:()=>{A(G.VARIANT_TABLE)}})),e.createElement(Mn.default,{onClick:()=>A(G.VARIANT_TABLE),flush:!0},e.createElement(d.Z.Tertiary,{"data-testid":"pc-edit-variants-button",animationDirection:"none"},e.createElement(s.T,{project:"commerce-product-composer"},"Edit All")))))}const pl=h=>{let{onClose:S,onSave:A,onUpdateVariant:O,variants:M}=h;const[N,B]=(0,e.useState)(null),_=M.find(Z=>Z.id===N);let W=(0,a.t)("Weight and Dimensions",null,{project:"commerce-product-composer",notes:"label for advanced shipping based on product weight and dimension"});const w=(0,a.t)("Specify the weight and dimensions of your package to estimate the cost of shipping using real-time carrier calculated rates.",null,{project:"commerce-product-composer"});return _&&(W=ka(_)),e.createElement(rn,{onBack:_?()=>{B(null)}:void 0,onClose:S,onSave:A,title:W,subtitle:w},_?e.createElement(wa,{variant:_,onUpdateVariant:O}):e.createElement(R.Z,{mx:-2,mt:4,mb:2},M.map(Z=>e.createElement(Ha,{key:Z.id,variant:Z,subtitle:xa({variant:Z,emptyState:(0,a.t)("Missing Size and Weight",null,{project:"commerce-product-composer"})}),onClick:()=>B(Z.id)}))))},Co=()=>e.createElement(l.Z,{alignItems:"center"},e.createElement(R.Z,{sx:{marginRight:1,borderRadius:"50%"},height:6,width:6,backgroundColor:"#00B45A"}),e.createElement(f.Z.Caption,{as:"span"},e.createElement(s.T,{project:"commerce-product-composer"},"Enabled")));var yr=t(696049),fl=t(251917),Ka=t.n(fl),Ir=t(136679),Pr=t(829499),br=t(554468);function Ar(h){const[S,A,...O]=h;if(!S)return[];if(!A)return S;if(O.length>0){const N=Ar([A,...O]);return Ar([S,N])}let M=[];return S.forEach(N=>{let[B]=N;A.forEach(_=>{M=[...M,[B,..._]]})}),M}function El(h){return h.map(S=>[...S.values].reduce((A,O)=>[...A,[{value:O,name:S.label,id:S.id}]],[]))}const Or=()=>yr.default.fromJson({currencyCode:br.Z.getStoreCurrency(),decimalValue:"0.00"}),Ya=()=>{var h;return(h=Pr.default.getState().storeSettings)===null||h===void 0?void 0:h.measurementStandard},za=()=>({unit:Ya()===Ka().IMPERIAL?zn.yR.POUND:zn.yR.KILOGRAM,value:0}),$a=()=>({unit:Ya()===Ka().IMPERIAL?zn.cr.INCH:zn.cr.CENTIMETER,length:0,width:0,height:0});function Xa(){return{attributes:{},id:Ye()(),sku:(0,Ir.Z)(),price:Or(),salePrice:Or(),onSale:!1,stock:{unlimited:!1,quantity:1},shippingWeight:za(),shippingSize:$a()}}function Qa(h,S,A){const{cloneVariant:O=null,isExactMatch:M=!1}=(()=>{if(S.length===0)return{};let B=0,_=0,W=!1;for(let w=0;w<S.length;w++){const Z=S[w],H=h.reduce((X,K)=>{let{name:ae,value:q}=K;const{label:te,values:ge}=A[ae]||{};if(!te)return X;const ue=Z.attributes[te];return ue&&ge[q.title]===ue?X+1:X},0);if(H>=B&&(B=H,_=w,h.length===Object.keys(Z.attributes).length&&h.length===H)){W=!0;break}}return{cloneVariant:S[_],isExactMatch:W}})(),N=h.reduce((B,_)=>{let{name:W,value:w}=_;return{...B,[W]:w.title}},{});return O?{...O,attributes:N,...M?{}:{id:Ye()(),sku:(0,Ir.Z)()}}:{...Xa(),attributes:N}}function Ja(h){return{attributes:{},id:Ye()(),sku:(0,Ir.Z)(),price:h,salePrice:Or(),onSale:!1,stock:{unlimited:!0,quantity:0}}}const qa=()=>[Xa()],Dr=h=>{const S=h.filter(M=>M.values.length>0).map(M=>({...M,label:M.label.trim()})),A=El(S),O=Ar(A);return{filteredOptions:S,attributePermutations:O}},Rr=(h,S)=>{var A;return(A=h.find(O=>O.name===S))===null||A===void 0?void 0:A.value};function gl(h,S,A){if(S.every(w=>w.values.length===0))return{generatedVariants:qa(),filteredOptions:[]};const O=h.length>0,{attributePermutations:M,filteredOptions:N}=Dr(S),B=O?h.reduce((w,Z)=>{const H=S.find(K=>K.id===Z.id);if(!H)return w;const X=Z.values.reduce((K,ae)=>{const q=H.values.find(te=>te.id===ae.id);return q?{...K,[q.title]:ae.title}:K},{});return{...w,[H.label]:{label:Z.label,values:X}}},{}):{};return{generatedVariants:(()=>{if(!O)return M;const{attributePermutations:w}=Dr(h);return M.filter(Z=>(w==null?void 0:w.some(K=>Object.entries(B).every(ae=>{let[q,{label:te}]=ae;var ge,ue;return((ge=Rr(K,te))===null||ge===void 0?void 0:ge.id)===((ue=Rr(Z,q))===null||ue===void 0?void 0:ue.id)})))?A.some(K=>Object.entries(B).every(ae=>{let[q,{label:te,values:ge}]=ae;var ue;const Ve=(ue=Rr(Z,q))===null||ue===void 0?void 0:ue.title;return Ve?K.attributes[te]===ge[Ve]:!1})):!0)})().map(w=>Qa(w,A,B)),filteredOptions:N.map(w=>({label:w.label,values:w.values.map(Z=>Z.title)}))}}const vl=h=>{let{onClose:S,variants:A}=h;const{patchProduct:O}=xe(),[M,N]=(0,e.useState)(A),B=()=>{O({variants:M}),S()},_=W=>{N(M.map(w=>W.id===w.id?W:w))};return M.length===1?e.createElement(sl,{onSave:B,onClose:S,variant:M[0],onUpdateVariant:_}):e.createElement(pl,{onSave:B,onClose:S,variants:M,onUpdateVariant:_})},Cl=h=>{let{variants:S}=h;const[A,O]=e.useState(!1),M=()=>S.some(N=>!(0,i.isEqual)(N.shippingSize,$a())||!(0,i.isEqual)(N.shippingWeight,za()));return e.createElement(e.Fragment,null,e.createElement(vo,{label:(0,a.t)("Weight and Dimensions",null,{project:"commerce-product-composer",notes:"label for advanced shipping based on product weight and dimension"}),subtitle:M()?e.createElement(Co,null):(0,a.t)("Supports automated or weight-based shipping rates.",null,{project:"commerce-product-composer"}),onClick:()=>O(!0)}),A&&e.createElement(vl,{variants:S,onClose:()=>O(!1)}))},hl=`${Jn.COMMERCE_FULFILLMENT_BY_PRODUCT}#toc-create-fulfillment-profiles`;function Sl(h){let{product:S,router:A}=h;var O;const{fulfillmentProfiles:M,productFulfillmentTable:N,updateProductFulfillmentTable:B}=(0,Ea.q)(),{onCancelButtonClick:_,useDrawer:W}=kt(),{confirmExit:w}=lo(),{patchProduct:Z}=xe(),H=ae=>{Z({fulfillmentProfileHasChanged:!0}),B({profileId:ae,productId:S.id})},X=!!Object.keys(M).length,K=!W;return e.createElement(e.Fragment,null,e.createElement(Yn.Z,{space:1},e.createElement(f.Z.Label,null,e.createElement(s.T,{project:"commerce-product-composer"},"Profiles")),e.createElement(f.Z.Body,{color:"gray.400",m:0},e.createElement(s.T,{project:"commerce-product-composer"},"Allow buyers to select how they'd like to receive this product. For example, Local Pickup or Ground Shipping.")," ",e.createElement(Qc.Z,{href:hl,target:"_blank",rel:"noopener noreferrer"},e.createElement(s.T,{project:"commerce-product-composer"},"Learn More"))),X&&e.createElement(Jc,{fulfillmentProfiles:Object.values(M),onDropdownChange:H,selectedProfileId:((O=N[S.id])===null||O===void 0?void 0:O.id)||null})),K&&e.createElement(d.Z.Tertiary,{mt:Se.space[3],onClick:async()=>{if(await w()){_(),ga.BS("product-composer");const q=A.getCurrentLocation().pathname;q.includes("/commerce/products")?A.redirect(`${q}?show_profile_management_modal=true`):A.redirect("/commerce/products?show_profile_management_modal=true")}}},e.createElement(s.T,{project:"commerce-product-composer"},"Set up Fulfillment Profiles")),e.createElement(R.Z,{mt:4}),e.createElement(Yn.Z,{space:1},e.createElement(f.Z.Label,null,e.createElement(s.T,{project:"commerce-product-composer"},"Shipping")),e.createElement(Cl,{variants:S.variants})))}const Tl=(0,x.Z)(Sl);var yl=t(170805),ei=t.n(yl),Mr=t(79637);const ti=()=>{const[h,S]=e.useState(!1);return h?e.createElement(Mr.Z,{sx:{width:"100%",my:4},variant:"info",title:"",body:"",buttons:[e.createElement(d.Z.Tertiary,{onClick:()=>{S(!1)}},(0,a.t)("Dismiss",null,{project:"commerce-product-composer"}))]}):null};var oo=t(378257);const ro=h=>{let{children:S,title:A,anchor:O,alert:M,sx:N,htmlAttributes:B}=h;return e.createElement("div",{"data-anchor":O,className:wn().container,style:{...N},...B},M,e.createElement(f.Z.Subtitle,{fontSize:6,lineHeight:4},A),e.createElement(oo.Z,null,e.createElement(oo.Z.Body,{sx:{padding:"22px !important"}},S)))};var Il=t(969145);function Pl(){const{setIsVariantGeneratorOpen:h}=k();return e.createElement(R.Z,{mt:6},e.createElement(f.Z.Label,{mb:1},e.createElement(s.T,{project:"commerce-product-composer"},"Variants")),e.createElement(f.Z.Caption,{fontSize:3,lineHeight:2,as:"p"},e.createElement(s.T,{project:"commerce-product-composer"},"Sell different versions of the same product. For example, a shirt that comes in multiple colors or sizes.")),e.createElement(Mn.default,{flush:!0},e.createElement(d.Z.Tertiary,{"data-test":"add-variant-button",animationDirection:"none",onClick:()=>h(!0),sx:{ml:"-6px"},onKeyDown:(0,Bn.Z)(()=>h(!0))},e.createElement(s.T,{project:"commerce-product-composer"},"Add"))))}var ni=t(87706),oi=t(962239),ri=t(707814),ai=t(910571),bl=t(239216),ii=t.n(bl);function Oo(h,S,A){return S in h?Object.defineProperty(h,S,{value:A,enumerable:!0,configurable:!0,writable:!0}):h[S]=A,h}class Al extends e.Component{render(){const{children:S}=this.props,{isDragging:A,isLoading:O}=this.state;return e.createElement(l.Z,{display:"flex",position:"relative",width:"100%"},e.createElement(ce.Z,{className:Mt()(ii().container,{[ii().hidden]:A||O}),onDrop:this.handleImageFileSelect,onDragEnter:this.setDragging,onDragLeave:this.resetDragging,validMimeTypes:ai.K,maxSize:ri.nq,multiple:!1},S),(A||O)&&this.renderOverlay())}constructor(...S){super(...S),Oo(this,"state",{isDragging:!1,isLoading:!1}),Oo(this,"renderOverlay",()=>{const{isDragging:A,isLoading:O}=this.state;return e.createElement(l.Z,{position:"absolute",left:4,right:2,bg:"gray.300",color:"white",fontSize:"2",borderRadius:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:`calc(100% - ${Se.space[8]})`,height:`calc(100% - ${Se.space[4]})`,sx:{pointerEvents:"none"}},A&&e.createElement("span",null,e.createElement(s.T,{project:"commerce-product-composer"},"Drop Images to Upload")),O&&e.createElement(ni.Z,{size:"large"}))}),Oo(this,"handleImageFileSelect",async A=>{this.setState({isDragging:!1,isLoading:!0});try{const{uploadImage:O}=this.props;await O(A),this.setState({isLoading:!1})}catch{this.setState({isLoading:!1})}}),Oo(this,"setDragging",()=>{this.setState({isDragging:!0})}),Oo(this,"resetDragging",()=>{this.setState({isDragging:!1})})}}const Ol="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozMzdDN0I3OUU1ODYxMUUxOTM1QzhBNzYyREExMzk4MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozMzdDN0I3QUU1ODYxMUUxOTM1QzhBNzYyREExMzk4MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjMzN0M3Qjc3RTU4NjExRTE5MzVDOEE3NjJEQTEzOTgzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjMzN0M3Qjc4RTU4NjExRTE5MzVDOEE3NjJEQTEzOTgzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uXjyAAAABKhJREFUeNrs17GNwkAQhlGMqANxmXNyqoAy6YErgNwZiEaW7QD5pAN+z3vSxGuNpU+7Q2ttBZBgECxAsAAECxAsAMECECxAsAAEC0CwAMECECwAwQIEC0CwAAQLECwAwQIQLECwAAQLQLAAwQIQLADBAgQLQLAABAsQrBemabJ1WIhxHN963trKgZm2nzpYsIA5Dn2ufX4EC/j2WJ37nPrcBAtIiNXFkxAQK8EClhArwQJiYiVYQEysBAuIiZVgATGxEiwgJlaCBcTESrCAmFgJFhATK8ECsYqJlWCBWMXESrBArC5JHy5YIFaCBYiVYAElYyVYIFaCBYiVYAFlYyVYIFaCBYiVYAFlYyVYIFaCBYiVYAFlYyVYIFaCBYiVYAFlYyVYIFaCBYiVYIFYlY2VYIFYCRYgVoIFYlWaYIFYCRYgVoIFYiVYgFgJFiBWggViJViAWAkWIFaCBWIlWIBYCRaIlVgJFoiVYAFiJVggVggWiJVgAWIlWCBWCBaIlWABYiVYIFYIFoiVYAFiJVggVggWiJVggVghWCBWCBaIlWCBWCFYIFaCZQUgVoIFYoVggVgJFiBWggVihWCBWAkWiJVYCRaIFYIFYiVYIFYIFogVggViJVggVggWiBWCBWIlWCBWCBaIFYIFYiVYIFYIFogVgoVYIVggVggWiBWChVghWCBWCBaIFYKFWCFYIFYIFoiVYIFYIVggVggWYiVWggVihWCBWCFYiBWCBWKFYIFYIViIFYIFYoVggVghWIgVggVihWCBWCFYiBWCBWKFYCFWIFiIFYIFYoVgIVYgWIgVggVihWAhViBYiBWCBWKFYCFWIFiIFYKFWIkVgoVYIVggVggWYgWChVghWCBWCBZiBYKFWCFYIFYIFmIFgoVYIViIlVghWIgVCBZihWAhViBYiBUIFmKFYCFWIFiIFQgWYoVgIVYgWIgVCBZihWAhViBYiBUIlliBYCFWIFiIFQiWWIFgIVYgWIgVgoVYgWAhViBYiBWChViBYCFWIFhiJVYIFmIFgoVYwd9trCAyVsc+v9aBGxZiBYKFWIFgiRUIFmIFgoVYgWCJFQgWYgWChViBYIkVCBZiBYIlVmIFgiVWIFiIFQiWWAGCJVYgWIgVCJZYAYIlViBYiBUIllgBgiVWIFiIFQiWWIFgWYFYgWCJFSBYYgWChViBYIkVIFhiBYKFWIFgiRUgWGIFgoVYgWCJFSBYYgWCJVZiBYIlVoBgiRUIllgBgiVWgGCJFQiWWAGCJVaAYIkVCJZYAYIlVoBgiRUIllgBgiVWQLFgiRUIllgBgiVWQKlgiRUIllgBgiVWQKlgiRUIllgBgiVWQKlgiRUIllgBgiVWQKlgiRUIllgBgiVWQKlgiRUIllgBgiVWQKlgiRUQESyxAiKCJVZARLDECogIllgBEcESKyAiWGIFRARLrICIYIkVEBEssQIigrUTK2CuzYfOvffZ93n4BUDCk1CsgFmG1potAIIFIFiAYAEIFoBgAYIFIFgAggUIFoBgAQgWIFgAggUgWIBgAQgWgGABggUgWACCBQgWgGABCBYgWACCBSBYgGAB/IenAAMAgBuRuY2xhS4AAAAASUVORK5CYII=";var Dl=t(78275),Ur=t.n(Dl),Rl=t(876559),Ml=t.n(Rl);function si(h){let{onClick:S}=h;return e.createElement("button",{onClick:S},e.createElement(l.Z,{alignItems:"center",justifyContent:"center",backgroundColor:"gray.900",width:Se.space[6],height:Se.space[6]},e.createElement(Cn.Z,{className:Ml().uploadIcon,width:Se.space[3],height:Se.space[3],color:"gray.400"})))}var Ul=t(869767),ci=t.n(Ul);function li(h){let{isDraggingImage:S,onTrigger:A}=h;return e.createElement("div",{className:ci().container},e.createElement("label",{htmlFor:"productComposerFileUpload",className:ci().uploadTile},e.createElement(jn,{height:"100%",isDraggingImage:S,onClick:A})))}function Ll(h,S){return{id:h.id,assetUrl:h.urls.https,mediaProcessingState:h.mediaProcessingState??ne().READY,...S}}const Nl=h=>{let{onClose:S,variantId:A,pendingUploads:O,onUploadImage:M,selectedImageId:N,setSelectedImageId:B,onSave:_}=h;const{product:W}=xe(),w=new Map(O.map(q=>[q.id,q])),Z=W.images.map(q=>Ll(q,w.get(q.id)));e.useEffect(()=>{(0,co.br)({product:W,variantId:A})},[]);const H=q=>{q.stopPropagation(),B(null)},X=()=>{S(),(0,co.gm)({product:W,variantId:A})},K=q=>te=>{te.stopPropagation(),B(N===q?null:q)},ae=q=>{q.stopPropagation(),_()};return e.createElement(ct.ZP,{isOpen:!0,onRequestClose:X},e.createElement(l.Z,{onClick:H,width:"sizes.750",height:"600px",pt:4,pb:6,flexDirection:"column",overflow:"hidden"},e.createElement(Tn,{className:Ur().toolbar},e.createElement(Tn.Left,null,e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:q=>{q.stopPropagation(),X()}},e.createElement(s.T,{project:"commerce-product-composer"},"Cancel"))),e.createElement(Tn.Center,null,e.createElement(f.Z.Subtitle,null,e.createElement(s.T,{project:"commerce-product-composer"},"Select variant image"))),e.createElement(Tn.Right,null)),e.createElement(l.Z,{id:"variant-image-upload",flexDirection:"column",overflow:"auto"},e.createElement(Al,{uploadImage:M},Z.map(q=>{let{id:te,assetUrl:ge,mediaProcessingState:ue}=q;switch(ue){case ne().QUEUED:case ne().PROCESSING:return e.createElement(l.Z,{key:te,width:"108px",height:0,pb:"108px",boxSizing:"border-box",mb:3,bg:"gray.900",overflow:"hidden",display:"flex",position:"relative",sx:{transition:"product.default","&:nth-child(3n+2)":{marginLeft:Se.space[3],marginRight:Se.space[3]}}},e.createElement(l.Z,{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex"},e.createElement(l.Z,{margin:"auto",flexDirection:"column",sx:{"& > loadingSpinner:before":{margin:"auto"}}},e.createElement(ni.Z,{size:"large",className:Ur().loadingSpinner}))));case ne().READY:return e.createElement(l.Z,{key:te,onClick:K(te),width:"108px",height:0,pb:"108px",boxSizing:"border-box",mb:3,bg:"gray.900",overflow:"hidden",position:"relative",sx:{cursor:"pointer",transition:"product.default","&:nth-child(3n+2)":{marginLeft:Se.space[3],marginRight:Se.space[3]}},borderColor:te===N?"transparent":void 0,boxShadow:te===N?"0px 0px 0px 2px #14AAFF":void 0},e.createElement(oi.Z,{src:ge}));case ne().ERROR:return e.createElement(l.Z,{key:te,width:"108px",height:0,pb:"108px",boxSizing:"border-box",mb:3,bg:"gray.900",overflow:"hidden",position:"relative",sx:{transition:"product.default","&:nth-child(3n+2)":{marginLeft:Se.space[3],marginRight:Se.space[3]}}},e.createElement(oi.Z,{src:Ol}));default:return null}}),e.createElement(l.Z,{width:"108px",height:0,pb:"108px",boxSizing:"border-box",mb:3,bg:"gray.900",overflow:"hidden",sx:{transition:"product.default","&:nth-child(3n+2)":{marginLeft:Se.space[3],marginRight:Se.space[3]}}},e.createElement(wt,{sx:{width:"100%"}},q=>{let{onTrigger:te}=q;return e.createElement(li,{onTrigger:te})})))),e.createElement(l.Z,{flexDirection:"column",alignItems:"flex-end",overflow:"hidden",pt:"66px",pr:4},e.createElement(d.Z.Primary,{animationDirection:"none",sx:{position:"absolute",bottom:6,px:6,py:3},onClick:ae,"aria-describedby":"variant-image-upload",disabled:N===null},(0,a.t)("Apply",null,{project:"commerce-product-composer"})))))},ui=h=>{let{variantId:S}=h;var A;const O=e.useRef(null),[M,N]=e.useState(!1),[B,_]=e.useState(!1),[W,w]=e.useState(null),{product:Z,patchVariant:H}=xe(),{pendingUploads:X,addImagesFromAssetPicker:K,uploadImages:ae}=Wt(),q=Z.variants.find(De=>De.id===S),{mainImage:te}=q,ge=((A=q.mainImage)===null||A===void 0?void 0:A.id)||null;let ue=ge;(0,e.useEffect)(()=>{w(ge||null)},[ge]);const Ve=De=>{ae([De],ve=>{w(ve),(0,co.n1)({imageId:ve,product:Z,productSection:"variant-image-picker"})})},Pe=()=>{W||(0,co.BJ)({imageId:W,product:Z,variantId:S}),W&&!ue?(0,co.Zm)({imageId:W,product:Z,variantId:S}):W&&ue&&(0,co.Pj)({imageId:W,product:Z,variantId:S}),ue=W};return e.createElement(Dt,{onUploadFiles:De=>{let[ve]=De;_(!0),Ve(ve)},onChooseAssetIds:async De=>{let[ve]=De;const[ke]=await K([ve]);_(!0),w(ke.id)}},e.createElement(e.Fragment,null,B&&e.createElement(Nl,{selectedImageId:W,setSelectedImageId:w,pendingUploads:X,onUploadImage:Ve,variantId:S,onClose:()=>{w(null),_(!1)},onSave:()=>{const De=Z.images.find(ve=>{let{id:ke}=ve;return ke===W});H(S,{mainImage:De}),Pe(),_(!1)}}),e.createElement("div",{className:Ur().mainImage,ref:O},te?e.createElement("img",{src:te.urls.https,style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},onClick:()=>N(!0)}):e.createElement(wt,null,De=>{let{onTrigger:ve}=De;return e.createElement(si,{onClick:()=>{Z.images.length>0?_(!0):ve()}})}),e.createElement(Oa.Z,{isOpen:M,anchor:()=>O.current,position:"bottom",hideArrow:!0,offset:0,onRequestClose:()=>N(!1),closeOnClickOutside:!0},e.createElement(l.Z,{bg:"white",flexDirection:"column"},e.createElement(on.Z.Button,{onClick:()=>{_(!0),N(!1)}},(0,a.t)("Replace",null,{project:"commerce-product-composer"})),e.createElement(on.Z.ButtonDanger,{onClick:()=>{H(S,{mainImage:void 0}),N(!1)}},(0,a.t)("Remove",null,{project:"commerce-product-composer"})))))))};var di=t(564806),wo=t(964865),_l=t(448337),jl=t.n(_l);function mi(h){let{sku:S,onChange:A}=h;return e.createElement("div",{className:jl().sku},e.createElement(wo.Z,{value:S,onChange:O=>{A(la(O))}}))}var Bl=t(120302),yn=t.n(Bl);function Fl(h){let{variants:S,patchVariant:A}=h;const{product:O,patchProduct:M}=xe(),{showConfirmModal:N}=(0,Je.t)();return e.createElement("div",{"data-test":"gift-card-variant-table"},e.createElement("div",{className:yn().tableGrid},e.createElement("div",{className:Mt()(yn().tableHeaderCell,yn().leftAligned)},e.createElement(f.Z.Caption,{sx:{textTransform:"none"}},e.createElement(s.T,{project:"commerce-product-composer"},"Image"))),e.createElement("div",{className:Mt()(yn().tableHeaderCell,yn().rightAligned)},e.createElement(f.Z.Caption,{sx:{textTransform:"none"}},e.createElement(s.T,{project:"commerce-product-composer"},"SKU"))),e.createElement("div",{className:Mt()(yn().tableHeaderCell,yn().rightAligned)},e.createElement(f.Z.Caption,{sx:{textTransform:"none"}},e.createElement(s.T,{project:"commerce-product-composer"},"Amount"))),e.createElement("div",{className:Mt()(yn().tableHeaderCell)}),S.map(B=>{let{id:_,sku:W,price:w,salePrice:Z,onSale:H}=B;return e.createElement(e.Fragment,null,e.createElement("div",{className:Mt()(yn().tableCell,yn().leftAligned)},e.createElement(ui,{variantId:_})),e.createElement("div",{className:yn().skuCell},e.createElement(mi,{sku:W,onChange:X=>A(_,{sku:X})})),e.createElement("div",{className:yn().priceCell},e.createElement(di.Z,{price:w,salePrice:Z,onSale:H,onChange:(X,K)=>{X.isZero()||A(_,{price:X,salePrice:K})}})),e.createElement("div",{"data-test":"gift-card-variant-more",className:Mt()(yn().moreMenu,yn().rightAligned)},O.variants.length>1&&e.createElement(on.Z,{renderTrigger:X=>{let{toggleActionListOpen:K}=X;return e.createElement(Re.Z,{onClick:K,sx:{cursor:"pointer",paddingTop:1}})}},e.createElement(on.Z.ButtonDanger,{"data-test":"gift-card-variant-delete",onClick:async()=>{await N({title:(0,a.t)("Delete Product Variant",null,{project:"commerce-product-composer"}),message:(0,a.t)("Are you sure you wish to delete this variant?",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Delete",null,{project:"commerce-product-composer"})})&&M({variants:O.variants.filter(K=>K.id!==_)})}},e.createElement(s.T,{project:"commerce-product-composer"},"Delete")))))})),e.createElement(Mn.default,{flush:!0,className:yn().addCell,icon:e.createElement(vn.Z,{className:yn().addVariantButton})},e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:()=>{let B;const _=O.variants[O.variants.length-1];_?B=Ja(_.price.add(yr.default.fromJson({currencyCode:br.Z.getStoreCurrency(),decimalValue:"25.00"}))):B=Ja(yr.default.fromJson({currencyCode:br.Z.getStoreCurrency(),decimalValue:"25.00"})),M({variants:[...O.variants,B]})}},e.createElement(s.T,{project:"commerce-product-composer"},"Add"))))}function Gl(){const{product:h,patchProduct:S}=xe(),[A,O]=e.useState(!1),[M,N]=e.useState(0),B=W=>{let{loaded:w,total:Z}=W;N(Math.round(w*100/Z))};return{isUploading:A,uploadProgress:M,handleFileUpload:async W=>{if(!h||h.productType!==Kt().DIGITAL)return;O(!0);const w=[];for(const Z of W)w.push((0,U.tZ)(h.id,Z,B));await Promise.all(w),O(!1),S({hasDigitalGoods:!0})}}}const xl=Gl;var Wl=t(174886),wl=t.n(Wl);function Zl(h){let{handleFileUpload:S}=h;const[A,O]=e.useState(!1),M=e.useRef(null);return e.createElement(ce.Z,{multiple:!1,onDragEnter:()=>O(!0),onDragLeave:()=>O(!1),onDrop:N=>{O(!1),S([N])}},e.createElement(l.Z,{backgroundColor:A?"gray.600":"gray.900",height:"sizes.400",width:"100%",alignItems:"center",justifyContent:"center",sx:{cursor:"pointer"},onClick:()=>{var N;(N=M.current)===null||N===void 0||N.click()}},e.createElement(Cn.Z,{color:"gray.400",sx:{marginRight:1,size:16}}),e.createElement(f.Z.Label,{htmlFor:"productComposerDigitalFileUpload",onClick:N=>{N.stopPropagation()},sx:{cursor:"pointer"}},e.createElement(s.T,{project:"commerce-product-composer"},"Upload File")),e.createElement("input",{id:"productComposerDigitalFileUpload",ref:M,type:"file",className:wl().fileInput,onChange:N=>{N.stopPropagation(),N.target.files&&S(Array.from(N.target.files))}})))}const kl=Zl;function Vl(h){return!!h&&h.productType===Kt().DIGITAL}function Hl(){const{product:h,patchProduct:S}=xe(),{showConfirmModal:A}=(0,Je.t)(),{digitalGood:O}=h,{isUploading:M,uploadProgress:N,handleFileUpload:B}=xl(),[_,W]=e.useState(O?[O]:[]);if(!Vl(h))return null;const w=async H=>{await B(H),W([{filename:H[0].name,id:""}])};let Z;return M?Z=e.createElement("div",null,(0,a.t)("Current progress: {uploadProgress}%",{uploadProgress:N},{project:"commerce-product-composer"})):_.length>0?Z=e.createElement(e.Fragment,null,e.createElement(l.Z,{backgroundColor:"gray.900",height:"sizes.400",width:"100%",alignItems:"center",justifyContent:"center"},e.createElement(f.Z.Label,null,_[0].filename)),e.createElement(Mn.default,{flush:!0},e.createElement(l.Z,{width:"100%",justifyContent:"space-between"},e.createElement(d.Z.Danger,{animationDirection:"none",onClick:async()=>{if(!await A({title:(0,a.t)("Delete File",null,{project:"commerce-product-composer"}),message:(0,a.t)("Are you sure you want to delete this file?",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Delete",null,{project:"commerce-product-composer"})}))return;await(0,U.RU)(h.id)&&(S({hasDigitalGoods:!1}),W([]))}},e.createElement(s.T,{project:"commerce-product-composer"},"Remove"))))):Z=e.createElement(kl,{handleFileUpload:w}),e.createElement(R.Z,null,e.createElement(f.Z.Label,{mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"File")),Z,e.createElement(f.Z.Caption,null,e.createElement(s.T,{project:"commerce-product-composer"},"Customers receive a secure link to the file lasting 24 hours after the first download.")))}const Kl=Hl;var Lr=t(563989),Yl=t(342408),zl=t(935154),Nr=t.n(zl),Zo=t(995821),ko=t(506739),$l=t(885878),Vo=t.n($l),bn=t(911925),pi=t(834105),_r=t(967361),Ho=t(182635),Ko=t(286465),Xt=function(h){return h.SUBS_OTP="SUBS_OTP",h.SUBS_ONLY="SUBS_ONLY",h}({});const Yo=h=>h.unit===bn.f.WEEK?(0,a._6)({one:"1 week",other:"{%n} weeks"},h.value,null,{project:"commerce-product-composer"}):h.unit===bn.f.MONTH?(0,a._6)({one:"1 month",other:"{%n} months"},h.value,null,{project:"commerce-product-composer"}):"",fi=h=>h.cycle===bn.k.NEVER_EXPIRES?e.createElement(s.T,{project:"commerce-product-composer"},"Never expires"):h.cycle===bn.k.EXPIRES_AFTER?e.createElement(s.T,{payments:h.value,project:"commerce-product-composer"},"Billing cycle expires after {payments} payments"):"",Xl=h=>h===0?e.createElement(s.T,{project:"commerce-product-composer"},"Never expires"):h>=2?e.createElement(s.T,{payments:h,project:"commerce-product-composer"},"Expires after {payments} payments"):"",Ei=2,Ql={billingPeriod:{value:1,unit:bn.f.WEEK},numBillingCycles:0},Jl=h=>{let{allowEditing:S,onClose:A,onSave:O,subscription:M}=h;const[N,B]=e.useState(M||Ql),[_,W]=e.useState(!1),w=_r.Z.isFeatureEnabled(Nr().COMMERCE_SUBSCRIPTIONS),{showConfirmModal:Z,closeConfirmModal:H}=(0,Je.t)(),{product:X,patchProduct:K}=xe(),{navigateAway:ae}=go(),{billingPeriod:q,numBillingCycles:te}=N;if(!X||!(0,C.uF)(X))return null;const ge=Pe=>{B({billingPeriod:q,numBillingCycles:te,...Pe}),W(!0)},ue=()=>`/config${pi.Z.isTrial()?Zo.Z[ko.Z.TRIAL_UPGRADE_PLAN]:Zo.Z[ko.Z.UPGRADE_PLAN]}`,Ve=async()=>{if(!w){ae(ue());return}try{const{data:Pe}=await Ho.Z.get();if(!Pe.userAccountsEnabled)if(await Z({title:(0,a.t)("Connect Customer Accounts",null,{project:"commerce-product-composer"}),message:e.createElement(s.T,{project:"commerce-product-composer",learnMoreLink:e.createElement("a",{href:Jn.CUSTOMER_ACCOUNTS,target:"_blank"},e.createElement(s.T,{project:"commerce-product-composer"},"Learn more"))},"Subscriptions require Customer Accounts to be on so that your customers may manage their subscriptions. {learnMoreLink}."),confirmLabel:(0,a.t)("Enable",null,{project:"commerce-product-composer"})}))await Ho.Z.save({...Pe,userAccountsEnabled:!0});else{A();return}O(N),A()}catch(Pe){console.error(Pe),A()}};return e.createElement(rn,{isUnmasked:!0,isDirty:_,onClose:A,onSave:Ve,title:(0,a.t)("Subscription",null,{project:"commerce-product-composer"}),subtitle:(0,a.t)("Create a subscription to charge your customers on a recurring basis.",null,{project:"commerce-product-composer"}),showFeatureGateBadge:!w},e.createElement(rn.Section,null,e.createElement(f.Z.Label,null,(0,a.t)("Repeats Every",null,{project:"commerce-product-composer"})),S?e.createElement(l.Z,{sx:{marginLeft:-4,marginRight:-4}},e.createElement(R.Z,{width:"50%"},e.createElement(ca.default,{min:1,max:12,value:q.value,onChange:Pe=>ge({billingPeriod:{...q,value:Pe}})})),e.createElement(R.Z,{width:"50%"},e.createElement(Lr.default,{value:q.unit,options:[{label:(0,a._6)({one:"Week",other:"Weeks"},q.value,null,{project:"commerce-product-composer"}),value:bn.f.WEEK},{label:(0,a._6)({one:"Month",other:"Months"},q.value,null,{project:"commerce-product-composer"}),value:bn.f.MONTH}],onChange:Pe=>ge({billingPeriod:{...q,unit:Pe}})}))):e.createElement(f.Z.Body,{my:2},Yo(q))),e.createElement(rn.Section,null,e.createElement(f.Z.Label,null,(0,a.t)("Billing Cycle",null,{project:"commerce-product-composer"})),S?e.createElement(l.Z,{flexDirection:"column",sx:{marginLeft:-4,marginRight:-4}},e.createElement(Lr.default,{value:te>0?"expires":"never-expires",options:[{label:(0,a.t)("Never Expires",null,{project:"commerce-product-composer"}),value:"never-expires"},{label:(0,a.t)("Expires After...",null,{project:"commerce-product-composer"}),value:"expires"}],onChange:Pe=>ge({numBillingCycles:Pe==="expires"?Ei:0})}),te>0&&e.createElement(Yl.default,{value:te,max:52,min:Ei,detail:(0,a._6)({one:"Payment",other:"Payments"},te,null,{project:"commerce-product-composer"}),onChange:Pe=>ge({numBillingCycles:Pe})})):e.createElement(f.Z.Body,{my:2},Xl(te)),e.createElement(f.Z.Caption,{sx:{marginTop:S?1:4}},S?e.createElement(s.T,{project:"commerce-product-composer"},"Subscription products do not have stock levels. Any changes made to your subscription product will only affect new subscribers. Please ensure you comply with any laws applicable to your subscriptions."):e.createElement(s.T,{project:"commerce-product-composer"},"To change the subscription option for this product, please remove existing subscription and create a new one."))),X.subscribable&&e.createElement(rn.Section,null,e.createElement(d.Z.Danger,{onClick:async()=>{if(await Z({autoClose:!1,title:(0,a.t)("Remove Subscription",null,{project:"commerce-product-composer"}),message:(0,a.t)("Removing this subscription will not affect any of its active subscriptions. Customers on this subscription will still be charged on a recurring basis. You will need to cancel each active subscription for this to take full effect.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Remove",null,{project:"commerce-product-composer"})})){try{await(0,U.fc)(X.id)}catch(ve){var De;if((ve==null||(De=ve.response)===null||De===void 0?void 0:De.status)!==404){A(),H();return}}K({subscribable:!1,subscriptionPlan:null}),A()}H()},sx:{textAlign:"left"}},e.createElement(s.T,{project:"commerce-product-composer"},"Remove"))))},ql=()=>{const{product:h,patchProduct:S,patchVariant:A}=xe(),[O,M]=e.useState(!1),{showConfirmModal:N}=(0,Je.t)();if(!(0,C.uF)(h))return null;const{subscriptionPlan:B}=h,_=!(B!=null&&B.pricingOptionId),W=w=>{B||((0,T.QE)({productId:h.id,productName:h.name,productType:(0,y.Z)(h.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1,subscriptionType:Xt.SUBS_ONLY,numFrequencies:1}),(0,T.xo)({productId:h.id,productName:h.name,productType:(0,y.Z)(h.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1,subscriptionBillingCycle:w.numBillingCycles===0?I.SO.CONTINUOUS:I.SO.EXPIRES,percentageDiscount:0})),S({subscribable:!0,subscriptionPlan:{...h.subscriptionPlan,...w}}),h.variants.forEach(Z=>{let{id:H,stock:X}=Z;A(H,{stock:{...X,unlimited:!0}})})};return e.createElement(e.Fragment,null,e.createElement(vo,{label:(0,a.t)("Subscription",null,{project:"commerce-product-composer"}),subtitle:B?e.createElement(Co,null):(0,a.t)("Charge customers on a recurring basis.",null,{project:"commerce-product-composer"}),onClick:async()=>{Ko.Z.hasRole(Vo().ADMIN)||Ko.Z.hasRole(Vo().STORE_MANAGER)?((0,T.EL)({productId:h.id,productName:h.name,productType:(0,y.Z)(h.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1}),M(!0)):await N({isCancellable:!1,title:(0,a.t)("Editing permissions denied",null,{project:"commerce-product-composer"}),message:(0,a.t)("Only the site owner can edit.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Okay",null,{project:"commerce-product-composer"})})}}),O&&e.createElement(Jl,{onClose:()=>M(!1),onSave:W,subscription:B,allowEditing:_}))},gi=h=>{let{header:S,children:A,onBackClick:O,isOpen:M}=h;return e.createElement(_t.Z.Transition,null,M&&e.createElement(_t.Z,{onRequestClose:()=>O()},e.createElement(_t.Z.Overlay,null),e.createElement(_t.Z.Position,{position:"center"},e.createElement(_t.Z.Dialog,null,e.createElement(R.Z,{tabIndex:0,width:"fullwidth",height:"100vh"},e.createElement(Fn.Z.Container,{alignItems:"center",gridConstraint:12,height:"sizes.400"},S),e.createElement(Fn.Z.Container,{maxWidth:"553px"},A))))))},vi=(0,a.t)("Subscriptions",null,{project:"commerce-product-composer"}),eu=(0,a.t)("Charge customers on a recurring basis and offer discounts on repeat purchases.",null,{project:"commerce-product-composer"}),tu=(0,a.t)("Editing permissions denied",null,{project:"commerce-product-composer"}),nu=(0,a.t)("Only the site owner can edit.",null,{project:"commerce-product-composer"}),ou=(0,a.t)("Okay",null,{project:"commerce-product-composer"}),ru=(0,a.t)("Create Subscription",null,{project:"commerce-product-composer"}),Ci=(0,a.t)("Close",null,{project:"commerce-product-composer"}),au=(0,a.t)("Purchase options",null,{project:"commerce-product-composer"}),iu=(0,a.t)("Select the options you want to offer on your product page",null,{project:"commerce-product-composer",notes:"Description to guide merchants to set up subscription options for the product page"}),su=(0,a.t)("One-time purchase and subscription",null,{project:"commerce-product-composer"}),cu=(0,a.t)("Customers will choose between making a recurring or one-time purchase.",null,{project:"commerce-product-composer"}),hi=(0,a.t)("Frequency",null,{project:"commerce-product-composer"}),lu=(0,a.t)("Select how often the customer gets the product",null,{project:"commerce-product-composer"}),uu=(0,a.t)("Subscription only",null,{project:"commerce-product-composer"}),du=(0,a.t)("Customers will only have the option to purchase this product as a subscription.",null,{project:"commerce-product-composer"}),mu=(0,a.t)("Connect Customer Accounts",null,{project:"commerce-product-composer"}),pu=(0,a.t)("Enable",null,{project:"commerce-product-composer"}),Si=(0,a.t)("Repeats every",null,{project:"commerce-product-composer"}),fu=(0,a.t)("Select how often the customer gets the product and create automatic discounts",null,{project:"commerce-product-composer"}),Eu=(0,a.t)("Frequency Unit",null,{project:"commerce-product-composer",notes:"The unit for the frequency. The two options are Month and Year"}),Ti=(0,a.t)("Billing Cycle",null,{project:"commerce-product-composer"}),gu=(0,a.t)("Billing cycle expiration type",null,{project:"commerce-product-composer",notes:'The type of expiration for the billing. The two options are - "Never expires" and "Expires after..."'}),vu=(0,a.t)("Never Expires",null,{project:"commerce-product-composer"}),Cu=(0,a.t)("Expires After...",null,{project:"commerce-product-composer"}),hu=(0,a.t)("Payments",null,{project:"commerce-product-composer"}),Su=(0,a.t)("Number of payments",null,{project:"commerce-product-composer"}),yi=(0,a.t)("Discount",null,{project:"commerce-product-composer"}),Tu=(0,a.t)("You can add a discount to each frequency to encourage repeat purchases",null,{project:"commerce-product-composer"}),yu=(0,a.t)("Add",null,{project:"commerce-product-composer"}),jr=(0,a.t)("Cancel",null,{project:"commerce-product-composer"}),Ii=(0,a.t)("Add Frequency",null,{project:"commerce-product-composer"}),Pi=(0,a.t)("Delete all",null,{project:"commerce-product-composer"}),Iu=(0,a.t)("Decrement",null,{project:"commerce-product-composer"}),Pu=(0,a.t)("Increment",null,{project:"commerce-product-composer"}),bu=(0,a.t)("Edit",null,{project:"commerce-product-composer"}),Au=(0,a.t)("Delete",null,{project:"commerce-product-composer"}),Br=(0,a.t)("Apply",null,{project:"commerce-product-composer"}),Ou=(0,a.t)("Action menu",null,{project:"commerce-product-composer"}),bi=(0,a.t)("Upgrade",null,{project:"commerce-product-composer"}),Du=(0,a.t)("Upgrade your plan",null,{project:"commerce-product-composer"}),Ru=(0,a.t)("Access subscriptions by upgrading to a different plan",null,{project:"commerce-product-composer"}),Mu=(0,a.t)("Remove Subscription",null,{project:"commerce-product-composer"}),Uu=(0,a.t)("Removing this subscription will not affect any of its active subscriptions. Customers on this subscription will still be charged on a recurring basis. You will need to cancel each active subscription for this to take full effect.",null,{project:"commerce-product-composer"}),Lu=(0,a.t)("Remove",null,{project:"commerce-product-composer"}),Nu=(0,a.t)("This item is frequently repurchased by shoppers. Add a subscription option to automate repeat purchases.",null,{notes:"Text to guide merchants to set up subscription options for the currently selected product",project:"commerce-product-composer"}),_u=h=>{let{isOpen:S,onBackClick:A,children:O,canApply:M,onApply:N}=h;return e.createElement(gi,{header:e.createElement(Fn.Z.Item,null,e.createElement(Yn.Z,{direction:"row",justifyContent:"space-between",space:1},e.createElement(d.Z.Tertiary,{"aria-label":Ci,onClick:()=>A()},Ci),e.createElement(f.Z.Subtitle,null,ru),e.createElement(d.Z.Primary,{"aria-label":Br,disabled:!M,onClick:N},Br))),isOpen:S,onBackClick:A},e.createElement(Fn.Z.Item,{sx:{"@media only screen and (max-width: 552px)":{width:"100%"},"@media only screen and (min-width: 554px)":{width:"553px"},paddingLeft:"0px",paddingRight:"0px"}},O),e.createElement(R.Z,{height:Se.space[6]}))},ju=()=>e.createElement(Yn.Z,{direction:"row",gap:2,mt:2},e.createElement(ra.Z,{color:"blue.300"}),e.createElement(f.Z.Caption,{color:"blue.300"},Nu));var qn=t(828323);const Ai=h=>{let{billingCycle:S,discount:A}=h;const O=e.useMemo(()=>fi(S),[S]);return e.createElement(f.Z.Caption,null,e.createElement(l.Z,{flexDirection:"row"},!!A&&e.createElement(e.Fragment,null,e.createElement(s.T,{discount:A,project:"commerce-product-composer"},"{discount}% discount"),e.createElement(R.Z,{px:Se.sizes.sizes[75]},"\u2022")),O))},Oi=h=>{let{frequency:S}=h;return e.createElement(l.Z,{my:Se.space[2],flexDirection:"row"},e.createElement(f.Z.Caption,{color:"gray.100"},Yo(S.billingPeriod)),e.createElement(f.Z.Caption,null,e.createElement(R.Z,{px:Se.sizes.sizes[75]},"\u2022")),e.createElement(Ai,{billingCycle:S.billingCycle,discount:S.discount}))},Bu=h=>{let{frequencies:S}=h;if(S.length===1){const[A]=S;return e.createElement(e.Fragment,null,e.createElement(Oi,{frequency:A}),e.createElement(le.Z,null))}return e.createElement(qn.Z,null,e.createElement(qn.Z.Item,null,e.createElement(qn.Z.Header,{label:e.createElement(s.T,{numOfFrequencies:S.length,project:"commerce-product-composer"},"{numOfFrequencies} Enabled")}),e.createElement(qn.Z.Body,{ml:Se.space[0]},e.createElement(le.Z,null),S.map((A,O)=>e.createElement(e.Fragment,{key:`frequency_${O}`},e.createElement(Oi,{frequency:A}),O<S.length-1&&e.createElement(le.Z,null))))))},Fu=h=>{let{onOpen:S,frequencies:A,isFeatured:O}=h;const{showConfirmModal:M}=(0,Je.t)();return e.createElement(e.Fragment,null,e.createElement(vo,{label:vi,subtitle:eu,onClick:async()=>Ko.Z.hasRole(Vo().ADMIN)||Ko.Z.hasRole(Vo().STORE_MANAGER)?S(!0):(await M({isCancellable:!1,title:tu,message:nu,confirmLabel:ou}),S(!1))}),A.length>0&&e.createElement(e.Fragment,null,e.createElement(Bu,{frequencies:A}),e.createElement(R.Z,{height:Se.space[4]})),A.length===0&&O&&e.createElement(ju,null))},Di=h=>{let{title:S,description:A,onSelect:O,isSelected:M,value:N}=h;return e.createElement(oo.Z,{width:"100%"},e.createElement(Q.Z,{as:"label","aria-label":S,interiorPre:e.createElement(fr.Z,{name:"subscriptionType",tabIndex:0,"aria-label":S,value:N,checked:M,onChange:O}),body:e.createElement(Yn.Z,{space:Se.space[0]},e.createElement(f.Z.Subtitle,{m:Se.space[0],mb:Se.space[1],fontWeight:Se.fontWeights.medium},S),e.createElement(f.Z.Caption,null,A)),px:Se.space[4],py:Se.space[4],space:Se.space[2]}))},Gu=h=>{let{onSelectType:S,type:A}=h;return e.createElement(e.Fragment,null,e.createElement(f.Z.Subtitle,{mt:0},au),e.createElement(f.Z.Body,{color:Se.colors.gray[300],fontWeight:Se.fontWeights.medium},iu),e.createElement(R.Z,{height:Se.space[1]}),e.createElement(Di,{title:su,isSelected:A===Xt.SUBS_OTP,onSelect:S,description:cu,value:Xt.SUBS_OTP}),e.createElement(R.Z,{height:Se.space[2]}),e.createElement(Di,{title:uu,isSelected:A===Xt.SUBS_ONLY,onSelect:S,description:du,value:Xt.SUBS_ONLY}))};var xu=t(723651),Wu=t(41570);const Fr=(0,no.Z)(sn.Z,le.Z),Ri=(0,no.Z)(Q.Z,le.Z),ho=2,zo=52,Gr=h=>S=>{if(isNaN(parseInt(S))){h(null);return}h(parseInt(S))},wu=()=>{const h=[];for(let S=1;S<=12;S++)h.push(e.createElement(sn.Z.Option,{value:S,key:`frequencyOption-${S}`},S));return h},So={frequency:1,frequencyUnit:bn.f.WEEK,billingCycleExpiration:bn.k.NEVER_EXPIRES,billingCycleFrequency:0,discountAmount:0},Mi=h=>{let{onAddOrUpdate:S,onCancel:A,subscriptionType:O,applyButtonText:M,isEdit:N=!1,billingPeriod:B,billingCycle:_,discount:W,isEditingBillingFrequencyDisabled:w}=h;const[Z,H]=(0,e.useState)((B==null?void 0:B.value)||So.frequency),[X,K]=(0,e.useState)(!1),[ae,q]=(0,e.useState)((B==null?void 0:B.unit)||So.frequencyUnit),[te,ge]=(0,e.useState)((_==null?void 0:_.cycle)||So.billingCycleExpiration),[ue,Ve]=(0,e.useState)((_==null?void 0:_.value)||So.billingCycleFrequency),[Pe,De]=(0,e.useState)(W||So.discountAmount),ve=O===Xt.SUBS_OTP,ke=ue===null?"":`${ue}`,he=Pe===null?"":`${Pe}`,Fe=()=>{const xt=ue??0;xt<ho&&Ve(ho),xt>zo&&Ve(zo)},Ie=()=>{const xt=Pe??0;if(xt<0){De(0);return}xt>100&&De(100)},{decrement:je,increment:et,setInputRef:gt,onKeyDown:Et,onWheel:St}=(0,Wu.Z)({value:ke,onChange:Gr(Ve),integerOptions:{min:ho,max:zo}}),Rt=()=>{S({billingPeriod:{value:Z,unit:ae},billingCycle:{value:ue===null?ho:ue,cycle:te},discount:Pe??0})},Jt=ue!==null&&ue<=ho,gn=ue!==null&&ue>=zo,Ln=()=>e.createElement(e.Fragment,null,e.createElement(f.Z.Label,{mb:Se.space[1]},Si),e.createElement(l.Z,{mb:1},e.createElement(R.Z,{flex:1},e.createElement(Fr,{variant:"floating",value:Z,onChange:xt=>{H(xt),K(!0)},"aria-label":hi},wu())),e.createElement(R.Z,{width:Se.space[2]}),e.createElement(R.Z,{flex:1},e.createElement(Fr,{variant:"floating",flex:1,value:ae,"aria-label":Eu,onChange:xt=>{q(xt),K(!0)}},e.createElement(sn.Z.Option,{value:bn.f.WEEK},(0,a._6)({one:"Week",other:"Weeks"},Z,null,{project:"commerce-product-composer"})),e.createElement(sn.Z.Option,{value:bn.f.MONTH},(0,a._6)({one:"Month",other:"Months"},Z,null,{project:"commerce-product-composer"}))))),e.createElement(f.Z.Caption,{color:"gray.300"},fu),e.createElement(f.Z.Label,{mt:Se.space[4],mb:Se.space[1]},Ti),e.createElement(l.Z,{mb:Se.space[4]},e.createElement(R.Z,{flex:1},e.createElement(Fr,{variant:"floating",value:te,"aria-label":gu,onChange:xt=>{ge(xt),Ve(ho),K(!0)}},e.createElement(sn.Z.Option,{value:bn.k.NEVER_EXPIRES},vu),e.createElement(sn.Z.Option,{value:bn.k.EXPIRES_AFTER},Cu))),e.createElement(R.Z,{width:Se.space[2]}),e.createElement(R.Z,{flex:1},te===bn.k.EXPIRES_AFTER&&e.createElement(Ri,{variant:"floating",interiorPre:e.createElement(Me.Z,{ref:gt,"aria-label":Su,autocomplete:"off",onChange:xt=>{Gr(Ve)(xt),K(!0)},onBlur:Fe,onKeyDown:Et,onWheel:St,spellcheck:"false",value:ke,sx:{maxWidth:Se.sizes.sizes[125]}}),body:e.createElement(f.Z.Body,{sx:{position:"relative",left:"-5px"},m:0},hu),exteriorAccessory:e.createElement(e.Fragment,null,e.createElement(Zn.Z.Element.Icon,{"aria-label":Iu,onClick:xt=>{K(!0),je(xt)},disabled:Jt},e.createElement(xu.Z,{color:Jt?"gray.600":void 0})),e.createElement(Zn.Z.Element.Icon,{"aria-label":Pu,onClick:xt=>{K(!0),et(xt)},disabled:gn},e.createElement(vn.Z,{color:gn?"gray.600":void 0})))}))));return e.createElement(R.Z,{border:1,borderColor:"gray.800",p:Se.space[4]},w?e.createElement(e.Fragment,null,e.createElement(f.Z.Label,{mb:Se.space[1]},Si),e.createElement(f.Z.Body,{mt:2,mb:6},Yo({value:Z,unit:ae})),e.createElement(f.Z.Label,{mt:Se.space[4],mb:Se.space[1]},Ti),e.createElement(f.Z.Body,{mt:2,mb:6},fi({value:ue??So.billingCycleFrequency,cycle:te}))):Ln(),ve&&e.createElement(R.Z,{mb:Se.space[4]},e.createElement(f.Z.Label,{mb:Se.space[1]},yi),e.createElement(R.Z,{width:`calc(50% - ${Se.space[2]}/2)`,mb:Se.space[1]},e.createElement(Ri,{variant:"floating",body:e.createElement(Me.Z,{type:"number","aria-label":yi,placeholder:0,value:he,onChange:xt=>{Gr(De)(xt.toString()),K(!0)},onBlur:Ie}),interiorAccessory:"%"})),e.createElement(f.Z.Caption,null,Tu)),e.createElement(d.Z.Secondary,{size:"small",mr:Se.space[2],onClick:Rt,"aria-label":M,disabled:N&&!X},M),e.createElement(d.Z.Tertiary,{size:"small",onClick:A,"aria-label":jr},jr))};var xr=t(619506);const Zu=h=>{let{billingPeriod:S,billingCycle:A,discount:O,onEdit:M,onDelete:N,disabled:B,isEditingDisabled:_}=h;const[W,w]=(0,e.useState)(!1),{isMobile:Z}=(0,Qn.Z)(),H=B||_;return e.createElement(oo.Z,{tabIndex:0,py:Se.space[2],px:Se.space[4],width:"100%",isHoverable:!H,onMouseOver:()=>{w(!0)},onMouseLeave:()=>{w(!1)},onClick:()=>{H||M()},onKeyUp:X=>{X.key==="Enter"&&!H&&M()},sx:{cursor:W&&!H?"pointer":"default"}},e.createElement(Q.Z,{label:e.createElement(f.Z.Subtitle,{m:Se.space[0]},Yo(S)),description:e.createElement(Ai,{billingCycle:A,discount:O}),exteriorAccessory:(W||Z)&&!B&&e.createElement(xr.Z.PopOver,{"aria-label":Ou,position:"bottom"},X=>{let{onRequestClose:K}=X;return e.createElement(l.Z,{as:"ul",bg:"white",flexDirection:"column",py:1},!_&&e.createElement(xr.Z.Item,{onClick:ae=>{ae.stopPropagation(),M(),K()}},bu),e.createElement(xr.Z.Item,{onClick:ae=>{ae.stopPropagation(),N(),K()},color:"red.300"},Au))})}))},ku=e.memo(Zu),Vu=h=>{let{onAddOrUpdate:S,onCancel:A,onEdit:O,onDelete:M,frequency:N,subscriptionType:B,frequencyCardDisabled:_,isEditingBillingFrequencyDisabled:W,isInEditMode:w}=h;return e.createElement(e.Fragment,null,w?e.createElement(Mi,{subscriptionType:B,onAddOrUpdate:Z=>{S(Z)},isEdit:!0,onCancel:()=>{A()},billingPeriod:N.billingPeriod,billingCycle:N.billingCycle,discount:N.discount,applyButtonText:Br,isEditingBillingFrequencyDisabled:W}):e.createElement(ku,{billingPeriod:N.billingPeriod,billingCycle:N.billingCycle,discount:N.discount,onEdit:()=>{O()},onDelete:()=>{M()},isEditingDisabled:B===Xt.SUBS_ONLY&&W,disabled:_}))};var ao=t(656674),Ui=t(727751),Hu=t(205306),uo=t.n(Hu);const Ku=(0,ao.SortableElement)(h=>{let{index:S,children:A}=h;return e.createElement("li",{className:uo().listItem,key:S},A)}),Li=(0,ao.SortableHandle)(()=>e.createElement(Ui.Z,{id:"drag-handle",className:uo().dragHandle})),Ni=h=>{let{children:S,sortable:A,index:O}=h;return A?e.createElement(Ku,{index:O},S):e.createElement(e.Fragment,null,S)},_i=h=>{let{children:S,onSort:A}=h;const O=(0,ao.SortableContainer)(()=>e.createElement(R.Z,{as:"ul",m:Se.space[0]},S)),M=()=>{document.body.style.cursor="grabbing"},N=B=>{let{oldIndex:_,newIndex:W}=B;document.body.style.cursor="",A(_,W)};return e.createElement(O,{onSortStart:M,onSortEnd:N,useDragHandle:!0,helperClass:uo().sortableHelper})};function $o(h,S,A){h=[...h];const O=S<0?h.length+S:S;if(O>=0&&O<h.length){const M=A<0?h.length+A:A,[N]=h.splice(S,1);h.splice(M,0,N)}return h}const Yu=h=>{let{onAdd:S,onDelete:A,onDeleteAll:O,frequencyList:M,subscriptionType:N,onUpdate:B,updateFrequencyOrdering:_,isMobile:W,setIsEditing:w}=h;const[Z,H]=(0,e.useState)(!1),[X,K]=(0,e.useState)(!1),[ae,q]=(0,e.useState)(null);(0,e.useEffect)(()=>{M[N].length||(H(!0),w(!0))},[]),(0,e.useEffect)(()=>{N===Xt.SUBS_ONLY&&M[N].length>0&&(H(!1),K(!1),q(null))},[N,M]);const te=N===Xt.SUBS_ONLY&&M[N].length===1,ge=(0,e.useCallback)((De,ve)=>{const ke=$o([...M[N]],De,ve);_(ke)},[M,N,_]),ue=M[N].length>1&&!X&&!Z,Ve=(0,e.useCallback)(()=>{K(!1),q(null)},[q,K]),Pe=10;return e.createElement(e.Fragment,null,e.createElement(f.Z.Subtitle,{mt:Se.space[0],mb:Se.space[2]},hi),e.createElement(f.Z.Body,{fontWeight:500,color:"gray.300"},lu),Z&&e.createElement(R.Z,{mt:Se.space[4]},e.createElement(Mi,{subscriptionType:N,onAddOrUpdate:De=>{S(De),H(!1),w(!1)},isEdit:!1,onCancel:()=>{H(!1),w(!1)},applyButtonText:yu,isEditingBillingFrequencyDisabled:!1})),!Z&&!te&&!X&&e.createElement(e.Fragment,null,e.createElement(d.Z.Secondary,{size:"medium",mt:Se.space[2],onClick:()=>{w(!0),H(!0)},"aria-label":Ii,disabled:M[Xt.SUBS_OTP].length===Pe,mb:M[N].length?Se.space[0]:Se.space[3]},Ii),W&&e.createElement(R.Z,{height:Se.space[1]})),!Z&&!te&&M[N].length>1&&!X&&e.createElement(d.Z.Tertiary,{ml:Se.space[2],onClick:O,"aria-label":Pi},Pi),e.createElement(_i,{onSort:ge},M[N].map((De,ve)=>e.createElement(Ni,{sortable:ue,key:`${N}-frequency-${ve}`,index:ve},e.createElement(R.Z,{mt:Se.space[3],display:X?"block":"flex",sx:{alignItems:"center"},className:ue?Mt()(uo().option,{[uo().isAlwaysVisible]:W}):""},ue&&e.createElement(l.Z,{sx:{zIndex:1},display:"flex",justifyContent:"center",ml:W?"-8px":"-27px",mr:"4px"},e.createElement(Li,null)),e.createElement(Vu,{onAddOrUpdate:ke=>{B(ke,ve),Ve(),w(!1)},onCancel:()=>{Ve(),w(!1)},onEdit:()=>{K(!0),w(!0),q(ve)},onDelete:()=>{A(ve),Ve()},frequency:De,subscriptionType:N,frequencyCardDisabled:X||Z,isEditingBillingFrequencyDisabled:!!De.id,isInEditMode:ve===ae}))))))};var To=t(300411);const zu=()=>{const{showConfirmModal:h}=(0,Je.t)();return{confirmCustomerAccountsEnabled:async()=>{try{const{data:A}=await Ho.Z.get();return A.userAccountsEnabled?!0:await h({title:mu,message:e.createElement(s.T,{project:"commerce-product-composer",learnMoreLink:e.createElement("a",{href:Jn.CUSTOMER_ACCOUNTS,target:"_blank"},e.createElement(s.T,{project:"commerce-product-composer"},"Learn more"))},"Subscriptions require Customer Accounts to be on so that your customers may manage their subscriptions. {learnMoreLink}."),confirmLabel:pu})?(await Ho.Z.save({...A,userAccountsEnabled:!0}),!0):!1}catch(A){throw A}}}},$u=()=>{const{product:h,patchProduct:S}=xe(),{navigateAway:A}=go(),{confirmCustomerAccountsEnabled:O}=zu(),{subscribable:M,productSubscriptionOptions:N=[],subscriptionPlan:B}=h,[_,W]=(0,e.useState)(Xt.SUBS_OTP),[w,Z]=(0,e.useState)(!1),[H,X]=(0,e.useState)(!1),K=_r.Z.isFeatureEnabled(Nr().COMMERCE_SUBSCRIPTIONS),[ae,q]=(0,e.useState)([]),[te,ge]=(0,e.useState)({[Xt.SUBS_OTP]:[],[Xt.SUBS_ONLY]:[]}),ue=(0,e.useMemo)(()=>M&&B?[(0,To.ex)(B)]:N.map(To.l6),[M,B,N]),Ve=()=>{const Et=pi.Z.isTrial()?Zo.Z[ko.Z.TRIAL_UPGRADE_PLAN]:Zo.Z[ko.Z.UPGRADE_PLAN];A(`/config${Et}`)},Pe=Et=>{const St={...te,[_]:[...te[_],Et]};ge(St)},De=Et=>{X(!1),W(Et)},ve=()=>{W(Xt.SUBS_OTP),ge({[Xt.SUBS_OTP]:[],[Xt.SUBS_ONLY]:[]}),Z(!1)},ke=Et=>{const St=[...te[_]];St.splice(Et,1),ge({...te,[_]:St})},he=()=>{ge({...te,[Xt.SUBS_OTP]:[]})},Fe=(Et,St)=>{const Rt=[...te[_]];Rt[St]={...Rt[St],...Et},ge({...te,[_]:Rt})},Ie=Et=>{ge({...te,[_]:Et})},je=Et=>h.variants.map(St=>Et?{...St,stock:{...St.stock,unlimited:!0}}:St);return{subType:_,setSubscriptionType:De,showSubscriptionsModal:w,setShowSubscriptionsModal:Z,addToFrequencyList:Pe,updateFrequencyByIndex:Fe,deleteFrequencyByIndex:ke,deleteAllSubsOTPFrequencies:he,closeModalAndResetSelections:ve,frequencyList:te,setFrequencyList:ge,updateFrequencyOrdering:Ie,isSubscriptionsEnabled:K,goToUpsellRoute:Ve,initializeFrequenciesFromProduct:()=>{if(M&&B){const St=[(0,To.ex)(B)];ge({[Xt.SUBS_OTP]:[],[Xt.SUBS_ONLY]:St}),W(Xt.SUBS_ONLY),q(St);return}const Et=N.map(To.l6);ge({[Xt.SUBS_OTP]:Et,[Xt.SUBS_ONLY]:[]}),q(Et),W(Xt.SUBS_OTP)},applyFrequenciesToSubs:async()=>{if(!await O()){ve();return}const St=_===Xt.SUBS_ONLY,Rt=!!te[_].length;if(St){const Jt=Rt?{...(0,To.Pc)(te[_][0],B)}:null;S({subscribable:St&&Rt,subscriptionPlan:Jt,productSubscriptionOptions:[],variants:je(Rt)})}else S({subscribable:!1,subscriptionPlan:null,productSubscriptionOptions:(0,To.rY)(te[_]),variants:je(Rt)});(0,T.QE)({productId:h.id,productName:h.name,productType:(0,y.Z)(h.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1,subscriptionType:_,numFrequencies:te[_].length});for(const Jt of te[_])(0,T.xo)({productId:h.id,productName:h.name,productType:(0,y.Z)(h.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1,subscriptionBillingCycle:Jt.billingCycle.cycle===bn.k.NEVER_EXPIRES?I.SO.CONTINUOUS:I.SO.EXPIRES,percentageDiscount:Jt.discount??0});ve()},appliedSubscriptions:ue,isEditing:H,setIsEditing:X,originalFrequencyList:ae}};var ji=t(742054);const Xu=h=>{let{onClick:S}=h;return e.createElement(e.Fragment,null,e.createElement(f.Z.Title,{mt:Se.space[0]},Du),e.createElement(f.Z.Subtitle,{mb:Se.space[0]},Ru),e.createElement(R.Z,{height:Se.space[4]}),e.createElement(ji.Yz,{size:"medium",variant:"primary","aria-label":bi,onClick:S},bi))};var Qu=t(695903),Ju=t.n(Qu);const qu=h=>{let{isOpen:S,onRemove:A,onCancel:O}=h;return e.createElement(_t.Z.Transition,null,S&&e.createElement(_t.Z,{onRequestClose:O},e.createElement(_t.Z.Overlay,null),e.createElement(_t.Z.Position,{position:"center"},e.createElement(Po.Z,{title:Mu,message:Uu,buttons:[()=>e.createElement(Po.Z.Button,{key:"cancel",onClick:O},jr),()=>e.createElement(Po.Z.Button,{key:"remove",onClick:A},Lu)]}))))},ed=e.createElement("a",{href:Jn.COMMERCE_SUBSCRIPTIONS,target:"_blank"},e.createElement(s.T,{project:"commerce-product-composer"},"Learn more")),td=e.createElement(s.T,{project:"commerce-product-composer",learnMoreLink:ed},"Subscription products do not have stock levels. You will have the option to apply changes to only future or all subscription customers. Please ensure you comply with any laws applicable to your subscriptions. {learnMoreLink}"),nd=h=>{let{isMobile:S}=h;const{addToFrequencyList:A,frequencyList:O,subType:M,setSubscriptionType:N,showSubscriptionsModal:B,setShowSubscriptionsModal:_,closeModalAndResetSelections:W,deleteFrequencyByIndex:w,updateFrequencyByIndex:Z,updateFrequencyOrdering:H,isSubscriptionsEnabled:X,goToUpsellRoute:K,deleteAllSubsOTPFrequencies:ae,initializeFrequenciesFromProduct:q,appliedSubscriptions:te,isEditing:ge,setIsEditing:ue,applyFrequenciesToSubs:Ve,originalFrequencyList:Pe}=$u(),{product:De}=xe(),[ve,ke]=(0,e.useState)(!1),{featuredProducts:he}=(0,fa.PA)(),Fe=he.some(Ie=>Ie.productId===De.id);return e.createElement(e.Fragment,null,e.createElement(Fu,{onOpen:Ie=>{Ie&&q(),_(Ie),(0,T.EL)({productId:De.id,productName:De.name,productType:(0,y.Z)(De.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1})},frequencies:te,isFeatured:Fe}),e.createElement(qu,{isOpen:ve,onCancel:()=>{W(),ke(!1)},onRemove:async()=>{await Ve(),ke(!1)}}),e.createElement(_u,{isOpen:B,onBackClick:W,canApply:!ge,onApply:async()=>{const Ie=new Set(O[M].map(je=>je.id));for(let je=0;je<Pe.length;je++){const{id:et}=Pe[je];if(et&&!Ie.has(et)){ke(!0);return}}await Ve()}},!X&&e.createElement(e.Fragment,null,e.createElement(Xu,{onClick:K}),e.createElement(R.Z,{height:Se.space[6]})),e.createElement(R.Z,{className:X?"":Ju().subscriptionDisabled,width:"100%"},e.createElement(Gu,{type:M,onSelectType:N}),e.createElement(R.Z,{height:Se.space[6]}),e.createElement(Yu,{frequencyList:O,subscriptionType:M,onAdd:A,onUpdate:Z,onDelete:w,onDeleteAll:ae,updateFrequencyOrdering:H,isMobile:S,setIsEditing:ue}),e.createElement(R.Z,{height:Se.space[2]}),e.createElement(f.Z.Caption,null,td))))};var Do=t(753074);const Bi=h=>{let{variant:S,patchVariant:A}=h;return e.createElement(js,{onSale:S.onSale,price:S.price,salePrice:S.salePrice,onChangePrice:(O,M)=>{A(S.id,{price:O,salePrice:M})},onChangeSalePrice:O=>{A(S.id,{salePrice:O})},onChangeOnSale:O=>{A(S.id,{onSale:O})}})};function od(){const{product:h,patchVariant:S}=xe(),A=h.variants[0],O=h.variants.length===1&&Object.values(A.attributes).every(B=>!B),M=()=>{const{isMobile:B}=(0,Qn.Z)(),{space:_}=(0,Il.F)();return e.createElement(R.Z,null,e.createElement(R.Z,{height:_[6]}),e.createElement(f.Z.Label,null,vi),Ba.Z.isSevenOne()?e.createElement(nd,{isMobile:B}):e.createElement(ql,null))};return(B=>{let{productType:_}=B;switch(_){case Kt().PHYSICAL:case Kt().SERVICE:return e.createElement(e.Fragment,null,O?e.createElement(e.Fragment,null,e.createElement(Bi,{variant:A,patchVariant:S}),e.createElement(Fs,{hasSubscription:(0,Do.c)(h),stock:A.stock,sku:A.sku,onChangeStock:W=>{S(A.id,{stock:W})},onChangeSku:W=>{S(A.id,{sku:W})}}),e.createElement(Pl,null)):e.createElement(ml,{variants:h.variants}),e.createElement(M,null));case Kt().GIFT_CARD:return e.createElement(Fl,{variants:h.variants,patchVariant:S});case Kt().DIGITAL:return e.createElement(e.Fragment,null,e.createElement(Kl,null),e.createElement(Bi,{variant:A,patchVariant:S}));default:throw new Error(`Invalid product type: ${_}`)}})(h)}var HE=t(68468),KE=t(27226),rd=t(734177),Fi=t.n(rd),en=t(495037),Gi=t(377790);const xi=()=>{const{isNewProduct:h,serviceType:S}=kt(),{product:{productType:A}}=xe();return!A||!(0,Eo.isAiProductComposerEnabledForProductTypeV2)({productType:A,serviceType:S,isNewProduct:h})?!1:((0,Eo.fireAssignmentEvent)(),(0,Eo.isAiProductComposerV2ExperimentEnabled)())};var Xo=t(672745);function ad(){const{product:h,patchProduct:S,onGeneratedTextUpdate:A}=xe(),{serviceType:O}=kt(),{isMobile:M}=(0,Qn.Z)(),[N,B]=(0,e.useState)(!1),{siteTitle:_,id:W}=Ae.default.getState(),w=(0,e.useRef)(null),[Z,H]=(0,e.useState)(!1),X=xi(),K=(0,e.useMemo)(()=>[(0,en.undoRedoOption)(),(0,en.aiWriterOption)({brandName:_,onGeneratedTextUpdate:A}),(0,en.dividerOption)(),(0,en.textStyleOption)({styles:[{style:"heading1"},{style:"heading2"},{style:"heading3"},{style:"heading4"},{style:"paragraph2"},{style:"monospace"}],defaultSelectedStyle:{style:"paragraph2"}}),(0,en.dividerOption)(),(0,en.boldOption)(),(0,en.italicOption)(),(0,en.underlineOption)(),(0,en.letterSpacingOption)(),(0,en.linkOption)({isLinkEditorUAUEnabled:(0,Xe.L)().isLinkEditorUAUEnabled}),(0,en.dividerOption)(),(0,en.textAlignOption)(),(0,en.bulletListOption)(),(0,en.numberedListOption)(),(0,en.indentationOption)(),(0,en.dividerOption)(),(0,en.blockquoteOption)(),(0,en.strikethroughOption)(),(0,en.dividerOption)(),(0,en.clearFormattingOption)()],[_,A]),ae=(0,e.useMemo)(()=>{var ge,ue,Ve;const Pe=(ue=window)===null||ue===void 0||(ge=ue.Static)===null||ge===void 0?void 0:ge.SQUARESPACE_CONTEXT;return{accessPermissions:Pe==null?void 0:Pe.accessPermissions,accountId:Pe==null||(Ve=Pe.authenticatedAccount)===null||Ve===void 0?void 0:Ve.id,accountLocale:(0,Gi.ZP)().member_account_locale,productArea:"product-composer-v1",productId:h.id,productSection:"RTE",websiteId:W,websiteLocale:(0,Gi.ZP)().website_locale}},[h,W]),q=()=>{H(!0)},te=()=>{H(!1)};return e.createElement(e.Fragment,null,X&&e.createElement(Xo.GenerateWithAiPopover,{anchor:w,isOpen:Z,entrypoint:Xo.PopoverEntrypoint.DESCRIPTION}),e.createElement("div",{ref:w,className:Mt()(Fi().container,Fi().rteEditor,Ft.unmask),"data-testid":"product-description"},e.createElement(f.Z.Label,{mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Description")),e.createElement(en.RichTextEditor,{content:h.description,onUpdate:ge=>{S({description:ge})},placeholder:Nn((0,C.j)(h),{isMobile:M,serviceType:O}),editorOptions:K,toolbarProps:{open:N,onOpenChange:ge=>{B(ge)},shiftPadding:{top:77}},trackingPayload:ae,renderInput:ge=>e.createElement(en.FieldInput,{...ge,onFocus:q,onBlur:te})})),N&&e.createElement(fo,{text:(0,a.t)("Write at least three sentences, and explain your product's features and what makes it unique. If you need to add more details, use Additional Information.",null,{project:"commerce-product-composer"})}))}var id=t(484623),Wi=t.n(id),wi=t(784874),sd=t(633894),cd=t.n(sd);const Wr="<p></p>",Zi=h=>{try{var S,A,O;return!h.layout||h.layout.rows.length===0||h.layout.rows.length===1&&((S=h.layout.rows[0].columns)===null||S===void 0?void 0:S.length)===1&&h.layout.rows[0].columns[0].blocks&&h.layout.rows[0].columns[0].blocks.length===1&&h.layout.rows[0].columns[0].blocks[0].type===wi.Z.HTML&&(((A=h.layout.rows[0].columns[0].blocks[0].value)===null||A===void 0?void 0:A.html)===""||((O=h.layout.rows[0].columns[0].blocks[0].value)===null||O===void 0?void 0:O.html)===Wr)}catch(M){return ha(`Failed to find additional info field: ${M.message}`),!0}},ki=h=>{var S,A,O,M,N,B,_,W,w,Z,H;Zi(h)&&(h==null||(O=h.layout)===null||O===void 0||(A=O.rows[0])===null||A===void 0||(S=A.columns)===null||S===void 0?void 0:S.length)===1&&(h==null||(_=h.layout)===null||_===void 0||(B=_.rows[0])===null||B===void 0||(N=B.columns[0])===null||N===void 0||(M=N.blocks)===null||M===void 0?void 0:M.length)===1&&(h==null||(H=h.layout)===null||H===void 0||(Z=H.rows[0])===null||Z===void 0||(w=Z.columns[0])===null||w===void 0||(W=w.blocks[0])===null||W===void 0?void 0:W.type)===wi.Z.HTML&&h.layout.rows[0].columns[0].blocks[0].value.engine==="wysiwyg"&&(h.layout.rows[0].columns[0].blocks[0].value.html=Wr,h.layout.rows[0].columns[0].blocks[0].value.source=Wr)},ld=()=>{const{product:h}=xe();return!Zi(h.additionalInfo)};function ud(h){let{onClose:S}=h;const{patchProduct:A,product:O}=xe(),{externalYUIModules:M}=kt(),{showConfirmModal:N}=(0,Je.t)();if(!M)throw new Error("externalYUIModules is required");const{additionalInfoConstructor:B,dialog:_}=M,W=e.useRef(null),w=e.useCallback(H=>{if(H){const{id:X,productType:K,collectionId:ae,name:q}=O,te=new Y.Squarespace.Models.ContentItem({id:X,productType:K,collectionId:ae,title:q});W.current=new B({dialog:_,contentItem:te,data:O.additionalInfo,hideNodeExpander:!0,contentBox:Y.one('[data-yui-mount="additional-info"]'),supportsRedirectsInBlockEditor:!1}),W.current.render(),W.current.show()}},[]);e.useEffect(()=>()=>{var H;(H=W.current)===null||H===void 0||H.destroy()},[]);const Z=()=>{if(!O||!W.current)return;const H=Wi()(O.additionalInfo);H.layout={columns:12,rows:[]},ki(H),W.current.set("data",H)};return e.createElement(rn,{sx:{display:"flex",flexDirection:"column"},maxHeight:"calc(100vh - 44px)",width:"calc(100vw - 44px)",title:(0,a.t)("Additional Info",null,{project:"commerce-product-composer"}),subtitle:(0,a.t)("Put additional info on your product page: a longer description, videos, or other content.",null,{project:"commerce-product-composer"}),isDirty:()=>{var H;return(H=W.current)===null||H===void 0?void 0:H._didDataChange},onClose:S,onSave:()=>{var H;const X=(H=W.current)===null||H===void 0?void 0:H.get("data"),K=Wi()(O.additionalInfo);K.layout?(K.layout.columns=X.layout.columns,K.layout.rows=X.layout.rows):K.layout=X.layout,ki(K),A({additionalInfo:K}),S()},saveButtonVariant:"primary",renderRightButtons:()=>e.createElement(d.Z.Tertiary,{onClick:async()=>{await N({title:(0,a.t)("Reset content?",null,{project:"commerce-product-composer"}),message:(0,a.t)("You will lose all content.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("RESET",null,{project:"commerce-product-composer"})})&&Z()},sx:{alignSelf:"start",transform:"translateX(-11px)"}},(0,a.t)("Reset",null,{project:"commerce-product-composer"}))},e.createElement(rn.Section,{className:cd().fieldContainer},e.createElement(R.Z,{ref:w,"data-yui-mount":"additional-info",height:"100%"},e.createElement("div",{className:"sqs-layout-error-container"}),e.createElement("div",{className:"sqs-layout-wrapper site-wrapper",id:"siteWrapper"},e.createElement("div",{className:"sqs-layout-scroll"},e.createElement("div",{className:"sqs-layout"})),e.createElement("button",{className:"add-block",tabIndex:-1})))))}const dd=pr(ud),wr=()=>{const{showConfirmModal:h}=(0,Je.t)(),{isMobile:S}=(0,Qn.Z)();return{alertIfUnavailable:()=>(S&&h({isCancellable:!1,title:(0,a.t)("This feature is not supported on mobile.",null,{project:"commerce-product-composer"}),message:(0,a.t)("Visit Squarespace from your desktop computer to use this feature.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Okay",null,{project:"commerce-product-composer"})}),S)}};function md(h){const[S,A]=e.useState(!1),O=ld(),{alertIfUnavailable:M}=wr();return e.createElement(e.Fragment,null,e.createElement(vo,{label:(0,a.t)("Additional Info",null,{project:"commerce-product-composer"}),subtitle:O?e.createElement(Co,null):(0,a.t)("Add more detail to your product page using custom blocks and fields.",null,{project:"commerce-product-composer"}),onClick:()=>{M()||A(!0)},sx:{marginTop:2}}),S&&e.createElement(dd,{onClose:()=>{A(!1)},...h}))}const pd=md;var Vi=t(364948),fd=t(474641),Zr=t(225093);function Ed(h){let{imageId:S,onClose:A}=h;const{product:O,patchProductImage:M}=xe(),N=O.images.find(Z=>Z.id===S),[B,_]=(0,e.useState)((N==null?void 0:N.title)??""),[W,w]=(0,e.useState)(!1);return e.createElement(rn,{isDirty:W,onClose:A,onSave:async()=>{M(S,{title:B}),A()},title:(0,a.t)("Edit Metadata",null,{project:"commerce-product-composer"})},e.createElement(rn.Section,null,e.createElement(f.Z.Label,{mb:2,htmlFor:"productComposerImageMetadata"},e.createElement(s.T,{project:"commerce-product-composer"},"Alt Text")),e.createElement(Me.Z,{id:"productComposerImageMetadata","aria-describedby":"editAltTextCaption",placeholder:(0,a.t)("Add...",null,{project:"commerce-product-composer"}),value:B,onChange:Z=>{_(Z),w(!0)}}),e.createElement(le.Z,null),e.createElement(f.Z.Caption,{mt:1,mb:6,id:"editAltTextCaption"},e.createElement(s.T,{project:"commerce-product-composer"},"Adding alt text to images is a great way to give your site an SEO boost and make it more accessible."))))}var gd=t(349865),mo=t(571199),vd=t(909001),eo=t.n(vd);function Qo(h){let{mediaProcessingState:S}=h;return S===ne().QUEUED||S===ne().PROCESSING}const Hi=h=>{let{Icon:S,onClick:A}=h;return e.createElement(l.Z,{width:"28px",height:"28px",borderRadius:"2px",backgroundColor:"rgba(255, 255, 255, 0.8)",textAlign:"center",onClick:A,tabIndex:0,onKeyDown:(0,Bn.Z)(A),sx:{cursor:"pointer"}},e.createElement(S,{sx:{margin:"auto"}}))};function Cd(h){let{image:S,dragState:A,onSetShowImageEditorForImage:O,onSetShowEditMetadataForImage:M,onSetThumbnail:N}=h;const{isDragging:B}=A,{product:_,patchProduct:W,patchProductImage:w}=xe(),{showConfirmModal:Z}=(0,Je.t)(),[H,X]=e.useState(!1),[K,ae]=e.useState(),q=e.useCallback(De=>ae(De),[]),[te,ge]=e.useState(!1),ue=S.focalPoint,Ve=De=>{if(!_.variants)return;const ve=_.variants.map(ke=>{var he;return((he=ke.mainImage)===null||he===void 0?void 0:he.id)===De?{...ke,mainImage:void 0}:ke});W({variants:ve})},Pe=async()=>{await Z({title:(0,a.t)("Delete Image",null,{project:"commerce-product-composer"}),message:(0,a.t)("Are you sure you want to delete this image?",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Delete",null,{project:"commerce-product-composer"})})&&(_.images.length===1&&_.thumbnailImage&&W({thumbnailImage:void 0}),Ve(S.id),W({images:_.images.filter(ve=>{let{id:ke}=ve;return ke!==S.id})}))};return e.createElement("div",{className:Mt()(eo().container,{[eo().isDragging]:B}),tabIndex:0,onMouseEnter:()=>X(!0),onMouseLeave:()=>X(!1),onFocus:()=>X(!0),onBlur:()=>X(!1)},e.createElement(hd,{image:S,imgRef:q,isProcessing:Qo(S)}),K&&e.createElement(gd.Z,{visible:H&&!Qo(S),imageNodeGetter:()=>K,onChange:De=>{let{x:ve,y:ke}=De;w(S.id,{focalPoint:{x:ve,y:ke}})},x:ue.x,y:ue.y,hideTooltip:!0}),!!S.processingProgress&&e.createElement(dn,{percentage:S.processingProgress}),!Qo(S)&&e.createElement("div",{className:Mt()(eo().trashButton,{[eo().isVisible]:H&&!te}),"data-testid":"pc-trash-button"},e.createElement(Hi,{Icon:Re.Z,onClick:Pe})),K&&!Qo(S)&&e.createElement(e.Fragment,null,e.createElement("div",{className:Mt()(eo().moreMenuButton,{[eo().isVisible]:H||te}),"data-testid":"pc-action-list-button"},e.createElement(on.Z,{renderTrigger:De=>{let{toggleActionListOpen:ve}=De;return e.createElement(Hi,{Icon:Da.Z,onClick:ve})},onRequestOpen:()=>ge(!0),onRequestClose:()=>ge(!1)},e.createElement(on.Z.Button,{onClick:O,"data-testid":"pc-image-edit-image-button"},e.createElement(s.T,{project:"commerce-product-composer"},"Edit Image")),e.createElement(on.Z.Button,{onClick:M,"data-testid":"pc-image-edit-metadata-button"},e.createElement(s.T,{project:"commerce-product-composer"},"Edit Metadata")),e.createElement(on.Z.ButtonDanger,{onClick:Pe,"data-testid":"pc-image-delete-button"},e.createElement(s.T,{project:"commerce-product-composer"},"Delete")))),e.createElement("div",{className:Mt()(eo().setAsThumbnailButton,{[eo().isVisible]:H&&!te}),"data-testid":"pc-set-as-thumbnail-button"},e.createElement(mo.Z.Container,{usage:"badge",onClick:()=>N(S),onKeyDown:(0,Bn.Z)(()=>N(S)),backgroundColor:"rgba(255, 255, 255, 0.8)",border:"none",sx:{cursor:"pointer"}},e.createElement(f.Z.Label,{color:"black",sx:{cursor:"inherit"}},e.createElement(s.T,{project:"commerce-product-composer"},"Set as thumbnail"))))))}function hd(h){let{imgRef:S,image:A,isProcessing:O}=h;const{error:M,loading:N,createSrc:B,onAssetError:_}=(0,Vi.useAssetDeliveryAuth)();return N||M?e.createElement(e.Fragment,null):e.createElement("div",{className:"protectedImageContainer"},e.createElement("img",{className:`${O?"isProcessing ":""}protectedImage`,ref:S,alt:"",crossOrigin:"anonymous",src:B(A.urls.https),onError:_,width:"100%",height:"100%","data-testid":"pc-image-gallery-image","data-test":"pc-image-gallery-image"}))}var Sd=t(394782),Ki=t.n(Sd),Td=t(950180),Jo=t.n(Td);function yd(h){let{error:S,createSrc:A,onAssetError:O,loading:M}=h;const{product:N,patchProduct:B}=xe(),{thumbnailImage:_}=N,[W,w]=(0,e.useState)(),{addLibraryImage:Z,uploadImage:H}=rt(),X=(_==null?void 0:_.mediaProcessingState)===ne().QUEUED||(_==null?void 0:_.mediaProcessingState)===ne().PROCESSING,K=async te=>{te&&H(te,{onProgress:ge=>B({thumbnailImage:ge}),onComplete:ge=>B({thumbnailImage:ge}),onError:()=>B({thumbnailImage:void 0})})},ae=async te=>{te&&B({thumbnailImage:Z(te,N.id)})},q=e.createElement(Dt,{onUploadFiles:te=>{let[ge]=te;return K(ge)},onChooseAssetIds:te=>{let[ge]=te;return ae(ge)}},e.createElement(Q.Z,{className:Mt()({[Jo().uploadable]:!X}),label:(0,a.t)("Featured Image",null,{project:"commerce-product-composer"}),interiorPre:e.createElement(wt,null,te=>{let{onTrigger:ge}=te;return e.createElement(e.Fragment,null,_?e.createElement(R.Z,{width:Se.space[6],height:Se.space[6],position:"relative",onClick:ge,tabIndex:0,onKeyDown:(0,Bn.Z)(()=>ge())},M||S?e.createElement(e.Fragment,null):e.createElement(fe.Z,{className:Mt()(Jo().thumbnailImage,{[Jo().uploadable]:!X,[Jo().isProcessing]:X}),src:A(_.urls.https)??"",onError:ue=>{O(ue)}}),X&&e.createElement(dn,{percentage:(_==null?void 0:_.processingProgress)||0})):e.createElement(si,{onClick:ge}))}),interiorAccessory:e.createElement("div",{onClick:te=>te.stopPropagation()},_&&!X&&e.createElement(on.Z,null,!S&&e.createElement(on.Z.Button,{onClick:()=>w(_)},e.createElement(s.T,{project:"commerce-product-composer"},"Edit Image")),e.createElement(on.Z.ButtonDanger,{onClick:()=>{B({thumbnailImage:void 0})}},e.createElement(s.T,{project:"commerce-product-composer"},"Delete"))))}));return e.createElement(e.Fragment,null,e.createElement(ce.Z,{onDrop:te=>!X&&K(te),validMimeTypes:Ne,multiple:!1},q),e.createElement(le.Z,null),W&&e.createElement(Zr.Z,{imageSrc:W.urls.https,onSave:te=>{w(void 0),K(te)},onCancel:()=>w(void 0),isOpen:!0}))}function Id(h){let{pendingUploads:S,isDraggingImage:A,onUploadImages:O,onUploadReplacementImage:M,onChooseAssets:N,onSetThumbnail:B}=h;const[_,W]=(0,e.useState)(null),[w,Z]=(0,e.useState)(null),{product:H,patchProduct:X}=xe(),{images:K,thumbnailImage:ae}=H,q=K.length===0,te=e.useRef(K),ge=e.useRef(ae),ue=new Map(S.map(Pe=>[Pe.id,Pe]));e.useEffect(()=>{te.current=K},[K]),e.useEffect(()=>{ge.current=ae},[ae]);function Ve(Pe,De,ve){const ke=ue.get(Pe.id);return e.createElement(Cd,{image:ke?{...Pe,...ke}:Pe,dragState:ve,onSetShowImageEditorForImage:()=>W(Pe),onSetShowEditMetadataForImage:()=>Z(Pe),onSetThumbnail:B})}return e.createElement(e.Fragment,null,_&&e.createElement(Zr.Z,{imageSrc:_.urls.https,onSave:Pe=>{M(_.id,Pe),W(null)},onCancel:()=>W(null),isOpen:!0}),w&&e.createElement(Ed,{imageId:w.id||"",onClose:()=>Z(null)}),e.createElement(Dt,{isMultiple:!0,onUploadFiles:O,onChooseAssetIds:N},e.createElement("div",{className:Ki().container},e.createElement(fd.Z,{className:Ki().grid,childItems:K,extraChildItems:!q&&e.createElement(wt,null,Pe=>{let{onTrigger:De}=Pe;return e.createElement(li,{isDraggingImage:A,onTrigger:De})}),getChildKeyFromItem:Pe=>Pe.id,childItemRenderer:Ve,proxyClassName:eo().dragProxy,onReorder:(Pe,De)=>{X({images:[...De]})}},q&&e.createElement(e.Fragment,null,e.createElement(wt,null,Pe=>{let{onTrigger:De}=Pe;return e.createElement(jn,{label:(0,a.t)("Add images",null,{project:"commerce-product-composer"}),onClick:De,isDraggingImage:A})}))))))}function Pd(){const{product:h}=xe(),{images:S,thumbnailImage:A}=h,O=S.length===0,{pendingUploads:M,uploadImages:N,uploadReplacementImage:B,addImagesFromAssetPicker:_,setThumbnail:W}=Wt(),{error:w,loading:Z,createSrc:H,onAssetError:X}=(0,Vi.useAssetDeliveryAuth)(),[K,ae]=(0,e.useState)(!1),[q,te]=(0,e.useState)(!1),ge=!O&&!!A,ue=(0,e.useRef)(null),Ve=xi(),Pe=q||S.length>0;return(0,e.useEffect)(()=>{const De=ke=>{ke===lt.IMAGES?te(!0):te(!1)},ve={};return Object.values(lt).forEach(ke=>{const he=()=>De(ke);ve[ke]=he,document.addEventListener(hr(ke),ve[ke])}),()=>{Object.values(lt).forEach(ke=>{document.removeEventListener(hr(ke),ve[ke])})}},[]),e.createElement(e.Fragment,null,Ve&&e.createElement(Xo.GenerateWithAiPopover,{anchor:ue,isOpen:!O,entrypoint:Xo.PopoverEntrypoint.IMAGE,styles:{marginTop:-8}}),e.createElement("div",{ref:ue},e.createElement(ce.Z,{onDrop:De=>{N(De),ae(!1)},onDragEnter:()=>ae(!0),onDragLeave:()=>ae(!1),validMimeTypes:Ne,multiple:!0},e.createElement(Id,{pendingUploads:M,isDraggingImage:K,onUploadImages:De=>N(De),onUploadReplacementImage:B,onChooseAssets:De=>{_(De)},onSetThumbnail:De=>{W(De),X(null)}})),ge&&e.createElement(R.Z,{mt:1},e.createElement(yd,{error:w,loading:Z,createSrc:H,onAssetError:X})),Pe&&e.createElement(fo,{text:(0,a.t)("Add at least three photos to show off your product. Include a front, back, and detail shot.",null,{project:"commerce-product-composer"})})))}const bd=Pd;async function Ad(){const{data:h}=await Te.default.get("/api/commondata/GetAutoCompleteTags");return h.map(S=>({text:S}))}var io=t(922357),qo=t(716194);const Yi=(0,no.Z)(Q.Z,le.Z),Od=h=>{let{onChange:S,selectedTags:A}=h;const[O,M]=(0,e.useState)(!1),[N,B]=(0,e.useState)(""),_=()=>{S(N),M(!1),B("")};return e.createElement(e.Fragment,null,A.length>0&&e.createElement(Yi,{p:0,minHeight:"",interiorPre:A.length===1?e.createElement(d.Z.Tertiary,{color:"blue.300",onClick:()=>{M(!0),B(A[0])}},e.createElement(s.T,{project:"commerce-product-composer"},"Edit")):e.createElement(d.Z.Tertiary,{color:"blue.300",onClick:()=>{M(!0),B("")}},e.createElement(s.T,{project:"commerce-product-composer"},"Merge")),interiorAccessory:e.createElement(d.Z.Tertiary,{color:"red.300",onClick:()=>{S()}},e.createElement(s.T,{project:"commerce-product-composer"},"Delete"))}),e.createElement(_t.Z.Transition,null,O&&e.createElement(_t.Z,{onRequestClose:()=>M(!1)},e.createElement(_t.Z.Overlay,null),e.createElement(_t.Z.Position,{position:"center"},e.createElement(_t.Z.Dialog,null,e.createElement(R.Z,{p:3,pb:7,width:"sizes.700"},e.createElement(l.Z,{mb:5,px:1,alignItems:"center",justifyContent:"space-between"},e.createElement(d.Z.Tertiary,{onClick:()=>M(!1),textTransform:"none",fontSize:3,fontWeight:"400"},e.createElement(s.T,{project:"commerce-product-composer"},"Cancel")),e.createElement(f.Z.Body,{m:0,fontWeight:"500"},A.length===1?e.createElement(s.T,{project:"commerce-product-composer"},"Edit Tag"):e.createElement(s.T,{project:"commerce-product-composer"},"Merge Tags")),e.createElement(d.Z.Tertiary,{textTransform:"none",fontSize:3,fontWeight:"400",onClick:_},A.length===1?e.createElement(s.T,{project:"commerce-product-composer"},"Save"):e.createElement(s.T,{project:"commerce-product-composer"},"Merge"))),e.createElement(Yi,{p:0,body:e.createElement(Me.Z,{autoFocus:!0,py:2,px:1,placeholder:(0,a.t)("New tag",null,{project:"commerce-product-composer"}),onChange:B,value:N,onKeyDown:(0,Bn.Z)(_)})})))))))},Dd=(0,e.forwardRef)((h,S)=>{let{value:A,lowercaseTags:O,selectedTags:M,hasError:N,inputRef:B,setHasError:_,setIsOpen:W,onChange:w,setSelectedTags:Z,onInput:H,...X}=h;return e.createElement(sn.Z.Display,{...X,setIsOpen:W,ref:S,mt:"-11px",p:0,sx:{"&:hover":{cursor:"text"}},errors:N&&{message:(0,a.t)("This tag already exists",null,{project:"commerce-product-composer"})},exteriorAccessory:null,onKeyDown:K=>{K.stopPropagation()},label:e.createElement(qo.Z,{ref:B,m:0,sx:{"input:focus":{backgroundColor:"white"}},onFocus:()=>W(!0),onChange:K=>{if(O.includes(K.toLowerCase())){_(!0);return}w([...A,K])},onInput:H},A.map(K=>e.createElement(qo.Z.Chip,{label:K,key:K,onFocus:ae=>{ae.stopPropagation()},onClose:ae=>{ae.stopPropagation(),w(A.filter(q=>q!==K)),Z([])},isSelected:M.includes(K),onClick:ae=>{ae.stopPropagation(),M.includes(K)?Z(M.filter(q=>q!==K)):Z([...M,K])}})))})}),Rd=h=>h.options.length===0?e.createElement(e.Fragment,null):e.createElement(sn.Z.Dropdown,{...h,placement:"bottom",focusLockIsDisabled:!0}),Md=h=>{let{options:S,value:A,lowercaseTags:O,...M}=h;const[N,B]=(0,e.useState)(!1),[_,W]=(0,e.useState)(!1),[w,Z]=(0,e.useState)(""),H=w.trim()===""?[]:S.filter(X=>{const K=X.value.toLowerCase();return K.includes(w)&&!O.includes(K)}).map(X=>e.createElement(sn.Z.Option,{key:X.value,value:X.value},X.display));return e.createElement(sn.Z.Base,{...M,onInput:X=>{Z(X),W(!1)},hasError:_,setHasError:W,isOpen:N,setIsOpen:B,renderDisplay:Dd,renderDropdown:Rd,value:A,lowercaseTags:O},H)},Ud=h=>{let{value:S,suggestions:A,onChange:O}=h;const[M,N]=(0,e.useState)([]),B=S.map(H=>H.toLowerCase()),_=(0,e.createRef)(),W=S.join(""),[w,Z]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{if(w&&document.activeElement!==_.current){var H;(H=_.current)===null||H===void 0||H.focus(),Z(!1)}},[w,_]),e.createElement(e.Fragment,null,e.createElement(Md,{isMulti:!0,key:W,value:S,selectedTags:M,inputRef:_,lowercaseTags:B,onChange:H=>{Z(!0),O(H)},options:A.map(H=>({value:H,display:H})),setSelectedTags:N}),e.createElement(Od,{onChange:H=>{Z(!0);const X=S.filter(K=>!M.includes(K));H&&X.push(H),O(X),N([])},selectedTags:M}))};function Ld(){const{product:h,patchProduct:S}=xe(),{data:A=[]}=(0,io.Z)(Ad),{showConfirmModal:O}=(0,Je.t)();return e.createElement("div",null,e.createElement(f.Z.Label,{mt:4,mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Tags")),e.createElement(f.Z.Body,{color:"gray.300",mt:0,mb:4},e.createElement(s.T,{project:"commerce-product-composer"},"Add keywords to connect related products. Tags will not be shown in your store.")),e.createElement("div",{className:Mt()(wn().tagManager,Ft.unmask)},e.createElement(Ud,{value:h.tags,onChange:M=>{if(M.length>h.tags.length&&M.length>dt.pM){O({isCancellable:!1,title:(0,a.t)("Cannot add tag",null,{project:"commerce-product-composer"}),message:(0,a.t)("Product cannot have more than {maxTags} tags.",{maxTags:dt.pM},{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Okay",null,{project:"commerce-product-composer"})});return}S({tags:M})},suggestions:A.map(M=>{let{text:N}=M;return N})})))}var XE=t(612203),Nd=t(254596),_d=t(130638),jd=t(864383),zi=t(361282),Bd=t(273564),Fd=t(400882);const $i=h=>{let{cta:S}=h;return e.createElement(oo.Z,null,e.createElement(oo.Z.Body,null,e.createElement(l.Z,{alignItems:"center",gap:2},e.createElement(f.Z.Body,{fontWeight:"semibold"},e.createElement(s.T,{project:"commerce-product-composer"},"Automate tax collection")),e.createElement(mo.Z,{usage:"badge",status:"info",label:e.createElement(f.Z.Label,{color:"inherit"},e.createElement(s.T,{project:"commerce-product-composer",notes:"badge label indicating a new feature"},"New"))})),e.createElement(f.Z.Body,null,e.createElement(s.T,{project:"commerce-product-composer"},"Product specific tax codes can help you collect the right amount of tax for this product at checkout.")),S))},Gd=h=>{let{children:S}=h;return e.createElement(l.Z,{flexDirection:"column",gap:2,width:"100%"},e.createElement(f.Z.Body,{color:"gray.400",mt:0},e.createElement(s.T,{project:"commerce-product-composer",notes:"description of how product tax codes works along with a 'learn more' link to the help docs.",helpLink:e.createElement("a",{href:Jn.COMMERCE_TAXES_AUTO_CALCS,target:"_blank"},e.createElement(s.T,{project:"apps.App.Commerce"},"Learn more"))},"Product specific tax codes are used to calculate correct tax rates during checkout. {helpLink}")),e.createElement(R.Z,null,S))},xd=h=>{let{router:S}=h;var A;const{confirmExit:O}=lo(),{onCancelButtonClick:M}=kt(),{setStripeTaxCategory:N,setOriginalStripeTaxCategory:B}=mr(),{product:_,patchProduct:W}=xe(),{data:w,isError:Z,isLoading:H}=(0,io.Z)(()=>(0,U._l)(_));(0,e.useEffect)(()=>{var K;if(!(w==null||(K=w.productTaxCategory)===null||K===void 0)&&K.taxCategoryCode){var ae,q;B({taxCategoryCode:w==null||(ae=w.productTaxCategory)===null||ae===void 0?void 0:ae.taxCategoryCode,taxCategoryAnalyticsName:w==null||(q=w.productTaxCategory)===null||q===void 0?void 0:q.taxCategoryName})}},[w,B]);const X=async()=>{if(await O()){M();const ae={pathname:"/commerce/taxes",search:"?source=productComposer",state:{backTo:zi.ZP.getBackgroundLocation(S).pathname}};S.push(ae)}};return!H&&!Z?e.createElement(jd.Z,{onTaxCodeSelect:(K,ae)=>{let{analyticsName:q}=ae;N({taxCategoryCode:K,taxCategoryAnalyticsName:q}),W({productTaxCodeHasChanged:!0})},initialTaxCode:w==null||(A=w.productTaxCategory)===null||A===void 0?void 0:A.taxCategoryCode,upsell:e.createElement($i,{cta:e.createElement(d.Z.Tertiary,{onClick:X},e.createElement(s.T,{project:"commerce-product-composer"},"Set up automated tax"))}),Wrapper:Gd}):null},Wd=(0,x.Z)(xd),wd=()=>{const h=_r.Z.isFeatureGated(Nr().STRIPE_TAX),[S]=(0,Fd.Z)(i.noop),A=()=>{(0,Bd.showUpsellConfirmation)({upgradeLearnMoreUrl:"https://www.squarespace.com"},void 0,S)};return e.createElement(l.Z,{flexDirection:"column",mt:4,gap:1},e.createElement(f.Z.Label,{mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Product Specific Tax Code")),h?e.createElement($i,{cta:e.createElement(ji.g8.Tertiary,{width:"fit-content",as:"div",onClick:A},e.createElement(s.T,{project:"commerce-product-composer"},"Upgrade"))}):e.createElement(Wd,null))};var Xi=t(833744),Qi=t(842132);const Zd=e.forwardRef((h,S)=>{let{close:A,label:O,title:M}=h;return e.createElement(Q.Z,{ref:S,label:M,exteriorAccessory:e.createElement(mo.Z,{accessory:e.createElement(mo.Z.CloseButton,{onClick:()=>{A()},tabIndex:-1}),label:O,onKeyDown:N=>{(Qi.Z.isBackspace(N)||Qi.Z.isDelete(N))&&A()},tabIndex:0,sx:{h:"5px"}})})}),kd=h=>{let{children:S,fieldName:A,query:O,setQuery:M,value:N,setValue:B,selectedValueLabel:_}=h;function W(Z){B(Z),M("")}function w(Z,H){if(H)return{renderDisplay:e.forwardRef((X,K)=>e.createElement(Zd,{ref:K,close:()=>{B(void 0)},label:H,title:Z}))}}return e.createElement(Xi.Z,{...w(A,_),exteriorPre:A,exteriorAccessory:null,inputValue:O,onChange:W,onInput:M,placeholder:(0,a.t)("Search...",null,{project:"commerce-product-composer"}),sx:{input:{textAlign:"right"},background:"none",pl:"0",pr:"0"},value:N,variant:"floating"},S)};var Vd=t(895493),Hd=t.n(Vd);const er=I.MX.PRODUCT_COMPOSER_V1;function tr(h){return{productId:h.id,productType:(0,y.Z)(h.productType)}}const Kd=(0,x.Z)(h=>{let{router:S}=h;const{product:A}=xe(),{confirmExit:O}=lo(),{onCancelButtonClick:M}=kt(),N=async()=>{if(await O()){const _=tr(A);(0,T.ms)({productId:_.productId,productType:_.productType,productEditor:er}),M();const W={pathname:"/commerce/taxes",search:"?source=productComposer",state:{backTo:zi.ZP.getBackgroundLocation(S).pathname}};S.push(W)}};return e.createElement(oo.Z,{ml:18,mr:18,"data-test":"tax-panel-intercept"},e.createElement(oo.Z.Body,null,e.createElement(Yn.Z,{space:1},e.createElement(f.Z.Subtitle,null,e.createElement(s.T,{project:"commerce-product-composer"},"Connect a tax extension to automate your rates")),e.createElement(f.Z.Body,{m:0},e.createElement(s.T,{project:"commerce-product-composer"},"Add a tax extension to automatically calculate the right tax rate for this product.")),e.createElement(d.Z.Tertiary,{onClick:N},e.createElement(s.T,{project:"commerce-product-composer"},"Add Extension")))))});function Yd(h){let{taxCategory:S}=h;const{setTaxCategory:A,setOriginalTaxCategory:O}=mr(),{product:M}=xe(),[N,B]=e.useState(S),[_,W]=e.useState(""),[w,Z]=e.useState([]),[H,X]=e.useState(!1),K=e.useRef(!1);(0,e.useEffect)(()=>{O(S)}),(0,e.useEffect)(()=>{A(N)},[N,A]),(0,e.useEffect)(()=>{async function q(){try{const te=await(0,U.qR)(_);Z(te.categories)}catch{}X(!1)}if(X(!0),_.length>1){const te=setTimeout(()=>{if(q(),!K.current){const ge=tr(M);(0,T.JF)({productId:ge.productId,productType:ge.productType,productEditor:er}),K.current=!0}},500);return()=>clearTimeout(te)}else _.length||Z([]);X(!1)},[_,M]);function ae(q){const te=tr(M);(0,T.sJ)({action:"change",categoryAction:q?T.Ir.ADD:T.Ir.DELETE,categoryName:(q==null?void 0:q.taxCategoryName)||(N==null?void 0:N.taxCategoryName),productId:te.productId,productType:te.productType,productEditor:er}),B(q),Z([])}return e.createElement("div",{"data-test":"tax-category-input",className:Hd().searchInput},e.createElement(kd,{fieldName:(0,a.t)("Tax Category",null,{project:"commerce-product-composer"}),query:_,setQuery:W,value:N,setValue:ae,selectedValueLabel:N==null?void 0:N.taxCategoryName},w.length?w.map(q=>e.createElement(sn.Z.Option,{key:q.taxCategoryCode,value:q},q.taxCategoryName)):H?e.createElement(Q.Z,{body:e.createElement(l.Z,{justifyContent:"center"},e.createElement(L.Z,null))}):e.createElement(f.Z.Body,{color:"gray.300",onClick:null,px:2},(0,a.t)("No results",null,{project:"commerce-product-composer"}))))}function zd(h){let{retry:S}=h;return e.createElement(Q.Z,{body:e.createElement(l.Z,{pt:0,justifyContent:"center"},e.createElement(f.Z.Body,{color:"gray.300"},e.createElement(s.T,{project:"commerce-product-composer"},"Something went wrong with Tax Categories.")),e.createElement(f.Z.Body,{color:"gray.300",onClick:S,css:{textDecoration:"underline"},pl:1},e.createElement(s.T,{project:"commerce-product-composer"},"Try Again")))})}function $d(){const{product:h}=xe(),{id:S}=h,{data:A,isError:O,refetch:M}=(0,io.Z)(()=>(0,U.tC)(S)),N=(A==null?void 0:A.extensionEligible)||!1,B=(A==null?void 0:A.extensionInstalled)||!1,_=A==null?void 0:A.productTaxCategory,W=!B||B&&N,w=(0,e.useRef)(!1);return(0,e.useEffect)(()=>{if(A&&!w.current){const Z=tr(h);(0,T.kp)({productId:Z.productId,productType:Z.productType,productEditor:er,ctaPresent:!A.extensionInstalled,extensionEligible:A.extensionEligible}),w.current=!0}},[A,h]),e.createElement(e.Fragment,null,W&&e.createElement("div",{"data-test":"taxes-section"},e.createElement(f.Z.Label,{mt:4,mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Tax Category")),B&&e.createElement(f.Z.Body,{color:"gray.300"},e.createElement(s.T,{project:"commerce-product-composer",helpLink:e.createElement("a",{href:Jn.COMMERCE_TAXES_AUTO_CALCS,target:"_blank"},e.createElement(s.T,{project:"apps.App.Commerce"},"Learn more"))},"Extensions can use your product's tax category to calculate the right tax rate during checkout. {helpLink}")),e.createElement("div",{className:wn().fields},O?e.createElement(zd,{retry:M}):B?e.createElement(Yd,{taxCategory:_}):e.createElement(Kd,null))))}const Xd=()=>{const[h,S]=(0,e.useState)(),A=(0,_d.v)();if((0,e.useEffect)(()=>{(0,Nd.ag)().then(O=>{let{eligible:M}=O;S(M)}).catch(()=>{})},[]),h!==void 0){if(h)return e.createElement(wd,null);if(A)return e.createElement($d,null)}return null};var Qd=t(131626),kr=t.n(Qd);const Jd={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};async function qd(){const{data:{categories:h}}=await Te.default.get("/api/commerce/products/categories");return h}async function Vr(h,S){return await Te.default.post("/api/commondata/AddCategory",kr().stringify({collectionId:h,category:S},{arrayFormat:"repeat"}))}async function em(h,S,A){return await Te.default.post("/api/commondata/MergeCategories",kr().stringify({collectionId:h,oldcategory:S,newcategory:A},{arrayFormat:"repeat"}),Jd)}var tm=t(219024),nm=t(444867),Hr=t.n(nm),Kr=t(762379),om=t(237640),Yr=t.n(om);const rm="400px",am="232px";function im(h){let{category:S,onSave:A,onCancel:O,allCategories:M}=h;const[N,B]=(0,e.useState)(S),[_,W]=(0,e.useState)(""),w=Z=>{Z?M.includes(Z.trim())?W("A category with this name already exists."):A(Z):W("You must enter a valid category name.")};return e.createElement(_t.Z.Transition,null,e.createElement(_t.Z,{lockFocus:!1},e.createElement(_t.Z.Overlay,null),e.createElement(_t.Z.Position,{position:"center"},e.createElement(_t.Z.Dialog,null,e.createElement(R.Z,{width:rm,height:am},e.createElement("div",{className:Yr().editModal},e.createElement(Tn,{className:Yr().header},e.createElement(Tn.Left,null,e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:O},(0,a.t)("Cancel",null,{project:"commerce-product-composer"}))),e.createElement(Tn.Center,null,e.createElement("div",{className:Yr().headerTitle},(0,a.t)("Rename Category",null,{project:"commerce-product-composer"}))),e.createElement(Tn.Right,null,e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:()=>w(N.trim())},(0,a.t)("Save",null,{project:"commerce-product-composer"})))),e.createElement(f.Z.Label,{sx:{marginLeft:4}},e.createElement(s.T,{project:"commerce-product-composer"},"Name")),e.createElement(Sr.default,{value:N,onChange:Z=>{B(Z),W("")},errors:_?{message:(0,a.t)("{errorMessage}",{errorMessage:_},{project:"commerce-product-composer"})}:null}),e.createElement(f.Z.Caption,{sx:{marginLeft:4}},e.createElement(s.T,{project:"commerce-product-composer"},"Changes apply to all products in this category."))))))))}function sm(h){let{category:S,onRename:A,onRemove:O,allCategories:M}=h;const[N,B]=(0,e.useState)(!1),[_,W]=(0,e.useState)(S);function w(Z){W(Z),B(!1)}return(0,e.useEffect)(()=>{A(S,_)},[_]),e.createElement(e.Fragment,null,e.createElement(Mn.default,{label:S,accessory:()=>e.createElement(on.Z,null,e.createElement(on.Z.Button,{onClick:()=>{B(!0)}},e.createElement(s.T,{project:"commerce-product-composer"},"Rename")),e.createElement(on.Z.ButtonDanger,{onClick:()=>{O(S)}},e.createElement(s.T,{project:"commerce-product-composer"},"Remove")))}),N&&e.createElement(im,{allCategories:M,category:S,onSave:w,onCancel:()=>B(!1)}))}var cm=t(71439),Ji=t.n(cm),lm=t(864500),um=t(354489),zr=t.n(um),dm=t(271685),mm=t(397372),pm=t(958320);function fm(h){const[S,A]=(0,e.useState)(""),[O,M]=(0,e.useState)([]),{product:N,composerOpenedAt:B}=xe(),{confirmExit:_}=lo(),{cancelOrDelete:W}=jo(),{isOpen:w,setIsOpen:Z}=h,H=async()=>{const ue=h.collectionId,Ve=await(0,dm.CP)(ue),Pe=Ve.categoryTree,ve=mm.C.constructCategoriesTree(Pe,O.length>0?O.map(ke=>ke.id):h.categoryIds,Ve.categoryTree[0],!0).getAllCategories().filter(ke=>ke.selected).map(ke=>({id:ke.id,name:ke.displayName}));A(Ve.categoryTree[0].id),M(ve)};(0,e.useEffect)(()=>{H()},[]);const X=ue=>{M(ue)},K=()=>{Z(!w)},ae=async ue=>{ue==null||ue.preventDefault(),ue==null||ue.stopPropagation(),Z(!1)};function q(){const ue=O.filter(De=>De.id!==S),Ve=ue.length,Pe=10;return Ve<=Pe?ue.map(De=>({text:De.name})):ue.slice(0,Pe+1).map((De,ve)=>ve===Pe?{text:(0,a.t)("+ {count} more",{count:Ve-Pe},{project:"apps.App.Commerce.NestedCategoriesEditor"})}:{text:De.name})}function te(){return!h.productId}const ge=q();return e.createElement("div",{className:zr().pointer,"data-test":"categories-add-btn",onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),K()}},e.createElement(R.Z,{sx:{mx:4,py:2,borderBottom:`1px solid ${Se.colors.gray[800]}`}},ge.map(ue=>{let{text:Ve}=ue;return e.createElement(mo.Z,{label:Ve,mr:2,mt:1})})),w&&e.createElement(lm.ZP,{isOpen:!0,customClassNames:Mt()(Ft.unmask,zr().popOverZIndex),onRequestClose:ae},e.createElement(pm.Z,{model:{collectionId:h.collectionId,websiteId:window.Static.SQUARESPACE_CONTEXT.website.id,productId:h.productId,categoryIds:h.categoryIds,productTitle:N.name,productType:(0,y.Z)(N.productType)},closeModal:ae,callerName:"product-composer",isEmptyState:!1,toggleCategory:h.toggleCategory,stylesOverride:zr(),isLoading:!!te(),setCategories:X,onTreeRefresh:h.onTreeRefresh,requestCloseOriginatingModal:async ue=>{if(!await _(!0))return;W();const Pe=(0,y.Z)(N.productType);Pe&&(0,T.qc)({productId:N.id,productType:Pe,productName:N.name,productEditor:I.MX.PRODUCT_COMPOSER_V1,timeElapsed:Date.now()-B,fulfilledExternally:(0,C.sn)(N)}),ue()}})))}var Em=t(730842);function gm(){const{product:h,patchProduct:S}=xe(),[A,O]=(0,e.useState)(!1),[M,N]=(0,e.useState)(""),[B,_]=(0,e.useState)([]),[W,w]=(0,e.useState)(h.categories),[Z,H]=(0,e.useState)(h.categoryIds),{data:X}=(0,io.Z)(qd),[K,ae]=(0,e.useState)([]),[q,te]=(0,e.useState)(""),[ge,ue]=(0,e.useState)(!1),[Ve,Pe]=(0,e.useState)(!1),[De,ve]=(0,e.useState)(!1),{showToast:ke}=k();function he(vt){return vt.sort((Pt,Nt)=>Pt.toLowerCase().localeCompare(Nt.toLowerCase()))}(0,e.useEffect)(()=>{if(X){const vt=he(X);ae(vt),_(vt)}},[X]);function Fe(){N(""),O(!1)}function Ie(){return Kr.Z.isFeatureEnabled(Hr().NESTED_CATEGORIES)}function je(vt){return vt.trim()}function et(vt,Pt){return vt.includes(Pt)}(0,e.useEffect)(()=>{if(M&&K){O(!0);const vt=K.filter(Pt=>Pt.toLowerCase().includes(M.toLowerCase()));_(he(vt))}else Fe()},[M,K]),(0,e.useEffect)(()=>{S({categories:W})},[W]),(0,e.useEffect)(()=>{S({categoryIds:Z})},[Z]);function gt(vt){N(vt)}async function Et(vt){const Pt=vt.target.value;if(!je(Pt)||et(W,Pt)){Fe();return}w([...W,Pt]),Fe()}function St(){M.length===0&&K&&(_(K),O(!0))}async function Rt(vt,Pt){vt!==Pt&&(await Vr(h.collectionId,Pt),(0,T.QN)(Pt,I.MX.PRODUCT_COMPOSER_V1),await em(h.collectionId,[vt,Pt],Pt),K&&!K.includes(Pt)&&ae(he([...K,Pt])),await Vr(h.collectionId,Pt),w(W.map(function(Nt){return Nt===vt?Pt:Nt})))}function Jt(vt){w(W.filter(Pt=>Pt!==vt)),K&&!K.includes(vt)&&ae([...K,vt])}function gn(vt){return e.createElement(Mn.default,{innerContainerClassName:Ji().categoryCell,label:vt,size:"large",underlined:!1})}function Ln(vt){return vt.map(Pt=>e.createElement(sm,{allCategories:K,category:Pt,onRename:Rt,onRemove:Jt}))}function xt(vt){vt.key==="Enter"&&Et(vt)}async function cn(vt){const Pt=je(vt);K&&Pt&&(et(K,Pt)?(ue(!1),Pe(!0)):(w([...W,Pt]),te(""),ue(!1),h&&(await Vr(h.collectionId,Pt),(0,T.QN)(Pt,I.MX.PRODUCT_COMPOSER_V1)),ke({content:(0,a.t)("Category {newCategoryToAdd} created",{newCategoryToAdd:Pt},{project:"commerce-product-composer"})}),ae(he([...K,Pt]))))}const kn=Ie();return e.createElement("div",null,e.createElement(l.Z,{alignItems:"center",justifyContent:"space-between",tabIndex:0,onKeyDown:(0,Bn.Z)(()=>ve(!De))},e.createElement("div",null,e.createElement(f.Z.Label,{mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Categories")),e.createElement(f.Z.Body,{color:"gray.300",mt:0,mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Create categories to bucket products. Categories will appear in the store's navigation."),!1)),e.createElement(Zn.Z,{tabIndex:-1,onClick:()=>ve(!De),interaction:"none"},W.length>1?e.createElement(Ga.Z,null):e.createElement(vn.Z,null))),kn?e.createElement("div",{className:wn().fields},e.createElement(fm,{onTreeRefresh:vt=>{Em.Z.updateNestedCategories(h.collectionId,vt)},productId:h.id,collectionId:h.collectionId,categoryIds:h.categoryIds,toggleCategory:vt=>{H(vt)},isOpen:De,setIsOpen:ve})):e.createElement("div",{className:wn().fields},e.createElement(tm.Z,{className:Ji(),hideClearIcon:!0,isOpen:A,items:B,onChange:gt,onKeyDown:xt,onSelect:Et,onFocus:St,onBlur:()=>O(!1),placeholder:(0,a.t)("Search existing categories",null,{project:"commerce-product-composer"}),searchString:M},vt=>gn(vt)),Ln(W),e.createElement(Sr.default,{placeholder:(0,a.t)("Create new...",null,{project:"commerce-product-composer"}),onChange:vt=>{ue(!!vt),te(vt),Pe(!1)},value:q,maxLength:50,onKeyDown:vt=>{vt.key==="Enter"&&cn(q)},secondaryAction:{component:ge&&e.createElement(d.Z.Secondary,{onClick:()=>cn(q)},e.createElement(s.T,{project:"commerce-product-composer"},"Add"))},errors:Ve&&et(W,q)?{message:(0,a.t)("This category already exists.",null,{project:"commerce-product-composer"})}:Ve?{message:(0,a.t)("This category already exists. You can add it using the dropdown above.",null,{project:"commerce-product-composer"})}:null})))}function vm(){const[h,S]=e.useState(!1),{product:A,patchProduct:O}=xe(),{visibility:M}=A,{visibleOn:N}=M,B=[{label:(0,a.t)("Public",null,{project:"commerce-product-composer"}),value:zt.B.VISIBLE},{label:(0,a.t)("Hidden",null,{project:"commerce-product-composer"}),value:zt.B.HIDDEN},{label:(0,a.t)("Scheduled",null,{project:"commerce-product-composer"}),value:zt.B.SCHEDULED}];return e.createElement(R.Z,{mb:4},e.createElement(f.Z.Label,{mb:2},e.createElement(s.T,{project:"commerce-product-composer"},"Visibility")),e.createElement("div",{className:wn().fields},e.createElement(Lr.default,{value:M.state,onChange:_=>{(0,zt.h)(_)&&O({visibility:{state:_,visibleOn:N||new Date}}),_===zt.B.SCHEDULED&&S(!0)},options:B}),M.state===zt.B.SCHEDULED&&e.createElement(e.Fragment,null,e.createElement(f.Z.Caption,{ml:4},e.createElement(s.T,{project:"commerce-product-composer",visibleOn:(0,a.p6)(N.getTime(),{date:"medium",time:"short"})},"Scheduled to be published on {visibleOn}")),e.createElement(Mn.default,null,e.createElement(d.Z.Tertiary,{onClick:()=>S(!0)},e.createElement(s.T,{project:"commerce-product-composer"},"Edit")))),h&&e.createElement(ur,{onCancel:()=>S(!1),onSave:()=>{S(!1)}})))}const Cm=vm;var hm=t(106793);const Sm=(0,no.Z)(Q.Z,le.Z),Tm=h=>e.createElement(Sm,{as:"label",...h});function ym(){const{patchProduct:h,product:S}=xe();return e.createElement(R.Z,null,e.createElement(Tm,{onKeyDown:(0,Bn.Z)(()=>h({featuredProduct:!S.featuredProduct})),label:(0,a.t)("Featured Product",null,{project:"commerce-product-composer"}),interiorAccessory:e.createElement(hm.Z,{checked:S.featuredProduct,onChange:A=>h({featuredProduct:A})})}),e.createElement(f.Z.Caption,null,(0,a.t)("Featured Products can be displayed in Summary Blocks on your page.",null,{project:"commerce-product-composer"})))}var Im=t(901674),Pm=t(346588);const qi=async()=>{const{data:h}=await Te.default.get("/api/commerce/settings/merchandising");return h};var bm=t(267486),$r=t.n(bm),Am=t(707205),Om=t(791589);const es=Kr.Z.isFeatureEnabled(Hr().NESTED_CATEGORIES),Dm=h=>{let{onClose:S,productId:A,collectionId:O,websiteId:M,relatedCategoryIds:N,relatedCategories:B,productTags:_,initialRelatedProductsValue:W,onSetInitialRelatedProductsValue:w,isRelatedProductEnabled:Z,onEnableRelatedProducts:H}=h;const{patchProduct:X}=xe(),{showConfirmModal:K}=(0,Je.t)(),{data:ae}=(0,io.Z)(()=>(0,Pm.Z)(O,!0,!0)),[q,te]=(0,e.useState)(null),ge=()=>es?N.length>0?N:[ae==null?void 0:ae.storeWideCats[0].id]:B;return e.createElement(rn,{onClose:S,onSave:async()=>{if(!Z)if(await K({title:(0,a.t)("Enable Related Products?",null,{project:"commerce-product-composer"}),message:e.createElement(s.T,{project:"commerce-product-composer",learnMoreLink:e.createElement("a",{href:Jn.RELATED_PRODUCTS,target:"_blank"},e.createElement(s.T,{project:"commerce-product-composer"},"Learn more"))},"Turning this on will show related products an all of your product pages. {learnMoreLink}"),confirmLabel:(0,a.t)("Enable",null,{project:"commerce-product-composer"})}))await H();else{S();return}if(q){const{relatedContent:ue,strategy:Ve}=q,Pe={strategy:Ve};Ve===$r().CATEGORIES?es?Pe.relatedCategoryIds=ue:Pe.relatedCategories=ue:Ve===$r().TAGS&&(Pe.relatedTags=ue),X({relatedProductsConfiguration:Pe})}S()},title:(0,a.t)("Related Products",null,{project:"commerce-product-composer"})},ae?e.createElement(Im.Z,{isDropdownFlush:!0,initialValue:W,model:{productId:A,collectionId:O,websiteId:M,categoryIds:N},storeWideCats:ae.storeWideCats,selectableTags:(0,i.uniq)([...ae.storeWideTags,..._]),saveRelatedAttrs:(ue,Ve,Pe)=>{te({relatedContent:ue,strategy:Ve}),w(Pe)},existingProductCats:ge()},ue=>{let{dropdown:Ve,description:Pe}=ue;return e.createElement(e.Fragment,null,e.createElement(rn.Subtitle,null,Pe),e.createElement(R.Z,{my:4},Ve))}):e.createElement(l.Z,{alignItems:"center",justifyContent:"center",py:8},e.createElement(L.Z,null)))},Rm=()=>{const[h,S]=e.useState(!1),{product:A}=xe(),{data:O,refetch:M}=(0,io.Z)(qi),{updateAndSaveSettings:N}=(0,Am.Z)(),[B,_]=(0,e.useState)("");if(!A||!O)return null;const W=async()=>{(0,Om._T)(!0),await N({relatedProductsEnabled:!0}),M()},{relatedProductsEnabled:w}=O,{id:Z,collectionId:H,websiteId:X,relatedProductsConfiguration:K}=A,{strategy:ae,relatedCategories:q=[],relatedCategoryIds:te=[]}=K||{};return e.createElement(e.Fragment,null,e.createElement(vo,{label:(0,a.t)("Related Products",null,{project:"commerce-product-composer"}),subtitle:!w||ae===$r().OFF?(0,a.t)("Showcase similar items on your Product Pages.",null,{project:"commerce-product-composer"}):e.createElement(Co,null),onClick:()=>S(!0),sx:{marginTop:2}}),h&&e.createElement(Dm,{initialRelatedProductsValue:B,onSetInitialRelatedProductsValue:_,productId:Z,collectionId:H,websiteId:X,relatedCategories:q,relatedCategoryIds:te,productTags:A.tags,onClose:()=>S(!1),isRelatedProductEnabled:w,onEnableRelatedProducts:W}))};var ts=t(53085);const Mm=()=>{const{navigateAway:h}=go(),{data:S}=(0,io.Z)(qi),A=()=>{h("/config/commerce/product-reviews-dashboard")};if(!S)return null;const{displayNativeProductReviewsEnabled:O,displayImportedProductReviewsEnabled:M}=S,N=O||M;return e.createElement(e.Fragment,null,e.createElement(Q.Z,{label:(0,a.t)("Product Reviews",null,{project:"commerce-product-composer"}),description:N?e.createElement(Co,null):e.createElement(f.Z.Caption,null,e.createElement(s.T,{project:"commerce-product-composer",commerceLink:e.createElement("a",{href:"",onClick:B=>{B.preventDefault(),A()}},e.createElement(s.T,{project:"commerce-product-composer"},"Selling"))},"Show customer reviews directly on all product pages. Manage this feature in {commerceLink}.")),exteriorAccessory:e.createElement(ts.Z,{tabIndex:0,color:"gray.400",onClick:A,onKeyDown:(0,Bn.Z)(A),sx:{cursor:"pointer"}})}),e.createElement(le.Z,null))};var Um=t(157704),ns=t(763064),Lm=t(944481),Nm=t(959281);const{Container:_m,Shell:jm,Body:Bm,ExteriorAccessory:Fm}=(0,no.Z)(Q.Z,le.Z);function os(h){let{value:S,maxLength:A,onChange:O,placeholder:M,label:N,showMaxLength:B,onFocus:_,onBlur:W}=h;return e.createElement(_m,{mt:4},e.createElement(f.Z.Label,{mb:2},N),e.createElement(jm,null,e.createElement(Bm,{flexDirection:"initial"},e.createElement(Ra.Z,{maxLength:A,placeholder:M,value:S,onChange:O,onFocus:_,onBlur:W})),B&&A&&e.createElement(Fm,null,e.createElement(f.Z.Tabular,{fontSize:3,color:"gray.400"},A-S.length))))}var Gm=t(759352);const xm=(0,no.Z)(Q.Z,le.Z),Wm=h=>e.createElement(xm,h);function wm(h){let{label:S,path:A,value:O,onChange:M,onFocus:N,onBlur:B}=h;return e.createElement(e.Fragment,null,e.createElement(f.Z.Label,null,S),e.createElement(Wm,{body:e.createElement(Me.Z,{onChange:_=>{M((0,Gm.l6)(_))},value:O,maxLength:200,onFocus:N,onBlur:B}),interiorPre:e.createElement(f.Z.Body,{m:0,color:"gray.600"},A)}))}const Zm=Kr.Z.isFeatureEnabled(Hr().NESTED_CATEGORIES);function km(h){let{onClose:S}=h;var A,O,M,N;const{product:B,patchProduct:_}=xe(),[W,w]=(0,e.useState)(B.url.productPath),[Z,H]=(0,e.useState)((A=B.seoData)===null||A===void 0?void 0:A.title),[X,K]=(0,e.useState)((O=B.seoData)===null||O===void 0?void 0:O.description),[ae,q]=(0,e.useState)(!1),[te,ge]=(0,e.useState)(!1),[ue,Ve]=(0,e.useState)(!1),Pe=W!==B.url.productPath||Z!==((M=B.seoData)===null||M===void 0?void 0:M.title)||X!==((N=B.seoData)===null||N===void 0?void 0:N.description),De=Zm?"p/":"",ve=`${B.url.collectionPath}${De}`,ke=`${ve}${W}`;return e.createElement(e.Fragment,null,e.createElement(rn,{isDirty:Pe,onClose:S,onSave:()=>{_({seoData:{title:Z,description:X},url:{...B.url,productPath:W,fullPath:ke},urlId:W}),S()},title:(0,a.t)("SEO",null,{project:"commerce-product-composer"}),subtitle:(0,a.t)("Search engine optimization (SEO) allows you to improve your ranking in search results.",null,{project:"commerce-product-composer"})},e.createElement(rn.Section,null,e.createElement(wm,{label:(0,a.t)("Url",null,{project:"commerce-product-composer"}),value:W,path:ve,onChange:he=>{w(he)},onFocus:()=>q(!0),onBlur:()=>q(!1)}),ae&&e.createElement(fo,{text:(0,a.t)("Avoid long URLs with too many keywords. The URL should contain the product name and one keyword.",null,{project:"commerce-product-composer"})}),e.createElement(os,{label:(0,a.t)("SEO Title",null,{project:"commerce-product-composer"}),placeholder:(0,a.t)("Enter a title...",null,{project:"commerce-product-composer"}),value:Z||"",onChange:he=>H(he),maxLength:100,showMaxLength:!0,onFocus:()=>ge(!0),onBlur:()=>ge(!1)}),te&&e.createElement(fo,{text:(0,a.t)("Keep your title between 50 and 60 characters to make sure it appears correctly in search results.",null,{project:"commerce-product-composer"})}),e.createElement(os,{label:(0,a.t)("SEO Description",null,{project:"commerce-product-composer"}),placeholder:(0,a.t)("Enter a description...",null,{project:"commerce-product-composer"}),value:X||"",onChange:he=>K(he),maxLength:400,showMaxLength:!0,onFocus:()=>Ve(!0),onBlur:()=>Ve(!1)}),ue&&e.createElement(fo,{text:(0,a.t)("Write a human-readable description using product keywords to make it easier for customers to find your product in search results.",null,{project:"commerce-product-composer"})}))))}const Vm=km;function Hm(h){let{title:S,link:A,description:O}=h;const[M,N]=(0,e.useState)(!1),B=aa(),{shouldShowHints:_}=kt();return e.createElement(R.Z,{mt:6,className:Ft.unmask},e.createElement(Nm.Z,{title:S,link:A,description:O}),e.createElement(Mn.default,{flush:!0},e.createElement(d.Z.Tertiary,{sx:{marginTop:2},onClick:()=>N(!0),animationDirection:"none",onKeyDown:(0,Bn.Z)(()=>N(!0))},e.createElement(s.T,{project:"commerce-product-composer"},"Edit")),B&&_&&e.createElement(mo.Z,{usage:"badge",status:"info",label:(0,a.t)("Recommended",null,{project:"commerce-product-composer"}),mt:2,ml:2})),M&&e.createElement(Vm,{onClose:()=>N(!1)}))}var Km=t(608999),Ym=t(95317),rs=t.n(Ym);const zm=h=>{let{previewImage:S,processingProgress:A}=h;return e.createElement(l.Z,{sx:{position:"relative",margin:"auto"},size:"300px",alignItems:"center",justifyContent:"center"},S&&e.createElement(fe.Z,{sx:{opacity:.5,mt:"2"},className:rs().image,src:S}),e.createElement(dn,{percentage:A}))};function $m(h){let{onClose:S,onSave:A,image:O}=h;const{product:M}=xe(),[N,B]=(0,e.useState)(!1),[_,W]=(0,e.useState)(O),[w,Z]=(0,e.useState)(!1),[H,X]=(0,e.useState)(!1),[K,ae]=(0,e.useState)(null),{addLibraryImage:q,uploadImage:te}=rt(),ge=De=>{let{onTrigger:ve}=De;return _?(_==null?void 0:_.mediaProcessingState)!==ne().READY?e.createElement(zm,{previewImage:_==null?void 0:_.urls.https,processingProgress:(_==null?void 0:_.processingProgress)||0}):e.createElement(e.Fragment,null,e.createElement(fe.Z,{sx:{mt:"2"},className:rs().image,src:_.urls.https,onError:()=>X(!0)}),H?e.createElement(l.Z,{width:"100%",justifyContent:"space-between",flexDirection:"row-reverse"},e.createElement(d.Z.Danger,{animationDirection:"none",onClick:()=>{W(void 0),X(!1)}},e.createElement(s.T,{project:"commerce-product-composer"},"Remove"))):e.createElement(l.Z,{width:"100%",justifyContent:"space-between"},e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:()=>ae(_)},e.createElement(s.T,{project:"commerce-product-composer"},"Edit Image")),e.createElement(d.Z.Danger,{animationDirection:"none",onClick:()=>W(void 0)},e.createElement(s.T,{project:"commerce-product-composer"},"Remove"))),e.createElement(le.Z,null)):e.createElement(jn,{onClick:ve,label:(0,a.t)("Add image",null,{project:"commerce-product-composer"}),isDraggingImage:w})},ue=De=>{B(!0),te(De,{onProgress:ve=>W(ve),onComplete:ve=>{W({...ve,id:Ye()()})},onError:()=>W(void 0)})},Ve=async De=>{const[ve]=De;ve&&(Z(!1),X(!1),ue(ve))},Pe=async De=>{const[ve]=De;if(ve&&M){const ke=q(ve);W(ke),X(!1)}};return e.createElement(e.Fragment,null,e.createElement(rn,{maxHeight:700,isDirty:N,onClose:S,onSave:()=>A(_),title:(0,a.t)("Social Share",null,{project:"commerce-product-composer"}),subtitle:(0,a.t)("If you don\u2019t add a social sharing image, we\u2019ll use the item's thumbnail instead",null,{project:"commerce-product-composer"})},e.createElement(rn.Section,null,e.createElement(f.Z.Label,{mt:6,mb:3},e.createElement(s.T,{project:"commerce-product-composer"},"Alternate Social Sharing Image")),e.createElement(Dt,{onUploadFiles:Ve,onChooseAssetIds:Pe},e.createElement(wt,null,De=>{let{onTrigger:ve}=De;return e.createElement(ce.Z,{onDrop:ke=>!_&&Ve([ke]),onDragEnter:()=>!_&&Z(!0),onDragLeave:()=>!_&&Z(!1),validMimeTypes:ai.K,maxSize:ri.nq,multiple:!1},ge({onTrigger:ve}))})))),K&&e.createElement(Zr.Z,{imageSrc:K.urls.https,onSave:async De=>{ae(null),ue(De)},onCancel:()=>ae(null),isOpen:!0}))}function Xm(h){let{title:S,link:A,description:O,image:M}=h;var N;const[B,_]=(0,e.useState)(!1),{product:W,patchProduct:w}=xe();return e.createElement(R.Z,{mt:6},e.createElement(Km.Z,{cover:(M==null?void 0:M.urls.https)||((N=W.thumbnailImage)===null||N===void 0?void 0:N.urls.https),title:S,link:A,description:O}),e.createElement(Mn.default,{flush:!0},e.createElement(d.Z.Tertiary,{sx:{marginTop:2},onClick:()=>_(!0),animationDirection:"none"},e.createElement(s.T,{project:"commerce-product-composer"},"Edit"))),B&&e.createElement($m,{image:M,onClose:()=>_(!1),onSave:Z=>{_(!1),w({seoData:{...W.seoData,seoImageId:Z==null?void 0:Z.id,seoImage:Z}})}}))}const Qm=(0,a.t)("This description will automatically be generated by search engines. Click edit below to provide an alternative description.",null,{project:"commerce-product-composer"});function Jm(){var h,S;const[A,O]=(0,e.useState)("seo-and-url"),{siteTitle:M,baseUrl:N}=Ae.default.getState(),{product:B}=xe(),W=(()=>{var X;const K=((X=B.seoData)===null||X===void 0?void 0:X.title)||B.name,ae={"%s":{exampleText:M},"%p":{exampleText:K},"%i":{exampleText:K}},q=(0,ns.l)(ae);let te=Pr.default.getState().itemTitleFormat;return te=te?(0,Lm.D)(te):"",(0,ns.q)(q,ae,te)})(),w=`${N}${B.url.fullPath}`,Z=((h=B.seoData)===null||h===void 0?void 0:h.description)||Qm,H=(S=B.seoData)===null||S===void 0?void 0:S.seoImage;return e.createElement("div",null,e.createElement(Um.Z,{options:[{label:(0,a.t)("SEO and URL",null,{project:"commerce-product-composer"}),value:"seo-and-url"},{label:(0,a.t)("Social Share",null,{project:"commerce-product-composer"}),value:"social-share"}],value:A,onChange:X=>O(X),fitted:!0}),A==="seo-and-url"?e.createElement(Hm,{title:W.substring(0,70),link:w,description:Z}):e.createElement(Xm,{title:W,link:w,description:Z,image:H}))}const qm=Jm;var ep=t(295322),tp=t.n(ep),np=t(586745),op=t.n(np);const as=()=>Y.Squarespace.Models.ConnectedAccounts.loadFromStore(),rp=()=>!as().some(h=>Y.Squarespace.ConnectedAccountCapabilities.can(h,Y.Squarespace.ConnectedAccountCapabilities.PUSH)),ap=(h,S)=>[...h,...S].some(O=>{let{pushEnabled:M}=O;return M})?!(0,i.isEqual)(h.map(O=>({...O,message:O.message||null})),S.map(O=>({...O,message:O.message||null}))):!1,ip=()=>{const{product:h}=xe(),S=h.socialPushFields.shareStates.some(O=>{let{pushEnabled:M}=O;return M}),A=h.socialPushFields.pushedServices.length>0;return S||A},is=h=>h.reduce((S,A)=>({...S,[A]:!0}),{});function sp(h){let{onClose:S}=h;const{externalYUIModules:A}=kt();if(!A)throw new Error("externalYUIModules is required");const{socialAccountsConstructor:O,dialog:M}=A||{},{patchProduct:N,product:B}=xe(),_=e.useRef(null),W=e.useCallback(w=>{if(w){var Z,H;const{shareStates:X,pushedServices:K,pendingPushedServices:ae}=B.socialPushFields;_.current=new O({dialog:M,recordType:op().STORE_ITEM,data:X,pushedServices:is(K),pendingPushedServices:is(ae),models:as(),enforceMaxLength:!0,contentBox:Y.one('[data-yui-mount="social-accounts"]')}),(Z=_.current)===null||Z===void 0||Z.render(),(H=_.current)===null||H===void 0||H.show()}},[]);return e.useEffect(()=>()=>{var w;(w=_.current)===null||w===void 0||w.destroy()},[]),e.createElement(rn,{isGray:!0,width:1e3,title:(0,a.t)("Social Accounts",null,{project:"commerce-product-composer"}),subtitle:(0,a.t)("Update social accounts when you publish a product.",null,{project:"commerce-product-composer"}),isDirty:()=>{var w;return ap(B.socialPushFields.shareStates,(w=_.current)===null||w===void 0?void 0:w.get("data"))},onClose:S,onSave:()=>{N({socialPushFields:{...B.socialPushFields,shareStates:_.current.get("data")}}),S()}},e.createElement(rn.Section,null,e.createElement(R.Z,{className:tp().container,ref:W,"data-yui-mount":"social-accounts",minHeight:"sizes.750"})))}const cp=pr(sp);function lp(){const[h,S]=e.useState(!1),A=rp(),O=ip(),{alertIfUnavailable:M}=wr(),{navigateAway:N}=go(),B="/config/settings/connected-accounts",_=()=>{N(B)},W=A?{subtitle:e.createElement(s.T,{project:"commerce-product-composer",link:e.createElement("a",{href:B,onClick:w=>{w.preventDefault(),_()}},e.createElement(s.T,{project:"commerce-product-composer"},"Connected Accounts"))},"To enable updating social accounts when you publish a product, turn on this feature in {link}."),onClick:()=>{_()}}:{subtitle:O?e.createElement(Co,null):(0,a.t)("Update social accounts when you publish a product.",null,{project:"commerce-product-composer"}),onClick:()=>{M()||S(!0)}};return e.createElement(e.Fragment,null,e.createElement(vo,{...W,label:(0,a.t)("Social Accounts",null,{project:"commerce-product-composer"}),sx:{marginTop:4}}),h&&e.createElement(cp,{onClose:()=>{S(!1)}}))}const up=lp;var dp=t(210750),mp=t.n(dp);const pp=(0,a.t)("Add to Cart",null,{project:"commerce-product-composer"}),fp=()=>{const{product:h,patchProduct:S}=xe(),[A,O]=(0,e.useState)(h.useCustomAddButtonText?h.customAddButtonText:void 0),M=mp()(B=>{S(B?{customAddButtonText:B,useCustomAddButtonText:!0}:{useCustomAddButtonText:!1})},200),N=B=>{O(B),M(B)};return e.createElement(e.Fragment,null,e.createElement(f.Z.Label,{mb:2,mt:4},e.createElement(s.T,{project:"commerce-product-composer"},"Button Text")),e.createElement(Q.Z,{variant:"floating",body:e.createElement(Me.Z,{placeholder:pp,value:A,onChange:N,sx:{":focus":{background:"none"}}})}))};var Ep=t(259093),gp=t.n(Ep);const ng=()=>{const{product:h}=useProductContext();return!!h.productFormId};function vp(h){let{onClose:S}=h;const{externalYUIModules:A}=kt();if(!A)throw new Error("externalYUIModules is required");const{customFormsConstructor:O,dialog:M}=A,{patchProduct:N,product:B}=xe(),_=e.useRef(null),W=e.useCallback(w=>{if(w&&B){var Z,H;_.current=new O({dialog:M,data:B.productFormId,formType:gp().PRODUCT,contentBox:Y.one('[data-yui-mount="custom-forms"]')}),(Z=_.current)===null||Z===void 0||Z.render(),(H=_.current)===null||H===void 0||H.show()}},[]);return e.useEffect(()=>()=>{var w;(w=_.current)===null||w===void 0||w.destroy()},[]),e.createElement(rn,{isUnmasked:!0,isGray:!0,title:(0,a.t)("Custom Forms",null,{project:"commerce-product-composer"}),subtitle:(0,a.t)("Collect information when customers add this to their cart.",null,{project:"commerce-product-composer"}),isDirty:()=>{var w;return((w=_.current)===null||w===void 0?void 0:w.get("data"))!==B.productFormId},onClose:S,onSave:()=>{var w;N({productFormId:((w=_.current)===null||w===void 0?void 0:w.get("data"))||""}),S()}},e.createElement(rn.Section,null,e.createElement(R.Z,{ref:W,"data-yui-mount":"custom-forms"})))}const Cp=pr(vp);var hp=t(543121),Sp=t(219190);async function Tp(){const{data:h}=await Te.default.get("/api/rest/forms");return h.map(A=>({...A,fields:A.fields.map(O=>JSON.parse(O))}))}const yp=h=>{const S=h.fields.map(O=>O.title),A=S.slice(0,4).join(", ");if(h.fields.length>4){const O=(0,a._6)({one:"{%n} more field",other:"{%n} more fields"},S.length-4,null,{project:"commerce-product-composer"});return(0,a.t)("{initialFields}, {numRemainingFields}",{initialFields:A,numRemainingFields:O},{project:"commerce-product-composer",notes:'List of the fields in a product form e.g. "name, currency, email, 4 more fields"'})}return A};function Ip(h){const[S,A]=e.useState(!1),{product:O,setProduct:M}=xe(),{alertIfUnavailable:N}=wr(),{showConfirmModal:B}=(0,Je.t)(),{data:_,refetch:W,isError:w}=(0,io.Z)(Tp,()=>null,!1),Z=(_==null?void 0:_.find(K=>K.id===O.productFormId))??null,H=Z?yp(Z):null,X=async()=>{await B({title:(0,a.t)("Something went wrong",null,{project:"commerce-product-composer"}),message:(0,a.t)("Unable to load forms. Try again or refresh the page.",null,{project:"commerce-product-composer"}),confirmLabel:(0,a.t)("Try Again",null,{project:"commerce-product-composer"}),cancelLabel:(0,a.t)("Close",null,{project:"commerce-product-composer"})})&&W()};return(0,e.useEffect)(()=>{S||W()},[S]),e.createElement(l.Z,{flexDirection:"column"},e.createElement(f.Z.Label,null,e.createElement(s.T,{project:"commerce-product-composer"},"Add to Cart Form")),e.createElement(f.Z.Caption,{mt:2,mb:3},e.createElement(s.T,{project:"commerce-product-composer"},"Collect extra information from shoppers when they add this item to their cart. Form responses are displayed in your order details.")),O.productFormId&&Z?e.createElement(Q.Z,{label:e.createElement(f.Z.Body,{margin:0,fontweight:"semibold"},Z==null?void 0:Z.name),description:e.createElement(f.Z.Caption,{sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},H),sx:{cursor:"pointer"},interiorAccessory:e.createElement(l.Z,{pt:1,alignItems:"center"},e.createElement(hp.Z,{sx:{marginRight:3},onClick:()=>{N()||A(!0)}}),e.createElement(Sp.Z,{onClick:()=>{M({...O,productFormId:""})}}))}):e.createElement(d.Z.Tertiary,{onClick:()=>{w?X():N()||A(!0)},sx:{alignSelf:"start"}},e.createElement(s.T,{project:"commerce-product-composer"},"Add Form")),e.createElement(le.Z,null),S&&e.createElement(Cp,{onClose:()=>{A(!1)},...h}))}const Pp=Ip;var Xr=function(h){return h.PHYSICAL="PHYSICAL",h.DIGITAL="DIGITAL",h.SERVICE="SERVICE",h}({});const Ro=50,bp=1,Ap="OTP",Op="PUBLISHED",Dp={pageSize:Ro,searchQuery:"",productTypes:[Xr.PHYSICAL,Xr.DIGITAL,Xr.SERVICE],applyMaxVariantsFilter:!0,maxVariants:bp,subscriptionFilter:Ap,publishingState:Op,excludedItemIds:[]},Rp=async h=>{try{return(await Te.default.get("/api/3/commerce/products/",{params:{...Dp,...h},paramsSerializer:A=>kr().stringify(A,{arrayFormat:"repeat"})})).data}catch{throw new Error("Something went wrong")}};var Mp=t(800598),Up=t(24519),Lp=t(192702),Np=t(956436),_p=t.n(Np);const Qr=h=>{let{featuredImage:S,images:A,alt:O=""}=h,M;return S?M=S:A.length&&(M=A[0]),e.createElement(l.Z,{justifyContent:"center",alignItems:"center",backgroundColor:Se.colors.gray[900],width:"44px",height:"44px"},M?e.createElement(Lp.Z,{image:M,className:_p().thumbnail,alt:O}):e.createElement(Up.Z,{color:Se.colors.gray[600]}))},jp=h=>{let{products:S,onSelect:A,selectionMap:O,maxProductsReached:M}=h;const N=(B,_,W)=>{if(B.stopPropagation(),_){A(!1,W);return}A(!0,W)};return e.createElement(e.Fragment,null,e.createElement(qn.Z,{allowMultipleItemsOpen:!0},S.map(B=>{const{id:_,thumbnailImage:W,name:w,images:Z}=B,H="variantAttributeNames"in B?B.variantAttributeNames:[],X="variants"in B?B.variants:[],K=H.length>0,ae=_ in O;return e.createElement(qn.Z.Item,{key:_,isOpen:K?void 0:!1},e.createElement(qn.Z.Header,{exteriorPre:K?e.createElement(qn.Z.Chevron,null):e.createElement(R.Z,{width:Se.space[4]}),sx:{opacity:M&&!ae?.6:1,cursor:K?"pointer":"default"},interiorPre:e.createElement(Zn.Z,{display:"flex",interaction:Zn.Z.WithoutFeedback,onClick:q=>q.stopPropagation(),tabIndex:-1},e.createElement(Mp.Z,{"aria-label":"Activate",checked:ae,"data-test":"accordion-checkbox-1",onChange:q=>{A(q,B)},name:w,isDisabled:M&&!ae,onClick:q=>{q.stopPropagation()},onKeyUp:q=>{q.key==="Enter"&&N(q,ae,B)}})),body:e.createElement(l.Z,{alignItems:"center"},e.createElement(R.Z,{ml:Se.space[2]}),e.createElement(Qr,{featuredImage:W,images:Z,alt:w}),e.createElement(f.Z.Body,{m:Se.space[2]},w))}),e.createElement(qn.Z.Body,null,K&&X.map(q=>{let{attributes:te,id:ge,mainImage:ue}=q;const Ve=Object.values(te)[0];return e.createElement(e.Fragment,{key:ge},e.createElement(le.Z,null),e.createElement(Q.Z,{key:ge,label:e.createElement(l.Z,{alignItems:"center"},e.createElement(Qr,{featuredImage:ue,images:[],alt:w}),e.createElement(f.Z.Body,{m:Se.space[2]},Ve)),interiorPre:e.createElement(R.Z,{ml:Se.space[6]}),sx:{opacity:M&&!ae?.6:1}}))})))})))},Bp=e.memo(jp);var Mo=t(961914);const Fp=h=>{let{isOpen:S,onApply:A,onBackClick:O,canApply:M,isEditMode:N,isDirty:B,children:_}=h;return e.createElement(gi,{header:e.createElement(Fn.Z.Item,null,e.createElement(Yn.Z,{direction:"row",justifyContent:"space-between",space:1},B?e.createElement(d.Z.Tertiary,{"aria-label":(0,a.t)("Cancel",null,{project:"commerce-product-composer"}),onClick:()=>O()},e.createElement(s.T,{project:"commerce-product-composer"},"Cancel")):e.createElement(lr.Z,{"aria-label":(0,a.t)("Back",null,{project:"commerce-product-composer"}),onClick:()=>O()}),e.createElement(f.Z.Subtitle,null,N?e.createElement(s.T,{project:"commerce-product-composer"},"Edit Product Add-ons"):e.createElement(s.T,{project:"commerce-product-composer"},"Add Product Add-ons")),e.createElement(d.Z.Primary,{"aria-label":(0,a.t)("Apply",null,{project:"commerce-product-composer"}),onClick:()=>A(),disabled:!M},e.createElement(s.T,{project:"commerce-product-composer"},"Apply")))),isOpen:S,onBackClick:O},e.createElement(Fn.Z.Item,null,e.createElement(f.Z.Title,{as:"h2"},e.createElement(s.T,{project:"commerce-product-composer"},"Product Add-ons")),e.createElement(f.Z.Subtitle,{color:"gray.400"},Mo.y,e.createElement(R.Z,{width:Se.space[1],sx:{display:"inline-block"}}),e.createElement("a",{href:Jn.SELLING_ADD_ON_PRODUCTS,target:"_blank"},e.createElement(s.T,{project:"commerce-product-composer"},"Learn more"))),e.createElement(R.Z,{mb:Se.space[4],mt:Se.space[6],sx:{position:"relative"}},_)))};var Gp=t(477743);const ss=h=>{let{children:S,disabled:A,onClick:O,ariaLabel:M}=h;return e.createElement(Zn.Z.Element.Icon,{disabled:A,onClick:O,m:0,size:Se.sizes.sizes[150],sx:{opacity:A?"0.3":"1","&:hover":{backgroundColor:A?"transparent":"gray.800",cursor:A?"not-allowed":"pointer",borderRadius:"circle"}},"aria-label":M},S)},xp=h=>{let{offsetNumber:S,showPreviousPage:A,showNextPage:O,numberOfProductsOnPage:M,totalNumberOfProducts:N,onPreviousPage:B,onNextPage:_,...W}=h;const w=M?S+1:0,Z=S+M,H=Math.floor(S/Ro)+1,X=Math.ceil(N/Ro);return e.createElement(l.Z,{justifyContent:"space-between",py:Se.space[2],...W},e.createElement(R.Z,null,(0,a.t)("{firstProductOnPage}-{lastProductOnPage} of {totalNumberOfProducts} products",{firstProductOnPage:w,lastProductOnPage:Z,totalNumberOfProducts:N},{project:"commerce-product-composer"})),(O||A)&&e.createElement(l.Z,null,e.createElement(ss,{disabled:!A,onClick:B,ariaLabel:(0,a.t)("Previous page button",null,{project:"commerce-product-composer"})},e.createElement(p.Z,null)),(0,a.t)("{currentPageNumber} of {totalPageNumber}",{currentPageNumber:H,totalPageNumber:X},{project:"commerce-product-composer"}),e.createElement(ss,{disabled:!O,onClick:_,ariaLabel:(0,a.t)("Next page button",null,{project:"commerce-product-composer"})},e.createElement(Gp.Z,null))))},Wp=h=>{let{hasProducts:S,onClick:A,disabled:O}=h,M=(0,a.t)("Add",null,{project:"commerce-product-composer"});return S&&(M=(0,a.t)("Edit",null,{project:"commerce-product-composer"})),e.createElement(d.Z.Tertiary,{size:"small","aria-label":M,onClick:A,disabled:O},M)};var cs=t(619813);const wp=h=>{let{products:S,isMobile:A,hasError:O=!1,sortable:M=!1}=h;const N=S==null?void 0:S.map((B,_)=>{const{thumbnailImage:W,name:w,id:Z,images:H}=B;return e.createElement(Ni,{key:Z,sortable:M&&!O,index:_},e.createElement(e.Fragment,null,e.createElement(l.Z,{alignItems:"center",m:Se.space[2],className:M&&!O?Mt()(uo().option,{[uo().isAlwaysVisible]:A}):""},O&&e.createElement(e.Fragment,null,e.createElement(cs.Z,{color:"red.200"}),e.createElement(R.Z,{width:Se.space[2]})),M&&!O&&e.createElement(l.Z,{sx:{zIndex:1},display:"flex",justifyContent:"center",ml:"-30px",mr:"4px"},e.createElement(Li,null)),e.createElement(Qr,{featuredImage:W,images:H,alt:w}),e.createElement(f.Z.Body,{m:Se.space[2]},w)),e.createElement(le.Z,null)))});return e.createElement(e.Fragment,null,N)},ls=e.memo(wp),Zp=h=>{let{onRemove:S}=h;return e.createElement(Mr.Z,{layout:"row",title:e.createElement(f.Z.Body,{color:"red.200",fontWeight:"semibold",my:0},Mo.zC),body:e.createElement(f.Z.Body,{color:"red.200",my:0},Mo.a0),buttons:[e.createElement(d.Z.Tertiary,{onClick:S},Mo.YH)],icon:e.createElement(cs.Z,{color:"red.200"}),variant:"error"})},kp=(0,no.Z)(Q.Z,le.Z),us=4,Vp=h=>{let{isMobile:S=!1}=h;const[A,O]=(0,e.useState)(!1),[M,N]=(0,e.useState)([]),[B,_]=(0,e.useState)({}),[W,w]=(0,e.useState)(!1),[Z,H]=(0,e.useState)(!1),[X,K]=(0,e.useState)(""),[ae,q]=(0,e.useState)(0),[te,ge]=(0,e.useState)(0),[ue,Ve]=(0,e.useState)({nextPage:"",previousPage:""}),[Pe,De]=(0,e.useState)(!1),{product:ve,patchProduct:ke}=xe(),he=ve.productAddOnsConfiguration.productAddOns.validAddOns,[Fe,Ie]=(0,e.useState)([...he]),je=(0,e.useCallback)(async(Nt,An)=>{De(!0);const{results:xn,nextPageCursor:yo="",previousPageCursor:ta="",totalCount:na}=await Rp({searchQuery:Nt,cursor:An,excludedItemIds:[ve.id]}),[Bt,Vt]=xn.reduce(($n,po)=>{let[Xn,or]=$n;return po.id in B?[Xn.concat(po),or]:[Xn,or.concat(po)]},[[],[]]),Zt=[...Bt,...Vt];N(Zt),ge(na),Ve({nextPage:yo,previousPage:ta}),De(!1)},[ge,Ve,ve,B]),et=()=>{const Nt={};he&&he.forEach(An=>{Nt[An.id]=An}),_(Nt)};(0,e.useEffect)(()=>{et()},[]);const gt=(0,e.useCallback)((Nt,An)=>{const xn={...B};Nt&&Object.entries(xn).length<us?xn[An.id]=An:delete xn[An.id],_(xn),w(!0),H(!0)},[w,H,_,B]),Et=()=>{var Nt;O(!1),K(""),w(!1),H(!1);const An=Object.values(B);ke({productAddOnsConfiguration:{productAddOns:{validAddOns:An,invalidAddOns:(Nt=ve.productAddOnsConfiguration)===null||Nt===void 0?void 0:Nt.productAddOns.invalidAddOns}}}),(0,T.x0)({productId:ve.id,productName:ve.name,numberOfAddOns:Object.values(B).length,productType:(0,y.Z)(ve.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1}),Ie(An)},St=Nt=>{Ve({nextPage:"",previousPage:""}),q(0),je(Nt,"")},Rt=(0,e.useCallback)((Nt,An)=>{var xn;const yo=$o([...Fe],Nt,An);Ie(yo),ke({productAddOnsConfiguration:{productAddOns:{validAddOns:yo,invalidAddOns:(xn=ve.productAddOnsConfiguration)===null||xn===void 0?void 0:xn.productAddOns.invalidAddOns}}})},[ke,Ie,Fe,ve]),Jt=(0,e.useCallback)((0,i.debounce)(St,250),[je]),{productAddOnsConfiguration:{productAddOns:{validAddOns:gn,invalidAddOns:Ln}}}=ve,xt=()=>{var Nt;ke({productAddOnsConfiguration:{productAddOns:{validAddOns:(Nt=ve.productAddOnsConfiguration)===null||Nt===void 0?void 0:Nt.productAddOns.validAddOns,invalidAddOns:[]}}})},cn=!!(gn!=null&&gn.length),kn=!!(Ln!=null&&Ln.length),Pt=(0,Do.c)(ve)?!cn&&!kn:!1;return e.createElement(e.Fragment,null,e.createElement(Yn.Z,{space:1,"data-test":"product-add-on-section"},kn&&e.createElement(e.Fragment,null,e.createElement(Zp,{onRemove:()=>xt()}),e.createElement(R.Z,{height:Se.space[2]})),e.createElement(f.Z.Body,{m:0},e.createElement(s.T,{project:"commerce-product-composer"},"Product Add-ons")),e.createElement(f.Z.Body,{color:"gray.300",mt:Se.space[1]},e.createElement(s.T,{project:"commerce-product-composer"},"Upsell customers with product add-ons directly on the product page.")),kn&&e.createElement(ls,{products:Ln,hasError:!0,sortable:!1,isMobile:S}),cn&&e.createElement(_i,{onSort:Rt},e.createElement(ls,{products:gn,hasError:!1,sortable:(Fe==null?void 0:Fe.length)>1,isMobile:S})),(cn||kn)&&e.createElement(R.Z,{height:Se.space[1]}),e.createElement(Wp,{disabled:Pt||kn,hasProducts:cn,onClick:()=>{O(!0),je("",""),(0,T.rs)({productId:ve.id,productName:ve.name,productType:(0,y.Z)(ve.productType),productEditor:I.MX.PRODUCT_COMPOSER_V1})}})),e.createElement(R.Z,{height:Se.space[1]}),e.createElement(le.Z,null),Pt&&e.createElement(f.Z.Caption,{mt:Se.space[1]},Mo.Ei),e.createElement(Fp,{onBackClick:()=>{O(!1),K(""),w(!1),H(!1),et()},onApply:Et,isOpen:A,canApply:Z,isDirty:W,isEditMode:!1},e.createElement(kp,{padding:Se.space[0],body:e.createElement(Xi.Z.Input,{variant:"floating",inputValue:X,onChange:Nt=>{K(Nt),Jt(Nt)},placeholder:(0,a.t)("Search products",null,{project:"commerce-product-composer"}),"data-test":"product-add-on-search-bar"})}),Pe?e.createElement(L.Z,{sx:{position:"fixed",left:"50%"},mt:Se.space[6]}):e.createElement(e.Fragment,null,e.createElement(Bp,{products:M,onSelect:gt,selectionMap:B,maxProductsReached:Object.entries(B).length===us}),e.createElement(xp,{my:Se.space[2],numberOfProductsOnPage:M.length,totalNumberOfProducts:te,offsetNumber:ae,showNextPage:!!ue.nextPage,showPreviousPage:!!ue.previousPage,onNextPage:()=>{je(X,ue.nextPage),q(ae+Ro)},onPreviousPage:()=>{je(X,ue.previousPage),q(ae-Ro)}}))))};var Hp=t(48992),ds=t(204482),Kp=t(423394),Yp=t(970076);function zp(h){let{product:S}=h;const A=Ao(),{isNewProduct:O,serviceType:M}=kt(),{isMobile:N}=(0,Qn.Z)(),B=(0,Kp.mg)()==="ja-JP";return e.createElement(e.Fragment,null,B&&e.createElement(Mr.Z,{layout:"row",variant:"info",title:(0,a.t)("Use half-width characters and numbers",null,{project:"commerce-product-composer"}),body:(0,a.t)("Make sure you enter all characters and numbers using half-width format. Full-width characters will create display issues.",null,{project:"commerce-product-composer"}),my:8,sx:{"& > div:first-child":{"align-items":"center"}}}),A&&e.createElement(Yp.AiProductComposerEntryPoint,null),e.createElement(ro,{anchor:lt.DETAILS,title:(0,a.t)("Details",null,{project:"commerce-product-composer"})},e.createElement(_n,null),e.createElement(ad,null),e.createElement(fp,null),e.createElement(pd,null)),!(0,C.Mm)(S)&&e.createElement(ro,{anchor:lt.FORMS,title:(0,a.t)("Forms",null,{project:"commerce-product-composer"})},e.createElement(Pp,null)),e.createElement(ro,{anchor:lt.IMAGES,title:(0,a.t)("Images",null,{project:"commerce-product-composer"})},e.createElement(bd,null)),e.createElement(ro,{anchor:lt.INVENTORY,title:M===pt.U.GROUP_EVENT||M===pt.U.CONSULTING_PACKAGES?(0,a.t)("Pricing",null,{project:"commerce-product-composer"}):(0,a.t)("Inventory",null,{project:"commerce-product-composer"})},e.createElement(od,null)),ja(S)&&e.createElement(ro,{anchor:lt.FULFILLMENT,title:(0,a.t)("Fulfillment",null,{project:"commerce-product-composer"})},e.createElement(Tl,{product:S})),e.createElement(ro,{anchor:lt.ORGANIZATION,title:(0,a.t)("Organization",null,{project:"commerce-product-composer"})},!O&&e.createElement(Cm,null),e.createElement(gm,null),e.createElement(Ld,null),!(0,C.Mm)(S)&&e.createElement(Xd,null)),e.createElement(ro,{anchor:lt.SELLING_TOOLS,title:(0,a.t)("Selling Tools",null,{project:"commerce-product-composer"})},Zc(S)&&e.createElement(e.Fragment,null,e.createElement(Vp,{isMobile:N}),e.createElement(R.Z,{height:Se.space[2]})),e.createElement(ym,null),e.createElement(Rm,null),(0,kc.ZP)()&&e.createElement(Mm,null)),e.createElement(ro,{anchor:lt.MARKETING,title:(0,a.t)("Marketing",null,{project:"commerce-product-composer"})},e.createElement(qm,null),!wc()&&e.createElement(up,null)),N&&e.createElement(e.Fragment,null,e.createElement(d.Z.Tertiary,null,e.createElement(Na,{isMobile:!0})),e.createElement(R.Z,null),e.createElement(d.Z.Danger,null,e.createElement(La,{isMobile:!0}))))}const $p=920;function Xp(h){const{isMobile:S}=(0,Qn.Z)(),{innerWidth:A}=(0,Wc.Z)(),O=!S&&A>$p,M=(0,e.useCallback)(N=>{(ds.isBackspaceKey(N)||ds.isDeleteKey(N))&&N.stopPropagation()},[]);return(0,Hp.Z)("keydown",M,{useCapture:!0}),e.createElement(e.Fragment,null,O&&e.createElement(l.Z,{position:"absolute",px:6,py:5,width:"25%",maxWidth:"350px",flexDirection:"column"},e.createElement(Xc,null),e.createElement(ti,null)),e.createElement(Fn.Z.Container,{alignItems:"center",gridConstraint:S?12:6,className:Mt()(ei().container,{[ei().isMobile]:S})},e.createElement(Fn.Z.Item,{columns:12},!O&&e.createElement(ti,null),e.createElement(zp,h))))}const Qp=Xp;var Jp=t(76645),Gn=t.n(Jp);function qp(){const{product:h}=xe(),S=(0,zn.LY)(h.variants[0]),A=(0,Do.c)(h);return e.createElement("div",{className:Gn().tableRow},e.createElement("div",{className:Gn().tableHeaderCell},e.createElement(f.Z.Caption,{sx:{textTransform:"none",paddingLeft:2}},e.createElement(s.T,{project:"commerce-product-composer"},"Variation"))),e.createElement("div",{className:Gn().tableHeaderCell}),e.createElement("div",{className:Mt()(Gn().tableHeaderCell,Gn().rightAligned)},e.createElement(f.Z.Caption,{sx:{textTransform:"none",paddingRight:1}},e.createElement(s.T,{project:"commerce-product-composer"},"SKU"))),e.createElement("div",{className:Mt()(Gn().tableHeaderCell,Gn().rightAligned)},!A&&e.createElement(f.Z.Caption,{sx:{textTransform:"none",paddingRight:1}},e.createElement(s.T,{project:"commerce-product-composer"},"Stock"))),e.createElement("div",{className:Mt()(Gn().tableHeaderCell,Gn().rightAligned)},e.createElement(f.Z.Caption,{sx:{textTransform:"none",paddingRight:1}},e.createElement(s.T,{project:"commerce-product-composer"},"Price"))),e.createElement("div",{className:Mt()(Gn().tableHeaderCell,Gn().rightAligned)},S&&e.createElement(f.Z.Caption,{sx:{textTransform:"none"}},e.createElement(s.T,{project:"commerce-product-composer"},"Dimensions"))),e.createElement("div",{className:Mt()(Gn().tableHeaderCell)}))}var ef=t(673703),Jr=t.n(ef);function ms(h){let{attributes:S,openVariantGenerator:A}=h;const O=Object.entries(S).filter(M=>{let[N,B]=M;return!!B});return e.createElement("div",{className:Jr().variantContainer,onClick:A,"data-testid":"pc-variant-table-attributes-cell"},O.map((M,N)=>{let[B,_]=M;return e.createElement(e.Fragment,{key:`${B}-${_}`},e.createElement("div",{className:Jr().variant},_),N!==O.length-1&&e.createElement("div",{className:Jr().separator}))}))}var tf=t(193094),nf=t(205476),of=t.n(nf),rf=t(827307),af=t(885168),sf=t(381596),ps=t(69455);const cf=h=>{let{price:S,salePrice:A,onSale:O,onPriceChange:M,onSalePriceChange:N,shouldShowLabel:B}=h;return e.createElement(ps.Z,{cellBody:e.createElement(e.Fragment,null," ",O&&e.createElement(l.Z,{paddingRight:2},e.createElement(sf.Z,null)),e.createElement(rf.Z,{amount:O?A:S})),popOverBody:e.createElement(R.Z,{py:1},e.createElement(di.Z,{price:S,salePrice:A,onSale:O,onChange:M,shouldShowLabel:B}),e.createElement(af.Z,{price:S,salePrice:A,onSale:O,onChange:N,shouldShowLabel:B})),className:of().container,sx:{justifyContent:O?"space-between":"end"}})};function lf(h){let{variant:S,onUpdateVariant:A}=h;return e.createElement(ps.Z,{cellBody:e.createElement(f.Z.Caption,{color:"black",width:"100%",backgroundColor:"gray.900",padding:2,fontSize:3,marginTop:"-6px",lineHeight:2},xa({variant:S,emptyState:"--"})),popOverBody:e.createElement(R.Z,{m:4,minWidth:240},e.createElement(f.Z.Label,{pl:2},(0,a.t)("Dimensions",null,{project:"commerce-product-composer"})),e.createElement(Wa,{variant:S,onUpdateVariant:A})),sx:{textAlign:"right"}})}var uf=t(786158),so=t.n(uf);function df(){const{product:h,patchProduct:S}=xe();return{deleteVariant:async(O,M)=>{const N=(0,y.Z)(h.productType),B=h.variants.length===1;(0,T.Et)({productId:h.id,productName:h.name,productType:N,variantId:O,productEditor:I.MX.PRODUCT_COMPOSER_V1,fulfilledExternally:(0,C.sn)(h)}),M==null||M(),S(B?{variants:qa(),variantAttributeNames:[]}:{variants:h.variants.filter(_=>_.id!==O)})}}}const fs=h=>`variant-deletion-${h.id}`;function mf(){const{setIsVariantGeneratorOpen:h,setCurrentRoute:S,showToast:A}=k(),{product:O,patchProduct:M,patchVariant:N}=xe(),{deleteVariant:B}=df(),[_,W]=e.useState(null),w=(0,Do.c)(O);return e.useEffect(()=>{if(_!==null){const Z=fs(_);A({id:Z,content:(0,a.t)("Variant deleted",null,{project:"commerce-product-composer"}),action:()=>e.createElement(d.Z.Tertiary,{onClick:()=>{M({variants:[...O.variants,_]}),A({id:Z,content:(0,a.t)("Variant reinstated",null,{project:"commerce-product-composer"})})}},(0,a.t)("Undo",null,{project:"commerce-product-composer"}))}),W(null)}},[_,M,O.variants]),e.createElement(e.Fragment,null,O.variants.map(Z=>{const{id:H,attributes:X,sku:K,stock:ae,price:q,salePrice:te,onSale:ge}=Z;return e.createElement("div",{className:so().tableRow,key:H},e.createElement("div",{className:so().tableCell},e.createElement(ui,{variantId:H})),e.createElement("div",{className:so().tableCell},e.createElement(ms,{attributes:X,openVariantGenerator:()=>{h(!0)}})),e.createElement("div",{className:so().skuCell},e.createElement(mi,{sku:K,onChange:ue=>N(H,{sku:ue})})),e.createElement("div",{className:so().tableCell},!w&&e.createElement(tf.Z,{stock:ae,onChange:ue=>{N(H,{stock:ue})}})),e.createElement("div",{className:so().tableCell},e.createElement(cf,{price:q,salePrice:te,onSale:ge,onPriceChange:(ue,Ve)=>N(H,{price:ue,salePrice:Ve}),onSalePriceChange:(ue,Ve)=>N(H,{salePrice:ue,onSale:Ve})})),e.createElement("div",{className:so().tableCell},(0,zn.LY)(Z)&&e.createElement(lf,{variant:Z,onUpdateVariant:ue=>N(H,{shippingSize:ue.shippingSize,shippingWeight:ue.shippingWeight})})),e.createElement("div",{className:so().tableCell},e.createElement(Re.Z,{sx:{cursor:"pointer"},onClick:async()=>{const ue=O.variants.length===1;B(H,()=>{ue&&S(G.HOME)}),W(Z)}})))}))}const pf=mf;var ff=t(87696),Ef=t.n(ff);function gf(){const{product:h}=xe(),S=(0,Do.c)(h);return e.createElement(e.Fragment,null,S&&e.createElement("div",{className:Ef().subscriptionFooter},e.createElement(f.Z.Caption,{sx:{mt:2}},(0,a.t)("Subscription products do not have stock levels.",null,{project:"commerce-product-composer"}))))}var vf=t(142380),Es=t.n(vf),Cf=t(110942),gs=t.n(Cf),vs=t(675241);const Cs=[{label:(0,a.t)("Color",null,{project:"commerce-product-composer"}),placeholder:(0,a.t)("Navy, Black, White...",null,{project:"commerce-product-composer"}),suggestions:[(0,a.t)("Aqua",null,{project:"commerce-product-composer"}),(0,a.t)("Beige",null,{project:"commerce-product-composer"}),(0,a.t)("Black",null,{project:"commerce-product-composer"}),(0,a.t)("Blue",null,{project:"commerce-product-composer"}),(0,a.t)("Brown",null,{project:"commerce-product-composer"}),(0,a.t)("Charcoal",null,{project:"commerce-product-composer"}),(0,a.t)("Chartreuse",null,{project:"commerce-product-composer"}),(0,a.t)("Chocolate",null,{project:"commerce-product-composer"}),(0,a.t)("Cherry",null,{project:"commerce-product-composer"}),(0,a.t)("Eggshell",null,{project:"commerce-product-composer"}),(0,a.t)("Grey",null,{project:"commerce-product-composer"}),(0,a.t)("Green",null,{project:"commerce-product-composer"}),(0,a.t)("Ivy",null,{project:"commerce-product-composer"}),(0,a.t)("Jade",null,{project:"commerce-product-composer"}),(0,a.t)("Kelly Green",null,{project:"commerce-product-composer"}),(0,a.t)("Lilac",null,{project:"commerce-product-composer"}),(0,a.t)("Lime",null,{project:"commerce-product-composer"}),(0,a.t)("Magenta",null,{project:"commerce-product-composer"}),(0,a.t)("Maroon",null,{project:"commerce-product-composer"}),(0,a.t)("Mint",null,{project:"commerce-product-composer"}),(0,a.t)("Mustard",null,{project:"commerce-product-composer"}),(0,a.t)("Navy",null,{project:"commerce-product-composer"}),(0,a.t)("Olive",null,{project:"commerce-product-composer"}),(0,a.t)("Orange",null,{project:"commerce-product-composer"}),(0,a.t)("Peach",null,{project:"commerce-product-composer"}),(0,a.t)("Purple",null,{project:"commerce-product-composer"}),(0,a.t)("Pink",null,{project:"commerce-product-composer"}),(0,a.t)("Red",null,{project:"commerce-product-composer"}),(0,a.t)("Silver",null,{project:"commerce-product-composer"}),(0,a.t)("Salmon",null,{project:"commerce-product-composer"}),(0,a.t)("Tan",null,{project:"commerce-product-composer"}),(0,a.t)("Teal",null,{project:"commerce-product-composer"}),(0,a.t)("Violet",null,{project:"commerce-product-composer"}),(0,a.t)("White",null,{project:"commerce-product-composer"}),(0,a.t)("Yellow",null,{project:"commerce-product-composer"})]},{label:(0,a.t)("Size",null,{project:"commerce-product-composer"}),placeholder:(0,a.t)("Small, Medium, Large...",null,{project:"commerce-product-composer"}),suggestions:[(0,a.t)("XSmall",null,{project:"commerce-product-composer"}),(0,a.t)("Small",null,{project:"commerce-product-composer"}),(0,a.t)("Medium",null,{project:"commerce-product-composer"}),(0,a.t)("Large",null,{project:"commerce-product-composer"}),(0,a.t)("XLarge",null,{project:"commerce-product-composer"}),(0,a.t)("XXLarge",null,{project:"commerce-product-composer"}),(0,a.t)("XXXLarge",null,{project:"commerce-product-composer"}),(0,a.t)("Extra Narrow",null,{project:"commerce-product-composer"}),(0,a.t)("Narrow",null,{project:"commerce-product-composer"}),(0,a.t)("Normal, ",null,{project:"commerce-product-composer"}),(0,a.t)("Wide",null,{project:"commerce-product-composer"}),(0,a.t)("Extra Wide",null,{project:"commerce-product-composer"}),(0,a.t)("Tall",null,{project:"commerce-product-composer"}),(0,a.t)("Petite",null,{project:"commerce-product-composer"}),"0","00","1","1.5","2","2.5","3","3.5","4","4.5","5","5.5","6","6.5","7","7.5","8","8.5","9","9.5","10","10.5","11","11.5","12","12.5","13","14.5","14","14.5","15","15.5","16","16.5","17","17.5","18","18.5","19","19.5","20","20.5","21","21.5","22","22.5","23","23.5","24","24.5","25","25.5","26","26.5","27","27.5","28","28.5","29","29.5","30","30.5","31","31.5","32","32.5","33","33.5","34","34.5","35","35.5","36","36.5","37","37.5","38","38.5","39","39.5","40","40.5","41","41.5","42","42.5","43","43.5","44","44.5","45","45.5","46","46.5","47","47.5","48","48.5","49","49.5","50","50.5","51","51.5","52","52.5","53","53.5","54","54.5","55","55.5","56","56.5","57","57.5","58","58.5","59","59.5","60","70","80","90","100"]},{label:(0,a.t)("Material",null,{project:"commerce-product-composer"}),placeholder:(0,a.t)("Wood, Steel, Plastic...",null,{project:"commerce-product-composer"}),suggestions:[(0,a.t)("Birch",null,{project:"commerce-product-composer"}),(0,a.t)("Brass",null,{project:"commerce-product-composer"}),(0,a.t)("Cardboard",null,{project:"commerce-product-composer"}),(0,a.t)("Canvas",null,{project:"commerce-product-composer"}),(0,a.t)("Cedar",null,{project:"commerce-product-composer"}),(0,a.t)("Cement",null,{project:"commerce-product-composer"}),(0,a.t)("Cherry",null,{project:"commerce-product-composer"}),(0,a.t)("Concrete",null,{project:"commerce-product-composer"}),(0,a.t)("Copper",null,{project:"commerce-product-composer"}),(0,a.t)("Cotton",null,{project:"commerce-product-composer"}),(0,a.t)("Crystal",null,{project:"commerce-product-composer"}),(0,a.t)("Faux Leather",null,{project:"commerce-product-composer"}),(0,a.t)("Faux Fur",null,{project:"commerce-product-composer"}),(0,a.t)("Glass",null,{project:"commerce-product-composer"}),(0,a.t)("Granite",null,{project:"commerce-product-composer"}),(0,a.t)("Gold",null,{project:"commerce-product-composer"}),(0,a.t)("Gold Plated",null,{project:"commerce-product-composer"}),(0,a.t)("Gold Vermeil",null,{project:"commerce-product-composer"}),(0,a.t)("Leather",null,{project:"commerce-product-composer"}),(0,a.t)("Mahogany",null,{project:"commerce-product-composer"}),(0,a.t)("Maple",null,{project:"commerce-product-composer"}),(0,a.t)("Marbal",null,{project:"commerce-product-composer"}),(0,a.t)("Metal",null,{project:"commerce-product-composer"}),(0,a.t)("Oak",null,{project:"commerce-product-composer"}),(0,a.t)("Opal",null,{project:"commerce-product-composer"}),(0,a.t)("Paper",null,{project:"commerce-product-composer"}),(0,a.t)("Pine",null,{project:"commerce-product-composer"}),(0,a.t)("Plastic",null,{project:"commerce-product-composer"}),(0,a.t)("Polyester",null,{project:"commerce-product-composer"}),(0,a.t)("Poplar",null,{project:"commerce-product-composer"}),(0,a.t)("Silver",null,{project:"commerce-product-composer"}),(0,a.t)("Silver Plated",null,{project:"commerce-product-composer"}),(0,a.t)("Sterling Silver",null,{project:"commerce-product-composer"}),(0,a.t)("Twill",null,{project:"commerce-product-composer"}),(0,a.t)("Vegan Leather",null,{project:"commerce-product-composer"}),(0,a.t)("Walnut",null,{project:"commerce-product-composer"}),(0,a.t)("Wood",null,{project:"commerce-product-composer"})]}],qr=h=>h.values.length===0,hs=h=>{var S;return!(!((S=h.label)===null||S===void 0)&&S.trim())},hf=h=>{var S;return((S=h.label)===null||S===void 0?void 0:S.length)>dt.vG},Sf=h=>h.every(qr),Ss=h=>{if(hs(h)&&qr(h))return(0,a.t)("Option must have a name and one or more variants.",null,{project:"commerce-product-composer"});if(hs(h))return(0,a.t)("Option must have a name.",null,{project:"commerce-product-composer"});if(qr(h))return(0,a.t)("Option must have one or more variants.",null,{project:"commerce-product-composer"});if(hf(h))return(0,a.t)("Option name must be under {length} characters.",{length:dt.vG},{project:"commerce-product-composer"})},Ts=h=>h.find(S=>!!Ss(S)),Tf=h=>h.length>dt.$l,yf=h=>h.every(S=>S.values.length<2),If=h=>h.some(S=>h.filter(O=>S.label===O.label).length>1),Pf=h=>h.some(S=>S.values.some(A=>A.title.length>dt.g4)),ys=(h,S)=>{if(yf(h))return(0,a.t)("Options must generate more than one variant.",null,{project:"commerce-product-composer"});if(Tf(S))return(0,a._6)({one:"Item cannot have more than {%n} variant.",other:"Item cannot have more than {%n} variants."},dt.$l,null,{project:"commerce-product-composer"});if(If(h))return(0,a.t)("Options must not have any duplicate names.",null,{project:"commerce-product-composer"});if(Pf(h))return(0,a.t)("Variant names must be under {length} characters.",{length:dt.g4},{project:"commerce-product-composer"})},bf=(h,S)=>Sf(h)?!1:!!ys(h,S)||!!Ts(h);var Af=t(184823),mn=t.n(Af),Of=t(290601),Df=t(77856);const Rf=async(h,S)=>{var A;if(!(!((A=Pr.default.getState().storeSettings)===null||A===void 0)&&A.merchandisingSettings.restockNotificationsEnabled))return null;const{deletedVariantsRaw:M}=(0,Df.VJ)(S,h.variants);if(M.length===0)return null;const B=(await Promise.all(M.map(_=>{let{id:W}=_;return(0,Of.R8)(h.id,W)}))).map((_,W)=>({variant:M[W],emailCount:_.length})).filter(_=>{let{emailCount:W}=_;return W>0});return B.length===0?null:B},Is=5,Mf=h=>{let{onConfirm:S,onCancel:A,waitlistWarnings:O}=h;return e.createElement(e.Fragment,null,e.createElement(f.Z.Subtitle,{as:"h3",fontWeight:"medium",m:0,mb:2,width:"100%"},e.createElement(s.T,{project:"commerce-product-composer"},"Save Option?")),e.createElement(f.Z.Body,{m:0,mb:2,width:"100%"},e.createElement(s.T,{project:"commerce-product-composer"},"Updates will delete these product waitlists:")),e.createElement(f.Z.Body,{m:0,width:"100%"},O.slice(0,Is).map(M=>{let{variant:N,emailCount:B}=M;return e.createElement(e.Fragment,{key:N.id},e.createElement(Q.Z,{label:Object.values(N.attributes).filter(_=>!!_).map(_=>_).join(" "),interiorAccessory:e.createElement(f.Z.Body,{color:"gray.300",m:0},(0,a._6)({one:"{%n} Signup",other:"{%n} Signups"},B,null,{project:"commerce-product-composer"}))}),e.createElement(le.Z,null))})),e.createElement(f.Z.Body,{as:Zn.Z.Element.WithoutFeedback,sx:{textDecoration:"underline",color:Se.colors.gray},mt:2,onClick:()=>{window.open("/config/commerce/waitlists")}},O.length>Is?e.createElement(s.T,{project:"commerce-product-composer"},"View more waitlists"):e.createElement(s.T,{project:"commerce-product-composer"},"View waitlists")),e.createElement(l.Z,{flexWrap:"wrap",justifyContent:"flex-end",mt:2},e.createElement(d.Z,{onClick:A,mr:2,variant:"tertiary"},(0,a.t)("Cancel",{},{project:"commerce-product-composer"})),e.createElement(d.Z,{onClick:S,variant:"tertiary"},(0,a.t)("Save",{},{project:"commerce-product-composer"}))))};var Uf=t(259200),nr=t.n(Uf);const Lf=h=>h.options.length?e.createElement(sn.Z.Dropdown,{...h,placement:"bottom",focusLockIsDisabled:!0}):e.createElement(e.Fragment,null),Nf=(0,ao.SortableElement)(h=>e.createElement(qo.Z.Chip,h)),_f=e.forwardRef((h,S)=>{const A=e.useMemo(()=>(0,ao.SortableContainer)(O=>{let{children:M,...N}=O;return e.createElement(qo.Z,{...N,ref:S},M)}),[S]);return e.createElement(A,h)}),jf=e.forwardRef((h,S)=>{let{onChange:A,setIsOpen:O,variant:M,values:N,onInput:B,onRemove:_,placeholder:W,errors:w,setSelectedVariant:Z,selectedVariant:H,handleOnSort:X,disableCreate:K,...ae}=h;const q=N.map(te=>te.text).join("");return e.createElement(Q.Z,{py:0,mx:3,body:e.createElement(_f,{...ae,key:q,className:K?nr().removeInput:"",helperClass:nr().sortableHelper,pt:N!=null&&N.length?1:2,pb:1,ref:S,onChange:A,onInput:B,placeholder:W(),errors:w,axis:"xy",sx:{input:{"field-sizing":"content","min-width":"156px"}},onSortEnd:te=>{let{oldIndex:ge,newIndex:ue}=te;return X($o(N,ge,ue))},lockToContainerEdges:!0,pressDelay:150},K&&(N==null?void 0:N.length)===0?e.createElement(f.Z.Body,{mt:2,mb:0,fontWeight:Se.fontWeights.medium,color:"gray.300"},e.createElement(s.T,{project:"commerce-product-composer"},"No Tags Found")):N==null?void 0:N.map((te,ge)=>e.createElement(Nf,{collection:q,className:nr().chip,index:ge,key:te.text,label:te.text,onClose:()=>_(te),onMouseDown:ue=>{ue.preventDefault()},onFocus:ue=>{ue.target.value!=="chipDeleteButton"&&Z(te)},onBlur:ue=>{ue.relatedTarget.value!=="deleteVariantButton"&&Z(null)},accessory:e.createElement(mo.Z.CloseButton,{className:nr().deleteButton,value:"chipDeleteButton",onClick:()=>{_(te)},tabIndex:-1})}))),post:()=>w?e.createElement(f.Z.Caption,{color:"red.300"},w):H?e.createElement(Q.Z,{p:0,interiorAccessory:e.createElement(d.Z.Danger,{size:"small",value:"deleteVariantButton",onClick:()=>_(H)},e.createElement(s.T,{project:"commerce-product-composer"},"Delete")),post:e.createElement(le.Z,null)}):null})}),Bf=h=>{let{allSuggestions:S,isMatchingStart:A,isIncludingInput:O,onChange:M,values:N,inputPlaceholder:B,disableCreate:_}=h;const[W,w]=(0,e.useState)([]),[Z,H]=e.useState(!1),[X,K]=(0,e.useState)(!1),[ae,q]=(0,e.useState)(null),te=N.map(ve=>ve.text).join(""),ge=(0,e.createRef)(),ue=(0,e.useRef)(!1);(0,e.useEffect)(()=>{if(ue.current){var ve;ge==null||(ve=ge.current)===null||ve===void 0||ve.focus()}ue.current=!0},[N]);const Ve=ve=>{const ke=ve.trim().toLowerCase(),he=N.map(Ie=>{let{text:je}=Ie;return je});if(ke.length===0)return[];let Fe=S.filter(Ie=>(A?Ie.toLowerCase().startsWith(ke):Ie.toLowerCase().includes(ke))&&!he.includes(ke));return O&&!Fe.some(Ie=>Ie.toLocaleLowerCase()===ke)&&(Fe=[ve,...Fe]),Fe},Pe=ve=>{w(Ve(ve)),H(!0),K(!1)},De=W.map(ve=>e.createElement(sn.Z.Option,{key:ve,value:ve},ve));return e.createElement(sn.Z.Base,{ref:ge,key:te,handleOnSort:M,isOpen:Z,setIsOpen:H,renderDisplay:jf,renderDropdown:Lf,values:N,onInput:Pe,placeholder:B,selectedVariant:ae,errors:X&&(0,a.t)("This tag already exists",null,{project:"commerce-product-composer"}),setSelectedVariant:ve=>{K(!1),q(ve)},onChange:ve=>{if(N.some(he=>{let{text:Fe}=he;return Fe.toLowerCase()===ve.toLowerCase()})){var ke;K(!0),H(!1),(ke=ge.current)===null||ke===void 0||ke.focus();return}M([...N,{text:ve}]),H(!1)},onRemove:ve=>{M(N.filter(ke=>ke.text!==ve.text)),q(null),K(!1)},disableCreate:_},De)},Ps=[{label:(0,a.t)("Dates",null,{project:"commerce-product-composer"}),placeholder:(0,a.t)("April 12-14, May 10-12, June 14-16\u2026",null,{project:"commerce-product-composer"}),suggestions:[]},{label:(0,a.t)("Type",null,{project:"commerce-product-composer"}),placeholder:(0,a.t)("Standard, Deluxe, Premium\u2026",null,{project:"commerce-product-composer"}),suggestions:[(0,a.t)("Standard",null,{project:"commerce-product-composer"}),(0,a.t)("Deluxe",null,{project:"commerce-product-composer"}),(0,a.t)("Premium",null,{project:"commerce-product-composer"})]}],bs=(0,a.t)("Custom...",null,{project:"commerce-product-composer"}),ea="100px",Ff=(0,ao.SortableElement)(h=>{let{index:S,children:A}=h;return e.createElement("li",{className:mn().listItem,key:S},A)}),Gf=(0,ao.SortableContainer)(h=>{let{className:S,children:A}=h;return e.createElement("ul",{className:Mt()(S,mn().optionList)},A)}),xf=(0,ao.SortableHandle)(h=>{let{children:S}=h;return S});function Wf(h){return h?Ps:Cs}function As(h){return Wf(h).map(A=>A.label)}function wf(h){return{label:As(h)[0],values:[],id:Ye()()}}function Os(h){const S=h.variantAttributeNames.map(A=>({id:Ye()(),label:A,values:[]}));return h.variants.forEach(A=>{Object.entries(A.attributes).forEach(O=>{let[M,N]=O;const B=S.find(_=>(_==null?void 0:_.label)===M);B&&!B.values.find(_=>_.title===N)&&N.length>0&&B.values.push({title:N,id:Ye()()})})}),S}function Zf(h,S){return(S?Ps:Cs).find(O=>O.label===h)}function Ds(h,S){return As(S).filter(O=>!h.includes(O))}function kf(h,S,A){const O=h[S],M=Ds(h,A);return(0,i.uniq)([...O?[O]:[],...M,bs]).map(N=>({label:N,value:N}))}const Vf=h=>{const S={};for(const A of h.values){if(A.title==="")return(0,a.t)("Option variants must not be empty.",null,{project:"commerce-product-composer"});if(S[A.title])return(0,a.t)("Every option variant must be unique.",null,{project:"commerce-product-composer"});S[A.title]=!0}},Hf=h=>{let{onClose:S,onSave:A,option:O}=h;const[M,N]=(0,e.useState)((0,i.cloneDeep)(O)),[B,_]=(0,e.useState)(!1),W={...M,label:M.label.trim(),values:M.values.map(H=>({...H,title:H.title.trim()}))},w=Vf(W),Z=B&&!!w;return e.createElement(rn,{isUnmasked:!0,isSaveDisabled:Z,onSave:()=>{_(!0),w||A(W)},onClose:S,title:(0,a.t)("Rename Option",null,{project:"commerce-product-composer"})},e.createElement(R.Z,{mt:2},e.createElement(f.Z.Caption,null,(0,a.t)("Option Name",null,{project:"commerce-product-composer"})),e.createElement(Mn.default,{flush:!0},e.createElement(wo.Z,{placeholder:O.label,value:M.label,onChange:H=>{N({...M,label:H})}}))),e.createElement(R.Z,{mt:2},e.createElement(f.Z.Caption,null,(0,a.t)("Option Variant Names",null,{project:"commerce-product-composer"})),Z&&e.createElement(R.Z,{mt:1},e.createElement(f.Z.Caption,{role:"alert",color:"red"},w)),M.values.map((H,X)=>e.createElement(Mn.default,{flush:!0,key:H.id},e.createElement(wo.Z,{placeholder:O.values[X].title,value:H.title,onChange:K=>{N({...M,values:M.values.map((ae,q)=>q===X?{...ae,title:K}:ae)})}})))))};function Kf(h){let{onClose:S,isMobile:A}=h;var O;const{product:M,originalProduct:N,patchProduct:B}=xe(),{serviceType:_}=kt(),W=_===pt.U.GROUP_EVENT||_===pt.U.CONSULTING_PACKAGES,{current:w}=(0,e.useRef)(Os(M)),{scrollToLink:Z}=Cr(),[H,X]=(0,e.useState)(w),[K,ae]=(0,e.useState)(!1),[q,te]=(0,e.useState)(!1),[ge,ue]=(0,e.useState)(!1),[Ve,Pe]=(0,e.useState)(null),{navigateAway:De}=go(),{showConfirmModal:ve}=(0,Je.t)(),{hasIgnoredVariantWarning:ke,setHasIgnoredVariantWarning:he}=k(),[Fe,Ie]=(0,e.useState)(!1),je=H.length>0?H:q?[]:[wf(W)],{generatedVariants:et,filteredOptions:gt}=gl(w,je,M.variants),Et=je.map(Bt=>{let{label:Vt}=Bt;return Vt}),St=(0,y.Z)(M.productType),Rt=(O=Ts(je))===null||O===void 0?void 0:O.label,Jt=bf(je,et),gn=K?ys(je,et):null,Ln=!!gn,xt="error-options",cn=(0,C.sn)(M);function kn(){X([{id:Ye()(),label:Ds(Et,W)[0]||"",values:[]},...je])}function vt(Bt,Vt){X(je.map((Zt,$n)=>$n===Vt?Bt:Zt))}function Pt(){document.body.style.cursor="grabbing"}function Nt(Bt){let{oldIndex:Vt,newIndex:Zt}=Bt;document.body.style.cursor="",X($o(je,Vt,Zt))}function An(Bt){te(!0),X(je.filter((Vt,Zt)=>Zt!==Bt))}function xn(Bt){X(je.map((Vt,Zt)=>Zt===Bt?{...Vt,values:[]}:Vt))}function yo(){if(M&&St){const Bt=w.map(Zt=>Zt.label),Vt=je.map(Zt=>Zt.label);Bt.forEach(Zt=>{Vt.includes(Zt)||(0,T.EO)({optionName:Zt,productId:M.id,productName:M.name,productType:St,productEditor:I.MX.PRODUCT_COMPOSER_V1,fulfilledExternally:cn})}),Vt.forEach(Zt=>{Bt.includes(Zt)||(0,T.xL)({optionName:Zt,productId:M.id,productName:M.name,productType:St,productEditor:I.MX.PRODUCT_COMPOSER_V1,fulfilledExternally:cn})})}}function ta(){et.forEach(Bt=>{M&&!M.variants.includes(Bt)&&St&&(0,T.RV)({productId:M.id,productName:M.name,productType:St,variantId:Bt.id,productEditor:I.MX.PRODUCT_COMPOSER_V1})})}const na=async()=>{if(Jt){ae(!0);return}if(!ke){ue(!0);try{const Bt=await Rf(N,et);if(ue(!1),Bt){if(!await ve({isCancellable:!0,body:Zt=>{let{onConfirm:$n,onClose:po}=Zt;return()=>e.createElement(Mf,{onConfirm:$n,onCancel:po,waitlistWarnings:Bt})}}))return;he(!0)}}catch(Bt){console.error(Bt)}ue(!1)}B({variants:et,variantAttributeNames:gt.map(Bt=>{let{label:Vt}=Bt;return Vt})}),yo(),ta(),S(),setTimeout(()=>Z(lt.INVENTORY,!0),100)};return e.createElement("div",{className:mn().container,"data-test":"product-variant-options-modal"},(0,i.isNumber)(Ve)&&e.createElement(Hf,{option:je[Ve],onClose:()=>{Pe(null)},onSave:Bt=>{vt(Bt,Ve),Pe(null)}}),e.createElement(l.Z,{flexDirection:"column",className:Mt()(mn().optionContainer,{[mn().isFullWidth]:A})},e.createElement(Tn,{className:mn().header},e.createElement(Tn.Left,null,e.createElement(d.Z.Tertiary,{animationDirection:"none",onClick:()=>{S()}},(0,a.t)("Cancel",null,{project:"commerce-product-composer"}))),e.createElement(Tn.Right,null,e.createElement(d.Z.Primary,{"data-test":"variant-option-save-button",animationDirection:"none",onClick:na,"aria-describedby":Ln?xt:Rt,disabled:K&&Jt},ge?e.createElement(L.Z,null):(0,a.t)("Save",null,{project:"commerce-product-composer"})))),e.createElement(f.Z.Title,{mb:2,pl:6},cn?(0,a.t)("Manage Options",null,{project:"commerce-product-composer"}):(0,a.t)("Add Options",null,{project:"commerce-product-composer"})),e.createElement("div",{className:mn().description},W?(0,a.t)("Allow customers to purchase different versions or levels of a service depending on your needs.",null,{project:"commerce-product-composer"}):(0,a.t)("Product options allow you to sell different versions of the same product, like clothes in different colors or sizes.",null,{project:"commerce-product-composer"})),je.length<dt.gs&&!cn&&e.createElement(d.Z.Tertiary,{"data-test":"variant-add-option-button",animationDirection:"none",onClick:()=>kn(),sx:{alignSelf:"start",display:"flex",alignItems:"center",paddingLeft:Se.space[6]},mt:6},e.createElement(vn.Z,{className:mn().plusIcon}),(0,a.t)("Add Option",null,{project:"commerce-product-composer"})),e.createElement(e.Fragment,null,e.createElement(l.Z,{sx:{paddingLeft:Se.space[6]}},e.createElement(vs.default,{className:mn().labelContextField,label:(0,a.t)("Options",null,{project:"commerce-product-composer"})}),e.createElement(vs.default,{className:mn().labelContextField,label:(0,a.t)("Variants",null,{project:"commerce-product-composer"})})),e.createElement(Gf,{onSortStart:Pt,onSortEnd:Nt,useDragHandle:!0,helperClass:mn().sortableHelper},je.map((Bt,Vt)=>{const{label:Zt,values:$n,isNewCustom:po}=Bt,Xn=Zf(Zt,W),or=$n.length>0,Rs=K?Ss(Bt):null,Ms=!!Rs,Us=`error-label-${Zt}`;return e.createElement(Ff,{key:Vt,index:Vt},e.createElement(l.Z,{className:Mt()(mn().option,{[mn().isAlwaysVisible]:A}),mr:4,mb:0,"data-test":"add-variant-option-row"},e.createElement(l.Z,{sx:{zIndex:1},display:"flex",justifyContent:"center",mt:"11px",ml:"15px",mr:"-4px"},e.createElement(xf,null,e.createElement(Ui.Z,{id:"drag-handle",className:mn().dragHandle}))),e.createElement("div",null,po||!Xn||cn?e.createElement(Mn.default,{flush:!0,style:{width:ea},focusable:!1},e.createElement(wo.Z,{placeholder:(0,a.t)("Option",null,{project:"commerce-product-composer"}),value:Zt,onChange:Wn=>{vt({...Bt,label:Wn},Vt)},autoFocus:!Zt})):e.createElement(sn.Z,{sx:{width:ea,paddingLeft:Se.space[2]},placeholder:(0,a.t)("Option",null,{project:"commerce-product-composer"}),value:Zt===""?void 0:Zt,onChange:Wn=>{const Io=Wn===bs;vt({...Bt,label:Io?"":Wn,isNewCustom:Io},Vt)},renderDropdown:Wn=>e.createElement(sn.Z.Dropdown,{style:{minWidth:ea,width:"auto"},...Wn})},kf(Et,Vt,W).map(Wn=>{let{label:Io,value:rr}=Wn;return e.createElement(sn.Z.Option,{value:rr},Io)}))),e.createElement(R.Z,{"aria-describedby":Ms?Us:void 0,"data-test":"variant-tag-field",className:mn().variantChipContainer},e.createElement(Bf,{helperClass:mn().sortableHelper,inputPlaceholder:()=>{if(!cn)return $n.length>0?(0,a.t)("Add...",null,{project:"commerce-product-composer"}):(Xn==null?void 0:Xn.placeholder)||(0,a.t)("Add option values...",null,{project:"commerce-product-composer"})},values:$n.map(Wn=>({text:Wn.title})),onChange:Wn=>vt({...Bt,values:Wn.map(Io=>{let{text:rr}=Io;return $n.find(gE=>gE.title===rr)||{title:rr,id:Ye()()}})},Vt),allSuggestions:(Xn==null?void 0:Xn.suggestions)||[],disableCreate:!!cn,isIncludingInput:!0,isMatchingStart:!0})),e.createElement("div",{className:Mt()(mn().moreMenu,{[mn().actionListFocused]:Fe})},e.createElement(on.Z,{onRequestOpen:()=>Ie(!0),onRequestClose:()=>Ie(!1)},!cn&&e.createElement(on.Z.ButtonDanger,{onClick:()=>{An(Vt)}},(0,a.t)("Delete",null,{project:"commerce-product-composer"})),e.createElement(on.Z.Button,{onClick:()=>{Pe(Vt)}},(0,a.t)("Rename",null,{project:"commerce-product-composer"})),or&&!cn&&e.createElement(on.Z.Button,{onClick:()=>{xn(Vt)}},(0,a.t)("Clear",null,{project:"commerce-product-composer"}))))),Ms&&e.createElement(R.Z,{mt:1,ml:6},e.createElement(f.Z.Caption,{id:Us,role:"alert",color:"red"},Rs)))}),cn&&e.createElement(Zn.Z.Element.WithoutFeedback,{onClick:()=>De("/config/commerce/print-on-demand"),pl:6,pr:6,mt:2},e.createElement(Q.Z,{label:(0,a.t)("Visit the extension site for more ways to manage",null,{project:"commerce-product-composer"}),exteriorAccessory:e.createElement(ts.Z,null)}),e.createElement(le.Z,null))),Ln&&e.createElement(R.Z,{mt:1,ml:6},e.createElement(f.Z.Caption,{id:xt,role:"alert",color:"red"},gn)))),!A&&e.createElement("div",{className:mn().previewContainer},e.createElement(ma,{options:je,noBackgroundImage:!0,minHeight:"274px"})))}function Yf(){const{product:h,patchProduct:S}=xe(),{setIsVariantGeneratorOpen:A,showToast:O}=k(),M=(()=>{const N=Os(h),{attributePermutations:B}=Dr(N);return B.filter(_=>!h.variants.some(W=>_.every(w=>{let{name:Z,value:H}=w;return W.attributes[Z]===H.title})))})();return M.length===0?null:e.createElement("div",{className:gs().container},e.createElement(f.Z.Subtitle,null,e.createElement(s.T,{project:"commerce-product-composer"},"Deleted variants")),M.map(N=>e.createElement("div",{className:gs().row,key:N.map(B=>`${B.value.id}-${B.id}`).join("-")},e.createElement("div",null,e.createElement(ms,{attributes:N.reduce((B,_)=>({...B,[_.name]:_.value.title}),{}),openVariantGenerator:()=>A(!0)})),e.createElement("div",null,e.createElement(vn.Z,{sx:{cursor:"pointer"},onClick:()=>{const B=Qa(N,[],{});S({variants:[...h.variants,B]}),O({id:fs(B),content:(0,a.t)("Variant reinstated",null,{project:"commerce-product-composer"})})}})))))}const zf=Yf;function $f(){const{isMobile:h}=(0,Qn.Z)();return e.createElement(e.Fragment,null,e.createElement("div",{className:Mt()(Es().tableGrid,{[Es().isHorizontalScroll]:h})},e.createElement(qp,null),e.createElement(pf,null)),e.createElement(zf,null),e.createElement(gf,null))}const Xf=1086;function Qf(){const{isVariantGeneratorOpen:h,setIsVariantGeneratorOpen:S}=k(),{isMobile:A}=(0,Qn.Z)(),O=()=>{S(!1)};return e.createElement(_t.Z.Transition,null,h&&e.createElement(_t.Z,{onRequestClose:O},e.createElement(_t.Z.Overlay,null),e.createElement(_t.Z.Position,{position:"center"},e.createElement(_t.Z.Dialog.ResponsiveProvider,{maxWidth:Xf},e.createElement(_t.Z.Dialog,null,e.createElement(Kf,{onClose:O,isMobile:A}))))))}var Jf=t(900504);const qf=h=>{let{onClose:S,onGenerate:A,images:O}=h;const{openAiProductComposerModal:M,storeProductSnapshot:N}=(0,Bo.useAiProductComposerContext)(),{initialShouldOpenGenerationModalIndependently:B}=kt();return(0,e.useEffect)(()=>{B&&(N(),M({enableProductTypeEdit:!0}))},[]),e.createElement(Jf.AiProductComposerModal,{onClose:S,onGenerate:A,images:O})};function eE(){var h;const{product:S,composerOpenedAt:A,setComposerOpenedAt:O}=xe(),{isLoading:M,currentRoute:N,setCurrentRoute:B,toastRef:_}=k(),{confirmExit:W}=lo(),{isMobile:w}=(0,Qn.Z)(),{cancelOrDelete:Z}=jo(),{shouldShowOnboarding:H,showVariantPanelOnOpen:X,useDrawer:K,modalProps:ae,isProductFormHidden:q,onShowProductForm:te}=kt(),ge=(0,ye.Z)({useDrawer:K}),ue=Ao(),[Ve,Pe]=(0,e.useState)(H),De=(0,e.useRef)(),ve=S.productType!==Kt().GIFT_CARD;(0,e.useEffect)(()=>{O(Date.now()),X&&ve&&B(G.VARIANT_TABLE)},[ve]);const ke=async je=>{if(!await W(!0))return;Z();const gt=(0,y.Z)(S.productType);gt&&(0,T.qc)({productId:S.id,productType:gt,productName:S.name,productEditor:je,timeElapsed:Date.now()-A,fulfilledExternally:(0,C.sn)(S)})},he=q?{onClose:()=>ke(I.MX.PRODUCT_COMPOSER_V1),onGenerate:te}:{images:S.images};if(Ve&&[Kt().PHYSICAL,Kt().SERVICE].includes(S.productType)&&!(0,C.sn)(S))return e.createElement(Vs,{onCancel:()=>ke(I.MX.FIRST_PRODUCT_ADD_ONBOARDING),onClose:()=>Pe(!1)});let Fe,Ie;switch(N){case G.HOME:Fe=e.createElement(Qp,{product:S});break;case G.VARIANT_TABLE:Fe=e.createElement($f,null);break;default:throw new Error("Product Composer can not render this route yet!")}return e.createElement(e.Fragment,null,!q&&e.createElement(Oe.Z,{onRequestClose:()=>ke(I.MX.PRODUCT_COMPOSER_V1),lockFocus:!1,modalProps:ae,"data-anchor":lt.SCROLL_REF,dialogStyles:{transitionStyles:{},css:((h=ge.dialogStyles)===null||h===void 0?void 0:h.css)??{}},position:ge==null?void 0:ge.position},e.createElement(xc,{product:S,isMobile:w,variant:Ie}),Fe,M&&e.createElement(re,null),e.createElement(Qf,null),e.createElement(R.Z,{ref:De},De.current&&e.createElement($s.Z.Container,{ref:_,mountAt:De.current}))),ue&&e.createElement(qf,he))}const tE=eE;var nE=t(567713),oE=t(859817),rE=t(970671),aE=t(431925),iE=t(694598),sE=t(190644),cE=t(734932),lE=t(565983),to=t(557752);const uE=async()=>{if((0,sE.p)())return(0,iE.b)()},dE=h=>{let{productType:S,children:A}=h;const{aiProductComposer:O}=kt(),{product:M,patchProduct:N,setProduct:B,onGeneratedTextUpdate:_}=xe(),W=(0,e.useRef)(void 0),{addLibraryImage:w,uploadImage:Z}=rt(),H=(0,e.useCallback)(te=>{(0,lE.aQ)({productId:M.id,websiteId:to.D===null||to.D===void 0?void 0:to.D.website.id,accountId:to.D===null||to.D===void 0?void 0:to.D.authenticatedAccount.id,accountLocale:to.D===null||to.D===void 0?void 0:to.D.authenticatedAccount.preferredLocale,collectionId:M.collectionId}),_(ge=>({...ge,[te]:{status:cE.O.Unedited}}))},[_,M.collectionId,M.id]),X=(0,e.useCallback)(te=>{const{name:ge,description:ue,seoTitle:Ve,seoDescription:Pe,price:De,tags:ve,image:ke,responseId:he}=te;N({name:ge,description:ue,seoData:{...M.seoData,title:Ve,description:Pe},variants:M.variants.map(Fe=>({...Fe,price:(0,ir.N4)(De)})),tags:ve,images:ke?[ke]:[],thumbnailImage:ke}),H(he)},[N,M.seoData,M.variants,H]),K=(0,e.useCallback)(te=>{N({productType:te})},[N]),ae=(0,e.useCallback)(()=>{W.current||(W.current=M)},[M]),q=(0,e.useCallback)(()=>{W.current&&B(W.current),W.current=void 0},[B]);return e.createElement(Bo.AiProductComposerProvider,{updateProduct:X,updateProductType:K,productType:S,getAssetAuthorizationToken:uE,addLibraryImage:w,uploadImage:Z,storeProductSnapshot:ae,revertProductToSnapshot:q,productArea:O!=null&&O.enabled?O.productArea:"product-composer",productId:M.id},A)},mE=(0,aE.r2)(h=>{let{children:S}=h;const A=Ao(),{product:O}=xe(),M=O.productType;return!A||!(0,Eo.isEligibleProductType)(M)?e.createElement(e.Fragment,null,S):e.createElement(dE,{productType:M},S)}),pE=h=>{let{children:S}=h;return e.createElement(Qs,null,e.createElement(zs.Z,null,e.createElement(fa.ZP,null,e.createElement(mE,null,e.createElement(e.Fragment,null,S)))))},fE=h=>{let{children:S,...A}=h;return e.createElement(Sa,{title:(0,a.t)("Something went wrong",null,{project:"apps.Commerce.Onboarding.DemoProducts"}),message:(0,a.t)("There was a problem with the Product Editor.",null,{project:"apps.Commerce.Onboarding.DemoProducts"}),confirmLabel:(0,a.t)("Okay",null,{project:"apps.Commerce.Onboarding.DemoProducts"}),onDismissAlert:A.onError},e.createElement(rE.Z,null,e.createElement(oE.StatsigProvider,{client:(0,_a.GC)()},e.createElement(Ys,A,e.createElement(nE.Z.Provider,null,e.createElement(J,null,e.createElement(Je.f,null,e.createElement(F,null,e.createElement(pE,null,e.createElement(e.Fragment,null,S))))))))))};function EE(h){return e.createElement(fE,h,e.createElement(tE,null))}},37585:function(P,o,t){"use strict";t.d(o,{Z:()=>We});var n=t(174161),r=t(633878),e=t(153088),c=t(338465),i=t(482053),a=t(538312),s=t(766400),l=t(653027),d=t(412585),f=t.n(d),m=t(296923),u=t.n(m),p=t(119978),g=t(157484),v=t(646922),E=t(714487),C=t(934951),T=t(983497),I=t.n(T),y=t(161381),b=t(378257),D=t(571199),j=t(766519),U=t(117384),R=t(938077),L=t(818212),x=t(453423),G=t(14738),k=t(950464),V=t(97056),$=t(819518),J=t(197490),ee=t(380745),de=t(679727),re=t(136766),Ee=t(972450),Te=t(869942),z=t(916661),be=t(917163),me=t(37005),ne=t(13795),Ce=t(798589),Ae=t(935237),Xe=t(745521),Ne=t(337061),st=t(762535),ze=t(498604),we=t(125582),Ke=t(261279),se=t(629786),Oe=t(789900),ye=t(929635),ct=t(922357);const[at,Ct]=(0,ye.Z)(),lt=Ye=>{let{children:Je,useDrawer:ot,eventEntrypoint:qe}=Ye;const{data:nt}=(0,ct.Z)(v.WR);return nt?n.createElement(Ct,{value:{productCollections:nt,useDrawer:ot,eventEntrypoint:qe}},Je):null};var Lt=t(677013),At=t(605254);const Yt=()=>[{label:(0,E.t)("Physical",null,{project:"commerce-product-composer"}),description:(0,E.t)("A tangible product that you ship or customers can pick up.",null,{project:"commerce-product-composer"}),icon:L.Z,productType:g.kv.PHYSICAL},{label:(0,E.t)("Service",null,{project:"commerce-product-composer"}),description:(0,E.t)("Collect payments for fixed-price, one-time, or recurring services.",null,{project:"commerce-product-composer"}),icon:x.Z,productType:g.kv.SERVICE},{label:(0,E.t)("Group event",null,{project:"commerce-product-composer"}),description:(0,E.t)("Sell access to in-person experiences like camps, retreats, or group trips.",null,{project:"commerce-product-composer"}),icon:G.Z,productType:g.kv.SERVICE,serviceType:Oe.U.GROUP_EVENT},{label:(0,E.t)("Consulting package",null,{project:"commerce-product-composer"}),description:(0,E.t)("Monetize professional services like coaching or financial planning.",null,{project:"commerce-product-composer"}),icon:k.Z,productType:g.kv.SERVICE,serviceType:Oe.U.CONSULTING_PACKAGES},{label:(0,E.t)("Gift card",null,{project:"commerce-product-composer"}),description:(0,E.t)("A gift card customers can use to purchase any product or service.",null,{project:"commerce-product-composer"}),icon:V.Z,productType:g.kv.GIFT_CARD},{label:(0,E.t)("Download",null,{project:"commerce-product-composer"}),description:(0,E.t)("A digital file customers can download, like an ebook, PDF template, or audio file.",null,{project:"commerce-product-composer"}),icon:$.Z,productType:g.kv.DIGITAL},{label:(0,E.t)("Member Site",null,{project:"commerce-product-composer"}),description:(0,E.t)("Create a members-only area of your site with unique pages and exclusive content.",null,{project:"commerce-product-composer",notes:"Description for the create member site card"}),icon:J.Z,productType:g.kv.PAYWALL},...z.Z.isSevenOne()?[{label:(0,E.t)("Video on demand",null,{project:"commerce-product-composer"}),description:(0,E.t)("Create and sell access to a full library of video content.",null,{project:"commerce-product-composer"}),icon:ee.Z,productType:g.kv.VIDEO_ON_DEMAND}]:[],{label:(0,E.t)("Acuity Scheduling",null,{project:"commerce-product-composer"}),description:(0,E.t)("Sell live, scheduled services, coaching appointments or classes.",null,{project:"commerce-product-composer"}),icon:de.Z,productType:g.kv.SCHEDULING},{label:(0,E.t)("Custom Merch",null,{project:"commerce-product-composer"}),description:(0,E.t)("Products are printed on-demand and shipped directly to your customers",null,{project:"commerce-product-composer"}),icon:re.Z,productType:g.kv.PRINT_ON_DEMAND,isHiddenByDefault:!0},...z.Z.isSevenOne()?[{label:(0,E.t)("Course",null,{notes:"A series of guided lessons that teach a skill or specific topic",project:"commerce-product-composer"}),description:(0,E.t)("A series of guided lessons that teach a skill or specific topic.",null,{project:"commerce-product-composer"}),icon:Ee.Z,productType:g.kv.COURSE}]:[],...z.Z.isSevenOne()?[{label:(0,E.t)("Blog",null,{notes:"Monetize your blog and turn readers into paying subscribers",project:"commerce-product-composer"}),description:(0,E.t)("Monetize your blog and turn readers into paying subscribers.",null,{project:"commerce-product-composer"}),icon:Te.Z,productType:g.kv.BLOG,showChip:!0}]:[]],xe=Ye=>{let{label:Je,description:ot,Icon:qe,onClick:nt,isSelected:ut,isShort:mt,sx:Ut,showChip:Tt}=Ye;return n.createElement(b.Z,{"data-testid":"choose-product-type-option",width:"100%",role:"button",tabIndex:0,onClick:nt,onKeyDown:jt=>{jt.key==="Enter"&&(jt.preventDefault(),nt())},sx:{cursor:"pointer","&:hover":{backgroundColor:"gray.800","& .iconCircle":{backgroundColor:"gray.900"}},...ut&&{borderColor:"black"},...Ut}},n.createElement(b.Z.Body,{display:"flex",sx:{py:mt?3:6,px:mt?3:4}},n.createElement(i.Z,{alignItems:"center"},qe&&n.createElement(i.Z,{className:"iconCircle",minWidth:"52px",minHeight:"52px",borderRadius:"50%",backgroundColor:"gray.800",mr:mt?3:4,textAlign:"center"},n.createElement(qe,{sx:{margin:"auto"}})),n.createElement(i.Z,{flexDirection:"column",width:"100%"},n.createElement(i.Z,null,n.createElement(a.Z.Title,{fontSize:"14px",lineHeight:"22px"},Je),Tt&&n.createElement(D.Z,{label:(0,E.t)("New",null,{project:"commerce-product-composer"}),usage:"badge",status:"info",ml:2})),n.createElement(a.Z.Body,{fontSize:"12px",lineHeight:"16px",color:"gray.300",m:0},ot)))))};function tt(Ye){let{onClickPCProduct:Je,onClose:ot,memberAreasFeatureEnabled:qe,entrypoint:nt,validProductTypes:ut=[],router:mt}=Ye;const{useDrawer:Ut,eventEntrypoint:Tt}=at(),jt=ut.length?Yt().filter(rt=>{let{productType:ln}=rt;return ut.includes(ln)}):Yt().filter(rt=>{let{isHiddenByDefault:ln}=rt;return!ln}),it=(0,Ne.zC)(),ht=(0,Ne.Ze)(R.wG2);(0,n.useEffect)(()=>{z.Z.isSevenOne()&&!ht&&it((0,U.ac)()),(0,p._8)({entryPoint:Tt})},[ht,it,Ut,Tt]);const It=async()=>{qe||await me.Z.toggleFeature(!0,!0,Ae.qp.PRODUCT_TYPE_PICKER)},bt=(rt,ln)=>{(0,p.xU)(rt,g.MX.PRODUCT_COMPOSER_V1,ln);const qt=Ke.x.PRODUCT_TYPE_PICKER;({[g.kv.PHYSICAL]:()=>{Je(u().PHYSICAL)},[g.kv.DIGITAL]:()=>{Je(u().DIGITAL)},[g.kv.SERVICE]:()=>{Je(u().SERVICE,ln)},[g.kv.GIFT_CARD]:()=>{Je(u().GIFT_CARD)},[g.kv.PAYWALL]:async()=>{if(await It(),ne.Z.setMACreationEntryPoint(Ae.qp.PRODUCT_TYPE_PICKER),ne.Z.setMAEntryPointLevel2(nt),ne.Z.setMAEntryPointPath(window.location.pathname),z.Z.isSevenOne()){const un=At.s?I().CONTENT_AND_MEMBERSHIPS:I().MEMBER_SITE_HOMEPAGE,$t=At.s?I().MEMBER_SITE:void 0;(0,Xe.Z)({pageCategory:un,pageSubcategory:$t,router:mt,entryPoint:qt,restrictToSingleCategory:!0})}else mt.push(st.Z.forPagesPanel()+"?openMemberAreaCreation=true");ot()},[g.kv.SCHEDULING]:()=>{mt.push("/scheduling"),ot()},[g.kv.VIDEO_ON_DEMAND]:async()=>{const un=At.s?I().CONTENT_AND_MEMBERSHIPS:I().LESSONS,$t=At.s?I().VIDEOS:void 0;(0,Xe.Z)({pageCategory:un,pageSubcategory:$t,router:mt,entryPoint:qt,restrictToSingleCategory:!0}),ot()},[g.kv.PRINT_ON_DEMAND]:()=>{mt.push("/commerce/custom-merch"),ot()},[g.kv.COURSE]:()=>{const un=At.s?I().CONTENT_AND_MEMBERSHIPS:I().COURSE,$t=At.s?I().COURSE:void 0;(0,Xe.Z)({pageCategory:un,pageSubcategory:$t,router:mt,entryPoint:qt,restrictToSingleCategory:!0}),ot()},[g.kv.BLOG]:()=>{const un=At.s?I().CONTENT_AND_MEMBERSHIPS:I().BLOG,$t=At.s?I().BLOG:void 0;(0,Xe.Z)({pageCategory:un,pageSubcategory:$t,router:mt,entryPoint:qt,restrictToSingleCategory:!0}),ot()}})[rt]()},Ot=Ce.isMobile(),nn=Ot?1:2,Ht=Ut?{maxWidth:Lt.R,mx:"auto",pt:"8"}:{};return n.createElement(n.Fragment,null,n.createElement(c.Z,Ht,n.createElement(c.Z,{height:Ot?"11px":"77px",boxSizing:"border-box",flexShrink:"0"}),n.createElement(i.Z,{gap:"2",alignItems:"center",flexDirection:Ot?"column":"row",mb:Ot?2:4,mx:Ot?4:6},n.createElement(a.Z.Title,{"data-testid":"choose-product-type-title"},n.createElement(C.T,{project:"commerce-product-composer"},"What do you want to sell?")),(0,we.C)()&&n.createElement(ze.T,{trackingObjectIdentifier:se.rP.FEATURE_GATE_ADD_PRODUCT})),n.createElement(j.Z.Container,{maxWidth:"100%",gutter:2},jt.map(rt=>{let{label:ln,description:qt,icon:In,productType:un,serviceType:$t,showChip:Wt}=rt;return n.createElement(j.Z.Item,{key:ln,columns:12/nn,sx:{mb:2}},n.createElement(xe,{label:ln,description:qt,Icon:In,onClick:()=>bt(un,$t),sx:{height:"114px",justifyContent:"center"},showChip:Wt}))}))))}const F=(0,Ne.UW)((0,be.withMemberAreas)((0,y.Z)(tt)));var ie=t(419467),Ze=t(516865),Ue=t(47362),Le=t(239718),_e=t(883354);function He(Ye){let{onSelectPage:Je,onCreateStore:ot,productCollections:qe,initialCollectionId:nt}=Ye;const{useDrawer:ut}=at(),[mt,Ut]=(0,n.useState)(""),[Tt,jt]=(0,n.useState)(nt),it=(0,ie.isNull)(Tt),ht=qe.length===0;n.useEffect(()=>{qe&&(qe.length===0?ot((0,E.t)("Store",null,{project:"commerce-product-composer"})):qe.length===1?Je(qe[0].id,qe[0].itemCount):jt(qe.length>0?qe[0].id:null))},[qe]);const It=Ce.isMobile();return n.createElement(l.Z.Step.Content,null,n.createElement(i.Z,{flexDirection:"column"},qe&&n.createElement(n.Fragment,null,n.createElement(c.Z,{height:It&&ut?"22px":"77px",boxSizing:"border-box",flexShrink:"0"}),n.createElement(a.Z.Title,{sx:{mt:2}},ht?n.createElement(C.T,{project:"commerce-product-composer"},"Add Store"):n.createElement(C.T,{project:"commerce-product-composer"},"Select Store")),n.createElement(a.Z.Subtitle,{color:"gray.300"},ht?n.createElement(C.T,{project:"commerce-product-composer"},"Add a page to put your new product into."):n.createElement(C.T,{project:"commerce-product-composer"},"Select a page to put your new product into.")),qe.map(bt=>n.createElement(_e.Z,{key:bt.id,label:bt.title,onChange:()=>jt(bt.id),value:Tt===bt.id})),ht&&(it?n.createElement(_e.Z,{value:!0,onChange:()=>jt(null),body:n.createElement(Ue.Z,{value:mt,onChange:Ut,placeholder:(0,E.t)("Add Store Name...",null,{project:"commerce-product-composer"}),autoFocus:!0})}):n.createElement(i.Z,{flexDirection:"row",alignItems:"center",my:3,sx:{cursor:"pointer"},onClick:()=>jt(null)},n.createElement(Le.Z,null),n.createElement(a.Z.Action,{ml:3},n.createElement(C.T,{project:"commerce-product-composer"},"Create new store")))),n.createElement(Ze.Z.Primary,{width:"100%",size:"large",mt:7,onClick:()=>{if((0,ie.isNull)(Tt))ot(mt);else{var bt;const Ot=((bt=qe.find(nn=>{let{id:Ht}=nn;return Ht===Tt}))===null||bt===void 0?void 0:bt.itemCount)||0;Je(Tt,Ot)}},disabled:it&&mt.trim()===""},n.createElement(C.T,{project:"commerce-product-composer"},"Continue")))))}const oe=t.p+"PhysicalPreview-3feeb075cfcf39ff.png";var ce=t(535090),Q=t.n(ce),fe=t(125607),le=t(316428),Re=t(534616),Me=t(228946),dt=t(245760),pt=t(845076),yt=t.n(pt),Qt=null;const tn=Ye=>{switch(Ye){case"choose-product-page":return{src:oe};default:return null}};function Nn(Ye){let{collectionId:Je,collectionItemCount:ot,onProductCreated:qe,onClose:nt,entrypoint:ut,initialProductType:mt,validProductTypes:Ut}=Ye;const{productCollections:Tt,useDrawer:jt}=at(),[it,ht]=n.useState(mt?"choose-product-page":"product-type-picker"),[It,bt]=n.useState(mt||u().PHYSICAL),[Ot,nn]=n.useState(void 0),[Ht]=n.useState(()=>new l.Z.History),[rt,ln]=n.useState(!1),[qt,In]=n.useState({selectedStoreId:Je??"",nextIndex:ot??0,isCreatingProduct:!1,autoPublish:!1}),{showConfirmModal:un}=(0,fe.t)(),{isMobile:$t}=(0,Re.Z)(),{isCreatingProduct:Wt,initialData:Cn,nextIndex:hn,selectedStoreId:Sn,autoPublish:On}=qt,Un=(0,n.useRef)(null);(0,n.useEffect)(()=>{var Ge;(Ge=Un.current)===null||Ge===void 0||Ge.focus()},[it]);const pn=!$t&&!Wt&&!rt,Pn=tn(it),fn=async(Ge,$e)=>{if(Sn!==null)try{const ft=await(0,v.ry)({collectionId:Sn,productType:Ge,autoPublish:On,nextIndex:hn,initialData:Cn});In({...qt,isCreatingProduct:!1}),qe(ft,$e)}catch(ft){ft.response.data.errorType===f().PAGE_SIZE_TOO_BIG?await un({isCancellable:!1,title:(0,E.t)("Page Max Size Reached",null,{project:"commerce-product-composer"}),message:(0,E.t)("This page has a maximum size of 200 items. We recommend adding an additional page to hold your items.",null,{project:"commerce-product-composer"}),confirmLabel:(0,E.t)("Okay",null,{project:"commerce-product-composer"})}):await un({isCancellable:!1,title:(0,E.t)("Something went wrong",null,{project:"commerce-product-composer"}),message:(0,E.t)("Please try again.",null,{project:"commerce-product-composer"}),confirmLabel:(0,E.t)("Okay",null,{project:"commerce-product-composer"})}),nt()}},pe=async(Ge,$e,ft)=>{if(Je){await fn(Ge,ft);return}bt(Ge),nn(ft),$e()};(0,n.useEffect)(()=>{qt.isCreatingProduct&&fn(It,Ot)},[qt]);const Be=Wt||rt;return n.createElement(n.Fragment,null,n.createElement(c.Z,{display:"flex",flexDirection:"column",width:"100%",height:"100%",ref:Un,tabIndex:-1},n.createElement(l.Z.SplitScreen,{"data-test":"product-creation-wizard",className:yt()(Me.unmask,{[Q().noFlex]:$t&&!Be,[Q().drawerContainer]:jt&&!$t})},n.createElement(l.Z.SplitScreen.Panel,null,Be?n.createElement(i.Z,{flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"},n.createElement(s.Z,null),n.createElement(a.Z.Caption,{sx:{mt:2}},(0,E.t)("Creating product...",null,{project:"commerce-product-composer"}))):n.createElement(l.Z,{currentStepId:it,onRequestStep:Ge=>{ht(Ge),setTimeout(()=>{var $e;return($e=Un.current)===null||$e===void 0?void 0:$e.focus()},100)},history:Ht,closeButtonProps:{onClick:nt}},n.createElement(l.Z.Step,{id:"product-type-picker",nextStepId:"choose-product-page",hideNavigation:!0,hideProgress:!0},Ge=>{let{next:$e}=Ge;return n.createElement(F,{onClickPCProduct:async(ft,Gt)=>await pe(ft,$e,Gt),onClose:nt,entrypoint:ut,validProductTypes:Ut})}),n.createElement(l.Z.Step,{id:"choose-product-page",hideProgress:!0},!Je&&n.createElement(He,{initialCollectionId:Sn,productCollections:Tt,onSelectPage:(Ge,$e)=>{(0,p.sc)(g.MX.PRODUCT_COMPOSER_V1),In({selectedStoreId:Ge,nextIndex:$e,isCreatingProduct:!0})},onCreateStore:async Ge=>{ln(!0),(0,p.sc)(g.MX.PRODUCT_COMPOSER_V1);const $e=await(0,dt.Z)(Ge);In({selectedStoreId:$e,nextIndex:0,isCreatingProduct:!0})}})))),pn&&Pn&&n.createElement(l.Z.SplitScreen.Panel,{className:Q().previewPanel},n.createElement("img",{src:Pn.src,className:Q().previewImage})))))}const Hn=(0,le.BG)((0,y.Z)(Nn));var Ft=t(584925),_n=t(663634),vn=t(859817),jn=t(339858),Qe=t(877205);function We(Ye){let{onRequestClose:Je,collectionId:ot,collectionItemCount:qe,onProductCreated:nt,entrypoint:ut,eventEntrypoint:mt,initialProductType:Ut,validProductTypes:Tt,serviceType:jt,useDrawer:it,modalProps:ht}=Ye;const It=(0,jn.Z)({useDrawer:it}),bt=Ot=>{let{children:nn}=Ot;return it?n.createElement(Qe.Z,{onRequestClose:Je,lockFocus:!0,modalProps:ht,...It},nn):n.createElement(Ft.ZP,{desktopMaxWidth:Lt.R,desktopMaxHeight:Lt.P,isOpen:!0,onRequestClose:Je,lockFocus:!0,modalProps:ht},nn)};return n.createElement(vn.StatsigProvider,{client:(0,_n.GC)()},n.createElement(bt,null,n.createElement(fe.f,null,n.createElement(r.Uw,null,n.createElement(lt,{eventEntrypoint:mt,useDrawer:it},n.createElement(Hn,{collectionId:ot,collectionItemCount:qe,onProductCreated:nt,onClose:Je,entrypoint:ut,initialProductType:Ut,validProductTypes:Tt,serviceType:jt}))))))}},646922:function(P,o,t){"use strict";t.d(o,{fc:()=>Yt,zL:()=>J,Ir:()=>At,bL:()=>lt,OV:()=>Lt,ry:()=>Xe,wv:()=>de,tC:()=>re,qR:()=>Ee,RU:()=>xe,WR:()=>ct,_l:()=>me,eA:()=>tt,tZ:()=>Ct,gg:()=>se});var n=t(131626),r=t.n(n),e=t(456903),c=t(296923),i=t.n(c),a=t(586745),s=t.n(a),l=t(444867),d=t.n(l),f=t(997447),m=t(762379),u=t(696049),p=t(77856);function g(F){return{id:F.id,sku:F.sku,mainImage:F.mainImage,price:u.default.fromJson(F.price),salePrice:u.default.fromJson(F.salePrice),onSale:F.onSale,stock:F.stock,attributes:F.attributes,shippingWeight:F.shippingWeight,shippingSize:{unit:F.shippingSize.unit,length:F.shippingSize.len,width:F.shippingSize.width,height:F.shippingSize.height}}}function v(F){const ie={id:F.id,websiteId:F.websiteId,collectionId:F.collectionId,name:F.name,description:F.description,images:F.images,visibility:(0,p.ub)(F.visibility.state,F.visibility.visibleOn),variants:F.variants.map(g),variantAttributeNames:F.variantAttributeNames,tags:F.tags,categories:F.categories,categoryIds:F.categoryIds||[],url:F.url,thumbnailImage:F.thumbnailImage,seoData:F.seoData,additionalInfo:F.additionalInfo,useCustomAddButtonText:F.useCustomAddButtonText,customAddButtonText:F.customAddButtonText,featuredProduct:F.featuredProduct,socialPushFields:F.socialPushFields,addedOn:new Date(F.addedOn).getTime(),updatedOn:new Date(F.updatedOn).getTime(),relatedProductsConfiguration:F.relatedProductsConfiguration,urlId:F.urlId,productFormId:F.productFormId,fulfilledExternally:F.fulfilledExternally,productAddOnsConfiguration:F.productAddOnsConfiguration,productSubscriptionOptions:F.productSubscriptionOptions};return F.subscribable&&F.subscriptionPlan?{...ie,productType:i().PHYSICAL,subscribable:!0,subscriptionPlan:F.subscriptionPlan}:{...ie,productType:i().PHYSICAL,subscribable:!1,subscriptionPlan:null}}function E(F){return{id:F.id,sku:F.sku,mainImage:F.mainImage,price:u.default.fromJson(F.price),salePrice:u.default.fromJson(F.salePrice),onSale:F.onSale,stock:F.stock,attributes:F.attributes}}function C(F){const ie={id:F.id,websiteId:F.websiteId,collectionId:F.collectionId,name:F.name,description:F.description,images:F.images,visibility:(0,p.ub)(F.visibility.state,F.visibility.visibleOn),variants:F.variants.map(E),variantAttributeNames:F.variantAttributeNames,tags:F.tags,categories:F.categories,categoryIds:F.categoryIds||[],url:F.url,thumbnailImage:F.thumbnailImage,seoData:F.seoData,additionalInfo:F.additionalInfo,useCustomAddButtonText:F.useCustomAddButtonText,customAddButtonText:F.customAddButtonText,featuredProduct:F.featuredProduct,socialPushFields:F.socialPushFields,addedOn:new Date(F.addedOn).getTime(),updatedOn:new Date(F.updatedOn).getTime(),relatedProductsConfiguration:F.relatedProductsConfiguration,urlId:F.urlId,productFormId:F.productFormId,productAddOnsConfiguration:F.productAddOnsConfiguration,productSubscriptionOptions:F.productSubscriptionOptions};return F.subscribable&&F.subscriptionPlan?{...ie,productType:i().SERVICE,subscribable:!0,subscriptionPlan:F.subscriptionPlan}:{...ie,productType:i().SERVICE,subscribable:!1,subscriptionPlan:null}}var T=t(554468);function I(F){return{id:F.id,sku:F.sku,mainImage:F.mainImage,price:u.default.fromJson(F.price),onSale:!1,salePrice:u.default.fromJson({decimalValue:"0",currencyCode:T.Z.getStoreCurrency()}),attributes:{},stock:{unlimited:!0,quantity:0}}}function y(F){return{...{id:F.id,websiteId:F.websiteId,collectionId:F.collectionId,name:F.name,description:F.description,images:F.images,visibility:(0,p.ub)(F.visibility.state,F.visibility.visibleOn),variants:F.variants.map(I),variantAttributeNames:F.variantAttributeNames,tags:F.tags,categories:F.categories,categoryIds:F.categoryIds||[],url:F.url,thumbnailImage:F.thumbnailImage,seoData:F.seoData,additionalInfo:F.additionalInfo,useCustomAddButtonText:F.useCustomAddButtonText,customAddButtonText:F.customAddButtonText,featuredProduct:F.featuredProduct,socialPushFields:F.socialPushFields,addedOn:new Date(F.addedOn).getTime(),updatedOn:new Date(F.updatedOn).getTime(),relatedProductsConfiguration:F.relatedProductsConfiguration,urlId:F.urlId,productFormId:F.productFormId},productType:i().GIFT_CARD}}var b=t(289731),D=t.n(b);function j(F){return{id:F.id,websiteId:F.websiteId,collectionId:F.collectionId,name:F.name,description:F.description,productType:i().DIGITAL,images:F.images,visibility:(0,p.ub)(F.visibility.state,F.visibility.visibleOn),variants:[{id:D()(),sku:"",price:u.default.fromJson(F.price),salePrice:u.default.fromJson(F.salePrice),onSale:F.onSale,attributes:{},stock:{unlimited:!0,quantity:0}}],variantAttributeNames:[],tags:F.tags,categories:F.categories,categoryIds:F.categoryIds||[],url:F.url,digitalGood:F.digitalGood,hasDigitalGoods:F.hasDigitalGoods,thumbnailImage:F.thumbnailImage,seoData:F.seoData,additionalInfo:F.additionalInfo,useCustomAddButtonText:F.useCustomAddButtonText,customAddButtonText:F.customAddButtonText,featuredProduct:F.featuredProduct,socialPushFields:F.socialPushFields,addedOn:new Date(F.addedOn).getTime(),updatedOn:new Date(F.updatedOn).getTime(),relatedProductsConfiguration:F.relatedProductsConfiguration,urlId:F.urlId,productFormId:F.productFormId,productAddOnsConfiguration:F.productAddOnsConfiguration}}var U=t(271685),R=t(397372);async function L(F,ie,Ze){const{data:Ue}=await e.default.post(`/api/commerce/products/${F}/subscription-options?productIsSubscriptionOnly=${ie}`,Ze);return Ue}var x=t(300411),G=t(916661),k=t(334001),V=t(261186),$=t.n(V);function J(F,ie,Ze){switch(ie&&(F={...F,additionalInfo:ie}),Ze&&(F={...F,productAddOnsConfiguration:Ze}),F.productType){case i().PHYSICAL:return v(F);case i().SERVICE:return C(F);case i().GIFT_CARD:return y(F);case i().DIGITAL:return j(F);default:throw new Error(`Invalid product type: ${F}`)}}async function ee(F){return e.default.get("/api/3/commerce/products/add-ons",{params:{productIds:F},paramsSerializer:ie=>r().stringify(ie,{arrayFormat:"repeat"})})}async function de(F){const[{data:ie},{data:Ze}]=await Promise.all([e.default.get(`/api/commerce/products/${F}`),e.default.get(`/api/commerce/products/${F}/additional-info`)]);await k.Z.setup();const{productAddOnsConfiguration:{productAddOns:Ue}={productAddOns:[]}}=ie;let Le=[],_e=[];if(Ue&&Ue.length){const He=Ue==null?void 0:Ue.map(ce=>ce.productId),{data:oe}=await ee(He);Le=(oe==null?void 0:oe.validProductAddOns)||[],_e=(oe==null?void 0:oe.invalidProductAddOns)||[]}return J(ie,Ze,{productAddOns:{validAddOns:Le,invalidAddOns:_e}})}async function re(F){const{data:ie}=await e.default.get(`/api/1/commerce/products/${F}/tax-category`);return ie}async function Ee(F){const ie=encodeURI(`/api/1/commerce/products/tax-categories?keyword=${F}`),{data:Ze}=await e.default.get(ie);return Ze}async function Te(F,ie){await e.default.put(`/api/1/commerce/products/${F}/tax-category`,{productTaxCategory:ie})}async function z(F){await e.default.delete(`/api/1/commerce/products/${F}/tax-category`)}const be={[i().PHYSICAL]:$().PHYSICAL,[i().SERVICE]:$().SERVICE,[i().GIFT_CARD]:$().GIFT_CARD,[i().DIGITAL]:$().DIGITAL,[i().PAYWALL]:$().PAYWALL};async function me(F){const{data:ie}=await e.default.get("/api/1/commerce/products/stripe-tax-category",{params:{productId:F.id,productType:be[F.productType]}});return ie}async function ne(F,ie){const{taxCategoryCode:Ze,taxCategoryAnalyticsName:Ue}=ie;await e.default.post("/api/1/commerce/products/stripe-tax-category",{productId:F.id,productType:be[F.productType],taxCategoryCode:Ze,taxCategoryAnalyticsName:Ue})}async function Ce(F,ie,Ze){ie!==Ze&&(ie?await Te(F,ie):await z(F))}async function Ae(F,ie,Ze){(ie==null?void 0:ie.taxCategoryCode)!==(Ze==null?void 0:Ze.taxCategoryCode)&&ie&&await ne(F,ie)}async function Xe(F){let{collectionId:ie,productType:Ze,nextIndex:Ue,autoPublish:Le=!1,initialData:_e}=F;const{data:He}=await e.default.post(`/api/commerce/products/${ie}`,(0,p.HV)({productType:Ze,nextIndex:Ue,unlimited:!0,autoPublish:Le,initialData:_e}),{headers:{}});return He}function Ne(F,ie){const Ze=[];return F.variants.forEach(Ue=>{const Le=ie.variants.find(He=>He.sku===Ue.sku);if(!Le&&Ue.mainImage||Le&&Ue.mainImage!==Le.mainImage){var _e;Ze.push({sku:Ue.sku,mainImageId:((_e=Ue.mainImage)===null||_e===void 0?void 0:_e.id)||null})}}),Ze}async function st(F,ie){for(const Ze of ie){const{sku:Ue,mainImageId:Le}=Ze,_e=F.variants.find(He=>He.sku===Ue);_e&&await e.default.put(`/api/commerce/products/${F.id}/variants/${_e.id}/images`,{mainImageId:Le})}}async function ze(F,ie){const Ue=(await(0,U.CP)(F.collectionId)).categoryTree,Le=Ue[0],_e=R.C.constructCategoriesTree(Ue,ie.categoryIds,Le,!0),He=R.C.constructCategoriesTree(Ue,F.categoryIds,Le,!0),oe=Re=>new Set(Re.getAllCategories().filter(Me=>Me.selected).map(Me=>Me.id)),ce=oe(He),Q=oe(_e),fe=[...ce].filter(Re=>!Q.has(Re)),le=[...Q].filter(Re=>!ce.has(Re));le.length>0&&await(0,U.Yp)(le,F.id),fe.length>0&&await(0,U._j)(fe,F.id)}async function we(F,ie){return e.default.put(`/api/commerce/products/${F}/update-seo-image-id`,{seoImageId:ie})}async function Ke(F,ie){const{data:Ze}=await e.default.post(`/api/commerce/products/${F}/subscription-plan`,(0,p.XN)(ie));return Ze}async function se(F,ie,Ze,Ue){var Le,_e;G.Z.isSevenOne()&&(0,f.vX)(ie)&&(0,f.vX)(F)&&Oe(F)&&await L(F.id,!1,[]);const He=await e.default.put(`/api/commerce/products/${F.id}`,(0,p.pk)(F,ie,Ze)),{data:oe}=He;if(He.status===400)throw new Error("Cannot save product");if(((Le=F.seoData)===null||Le===void 0?void 0:Le.seoImageId)!==((_e=ie.seoData)===null||_e===void 0?void 0:_e.seoImageId)){var ce;await we(F.id,((ce=F.seoData)===null||ce===void 0?void 0:ce.seoImageId)||null)}m.Z.isFeatureEnabled(d().NESTED_CATEGORIES)&&await ze(F,ie),await ye(F,ie),await Ce(F.id,Ue.currentTaxCategory,Ue.originalTaxCategory),await Ae(F,Ue.currentStripeTaxCategory,Ue.originalStripeTaxCategory),await e.default.put(`/api/commerce/products/${F.id}/additional-info`,F.additionalInfo);const Q=J(oe);return await st(Q,Ne(F,ie)),Q}function Oe(F){var ie;return((ie=F.productSubscriptionOptions)===null||ie===void 0?void 0:ie.length)===0&&!F.subscribable}async function ye(F,ie){if(G.Z.isSevenOne()){if((0,f.vX)(ie)&&(0,f.vX)(F)){var Ze;const Ue=F;if(Ue&&(!((Ze=Ue.productSubscriptionOptions)===null||Ze===void 0)&&Ze.length)&&!Ue.subscribable){const Le=Ue.productSubscriptionOptions.map((_e,He)=>({id:(0,x.j8)((ie==null?void 0:ie.productSubscriptionOptions)||[],He),createProductSubscriptionPlanRequest:{billingPeriod:_e.productSubscriptionPlan.billingPeriod,numBillingCycles:_e.productSubscriptionPlan.numBillingCycles},percentageDiscount:_e.percentageDiscount}));await L(F.id,!1,Le);return}if(Ue.subscribable&&Ue.subscriptionPlan){const Le=[{id:Ue.subscriptionPlan.pricingOptionId??null,createProductSubscriptionPlanRequest:{billingPeriod:Ue.subscriptionPlan.billingPeriod,numBillingCycles:Ue.subscriptionPlan.numBillingCycles},percentageDiscount:0}];await L(F.id,!0,Le);return}}return}(0,f.uF)(F)&&(0,f.uF)(ie)&&F.subscriptionPlan&&(F.name!==ie.name||F.subscriptionPlan!==ie.subscriptionPlan)&&await Ke(F.id,F.subscriptionPlan)}async function ct(){const{data:{results:F}}=await e.default.get("/api/commerce/inventory/content-collections");return F}async function at(F,ie){const{data:{digitalGoods:Ze}}=await network.get(`/api/content/product-pages/${ie}/products/${F}`);return Ze}async function Ct(F,ie,Ze){const Ue={onUploadProgress:Ze,headers:{"Content-Type":"multipart/form-data"}},Le=new FormData;Le.append("recordType",s().DIGITALGOOD.toString()),Le.append("contentType",ie.type),Le.append("fileName",ie.name),Le.append("fileSize",ie.size.toString()),Le.append("Filedata",ie);const{data:{media:_e}}=await e.default.post(`/api/commerce/products/${F}/digital-good`,Le,Ue);return{media:_e}}async function lt(F,ie){const{data:Ze}=await e.default.delete(`/api/commerce/products/${F}/images/${ie}`);return Ze}async function Lt(F){const{data:ie}=await e.default.post(`/api/content/copy/item?sourceId=${F}&copyWorkflowState=4`);return ie}async function At(F){const{data:ie}=await e.default.delete(`/api/commerce/products/${F}`);return ie}async function Yt(F){const{data:ie}=await e.default.delete(`/api/commerce/products/${F}/subscription-plan`);return ie}async function xe(F){const ie={headers:{"Content-Type":"application/x-www-form-urlencoded"}},{data:{success:Ze}}=await e.default.post("/api/commondata/ClearChildGroup",r().stringify({childType:"digitalGoods",itemId:F}),ie);return Ze}async function tt(F,ie,Ze,Ue){const{data:Le}=await e.default.put(`/api/2/commerce/products/${F}/images/${ie}`,{title:Ze,focalPoint:Ue});return Le}},143829:function(P,o,t){"use strict";t.d(o,{T:()=>R,q:()=>D});var n=t(714487),r=t(296923),e=t.n(r),c=t(997447),i=t(753074),a=t(419467),s=t.n(a),l=t(629266),d=t.n(l),f=t(182635),m=t(634083),u=t(961914);const p=L=>{if(L.productType!==e().GIFT_CARD)return!1;const x=L.variants.map(function(G){return G.price.toFloat()});return new Set(x).size!==x.length},g=L=>L.productType!==e().DIGITAL&&L.variants.some(x=>!x.sku),v=L=>{if(L.productType===e().DIGITAL)return!1;const x=L.variants.map(G=>G.sku).filter(G=>!!G);return x.length!==(0,a.uniq)(x).length},E=L=>L.productType===e().DIGITAL&&!L.hasDigitalGoods,C=L=>L.thumbnailImage?L.thumbnailImage.mediaProcessingState===d().QUEUED||L.thumbnailImage.mediaProcessingState===d().PROCESSING:!1,T=async L=>{if(!(0,c.uF)(L)||!L.subscribable)return!1;if(!L.subscriptionPlan)return!0;try{const{data:x}=await f.Z.get();return!x.userAccountsEnabled}catch{return console.error("Error: cannot access customer accounts settings"),!1}},I=L=>L.tags.length>m.pM,y=L=>L.tags.some(x=>x.length>m.cG),b=L=>{if(L.productType!==e().GIFT_CARD){var x,G,k;const V=(x=L.productAddOnsConfiguration)===null||x===void 0?void 0:x.productAddOns,$=(V==null||(G=V.validAddOns)===null||G===void 0?void 0:G.length)>0,J=(V==null||(k=V.invalidAddOns)===null||k===void 0?void 0:k.length)>0;return(0,i.c)(L)?$||J:!1}return!1},D=async function(L){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(I(L))return(0,n.t)("You may not have more than {count} tags.",{count:m.pM},{project:"commerce-product-composer"});if(b(L))return u.Kp;if(y(L))return(0,n.t)("Your tags must not be longer than {count} characters.",{count:m.cG},{project:"commerce-product-composer"});if(p(L))return(0,n.t)("Gift card amounts must be unique.",null,{project:"commerce-product-composer"});if(g(L))return(0,n.t)("You may not have an empty SKU.",null,{project:"commerce-product-composer"});if(v(L))return(0,n.t)("You may not have duplicate SKUs.",null,{project:"commerce-product-composer"});if(x&&E(L))return(0,n.t)("You must upload a file.",null,{project:"commerce-product-composer",notes:"Message shown in a modal when user needs to upload a file for digital download"});if(C(L))return(0,n.t)("You must wait for the Featured Image to finish processing.",null,{project:"commerce-product-composer"});if(await T(L))return(0,n.t)("Enable customer accounts and a subscription plan to save subscription products.",null,{project:"commerce-product-composer"})},j=L=>(0,a.get)(L,"response.data.errorType")==="INVALID_URL_ID",U=L=>(0,a.get)(L,"response.data.errorType")==="MALFORMED_URL_ID",R=L=>{if(j(L))return(0,n.t)("This product URL is already in use, please choose another.",null,{project:"commerce-product-composer"});if(U(L))return(0,n.t)("Product must contain a URL path containing only alphanumerics and non-contiguous hyphens or slashes.",null,{project:"commerce-product-composer"})}},77856:function(P,o,t){"use strict";t.d(o,{HV:()=>g,VJ:()=>y,XN:()=>v,pk:()=>j,ub:()=>p});var n=t(296923),r=t.n(n),e=t(272821),c=t(859940),i=t(696049),a=t(136679),s=t(289731),l=t.n(s),d=t(554468);const f=()=>i.default.fromJson({currencyCode:d.Z.getStoreCurrency(),decimalValue:"0"}),m=()=>[i.default.fromJson({currencyCode:d.Z.getStoreCurrency(),decimalValue:"25.00"}),i.default.fromJson({currencyCode:d.Z.getStoreCurrency(),decimalValue:"50.00"}),i.default.fromJson({currencyCode:d.Z.getStoreCurrency(),decimalValue:"75.00"}),i.default.fromJson({currencyCode:d.Z.getStoreCurrency(),decimalValue:"100.00"})];function u(U){return U.map(R=>({id:l()(),sku:(0,a.Z)(),price:R,salePrice:i.default.fromJson({currencyCode:d.Z.getStoreCurrency(),decimalValue:"0.00"}),onSale:!1,quantityInStock:1,unlimited:!1,optionValues:[]}))}function p(U,R){if(!(0,e.h)(U))throw new Error(`Unrecognized visibility state: ${U}`);return{state:U,visibleOn:R?new Date(R):void 0}}function g(U){let{productType:R,nextIndex:L,unlimited:x=!1,autoPublish:G=!1,initialData:k}=U;const V={productType:R,name:(k==null?void 0:k.name)??"",description:"",displayIndex:L,visibility:{state:G?e.B.VISIBLE:e.B.HIDDEN,visibleOn:new Date},variantOptionOrdering:[],variantOrderBySkus:[],useCustomAddButtonText:!1,featuredProduct:!1,shareStates:[]};switch(R){case r().PHYSICAL:return{...V,createdVariants:[{sku:(0,a.Z)(),price:(k==null?void 0:k.price)??f(),salePrice:(k==null?void 0:k.price)??f(),onSale:!1,quantityInStock:1,unlimited:x,optionValues:[]}]};case r().SERVICE:return{...V,createdVariants:[{sku:(0,a.Z)(),price:f(),salePrice:f(),onSale:!1,quantityInStock:1,unlimited:x,optionValues:[]}]};case r().GIFT_CARD:return{...V,createdVariants:u(m())};case r().DIGITAL:return{...V,price:f(),salePrice:f(),onSale:!1};default:throw new Error(`Cannot create products of type: ${R}`)}}function v(U){let{numBillingCycles:R,billingPeriod:L}=U;return{billingPeriod:L,numBillingCycles:R}}function E(U){return Object.entries(U).map(R=>{let[L,x]=R;return{optionName:L,value:x}})}function C(U){return[...U].map(R=>{var L,x;const G={...R,unlimited:(L=R.stock)===null||L===void 0?void 0:L.unlimited,quantityInStock:(x=R.stock)===null||x===void 0?void 0:x.quantity,optionValues:E(R.attributes)};return(0,c.LY)(R)&&(G.width=R.shippingSize.width,G.height=R.shippingSize.height,G.length=R.shippingSize.length,G.weight=R.shippingWeight.value),G})}function T(U,R){return[...U].map(L=>{var x,G;const k=R.find($=>{let{id:J}=$;return J===L.id});if(!k)throw new Error(`Existing variant not found for variant with id: ${L.id}`);let V={id:k.id,sku:L.sku.trim(),price:L.price,salePrice:L.salePrice,unlimited:(x=L.stock)===null||x===void 0?void 0:x.unlimited,onSale:L.onSale,optionValues:E(L.attributes)};if(((G=L.stock)===null||G===void 0?void 0:G.quantity)<0)throw new Error("Variant quantity can not be less than zero");if(L.stock!==void 0){const $=L.stock.quantity-(k.stock.quantity||0);L.stock.unlimited||(V={quantityChange:$,...V})}return(0,c.LY)(L)&&(V.width=L.shippingSize.width,V.height=L.shippingSize.height,V.length=L.shippingSize.length,V.weight=L.shippingWeight.value),V})}function I(U){return[...U].map(R=>{let{id:L}=R;return{id:L}})}function y(U,R){const L=new Set(U.map($=>{let{id:J}=$;return J})),x=new Set(R.map($=>{let{id:J}=$;return J})),G=new Set(U.filter($=>!x.has($.id))),k=new Set(U.filter($=>x.has($.id))),V=new Set(R.filter($=>!L.has($.id)));return{createdVariants:C(G),deletedVariants:I(V),updatedVariants:T(k,R),deletedVariantsRaw:[...V]}}function b(U){return U?U==null?void 0:U.map(R=>({productId:R.id,variantIds:"variants"in R?R==null?void 0:R.variants.map(L=>L.id):[]})):[]}function D(U){if(U.productAddOnsConfiguration){var R;const{validAddOns:L=[],invalidAddOns:x=[]}=U==null||(R=U.productAddOnsConfiguration)===null||R===void 0?void 0:R.productAddOns;return[...b(L),...b(x)]}return[]}function j(U,R,L){const{createdVariants:x,updatedVariants:G,deletedVariants:k}=y(U.variants,R.variants),V=L&&U.url.productPath===R.url.productPath,$=V?"":U.url.productPath;switch(U.productType){case r().PHYSICAL:case r().SERVICE:return{createdVariants:x,updatedVariants:G,deletedVariants:k,name:U.name,description:U.description,visibility:U.visibility,tags:U.tags,categories:U.categories,newImageOrder:U.images.map(J=>J.id),variantOptionOrdering:U.variantAttributeNames,variantOrderBySkus:U.variants.map(J=>{let{sku:ee}=J;return ee}),seoData:U.seoData,useCustomAddButtonText:U.useCustomAddButtonText,customAddButtonText:U.customAddButtonText,featuredProduct:U.featuredProduct,shareStates:U.socialPushFields.shareStates,relatedProductsConfiguration:U.relatedProductsConfiguration,urlId:$,productFormId:U.productFormId,regenerateUrlId:V,productAddOnsConfiguration:{productAddOns:D(U)}};case r().GIFT_CARD:return{createdVariants:x,updatedVariants:G,deletedVariants:k,name:U.name,description:U.description,visibility:U.visibility,tags:U.tags,categories:U.categories,newImageOrder:U.images.map(J=>J.id),variantOptionOrdering:U.variantAttributeNames,variantOrderBySkus:U.variants.map(J=>{let{sku:ee}=J;return ee}),seoData:U.seoData,useCustomAddButtonText:U.useCustomAddButtonText,customAddButtonText:U.customAddButtonText,featuredProduct:U.featuredProduct,shareStates:U.socialPushFields.shareStates,relatedProductsConfiguration:U.relatedProductsConfiguration,urlId:$,productFormId:U.productFormId,regenerateUrlId:V};case r().DIGITAL:return{name:U.name,description:U.description,visibility:U.visibility,tags:U.tags,categories:U.categories,newImageOrder:U.images.map(J=>J.id),variantOptionOrdering:[],variantOrderBySkus:[],price:U.variants[0].price,salePrice:U.variants[0].salePrice,onSale:U.variants[0].onSale,seoData:U.seoData,useCustomAddButtonText:U.useCustomAddButtonText,customAddButtonText:U.customAddButtonText,featuredProduct:U.featuredProduct,shareStates:U.socialPushFields.shareStates,relatedProductsConfiguration:U.relatedProductsConfiguration,urlId:$,productFormId:U.productFormId,regenerateUrlId:V,productAddOnsConfiguration:{productAddOns:D(U)}}}}},961914:function(P,o,t){"use strict";t.d(o,{Ei:()=>r,Kp:()=>e,YH:()=>s,a0:()=>d,y:()=>i,zC:()=>l});var n=t(714487);const r=(0,n.t)("Subscription products are unable to add product add-ons.",null,{project:"commerce-product-composer"}),e=(0,n.t)("This product currently has visible add-ons for shoppers during checkout. You must remove add-ons to create this subscription.",null,{project:"commerce-product-composer"}),c=(0,n.t)("Select a product add-on to upsell with your featured product. Products with subscriptions or variants are not available as add-ons.",null,{project:"commerce-product-composer"}),i=(0,n.t)("Select a product add-on to upsell with your featured product. Products with subscriptions or more than one variant option are not available as add-ons.",null,{project:"commerce-product-composer"}),a=(0,n.t)("Products with subscriptions or more than one variant option can't be used as add-ons.",null,{project:"commerce-product-composer"}),s=(0,n.t)("Remove",null,{project:"commerce-product-composer"}),l=(0,n.t)("Products unable to be used as add-ons",null,{project:"commerce-product-composer"}),d=(0,n.t)("Remove products that are not public, have subscriptions, or offer more than one variant option.",null,{project:"commerce-product-composer"})},300411:function(P,o,t){"use strict";t.d(o,{Pc:()=>i,ex:()=>e,j8:()=>a,l6:()=>r,rY:()=>c});var n=t(911925);const r=s=>({discount:Math.round(s.percentageDiscount*100),billingPeriod:s.productSubscriptionPlan.billingPeriod,billingCycle:{value:s.productSubscriptionPlan.numBillingCycles,cycle:s.productSubscriptionPlan.numBillingCycles>0?n.k.EXPIRES_AFTER:n.k.NEVER_EXPIRES},id:s.id??null}),e=s=>({billingPeriod:s.billingPeriod,billingCycle:{value:s.numBillingCycles,cycle:s.numBillingCycles>0?n.k.EXPIRES_AFTER:n.k.NEVER_EXPIRES},id:s.pricingOptionId??null}),c=s=>s.map(l=>{const{cycle:d,value:f}=l.billingCycle;return{productSubscriptionPlan:{billingPeriod:l.billingPeriod,numBillingCycles:d===n.k.EXPIRES_AFTER?f:0,pricingOptionId:l.id},percentageDiscount:(l.discount??0)/100,id:l.id??null}}),i=(s,l)=>{const{cycle:d,value:f}=s.billingCycle;return s.id?{...l,billingPeriod:s.billingPeriod,numBillingCycles:d===n.k.EXPIRES_AFTER?f:0}:{productId:l==null?void 0:l.productId,billingPeriod:s.billingPeriod,numBillingCycles:d===n.k.EXPIRES_AFTER?f:0}},a=(s,l)=>{var d;return((d=s[l])===null||d===void 0?void 0:d.id)||null}},584925:function(P,o,t){"use strict";t.d(o,{B3:()=>v,VF:()=>E,ZP:()=>C});var n=t(174161),r=t(362187),e=t(685763),c=t(338465),i=t(714487),a=t(534616),s=t(845076),l=t.n(s),d=t(228946);const{Transition:f,Overlay:m,Position:u,Dialog:p,TouchScroll:g}=e.Z,v=f;function E(T){let{onClose:I,onConfirm:y,title:b,message:D,confirmLabel:j,body:U,cancelLabel:R=(0,i.t)("Cancel",null,{project:"commerce-product-composer"})}=T;const L=n.createElement(r.Z.Button,{key:"confirm",onClick:y,"data-testid":"pc-alert-confirm-button","data-test":"pc-alert-confirm-button"},j),x=I&&n.createElement(r.Z.Button,{key:"close",onClick:I},R);return n.createElement(e.Z,{onRequestClose:I,lockFocus:!1},n.createElement(m,null),n.createElement(u,{className:d.unmask,position:"center"},n.createElement(r.Z,{title:b,message:D,buttons:x?[x,L]:[L]},U&&U({onClose:I,onConfirm:y}))))}function C(T){let{isOpen:I,onRequestClose:y,children:b,desktopMaxWidth:D,desktopMaxHeight:j,lockFocus:U=!1,isUnmasked:R,className:L,noTransition:x,modalProps:G,...k}=T;const{isMobile:V}=(0,a.Z)(),$=I&&n.createElement(e.Z,{onRequestClose:y,lockFocus:U,...G},n.createElement(m,null),n.createElement(u,{position:"center"},(()=>{const J=n.createElement(p,null,n.createElement(g,null,n.createElement(c.Z,{tabIndex:0,className:l()({[d.unmask]:R},L),...k,...V?{height:"100%"}:{width:D,height:j,maxWidth:"100vw",maxHeight:"100vh"},css:{"&:focus":{outline:"none"}}},b)));return V?n.createElement(p.ResponsiveProvider,null,J):J})()));return x?n.createElement(n.Fragment,null,$):n.createElement(f,null,$)}},69455:function(P,o,t){"use strict";t.d(o,{Z:()=>s});var n=t(174161),r=t(139717),e=t(482053),c=t(338465),i=t(842132);const s=l=>{let{cellBody:d,popOverBody:f,className:m,sx:u}=l;const[p,g]=(0,n.useState)(!1),v=(0,n.useRef)(null);return n.createElement(n.Fragment,null,n.createElement(e.Z,{ref:v,className:m,sx:u,onClick:()=>g(!0),justifyContent:"end"},d),n.createElement(r.Z,{isOpen:p,anchor:()=>v.current,onRequestClose:()=>g(!1),position:"bottom-left",anchorPoint:{x:"right",y:"top"},offset:0,hideArrow:!0,closeOnClickOutside:!0},n.createElement(c.Z,{minWidth:"150px",onKeyDown:E=>{i.Z.isEnter(E)&&g(!1)}},f)))}},564806:function(P,o,t){"use strict";t.d(o,{Z:()=>d,u:()=>s});var n=t(174161),r=t(934951),e=t(538312),c=t(546469),i=t(896139),a=t(634083);const s={textAlign:"right",outline:"none",maxWidth:"110px","&:focus":{color:"black",textDecoration:"none"}},d=f=>{let{price:m,salePrice:u,onSale:p,onChange:g,shouldShowLabel:v,...E}=f;return n.createElement(n.Fragment,null,v&&n.createElement(e.Z.Label,{px:2,py:1},n.createElement(r.T,{project:"apps.App.Commerce"},"Price")),n.createElement(c.Z,{...E,max:a.y2,min:p?u.toFloat():0,price:m,onChange:C=>{const T=(0,i.gi)(C,u,p);g(T.price,T.sale)},inputProps:{sx:{...s,...p?{color:"gray.400",textDecoration:"line-through"}:null}},labelPlacement:"hidden",sx:{mt:1,mx:2,"> div":{mb:0}},"data-test":"pc-tablePrice-input"}))}},381596:function(P,o,t){"use strict";t.d(o,{Z:()=>i});var n=t(174161),r=t(571199),e=t(714487);const i=()=>n.createElement(r.Z,{label:(0,e.t)("Sale",null,{project:"apps.App.Commerce"}),usage:"badge",backgroundColor:"gray.600"})},885168:function(P,o,t){"use strict";t.d(o,{Z:()=>u});var n=t(153088),r=t(174161),e=t(538312),c=t(456825),i=t(714487),a=t(934951),s=t(896139),l=t(546469),d=t(564806),f=t(158127);const u=p=>{let{price:g,salePrice:v,onSale:E,onChange:C,shouldShowLabel:T}=p;return r.createElement(r.Fragment,null,r.createElement(c.default,{value:E,label:(0,i.t)("On Sale",null,{project:"commerce-product-composer"}),onChange:I=>{C(v,I)},flush:!0,underlined:!1,onKeyDown:(0,f.Z)(I=>{I.stopPropagation(),C(v,!E)})}),E&&T&&r.createElement(e.Z.Label,{px:2,py:1},r.createElement(a.T,{project:"apps.App.Commerce"},"Sale price")),E&&r.createElement(l.Z,{max:g.toFloat(),price:v,onChange:I=>{C((0,s.Fl)(I,g),E)},inputProps:{sx:d.u},labelPlacement:"hidden",sx:{mx:2}}))}},445916:function(P,o,t){"use strict";t.d(o,{s:()=>n});var n=function(r){return r.STORE_PAGE="store_page",r.INVENTORY_PANEL="inventory_panel",r.SETUP_CHECKLIST="setup_checklist",r.SETUP_WIZARD="setup_wizard",r.CONTENT_AND_MEMBERSHIPS="content_and_memberships",r.PRODUCT_BLOCK="product_block",r.AI_TOOLS_WIDGET="ai_tools_widget",r}({})},193094:function(P,o,t){"use strict";t.d(o,{Z:()=>E,o:()=>v});var n=t(153088),r=t(174161),e=t(845076),c=t.n(e),i=t(338465),a=t(456825),s=t(964865),l=t(69455),d=t(714487),f=t(297699),m=t.n(f),u=t(453962),p=t(634083);const g="\u221E",v=C=>{let{stock:T,onChange:I}=C;const y=(0,u.Z)(T.quantity);return r.createElement(r.Fragment,null,r.createElement(i.Z,{px:2,className:m().popoverContainer},r.createElement(s.Z,{value:T.unlimited?g:y.toString(),onChange:b=>{b=b.replace(g,""),b.trim()===""&&(b="0"),I({unlimited:!1,quantity:(0,u.Z)(parseInt(b))})},autoFocus:!0,rightAlign:!0})),r.createElement(a.default,{value:T.unlimited,label:(0,d.t)("Unlimited Stock",null,{project:"commerce-product-composer"}),onChange:b=>{I({unlimited:b,quantity:y===0?p.zJ:y})},flush:!0,underlined:!1}))};function E(C){let{stock:T,onChange:I}=C;if(T===void 0)return r.createElement("div",{className:m().emptyState},"-");const y=(0,u.Z)(T.quantity);return r.createElement(l.Z,{cellBody:T.unlimited?g:y,popOverBody:r.createElement(i.Z,{py:1},r.createElement(v,{stock:T,onChange:I})),className:c()(m().container,{[m().unlimited]:T.unlimited})})}},525475:function(P,o,t){"use strict";t.d(o,{Z:()=>d});var n=t(174161),r=t(538312),e=t(482053),c=t(619506),i=t(158127);function a(f){let{children:m,onClick:u,onRequestClose:p,...g}=f;return n.createElement(r.Z.Action,{tabIndex:0,sx:{cursor:"pointer","&:hover":{backgroundColor:"gray.900"}},px:{"mobile-*":3,_:4},py:2,onClick:v=>{v.stopPropagation(),u==null||u(),p==null||p()},onKeyDown:(0,i.Z)(v=>{v.stopPropagation(),u(),p==null||p()}),...g},m)}function s(f){let{children:m,onClick:u,onRequestClose:p,...g}=f;return n.createElement(r.Z.Action,{tabIndex:0,sx:{cursor:"pointer","&:hover":{backgroundColor:"gray.900"}},color:"red",px:{"mobile-*":3,_:4},py:2,onClick:()=>{u(),p()},onKeyDown:(0,i.Z)(v=>{v.stopPropagation(),u(),p==null||p()}),...g},m)}function l(f){let{position:m="bottom-right",children:u,renderTrigger:p,onRequestClose:g,onRequestOpen:v}=f;const[E,C]=(0,n.useState)(!1);return u?n.createElement(c.Z.PopOver,{position:m,"data-test":"pc-image-action-list-button",renderTrigger:p,isOpen:E,onRequestOpen:()=>{v==null||v(),C(!0)},onRequestClose:()=>{g==null||g(),C(!1)}},()=>n.createElement(e.Z,{bg:"white",flexDirection:"column"},n.Children.toArray(u).map(T=>{if(n.isValidElement(T))return n.cloneElement(T,{onRequestClose:()=>{g==null||g(),C(!1)}})}))):null}l.Button=a,l.ButtonDanger=s;const d=l},546469:function(P,o,t){"use strict";t.d(o,{Z:()=>f});var n=t(174161),r=t(494218),e=t(161421),c=t(714487),i=t(470407),a=t(554468);const l=new i.default(c.ZP).getNumberSystemMetadata().symbols,f=m=>{let{price:u,onChange:p,min:g=0,max:v=1/0,inputProps:E,...C}=m;const T=(0,n.useRef)(null),[I,y]=(0,n.useState)({currency:a.Z.getStoreCurrency(),amount:u.toFloat()}),{inputProps:b,formatValue:D}=(0,e.ZP)(I,y,T.current,l,c.xG),j=L=>{y(D(L))},U=L=>{var x;E==null||(x=E.onBlur)===null||x===void 0||x.call(E,L),y(G=>{let k=G;if(isNaN(G.amount))k={...G,amount:g,mask:(0,c.xG)(g,G.currency)};else if(G.amount<g||G.amount>v){const V=Math.min(Math.max(G.amount,g),v);k={...G,amount:V,mask:(0,c.xG)(V,G.currency)}}return p(k.amount),k})},R=L=>{var x;E==null||(x=E.onKeyDown)===null||x===void 0||x.call(E,L),L.key==="Enter"&&L.target instanceof HTMLInputElement&&L.target.blur()};return(0,n.useEffect)(()=>{y({currency:a.Z.getStoreCurrency(),amount:u.toFloat()})},[u]),n.createElement(r.Z,{...C,inputProps:{ref:T,...E,...b,onChange:j,onBlur:U,onKeyDown:R}})}},48387:function(P,o,t){"use strict";t.d(o,{I:()=>f,R:()=>d});var n=t(119978),r=t(997447),e=t(251678),c=t(419467),i=t.n(c),a=t(267486),s=t.n(a);const l=m=>{if(!m)return null;const{strategy:u,relatedCategories:p,relatedCategoryIds:g,relatedTags:v}=m;return u===s().CATEGORIES?p&&p.length>0?p[0]:g&&g.length>0?g[0]:null:u===s().TAGS&&v?v[0]:null};function d(m,u,p,g){const v=(0,e.Z)(m.productType),E=u.relatedProductsConfiguration,C=m.relatedProductsConfiguration;if(m&&u&&v){var T,I,y,b;if(m.description!==u.description&&(0,n.Su)(m.name,v,p,m.id,(0,r.sn)(m)),m.name!==u.name&&(0,n.Xd)(m.name,v,p,m.id,(0,r.sn)(m)),u.tags!==m.tags&&((0,c.difference)(u.tags,m.tags).forEach(function(U){(0,n.z0)({productName:m.name,productType:v,productEditor:p,productId:m.id,tag:U,fulfilledExternally:(0,r.sn)(m)})}),(0,c.difference)(m.tags,u.tags).forEach(function(U){(0,n.vc)({productName:m.name,productType:v,productEditor:p,productId:m.id,tag:U,fulfilledExternally:(0,r.sn)(m)})})),u.categories!==m.categories&&((0,c.difference)(u.categories,m.categories).forEach(function(U){(0,n.eY)({productName:m.name,productType:v,productEditor:p,productId:m.id,category:U,fulfilledExternally:(0,r.sn)(m)})}),(0,c.difference)(m.categories,u.categories).forEach(function(U){(0,n.f2)({productName:m.name,productType:v,productEditor:p,productId:m.id,category:U,fulfilledExternally:(0,r.sn)(m)})})),u.visibility.state!==m.visibility.state&&(0,n.U)({productName:m.name,productType:v,productEditor:p,productId:m.id,workflowState:m.visibility.state}),C&&!(0,c.isEqual)(E,C)&&(0,n.Mc)({productName:m.name,productType:v,productEditor:p,productId:m.id,newValue:l(C),fulfilledExternally:(0,r.sn)(m)}),(0,c.isEqual)(u.additionalInfo,m.additionalInfo)||(0,n.cz)(m.name,v,p,m.id,(0,r.sn)(m)),(0,r.uF)(m)&&(0,r.uF)(u)&&u.subscriptionPlan!==m.subscriptionPlan&&(0,n.$g)({productName:m.name,productType:v,productEditor:p,productId:m.id,val:!!m.subscriptionPlan,fulfilledExternally:(0,r.sn)(m)}),!((T=m.seoData)===null||T===void 0)&&T.title&&m.seoData.title!==((I=u.seoData)===null||I===void 0?void 0:I.title)){var D;(0,n.B)((D=m.seoData)===null||D===void 0?void 0:D.title,v,p,m.id,(0,r.sn)(m))}if(!((y=m.seoData)===null||y===void 0)&&y.description&&m.seoData.description!==((b=u.seoData)===null||b===void 0?void 0:b.description)){var j;(0,n.uP)((j=m.seoData)===null||j===void 0?void 0:j.description,v,p,m.id,(0,r.sn)(m))}m.url.productPath!==u.url.productPath&&(0,n.Wm)(m.url.productPath,v,p,m.id,(0,r.sn)(m)),(0,c.isEqual)(u.variants,m.variants)||m.variants.forEach(function(U){let R;if(u.variants&&(R=u.variants.find(function(L){return L.id===U.id})),R?U.onSale!==R.onSale&&(0,n.o9)({productName:m.name,productType:v,productEditor:p,productId:m.id,isOnSale:U.onSale,fulfilledExternally:(0,r.sn)(m),customData:g&&{bulk_edit_action:g}}):U.onSale&&(0,n.o9)({productName:m.name,productType:v,productEditor:p,productId:m.id,isOnSale:U.onSale,fulfilledExternally:(0,r.sn)(m)}),R){if(!(0,c.isEqual)(U.stock,R.stock)){const L=R.stock.unlimited?null:R.stock.quantity.toString(),x=U.stock.unlimited?null:U.stock.quantity.toString();(0,n.L8)({attributeType:"stock",productId:m.id,productName:m.name,productType:v,variantId:U.id,updatedValue:x,productEditor:p,originalValue:L,fulfilledExternally:(0,r.sn)(m)})}U.sku!==R.sku&&(0,n.L8)({attributeType:"SKU",productId:m.id,productName:m.name,productType:v,variantId:U.id,updatedValue:U.sku,productEditor:p,originalValue:R.sku,fulfilledExternally:(0,r.sn)(m)}),U.price.toFloat()!==R.price.toFloat()&&(0,n.L8)({attributeType:"retail-price",productId:m.id,productName:m.name,productType:v,variantId:U.id,updatedValue:U.price.toFloat().toString(),productEditor:p,originalValue:R.price.toFloat().toString(),fulfilledExternally:(0,r.sn)(m),customData:g&&{bulk_edit_action:g}}),U.salePrice.toFloat()!==R.salePrice.toFloat()&&(0,n.L8)({attributeType:"sale-price",productId:m.id,productName:m.name,productType:v,variantId:U.id,updatedValue:U.salePrice.toFloat().toString(),productEditor:p,originalValue:R.salePrice.toFloat().toString(),fulfilledExternally:(0,r.sn)(m),customData:g&&{bulk_edit_action:g}})}})}}function f(m,u,p){const g=(0,e.Z)(m.productType);if(m&&u&&g){const v={price:!1,onSale:!1,salePrice:!1};m.variants.forEach(function(E){if(Object.values(v).every(I=>I===!0))return;const C=m.variants.map(I=>I.id);let T;u.variants&&(T=u.variants.find(I=>I.id===E.id)),T&&(E.onSale!==T.onSale&&!v.onSale&&((0,n.o9)({productName:m.name,productType:g,productEditor:p,productId:m.id,isOnSale:E.onSale,fulfilledExternally:(0,r.sn)(m),customData:{variant_ids:C,bulk_edit_action:n.zT.APPLY_ALL}}),v.onSale=!0),E.price.toFloat()!==T.price.toFloat()&&!v.price&&((0,n.L8)({attributeType:"retail-price",productId:m.id,productName:m.name,productType:g,variantId:E.id,updatedValue:E.price.toFloat().toString(),productEditor:p,originalValue:T.price.toFloat().toString(),fulfilledExternally:(0,r.sn)(m),customData:{variant_ids:C,bulk_edit_action:n.zT.APPLY_ALL}}),v.price=!0),E.salePrice.toFloat()!==T.salePrice.toFloat()&&!v.salePrice&&((0,n.L8)({attributeType:"sale-price",productId:m.id,productName:m.name,productType:g,variantId:E.id,updatedValue:E.salePrice.toFloat().toString(),productEditor:p,originalValue:T.salePrice.toFloat().toString(),fulfilledExternally:(0,r.sn)(m),customData:{variant_ids:C,bulk_edit_action:n.zT.APPLY_ALL}}),v.salePrice=!0))})}}},534616:function(P,o,t){"use strict";t.d(o,{Z:()=>e});var n=t(798589);const e=()=>({isMobile:n.isMobile()})},125607:function(P,o,t){"use strict";t.d(o,{f:()=>c,t:()=>i});var n=t(174161),r=t(898301),e=t(584925);const{ConfirmModalProvider:c,useConfirmModal:i}=(0,r.Z)(a=>{let{onConfirm:s,onCancel:l,...d}=a;return n.createElement(e.VF,{...d,onConfirm:s,onClose:l})},a=>{let{children:s}=a;return n.createElement(e.B3,null,s)})},925184:function(P,o,t){"use strict";t.d(o,{Q:()=>n});var n=function(r){return r.PAGES_PANEL="pages_panel",r.PRODUCT_BLOCK="product_block",r.PRODUCT_PAGE="product_page",r}({})},634083:function(P,o,t){"use strict";t.d(o,{$l:()=>f,CL:()=>u,VC:()=>c,ac:()=>s,cG:()=>a,g4:()=>l,gs:()=>m,oM:()=>e,pM:()=>i,sd:()=>r,vG:()=>d,y2:()=>n,zJ:()=>g});const n=1e6,r=1e4,e=1e4,c=60,i=100,a=100,s=200,l=100,d=100,f=250,m=6,u=1e9,p=20,g=1},677013:function(P,o,t){"use strict";t.d(o,{P:()=>r,R:()=>n});const n="900px",r="675px"},789900:function(P,o,t){"use strict";t.d(o,{U:()=>n});var n=function(r){return r.RETREATS_AND_GROUP_TRIPS="retreats_and_group_trips",r.CONSULTING_PACKAGES="consulting_packages",r.GROUP_EVENT="group_event",r}({})},896139:function(P,o,t){"use strict";t.d(o,{Fl:()=>a,N4:()=>c,gi:()=>i});var n=t(696049),r=t(554468),e=t(714487);const c=s=>{const l=r.Z.getStoreCurrency(),d=(0,e.Wj)(l).digits,f=Math.pow(10,d),m=Math.round(s*f)/f;return n.default.fromJson({decimalValue:m.toString(),currencyCode:l})},i=(s,l,d)=>{const f=isNaN(s)||s<=0?0:d&&s<l.toFloat()?l.toFloat():s,m=c(f),u=m.toFloat()<l.toFloat()?m:l;return{price:m,sale:u}},a=(s,l)=>{const d=isNaN(s)||s<0?0:s>l.toFloat()?l.toFloat():s;return c(d)}},453962:function(P,o,t){"use strict";t.d(o,{Z:()=>r});var n=t(634083);function r(e){return!Number.isInteger(e)||e<0?e=n.zJ:e>n.CL&&(e=n.CL),e}},136679:function(P,o,t){"use strict";t.d(o,{Z:()=>e});const n=7,r="SQ";function e(){const i=Math.floor(Math.random()*Math.pow(10,n)).toString().padStart(n,"0");return`${r}${i}`}},339858:function(P,o,t){"use strict";t.d(o,{Z:()=>c});var n=t(969145),r=t(174161);const c=i=>{let{useDrawer:a}=i;const s=a?"bottom":"center",{easing:l,sizes:d,space:f,time:m}=(0,n.F)(),u=(0,r.useMemo)(()=>({entering:{bottom:`-${d.sizes[800]}`,opacity:0},enteringActive:{bottom:0,transitionTimingFunction:l.product.entrance,transitionDuration:m[500],opacity:1},exiting:{bottom:0,opacity:1},exitingActive:{bottom:`-${d.sizes[800]}`,transitionTimingFunction:l.product.exit,transitionDuration:m[500],opacity:0}}),[l,d,m]);return s==="center"?{}:{dialogStyles:{transitionStyles:u,css:{position:"relative",bottom:0,transitionProperty:"bottom, opacity",width:"100vw !important",height:`calc(100vh - ${f[6]}) !important`,overflow:"visible"}},position:"bottom-left"}}},181517:function(P,o,t){"use strict";t.d(o,{V:()=>n});const n="Off"},336131:function(P,o,t){"use strict";t.d(o,{AW:()=>c,CP:()=>r,NJ:()=>e});var n=t(456903);const r=async a=>{const s=await n.default.get(`/api/commondata/GetCollectionCategories?collectionId=${a}`);return s.status===200||s.status===204?s.data:{}},e=async a=>{const s=await n.default.get(`/api/commondata/GetCollectionTags?collectionId=${a}`);return s.status===200||s.status===204?s.data:{}},c=async a=>{const s=await n.default.get(`/api/commerce/products/${a}`);return s.status===200||s.status===204?s.data.relatedProductsConfiguration||{}:{}},i=async()=>{const a=await network.get("/api/commerce/settings/merchandising");return a.status===200||a.status===204?a.data:{}}},346588:function(P,o,t){"use strict";t.d(o,{Z:()=>l});var n=t(336131),r=t(271685),e=t(444867),c=t.n(e),i=t(762379),a=t(397372);const l=async(d,f,m)=>{const u=i.Z.isFeatureEnabled(c().NESTED_CATEGORIES);let p=!1,g,v;if(u)try{const E=await(0,r.CP)(d),C=E.categoryTree,T=E.categoryTree[0];g=a.C.constructCategoriesTree(C,[],T).getNodesInRenderOrder().map(y=>({name:y.displayName,id:y.id,level:y.level,fullSlug:y.fullSlug})),m&&g.unshift({name:T.displayName,id:T.id,level:1,fullSlug:T.fullSlug})}catch{p=!0}else try{g=(await(0,n.CP)(d)).map(C=>({name:C.name}))}catch{p=!0}if(f){const E=await(0,n.NJ)(d);E?v=E.map(C=>C.name):p=!0}return{storeWideCats:g,apiErrors:p,storeWideTags:v}}},901674:function(P,o,t){"use strict";t.d(o,{Z:()=>j});var n=t(153088),r=t(563989),e=t(444867),c=t.n(e),i=t(267486),a=t.n(i),s=t(845076),l=t.n(s),d=t(762379),f=t(938875),m=t(934951),u=t(174161),p=t(714487),g=t(273408),v=t(336131),E=t(181517),C=t(177027),T=t.n(C);function I(U,R,L){return R in U?Object.defineProperty(U,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):U[R]=L,U}const y=d.Z.isFeatureEnabled(c().NESTED_CATEGORIES),b=U=>{let{isSelected:R,isFocused:L,level:x,...G}=U;return u.createElement(g.default,{accessory:R?u.createElement(f.Z,{width:16,height:16}):null,focused:L,focusable:!1,underlined:!1,className:l()({[T().levelTwoCategory]:x===2,[T().levelThreeCategory]:x===3}),...G})};class D extends u.Component{async componentDidMount(){this.state.value||await this.getValue()}render(){const{storeWideCats:R,selectableTags:L,disableDescription:x,children:G,isDropdownFlush:k,damaskify:V}=this.props,$=u.createElement("div",{onClick:this.onClick},u.createElement(r.default,{flush:k,className:l()(T().dropdownStyles,V&&T().damaskify),isDisabled:R.length===0&&L.length===0,options:this.getOptions(),value:this.getValueFromStateOrProps(),onChange:this.onChange,renderDropdown:this.renderDropdown,maxHeight:230,renderOption:b})),J=this.renderDescription();return G?G({dropdown:$,description:J}):u.createElement(u.Fragment,null,$,!x&&u.createElement("div",{className:"description"},J))}getOptions(){const{storeWideCats:R,selectableTags:L}=this.props,x=[{label:(0,p.t)("Off",null,{project:"apps.App.Commerce.RelatedProducts"}),value:E.V}];return R.length>0&&(x.push({isDisabled:!0,label:"",subtitle:(0,p.t)("Categories",null,{project:"apps.App.Commerce.RelatedProducts"}),value:"categoriesHeader"}),R.forEach(G=>{x.push({label:G.name,value:this.getCategoryValue(G,y),level:G.level})})),L.length>0&&(x.push({isDisabled:!0,label:"",subtitle:(0,p.t)("Tags",null,{project:"apps.App.Commerce.RelatedProducts"}),value:"tagsHeader"}),L.forEach(G=>{x.push({label:G,value:this.getTagValue(G)})})),x}async getValue(){const{model:R,storeWideCats:L,selectableTags:x,existingProductCats:G}=this.props,{strategy:k,relatedTags:V,relatedCategories:$,relatedCategoryIds:J}=await(0,v.AW)(R.productId),ee=[...G],de=this.getRelatedCategoriesValue({relatedCategories:$,relatedCategoryIds:J}),re=L.filter(Ee=>y?ee.includes(Ee.id):ee.includes(Ee.name));switch(k){case a().OFF:this.setState({value:"Off"});break;case a().CATEGORIES:{const Ee=L.filter(Te=>y?de.includes(Te.id):de.includes(Te.name));if(Ee.length>0){this.setState({value:this.getCategoryValue(Ee[0],y)});break}}case a().TAGS:{const Ee=Object.values(V).filter(Te=>x.includes(Te));if(Ee.length>0){this.setState({value:this.getTagValue(Ee[0])});break}}default:this.setState(ee[0]?{value:this.getCategoryValue(re[0],y)}:{value:"Off"});break}}isValid(R){return R&&R.length>0}getValueFromStateOrProps(){return this.props.value?`categories_${this.props.value}`:this.state.value}renderDescription(){const{storeWideCats:R,selectableTags:L}=this.props,x=this.getValueFromStateOrProps();let G;return!this.isValid(R)&&!this.isValid(L)?G=u.createElement(m.T,{project:"apps.App.Commerce.RelatedProducts"},"To show related products on this product\u2019s page, add a category or tag."):!x||x==="Off"?G=u.createElement(m.T,{project:"apps.App.Commerce.RelatedProducts"},"To show related products on this product\u2019s page, choose a category or tag."):G=u.createElement(m.T,{project:"apps.App.Commerce.RelatedProducts"},"Products with this tag or category will now appear as related products."),G}constructor(...R){super(...R),I(this,"state",{value:this.props.initialValue||""}),I(this,"getRelatedCategoriesValue",L=>{let{relatedCategories:x=[],relatedCategoryIds:G=[]}=L;const k=y?G:x;return k?[...k]:[]}),I(this,"getCategoryValue",(L,x)=>x?`${a().CATEGORIES}_${L.id}`:`${a().CATEGORIES}_${L.name}`),I(this,"getTagValue",L=>`${a().TAGS}_${L}`),I(this,"onChange",L=>{const{saveRelatedAttrs:x}=this.props;this.setState({value:L});const G=L.indexOf("_");let k=L.substring(0,G);k=k.length===0?a().OFF:k;const V=L.substring(G+1);x([V],k,L)}),I(this,"onClick",L=>{L.stopPropagation(),L.preventDefault()}),I(this,"renderDropdown",L=>u.createElement(r.Dropdown,{...L,className:T().zIndexOverride}))}}const j=D},597280:function(P,o,t){"use strict";t.d(o,{Z:()=>a});var n=t(586745),r=t.n(n),e=t(997447);function c(s){return s.map(l=>{var d,f;return{id:l.id,sku:l.sku,qtyInStock:(d=l.stock)===null||d===void 0?void 0:d.quantity,unlimited:(f=l.stock)===null||f===void 0?void 0:f.unlimited,attributes:l.attributes}})}function i(s){return s.map(l=>({id:l.id,sku:l.sku,unlimited:!0}))}function a(s){const{id:l,name:d,productType:f,collectionId:m}=s,u={id:l,productType:f,collectionId:m,title:d,recordType:r().STORE_ITEM};return(0,e.iK)(s)?{...u,variants:[],onSale:!1,price:s.variants[0].price,salePrice:s.variants[0].salePrice,hasDigitalGoods:s.hasDigitalGoods}:(0,e.Mm)(s)?{...u,variants:i(s.variants)}:{...u,variants:c(s.variants)}}},451226:function(P,o,t){"use strict";t.d(o,{Gw:()=>l,ZP:()=>d,z0:()=>s});var n=t(885878),r=t.n(n),e=t(286465);const c=()=>e.Z.hasRole(r().STORE_MANAGER)||e.Z.hasRole(r().ADMIN),i="/config/commerce/selling-tools/product-reviews",a=()=>i,s=()=>{window.location.assign(i)},l=()=>{const f=new URLSearchParams(window.location.search);f.delete("step");const m=f.toString()?`?${f.toString()}`:"";window.history.replaceState({},"",`${window.location.pathname}${m}`)},d=()=>{try{return c()}catch(f){console.error("Encountered problem with Etsy Product Review Import gating check",f)}return!1}},621647:function(P,o,t){"use strict";t.d(o,{_:()=>e,y:()=>c});var n=t(456903);const r="/api/commerce/settings/merchandising";function e(){return n.default.get(r)}function c(i){return n.default.post(r,i)}},498604:function(P,o,t){"use strict";t.d(o,{T:()=>l,w:()=>d});var n=t(742054),r=t(174161),e=t(273564),c=t(714487),i=t(682345),a=t(629786),s=t(711679);const l=f=>{let{trackingObjectIdentifier:m,upsellCopy:u}=f;return(0,r.useEffect)(()=>(0,a.uy)({objectType:a.LP.BUTTON,objectIdentifier:m}),[m]),r.createElement(n.g8.Tertiary,{alignSelf:"flex-start",sx:{color:"blue.100"},onClick:()=>{(0,e.showUpsellConfirmation)(u||{upgradeTitle:(0,c.t)("Upgrade to Sell",null,{project:"apps.App.Commerce"}),upgradeDescription:(0,c.t)("A Selling plan is required for customers to purchase these products.",null,{project:"apps.App.Commerce"})},void 0,()=>{(0,i.R)(),(0,a.Ch)({objectIdentifier:m})}),(0,a.gU)({objectIdentifier:m}),(0,a.IF)({objectIdentifier:m})}},(0,c.t)("Upgrade",null,{project:"apps.App.Commerce"}))},d=f=>{let{trackingObjectIdentifier:m,feature:u}=f;const p=s.Z.getUpsellCopy(u);return r.createElement(l,{trackingObjectIdentifier:m,upsellCopy:p})}},108647:function(P,o,t){"use strict";t.d(o,{Z:()=>a});var n=t(174161),r=t(362187),e=t(685763);const{Overlay:c,Position:i}=e.Z,a=s=>{let{title:l,message:d,cancelButton:f,confirmButton:m}=s;const u=(0,n.useMemo)(()=>[n.createElement(r.Z.Button,{onClick:()=>f.onClick(),variant:f.variant||"tertiary"},f.text),...m?[n.createElement(r.Z.Button,{onClick:()=>m.onClick(),variant:m.variant||"tertiary"},m.text)]:[]],[f,m]);return n.createElement(e.Z,{onRequestClose:()=>f.onClick()},n.createElement(c,null),n.createElement(i,{position:"center"},n.createElement(r.Z,{title:l,message:d,buttons:u})))}},184149:function(P,o,t){"use strict";t.d(o,{Z:()=>fn});var n=t(200457),r=t(174161),e=t(969145),c=t(762005),i=t(766400),a=t(394954),s=t(685763),l=t(482053),d=t(538312),f=t(516865),m=t(338465);const u="502px",p="77px";var g=t(28367);const E=pe=>{let{disableApply:Be,onApply:Ge,onClose:$e}=pe;return r.createElement(l.Z,{alignItems:"center",justifyContent:"space-between",height:"sizes.300",width:"100%",my:2},r.createElement(f.Z.Tertiary,{onClick:$e},r.createElement(g.T,{notes:"label for button to close a modal and go back to edit subscription changes",project:"commerce.subscription-editor"},"Back to Edit")),r.createElement(f.Z.Primary,{onClick:Ge,disabled:Be},r.createElement(g.T,{notes:"Label for the action of applying subscription changes",project:"commerce.subscription-editor"},"Apply")))},C={subscriptionDetails:void 0,lifecycles:void 0,isOpen:!1},T=(0,r.createContext)(C),I=pe=>{let{children:Be,subscriptionDetails:Ge,lifecycles:$e,isOpen:ft}=pe;return r.createElement(T.Provider,{value:{subscriptionDetails:Ge,lifecycles:$e,isOpen:ft}},Be)},y=()=>{const{subscriptionDetails:pe}=(0,r.useContext)(T);if(!pe)throw new Error("useEditPlanModalSubscriptionDetails must be used inside an EditPlanModalProvider");return pe},b=()=>{const{lifecycles:pe}=(0,r.useContext)(T);if(!pe)throw new Error("useEditPlanModalLifecycles must be used inside an EditPlanModalProvider");return pe},D=I;var j=t(696049),U=t(456903);const R="/api/commerce-subscription-app/v1/subscriptions",L=pe=>({subscribableId:pe.subscribableId,totalCounts:pe.totalCounts.map(Be=>{let{count:Ge,price:$e}=Be;return{count:Ge,price:j.default.fromJson($e)}})});async function x(pe){return(await U.default.get(`${R}/PRODUCT/total-subscription-count`,{params:{subscribableIds:pe.join(",")}})).data.result.map(L)}async function G(pe){await U.default.post(`${R}/plans/subscribables/PRODUCT/subscriptions/price`,{updates:pe})}const k={bulkUpdateSubscriptionPriceForSubscribables:G,getTotalSubscriptionCounts:x};let V=function(pe){return pe.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY="FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY",pe.ALL_SUBSCRIPTION_CUSTOMERS="ALL_SUBSCRIPTION_CUSTOMERS",pe}({});var $=t(678566);const J=pe=>({subscribableId:pe.subscribableId,price:(0,$.q)(pe.new.productVariant.price,pe.new.subscriptionOption.percentageDiscount)}),ee=pe=>pe.filter(Be=>!Be.isBeingRemoved).map(J),de=pe=>{let{productVariant:Be,subscriptionOption:Ge}=pe;const $e=Be.onSale?Be.salePrice:Be.price;return(0,$.q)($e,Ge.percentageDiscount)},re=(pe,Be)=>Be?Be.totalCounts.map(Ge=>({previousPrice:Ge.price,newPrice:de(pe.new),subscriptionsAffected:Ge.count})):[{previousPrice:de(pe.current),newPrice:de(pe.new),subscriptionsAffected:0}],Ee=(pe,Be)=>pe.map(Ge=>{const $e=Be.find(ft=>ft.subscribableId===Ge.subscribableId);return{subscriptionOptionId:Ge.current.subscriptionOption.id,changedSubscriptions:re(Ge,$e),isBasePriceChanged:!(0,$.l)(Ge.current.productVariant.price,Ge.new.productVariant.price),isSubDiscountChanged:Ge.current.subscriptionOption.percentageDiscount!==Ge.new.subscriptionOption.percentageDiscount}}),Te=()=>{const{applyToRadioOption:pe}=b(),{subscriptionOptionChangeSummaries:Be,totalSubscriptionCounts:Ge}=y(),[$e,ft]=(0,r.useState)(!1),[Gt,Dt]=(0,r.useState)(null);return{bulkUpdateSubscriptionPrice:(0,r.useCallback)(async()=>{ft(!0),Dt(null);const Se={applyChangesTo:pe,changedSubscriptionOptions:Ee(Be,Ge??[])};if(pe===V.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY)return{...Se,isSuccessful:!0};try{const dn=ee(Be);return await k.bulkUpdateSubscriptionPriceForSubscribables(dn),{...Se,isSuccessful:!0}}catch(dn){return Dt(dn),ft(!1),{...Se,isSuccessful:!1}}},[pe,Be,Ge]),isLoading:$e,error:Gt}},be=()=>{const{error:pe,isLoading:Be,onApply:Ge,onClose:$e}=b(),{bulkUpdateSubscriptionPrice:ft,isLoading:Gt}=Te(),Dt=!!(Be||pe||Gt),wt=async()=>{const Se=await ft();Se.isSuccessful&&Ge(Se)};return r.createElement(E,{disableApply:Dt,onApply:wt,onClose:$e})},ne=()=>r.createElement(d.Z.Title,{id:"edit-plan-modal-header",my:1},r.createElement(g.T,{notes:"title for modal to apply subscription product changes to existing customers",project:"commerce.subscription-editor"},"Apply subscription changes")),Ae=()=>r.createElement(ne,null);var Xe=t(292165),Ne=t(251196);const ze=()=>{const{totalSubscriptions:pe}=y();return r.createElement(a.Z,{as:m.Z,of:m.Z,space:1},r.createElement(d.Z.Label,null,r.createElement(g.T,{notes:"section header for section detailing the number of active customers a subscription product has",project:"commerce.subscription-editor"},"Subscription product info")),r.createElement(l.Z,{flexDirection:"row",justifyContent:"space-between"},r.createElement(d.Z.Body,{m:0},r.createElement(g.T,{notes:"label for the number of active customers a subscription product has ",project:"commerce.subscription-editor"},"Total subscriptions")),r.createElement(d.Z.Body,{m:0},(0,g.uf)(pe))))};var we=t(806132);const Ke=pe=>{if(pe.isBeingRemoved)return r.createElement(g.T,{notes:"label indicating a product subscription option is being removed by the merchant",project:"commerce.subscription-editor"},"(Subscription option removed)");if(!pe.salePrice)return null;const Be=(0,g.xG)(pe.salePrice.toFloat(),pe.salePrice.currencyCode);if(!pe.discountedSalePrice)return r.createElement(g.T,{salePrice:Be,notes:"label showing the sale price of a product",project:"commerce.subscription-editor"},"{salePrice} (Sale price)");const Ge=(0,g.xG)(pe.discountedSalePrice.toFloat(),pe.discountedSalePrice.currencyCode);return r.createElement(g.T,{salePrice:r.createElement("span",{style:{textDecoration:"line-through"}},Be),discountedSalePrice:Ge,notes:"label showing the sale price of a product and the sale price after a subscription discount is applied.The salePrice has a strikethrough to indicate the discountedSalePrice is what customers will pay.salePrice and discountedSalePrice are formatted money amounts.",project:"commerce.subscription-editor"},"{salePrice} {discountedSalePrice} (Sale price)")},Oe=pe=>{let{subscriptionInfo:Be}=pe;const Ge=(0,we.jj)(Be.billingPeriod),$e=(0,g.xG)(Be.basePrice.toFloat(),Be.basePrice.currencyCode),ft=Ke(Be);return r.createElement(a.Z,{space:1},Be.discountedPrice&&Be.percentageDiscount?r.createElement(r.Fragment,null,r.createElement(d.Z.Caption,{m:0,fontWeight:500,color:"gray.100"},Ge," \u2022 ",(0,g.t)("{percentDiscount} off",{percentDiscount:(0,g.uf)(Be.percentageDiscount,{style:"percent"})},{notes:"The % discount given for purchasing a subscription. percentDiscount is a percentage formatted by formatNumber",project:"commerce.subscription-editor"})),r.createElement(d.Z.Caption,{m:0},"(",r.createElement("span",{style:{textDecoration:"line-through"}},$e)," ",(0,g.xG)(Be.discountedPrice.toFloat(),Be.discountedPrice.currencyCode),")")):r.createElement(d.Z.Caption,{m:0,fontWeight:500,color:"gray.100"},Ge+" \u2022 "+$e),ft&&r.createElement(d.Z.Caption,{color:"yellow.300"},ft))};var ye=t(160553),ct=t.n(ye),at=t(445167);const Ct=pe=>r.createElement(at.i.List.Head.Cell,ct()({},pe,{p:1})),lt=pe=>r.createElement(at.i.List.Head.Row,ct()({},pe,{borderBottom:0,renderHeadCell:Ct})),Lt=pe=>r.createElement(at.i.List.Body.Cell,ct()({},pe,{p:1,sx:{":first-of-type":{paddingLeft:1},alignContent:"start"}})),At=pe=>r.createElement(at.i.List.Body.Row,ct()({},pe,{renderBodyCell:Lt})),Yt=()=>r.createElement(at.i.List,{px:0,width:"100%"},r.createElement(at.i.List.Head,{mb:1,renderHeadRow:lt}),r.createElement(at.i.List.Body,{sx:{"> *:last-child":{borderBottom:0}},renderBodyRow:At})),tt=pe=>{let{columns:Be,data:Ge,showSeeMore:$e,onSeeMoreClick:ft}=pe;return r.createElement(l.Z,{flexDirection:"column",alignItems:"center",pb:$e?0:5},r.createElement(at.i,{columns:Be,data:Ge},r.createElement(Yt,null)),$e&&r.createElement(r.Fragment,null,r.createElement(Ne.Z,null),r.createElement(f.Z.Tertiary,{size:"medium",onClick:ft},r.createElement(g.T,{notes:"Label for button to display all data in a table",project:"commerce.subscription-editor"},"See more"))))},F=(pe,Be)=>{let{productVariant:Ge,subscriptionOption:$e}=pe;return{billingPeriod:$e.productSubscriptionPlan.billingPeriod,basePrice:Ge.price,isBeingRemoved:Be,discountedPrice:(0,$.q)(Ge.price,$e.percentageDiscount),percentageDiscount:$e.percentageDiscount,salePrice:Ge.onSale?Ge.salePrice:null,discountedSalePrice:Ge.onSale&&$e.percentageDiscount?(0,$.q)(Ge.salePrice,$e.percentageDiscount):null}},ie=pe=>{let{totalSubscriptionCounts:Be,subscriptionOptionChangeSummaries:Ge,includePreviousPrices:$e}=pe;const ft=[],Gt=[];for(const Dt of Ge){const wt=Be.find(an=>an.subscribableId===Dt.subscribableId);if(!wt)continue;const Se=Dt.current.productVariant.onSale?Dt.current.productVariant.salePrice:Dt.current.productVariant.price,dn=(0,$.q)(Se,Dt.current.subscriptionOption.percentageDiscount);let En=null,Dn=[];wt.totalCounts.length===0||!(0,$.l)(wt.totalCounts[0].price,dn)?(En={price:dn,count:0},Dn=wt.totalCounts):(En=wt.totalCounts[0],Dn=wt.totalCounts.slice(1)),ft.push({subscriptionCount:En.count,before:F(Dt.current,!1),after:F(Dt.new,Dt.isBeingRemoved)}),Dn.forEach(an=>{Gt.push({subscriptionCount:an.count,before:{billingPeriod:Dt.current.subscriptionOption.productSubscriptionPlan.billingPeriod,basePrice:an.price,isBeingRemoved:!1,discountedPrice:null,percentageDiscount:null,salePrice:null,discountedSalePrice:null},after:F(Dt.new,Dt.isBeingRemoved)})})}return $e?ft.concat(Gt):ft},Ue=()=>{const{applyToRadioOption:pe}=b(),{totalSubscriptionCounts:Be,subscriptionOptionChangeSummaries:Ge}=y(),[$e,ft]=(0,r.useState)(!1),Gt=pe===V.ALL_SUBSCRIPTION_CUSTOMERS,Dt=(0,r.useMemo)(()=>ie({totalSubscriptionCounts:Be??[],subscriptionOptionChangeSummaries:Ge,includePreviousPrices:Gt}),[Be,Ge,Gt]),wt=$e?Dt:Dt.slice(0,3),Se=Dt.length>3&&!$e,dn=()=>ft(!0),En=pe===V.ALL_SUBSCRIPTION_CUSTOMERS,Dn=at.i.Utils.createColumnHelper(),an=[Dn.accessor("before",{header:()=>r.createElement(d.Z.Label,null,r.createElement(g.T,{notes:"column header for the previous value before a change is made",project:"commerce.subscription-editor"},"Before")),cell:Rn=>r.createElement(Oe,{subscriptionInfo:Rn.getValue()}),meta:{bodyCellProps:{sx:{width:En?"38%":"50%"}}}}),Dn.accessor("after",{header:()=>r.createElement(d.Z.Label,null,r.createElement(g.T,{notes:"column header for the new value after a change is made",project:"commerce.subscription-editor"},"After")),cell:Rn=>r.createElement(Oe,{subscriptionInfo:Rn.getValue()}),meta:{bodyCellProps:{sx:{width:En?"38%":"50%"}}}})],Kn=Dn.accessor("subscriptionCount",{header:()=>r.createElement(d.Z.Label,{sx:{whiteSpace:"nowrap"}},r.createElement(g.T,{notes:"column header for the total number of active subscriptions that a subscription option has ",project:"commerce.subscription-editor"},"Existing Subscriptions")),cell:Rn=>r.createElement(d.Z.Caption,{color:"gray.100"},Rn.getValue()),meta:{headCellProps:{sx:{width:"26%",textAlign:"right"}},bodyCellProps:{sx:{width:"26%",textAlign:"right"}}}}),Mt=En?[...an,Kn]:an;return r.createElement(tt,{columns:Mt,data:wt,showSeeMore:Se,onSeeMoreClick:dn})};function Le(pe,Be){if(typeof pe>"u")return"100%";if(typeof pe=="number")return Be[pe];const Ge={};return Object.entries(pe).forEach($e=>{let[ft,Gt]=$e;Ge[ft]=Be[Gt]}),Ge}const He=pe=>{let{display:Be="block",height:Ge,width:$e,flex:ft,sx:Gt}=pe;const{space:Dt}=(0,e.F)(),wt=Le(Ge,Dt),Se=Le($e,Dt);return r.createElement(l.Z,{display:Be,height:wt,width:Se,flex:ft,sx:Gt})},oe="/config/settings/customer-notifications/products-and-services#subscription-changed",ce="/config/profiles",Q=r.createElement(Xe.Z,{href:ce,target:"_blank"},r.createElement(g.T,{notes:"text content for a link to the Contacts panel in config",project:"commerce.subscription-editor"},"Contacts")),le=pe=>{let{displayRemovedSubscriptionDisclaimer:Be,displaySalePriceDisclaimer:Ge}=pe;const{borders:$e,colors:ft}=(0,e.F)();return r.createElement(r.Fragment,null,r.createElement(m.Z,{px:4,pt:5,border:`${$e[1]} ${ft.gray[800]}`},r.createElement(ze,null),r.createElement(Ne.Z,{my:4}),r.createElement(Ue,null)),Ge&&r.createElement(r.Fragment,null,r.createElement(He,{height:2}),r.createElement(d.Z.Caption,{color:"yellow.300"},r.createElement(g.T,{notes:"The * at the start of the text indicates this is a disclaimer",project:"commerce.subscription-editor"},"* Sale prices will not affect existing subscriptions. Subscriptions signed up during the sale will retain the sale price unless otherwise updated."))),Be&&r.createElement(r.Fragment,null,r.createElement(He,{height:2}),r.createElement(d.Z.Caption,{color:"yellow.300"},r.createElement(g.T,{contactsLink:Q,notes:"The * at the start of the text indicates this is a disclaimer",project:"commerce.subscription-editor"},"* Removing a subscription option will not delete existing subscriptions. To cancel an existing subscription, go to {contactsLink}."))))},Me=()=>{const{applyToRadioOption:pe}=b(),{subscriptionOptionChangeSummaries:Be}=y(),Ge=pe===V.ALL_SUBSCRIPTION_CUSTOMERS&&Be.some(ft=>ft.isBeingRemoved),$e=pe===V.ALL_SUBSCRIPTION_CUSTOMERS&&Be.some(ft=>ft.new.productVariant.onSale);return r.createElement(le,{displayRemovedSubscriptionDisclaimer:Ge,displaySalePriceDisclaimer:$e})};var dt=t(942849),pt=t(352635);const Qt=pe=>{let{applyToRadioOption:Be,allSubscriptionCustomersCaption:Ge,disableAllSubscriptionCustomersRadioOption:$e,setApplyToRadioOption:ft}=pe;return r.createElement("fieldset",{style:{border:"none",padding:0}},r.createElement("legend",{style:{marginBottom:pt.space[3]}},r.createElement(d.Z.Label,null,r.createElement(g.T,{notes:"Label for radio button input to select who to apply changes to",project:"commerce.subscription-editor"},"Apply to"))),r.createElement(a.Z,{space:3},r.createElement(d.Z.Body,{alignItems:"center",as:"label",display:"flex",sx:{cursor:"pointer"}},r.createElement(dt.Z,{mr:2,checked:Be===V.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY,value:Be,onChange:()=>ft(V.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY),name:V.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY}),r.createElement(g.T,{notes:"label for option to apply changes only for future subscription customers",project:"commerce.subscription-editor"},"Future subscription customers only")),r.createElement(m.Z,null,r.createElement(d.Z.Body,{alignItems:"center",as:"label",display:"flex",sx:{cursor:"pointer"},color:$e?"gray.600":"gray.100"},r.createElement(dt.Z,{mr:2,checked:Be===V.ALL_SUBSCRIPTION_CUSTOMERS,value:Be,onChange:()=>ft(V.ALL_SUBSCRIPTION_CUSTOMERS),name:V.ALL_SUBSCRIPTION_CUSTOMERS,isDisabled:$e}),r.createElement(g.T,{notes:"label for option to apply changes to both existing and future subscription customers",project:"commerce.subscription-editor"},"All subscription customers")),r.createElement(He,{height:1}),r.createElement(d.Z.Caption,null,Ge))))},tn=r.createElement(Xe.Z,{href:oe,target:"_blank"},r.createElement(g.T,{notes:"text content for a link to edit customer notification emails for subscription orders",project:"commerce.subscription-editor"},"subscription customer notifications")),Nn=r.createElement(g.T,{subscriptionCustomerNotificationsLink:tn,notes:"Subtitle that describe a period of 7 days delay for subscription changes and notifs to take effect",project:"commerce.subscription-editor"},"Existing subscription customers will be notified and price changes will take effect for all renewals after 7 days. Review this email notification in {subscriptionCustomerNotificationsLink}."),Vn=r.createElement(g.T,{notes:"caption for when a commerce store has no subscription customers for the selected subscription plans",project:"commerce.subscription-editor"},"You do not have any existing subscription customers to apply changes to"),Ft=()=>{const{applyToRadioOption:pe,setApplyToRadioOption:Be}=b(),{totalSubscriptions:Ge}=y(),$e=Ge===0,ft=$e?Vn:Nn;return r.createElement(Qt,{allSubscriptionCustomersCaption:ft,applyToRadioOption:pe,disableAllSubscriptionCustomersRadioOption:$e,setApplyToRadioOption:Be})},vn=pe=>{let{error:Be,isLoading:Ge,onTryAgainClick:$e}=pe;const ft=()=>Ge?r.createElement(l.Z,{justifyContent:"center",alignItems:"center",flexGrow:1},r.createElement(i.Z,null)):Be?r.createElement(l.Z,{justifyContent:"center",alignItems:"center",flexGrow:1},r.createElement(l.Z,{alignItems:"center",flexDirection:"column"},r.createElement(d.Z.Subtitle,{fontWeight:"semibold",color:"gray.300",mb:3},r.createElement(g.T,{notes:"displayed in error state when the page could not be loaded",project:"commerce.subscription-editor"},"Couldn't load page")),r.createElement(f.Z.Secondary,{size:"medium",onClick:$e},r.createElement(g.T,{notes:"label for button to try loading page again",project:"commerce.subscription-editor"},"Try again")))):r.createElement(a.Z,{as:m.Z,of:m.Z,maxWidth:u,width:"100%"},r.createElement(Ae,null),r.createElement(He,{height:4}),r.createElement(Ft,null),r.createElement(He,{height:4}),r.createElement(Me,null));return r.createElement(l.Z,{height:"100%",flexDirection:"column"},r.createElement(s.Z.TouchScroll,null,r.createElement(l.Z,{px:6,pb:p,width:"100%",overflowY:"scroll",flexGrow:1,flexShrink:0,flexDirection:"column",alignItems:"center"},r.createElement(be,null),ft())))},Qe=()=>{const{error:pe,isLoading:Be,retryFetchTotalSubscriptionCounts:Ge}=b();return r.createElement(vn,{error:pe,isLoading:Be,onTryAgainClick:Ge})},Ye=pe=>{let{onClose:Be,isOpen:Ge,resetModalState:$e}=pe;const ft=Gt=>{Gt==="exiting"&&$e()};return r.createElement(s.Z.Transition,{onTransitionEnd:ft},Ge&&r.createElement(s.Z,{closeOnEsc:!0,closeOnOverlayClicked:!0,onRequestClose:Be},r.createElement(s.Z.Overlay,null),r.createElement(s.Z.Position,{position:"center"},r.createElement(s.Z.Dialog.ResponsiveProvider,null,r.createElement(s.Z.Dialog,{"aria-labelledby":"edit-plan-modal-header"},r.createElement(Qe,null))))))};var Je=t(392338),ot=t(567713);let qe=function(pe){return pe.MOBILE0="mobile-0",pe.MOBILE100="mobile-100",pe.TABLET0="tablet-0",pe.TABLET100="tablet-100",pe.DESKTOP0="desktop-0",pe.DESKTOP50="desktop-50",pe.DESKTOP100="desktop-100",pe}({});const nt=[qe.MOBILE0,qe.MOBILE100,qe.DESKTOP0],ut=[qe.TABLET0,qe.TABLET100,qe.DESKTOP50],mt=[qe.DESKTOP100],Ut=pe=>{let{children:Be}=pe;return r.createElement(ot.Z.Provider,null,Be)},Tt=ot.Z.Renderer,jt=()=>{const{platform:pe}=useContext(RosettaBreakpoint.Context);return pe==="mobile"},it=()=>{const{platform:pe}=useContext(RosettaBreakpoint.Context);return pe==="tablet"},ht=()=>{const{platform:pe}=useContext(RosettaBreakpoint.Context);return pe==="desktop"},It=()=>{const{name:pe}=useContext(RosettaBreakpoint.Context);return pe},bt=()=>{const pe=It();return nt.includes(pe)},Ot=()=>{const pe=It();return ut.includes(pe)},nn=()=>{const pe=It();return mt.includes(pe)},Ht=pe=>pe?pe.reduce((Be,Ge)=>{let{totalCounts:$e}=Ge;return Be+$e.reduce((ft,Gt)=>{let{count:Dt}=Gt;return ft+Dt},0)},0):0,rt=(pe,Be)=>{const[Ge,$e]=(0,r.useState)(null),ft=(0,r.useMemo)(()=>Ht(Ge),[Ge]),[Gt,Dt]=(0,r.useState)(!1),[wt,Se]=(0,r.useState)(null),dn=(0,r.useCallback)(()=>$e(null),[$e]),En=(0,r.useCallback)(async()=>{const Dn=Be.map(an=>{let{subscribableId:Kn}=an;return Kn});Dt(!0),Se(null);try{const an=await k.getTotalSubscriptionCounts(Dn);$e(an)}catch(an){Se(an),$e([])}finally{Dt(!1)}},[Be]);return(0,r.useEffect)(()=>{pe&&En()},[pe,En]),{totalSubscriptionCounts:Ge,totalSubscriptions:ft,resetTotalSubscriptionCounts:dn,isLoading:Gt,error:wt,retry:En}},qt=pe=>{let{productName:Be,subscriptionOptionChangeSummaries:Ge,onApply:$e,onClose:ft,isOpen:Gt}=pe;const[Dt,wt]=(0,r.useState)(V.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY),{totalSubscriptionCounts:Se,totalSubscriptions:dn,resetTotalSubscriptionCounts:En,isLoading:Dn,error:an,retry:Kn}=rt(Gt,Ge),Mt=()=>{wt(V.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY),En()},Rn={productName:Be,subscriptionOptionChangeSummaries:Ge,totalSubscriptionCounts:Se,totalSubscriptions:dn},wn={onApply:$e,onClose:ft,applyToRadioOption:Dt,setApplyToRadioOption:wt,isLoading:Dn,error:an,retryFetchTotalSubscriptionCounts:Kn};return r.createElement(e.Z.Provider,{theme:c.rosetta.lightest},r.createElement(Ut,null,r.createElement(D,{subscriptionDetails:Rn,lifecycles:wn,isOpen:Gt},r.createElement(Ye,{onClose:ft,isOpen:Gt,resetModalState:Mt}))))};var In=t(362187),un=t(934951),$t=t(714487);const Wt={[V.FUTURE_SUBSCRIPTION_CUSTOMERS_ONLY]:"future_subs_only",[V.ALL_SUBSCRIPTION_CUSTOMERS]:"apply_all"};function Cn(pe){return Wt[pe]}const hn=Cn;var Sn=t(251678),On=t(119978),Un=t(310690);const pn={[Un.nV.PRODUCT_ON_SALE]:{title:(0,$t.t)("On Sale Pricing",null,{project:"apps.App.Commerce",notes:"Title for the alert modal to caution the merchant when editing an onsale subscription"}),message:(0,$t.t)("Sale prices will not affect existing subscriptions. Subscriptions signed up during the sale will retain the sale price.",null,{project:"apps.App.Commerce",notes:"Message for the alert modal to caution the merchant when editing an onsale subscription"})},[Un.nV.PRODUCT_HAS_MULTIPLE_VARIANTS]:{title:(0,$t.t)("Subscription editing with variants",null,{project:"apps.App.Commerce",notes:"Title for the alert modal to caution the merchant when editing a subscription with multiple variants"}),message:(0,$t.t)("Edits to subscription products that have variants will not impact existing subscription customers.",null,{project:"apps.App.Commerce",notes:"Message for the alert modal to caution the merchant when editing a subscription with multiple variants"})}},fn=pe=>{let{product:Be,productEditor:Ge,subscriptionOptionChangeSummaries:$e,onApply:ft,onEditPlanModalClose:Gt,alertDialogOnCancel:Dt,alertDialogOnContinue:wt,errorModalType:Se}=pe;const dn=!!Se,{title:En,message:Dn}=Se?pn[Se]:{title:"",message:""},an=Kn=>{ft();const Mt={productId:Be.id,productName:Be.name,productType:(0,Sn.Z)(Be.productType),productEditor:Ge,applyChangesTo:hn(Kn.applyChangesTo)};Kn.changedSubscriptionOptions.forEach(Rn=>{(0,On.Bt)({...Mt,isBasePriceChanged:Rn.isBasePriceChanged,isSubDiscountChanged:Rn.isSubDiscountChanged,subscriptionOptionId:Rn.subscriptionOptionId,changedSubscriptions:Rn.changedSubscriptions})})};return r.createElement(r.Fragment,null,r.createElement(qt,{productName:Be.name,subscriptionOptionChangeSummaries:$e,onApply:an,onClose:Gt,isOpen:$e.length>0}),r.createElement(s.Z.Transition,null,dn&&r.createElement(s.Z,{onRequestClose:Dt},r.createElement(s.Z.Overlay,null),r.createElement(s.Z.Position,{position:"center"},r.createElement(In.Z,{title:En,message:Dn,buttons:[()=>r.createElement(In.Z.Button,{key:"cancel",onClick:Dt},r.createElement(un.T,{project:"apps.App.Commerce"},"Cancel")),()=>r.createElement(In.Z.Button,{key:"continue",onClick:wt},r.createElement(un.T,{project:"apps.App.Commerce"},"Continue"))]})))))}},171058:function(P,o,t){"use strict";t.d(o,{OI:()=>f,ZP:()=>g,gX:()=>u});var n=t(174161),r=t(338465),e=t(482053),c=t(766519),i=t(352635),a=t(489204),s=t(498666),l=t(260175);const d="full-width-frame-contents",f=`[data-container="${d}"]`,m=(0,l.i)(i.breakpoints).platform!=="mobile"&&window.innerWidth>800,u=v=>({...v,...m?{width:a.Z.FULL_WITHOUT_TUCKED_FRAME,height:s.Z.FULL}:{}}),g=v=>{let{panelContents:E,frameContents:C,behaviorWhenNotFullscreen:T,isFrameFullWidth:I,panelHiddenContainerStyles:y}=v;const b=!m&&T==="hidePanel",D=!m&&T==="hideFrame",j=!m&&T==="stack";return b?n.createElement(r.Z,{mx:-6,sx:{overflowX:"scroll",...y}},C):D?n.createElement(n.Fragment,null,E):j?n.createElement(n.Fragment,null,E,C):n.createElement(e.Z,{position:"relative",height:"100%",mx:-6},E?n.createElement(r.Z,{minWidth:a.Z.MENU,px:6,mt:i.sizes.sizes[450],pb:i.sizes.sizes[250],sx:{overflowY:"auto",flex:"0 0"}},E):null,n.createElement(r.Z,{height:"100%",backgroundColor:i.colors.white,sx:{overflowY:"auto",flex:"1 0",position:"relative"},"data-container":d},I?C:n.createElement(c.Z.Container,{alignItems:"center",gridConstraint:[12,10,6]},n.createElement(c.Z.Item,{columns:12,mb:6,mt:i.sizes.sizes[450]},C))))}},883354:function(P,o,t){"use strict";t.d(o,{Z:()=>d});var n=t(174161),r=t(906046),e=t(251196),c=t(938875),i=t(115350);const a=(0,i.Z)(r.Z,e.Z),s=f=>n.createElement(a,{as:"label",...f}),d=f=>{let{value:m,onChange:u,body:p,...g}=f;return n.createElement(s,{...g,body:p,exteriorAccessory:n.createElement(n.Fragment,null,m&&n.createElement(c.Z,null),n.createElement("input",{type:"checkbox",checked:m,onChange:u,style:{position:"absolute",opacity:0}}))})}},245760:function(P,o,t){"use strict";t.d(o,{Z:()=>I});var n=t(714487),r=t(419467),e=t(437951),c=t.n(e),i=t(559409),a=t.n(i),s=t(166455),l=t.n(s),d=t(77694),f=t(730842),m=t(142849),u=t(35045),p=t(916661),g=t(787592),v=t(324270),E=t(45614),C=t(487558);async function T(){await(0,C.Ci)((0,E.LH)()).unwrap(),v.default.refresh()}async function I(y){const D=f.Z.getCollectionsOfType(c().PRODUCTS,!0).map(V=>V.urlId),{hasPassword:j,siteStatus:U,showOwnerLogin:R}=u.default.getState(),L=p.Z.isSevenOne(),x=U.get("value"),G=j||x===a().TRIAL||R,{collection:k}=await(0,d.Z)({storeTitle:y,fallbackStoreTitle:(0,n.t)("store",null,{project:"commerce"}),addToMainNav:G,allCategoryDisplayName:(0,n.t)("All",null,{project:"commerce"}),storeUrls:D,websiteId:(0,r.get)(window,"Static.SQUARESPACE_CONTEXT.website.id"),templateId:(0,r.get)(window,"Static.SQUARESPACE_CONTEXT.template.id"),isSevenOne:L});L&&await m.Z.update(k),await f.Z.syncCollection(k);try{await T()}catch(V){(0,g.$e)($=>{$.setTag("owner",l().ACTIVATION),(0,g.Tb)("Failed to refresh navigation list and site frame while creating empty store",V)})}return k.id}},633878:function(P,o,t){"use strict";t.d(o,{Uw:()=>b});var n=t(174161),r=t(714487),e=t(934951),c=t(338465),i=t(482053),a=t(538312),s=t(516865),l=t(685763),d=t(742054),f=t(559409),m=t.n(f),u=t(149893),p=t(621984),g=t.n(p),v=t(967361),E=t(35045),C=t(117562),T=t(819596),I=t(935237);const y=n.createContext({showFeatureGateModal:()=>Promise.resolve({shouldClose:!0}),closeFeatureGateModal:()=>{}});function b(R){let{children:L}=R;const[x,G]=(0,n.useState)(null),k=()=>G(null),V=x&&n.createElement(l.Z.Transition,null,n.createElement(l.Z,{onRequestClose:k},n.createElement(l.Z.Overlay,null),n.createElement(l.Z.Position,{position:"center"},n.createElement(l.Z.Dialog,null,n.createElement(c.Z,{width:"sizes.750",p:6},n.createElement(i.Z,{flexDirection:"column"},n.createElement(i.Z,null,n.createElement(d.Ct,null,n.createElement(e.T,{project:"commerce-product-composer"},"Premium Feature"))),n.createElement(a.Z.Title,{mt:2},n.createElement(e.T,{project:"commerce-product-composer"},"Add-on feature")),n.createElement(a.Z.Body,null,n.createElement(e.T,{project:"commerce-product-composer"},"Memberships and Scheduling are available with an additional subscription. To use these features, choose a website plan and add either for an additional cost.")),n.createElement(d.zx.Primary,{size:"large",width:"100%",onClick:()=>{x.featureGateModalVariant==="memberships"?(0,u.j6)(g().WEBSITE,u.vl.NEW_PURCHASE,{eventChannel:I.eg}):x.router.push("/config/scheduling"),x.onCtaClick()}},x.featureGateModalVariant==="memberships"?(0,r.t)("Select plan",null,{project:"commerce-product-composer"}):(0,r.t)("Learn more",null,{project:"commerce-product-composer"})),n.createElement(s.Z.Tertiary,{size:"large",onClick:x.onClose},n.createElement(e.T,{project:"commerce-product-composer"},"Dismiss"))))))));return n.createElement(n.Fragment,null,V,n.createElement(y.Provider,{value:{showFeatureGateModal:$=>new Promise(J=>{G({...$,onCtaClick:()=>{J({shouldClose:!0}),k()},onClose:()=>{J({shouldClose:!1}),k()}})}),closeFeatureGateModal:k}},L))}function D(){return React.useContext(y)}const j=(()=>{const{siteStatus:R}=E.default.getState(),L=(R==null?void 0:R.get("value"))===m().INTERNAL;return!v.Z.isAddOnEnabled(C.Z.MEMBER_AREAS)&&!L&&!(0,T.z)()})(),U=!v.Z.isAddOnEnabled(C.Z.SCHEDULING)&&!(0,T.z)()},182635:function(P,o,t){"use strict";t.d(o,{Z:()=>e});var n=t(456903);const r="/api/settings/site-users/accounts/",e={get(){return n.default.get(r)},save(c){return n.default.put(r,c)}}},366010:function(P,o,t){"use strict";t.d(o,{Z:()=>T});var n=t(347560),r=t(134521),e=t.n(r),c=t(659519),i=t(939565),a=t(897595),s=t(994336),l=t.n(s),d=t(387582),f=t(799401),m=t.n(f),u=t(844795);const p=()=>{const I=window.navigator.userAgent.toLowerCase();return I.indexOf("mobile")===-1&&I.indexOf("safari")>-1&&(I.indexOf("version/9.0")>-1||I.indexOf("version/8")>-1)},g=()=>m().name==="IE"&&m().version==="11.0",v=()=>p()||g(),E=()=>!!l().get(d.Z.DISABLE_USER_SCRIPTS_COOKIE);class C{initialize(){return{isUnsupportedBrowser:v(),isOldSafari:p(),isSafeMode:E()}}syncSafeMode(){return{isSafeMode:E()}}notifyCard(y){let{title:b,body:D}=y,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{title:b,body:D,config:j}}hideUnsupportedBrowserWarning(y){return y&&(0,c.Z)(y),!0}displayNetworkError(){this.throttledNetworkError=this.throttledNetworkError||e()(()=>{this.notifyCard({title:"No Network Connection",body:"Please make sure you're connected to the internet and try again."})},2500,{trailing:!1}),this.throttledNetworkError()}dismissSiteVisibilityBanner(){try{window.sessionStorage.setItem(i.E,!0),(0,a.xo)()}catch(y){console.warn("Issue saving dismiss state.",y)}return{dismissSiteVisibilityBanner:!0}}loadInProductPromos(){return y=>{y(),(0,u._)().then(b=>{this.loadInProductPromosSuccess(b)}).catch(b=>{console.error("Error loading in product promos",b),this.loadInProductPromosFailure(b)})}}constructor(){this.generateActions("updateBanner","billingBannerButtonClick","disableBanner","dismissCard","loadInProductPromosSuccess","loadInProductPromosFailure")}}const T=n.Z.createActions(C)},161829:function(P,o,t){"use strict";t.d(o,{Z:()=>R,w:()=>I});var n=t(598347),r=t(174161),e=t(572898),c=t(714487),i=t(538312),a=t(516865),s=t(338465),l=t(679727),d=t(906046),f=t(251196),m=t(47362),u=t(766519),p=t(394954),g=t(685763),v=t(115350),E=t(842132),C=t(429566),T=t(132782);const I=function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return(0,c.p6)(L,{date:"long",time:"short"})},y=(0,c.t)("Apply",null,{project:"apps.App",notes:"Label for a button that applies the changes made inside of a modal"}),b=(0,c.t)("Cancel",null,{project:"apps.App",notes:"Button text for cancelling editing of the discount"}),D=(0,v.Z)(d.Z,f.Z),j=L=>r.createElement(D,{as:"label",...L}),R=L=>{let{initialValue:x=new Date,positionProps:G={position:"center"},validFrom:k,onSave:V,onCancel:$,label:J}=L;const[ee,de]=(0,r.useState)(x),[re,Ee]=(0,r.useState)(x),[Te,z]=(0,r.useState)((0,c.o0)(ee,"h:mm a")),{error:be,formatTime:me,structuredValue:ne}=(0,C.Z)(Te,z,{}),Ce=se=>{const Oe=new Date(se);de(Oe)};function Ae(se){z(se)}function Xe(){const se=new Date(ee);return se.setHours(ne.hours),se.setMinutes(ne.minutes),se.getTime()!==re.getTime()&&Ee(se),se}function Ne(){try{return I(Xe())}catch{return I(re)}}function st(){try{me(),V(Xe())}catch{}}function ze(){return r.createElement(e.Z,{mode:e.Z.MODE.DATE,onChange:Ce,value:ee.getTime(),disable:k?[{before:k.getTime()}]:void 0,"data-testid":"date-picker"})}function we(){return r.createElement(j,{body:r.createElement(m.Z,{onBlur:me,onChange:Ae,onKeyPress:se=>{E.Z.isEnter(se)&&st()},placeholder:"--:--",sx:{fontVariantNumeric:"tabular-nums"},textAlign:"right",value:Te}),interiorPre:J&&r.createElement(i.Z.Body,{m:0,color:"gray.100"},J),exteriorPre:r.createElement(l.Z,null),post:be?r.createElement(i.Z.Caption,{as:"p",color:"red.300"},be.message):void 0})}function Ke(){return r.createElement(u.Z.Container,{alignItems:"center",gridConstraint:12,height:"sizes.300"},r.createElement(u.Z.Item,{columns:[6,4]},r.createElement(a.Z.Tertiary,{"data-test":"date-picker-cancel-button",onClick:$,animationDirection:"none"},b)),r.createElement(u.Z.Item,{columns:[6,4]},r.createElement(p.Z,{direction:"row",justifyContent:"flex-end"},r.createElement(a.Z.Tertiary,{"data-test":"date-picker-apply-button",onClick:st,animationDirection:"none",...(0,T.getGuidanceEngineDataAttribute)(T.ElementDataIds.DATE_PICKER_APPLY_BUTTON)},y))))}return r.createElement(g.Z.Transition,null,r.createElement(g.Z,{onRequestClose:$},r.createElement(g.Z.Overlay,null),r.createElement(g.Z.Position,G,r.createElement(g.Z.Dialog,null,r.createElement(s.Z,{pt:3,pb:8},Ke(),r.createElement(s.Z,{tabIndex:0,pt:2,px:4,width:"sizes.750"},r.createElement(i.Z.Title,{px:1,as:"time",sx:{display:"block"}},Ne()),ze(),r.createElement(s.Z,{mt:6},we())))))))}},939565:function(P,o,t){"use strict";t.d(o,{E:()=>n});const n="UNPUBLISHED_DISMISS_SESSION_STORAGE_KEY"},711679:function(P,o,t){"use strict";t.d(o,{Z:()=>E});var n=t(714487),r=t(347560),e=t(461761),c=t.n(e),i=t(230121),a=t(834105),s=t(935154),l=t.n(s),d=t(117562),f=t(553763);const m=(0,n.t)("To continue using Commerce features after your trial, subscribe to the Business, Commerce Basic, or Commerce Advanced plan.",null,{project:"apps.App"}),u={trialUpgradeDescription:(0,n.t)("To continue using API keys after your trial, subscribe to the Business, Commerce Basic, or Commerce Advanced plan. The Inventory, Orders, and Transactions APIs are only available in the Commerce Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Business or Commerce plans to use API keys. The Inventory, Orders, Transactions APIs are only available in the Commerce Advanced plan. Your current plan doesn't include these features.",null,{project:"apps.App"})},p={[l().COMMERCE]:{description:(0,n.t)("Available on Business and Commerce plans.",null,{project:"apps.App"}),trialUpgradeDescription:m,upgradeDescription:(0,n.t)("Upgrade to the Business or Commerce plans to sell online. Your current plan doesn't include these features.",null,{project:"apps.App"})},[l().SHIPSTATION_INTEGRATION]:{trialUpgradeDescription:(0,n.t)("To continue using ShipStation after your trial, subscribe to the Commerce Basic or Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Commerce plans to use the ShipStation integration. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().REAL_TIME_SHIPPING_RATES]:{trialUpgradeDescription:(0,n.t)("To continue using Real-Time Carrier Rates after your trial, subscribe to the Commerce Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Commerce Advanced plan to get Real-Time Carrier Rates. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().ABANDONED_CART_RECOVERY]:{upgradeDescription:(0,n.t)("Upgrade to the Commerce Advanced plan to use Abandoned Cart Recovery. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().GIFT_CARDS]:{upgradeDescription:(0,n.t)("Upgrade to the Commerce Advanced plan to get access to Gift Cards. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().ADD_COMMERCE_PRODUCTS]:{trialUpgradeDescription:m,upgradeDescription:(0,n.t)("Upgrade to the Business or Commerce plans to sell online. Gift Cards are only available on Commerce Advanced. Your current plan doesn't include these features.",null,{project:"apps.App"})},[l().COMMERCE_CHECKOUT_ON_DOMAIN]:{upgradeDescription:(0,n.t)("Upgrade to the Commerce Basic or Advanced plan to use Checkout on Your Domain. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().BLOCK_DONATION]:{description:(0,n.t)("Available on Business and Commerce plans.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("To continue using Donations after your trial, subscribe to the Business, Commerce Basic, or Commerce Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Business or Commerce plans to use Donations. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().FORMS_API]:u,[l().INVENTORY_API]:u,[l().ORDERS_API]:u,[l().TRANSACTION_API]:u,[l().AUTO_TRIGGERED_DISCOUNTS]:{trialUpgradeDescription:(0,n.t)("To continue using Automatic Discounts after your trial, subscribe to the Commerce Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Commerce Advanced plan to use Automatic Discounts. Your current plan doesn't include this feature.",null,{project:"apps.App"}),upgradeLearnMoreUrl:"https://test.com"},[l().LIMITED_USE_DISCOUNTS]:{trialUpgradeDescription:(0,n.t)("To continue using Limited-Use Discounts after your trial, subscribe to the Commerce Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Commerce Advanced plan to use Limited-Use Discounts. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().PRODUCTS_ON_INSTAGRAM]:{description:(0,n.t)("Available on Commerce plans.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("To continue syncing your Squarespace catalog to Meta Business Suite after your trial, subscribe to the Commerce Basic or Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Commerce Basic or Advanced plan to sell your products on Facebook and Instagram. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().FACEBOOK_PIXEL]:{description:(0,n.t)("Available on Business and Commerce plans.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("To continue using Meta Pixel after your trial, subscribe to the Business or Commerce plans.",null,{project:"marketing.promotions"}),upgradeDescription:(0,n.t)("Upgrade to the Business or Commerce plans to use Meta Pixel. Your current plan doesn't include this feature.",null,{project:"marketing.promotions"})},[l().COMMERCE_SUBSCRIPTIONS]:{trialUpgradeTitle:(0,n.t)("Upgrade to Keep Using this Feature After Your Trial",null,{project:"apps.App"}),upgradeTitle:(0,n.t)("Upgrade to Use this Feature",null,{project:"apps.App"}),description:(0,n.t)("Available on Commerce Advanced. ",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Commerce Advanced Plan to sell Subscriptions. Your current plan doesn't include this feature.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("To continue selling Subscriptions after your trial, subscribe to the Commerce Advanced plan.",null,{project:"apps.App"})},[l().FACEBOOK_DYNAMIC_ADS]:{description:(0,n.t)("Available on Commerce plans.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("To continue using Facebook Dynamic Ads after your trial, subscribe to the Commerce Basic or Advanced plan.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Commerce Basic or Advanced plan to use Facebook Dynamic Ads. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().MARKETING_CAMPAIGN_TRACKER]:{description:(0,n.t)("Available on Business and Commerce plans.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("To continue using URL Builder after your trial, subscribe to the Business or Commerce plans.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Upgrade to the Business or Commerce plans to use URL Builder. Your current plan doesn't include this feature.",null,{project:"apps.App"})},[l().LIMITED_AVAILABILITY_ALERTS]:{trialUpgradeTitle:(0,n.t)("Upgrade to Keep Using this Feature After Your Trial",null,{project:"apps.App"}),upgradeTitle:(0,n.t)("Upgrade to Use this Feature",null,{project:"apps.App"}),description:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"})},[l().COMMERCE_RESTOCK_NOTIFICATIONS]:{trialUpgradeTitle:(0,n.t)("Upgrade to Keep Using this Feature After Your Trial",null,{project:"apps.App"}),upgradeTitle:(0,n.t)("Upgrade to Use this Feature",null,{project:"apps.App"}),description:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"})},[l().COMMERCE_RELATED_PRODUCTS]:{trialUpgradeTitle:(0,n.t)("Upgrade to Keep Using this Feature After Your Trial",null,{project:"apps.App"}),upgradeTitle:(0,n.t)("Upgrade to Use this Feature",null,{project:"apps.App"}),description:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"})},[l().COMMERCE_POINT_OF_SALE]:{trialUpgradeTitle:(0,n.t)("Available on Commerce plans",null,{project:"apps.App"}),upgradeTitle:(0,n.t)("Upgrade to Use this Feature",null,{project:"apps.App"}),description:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plans at any time, no questions asked.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("Upgrade to keep using this feature after your trial. This premium feature is included in Commerce Basic and Commerce Advanced. Upgrade today and change plan at any time, no questions asked.",null,{project:"apps.App"})},[l().COMMERCE_AFTERPAY]:{trialUpgradeTitle:(0,n.t)("UPGRADE REQUIRED",null,{project:"apps.App"}),upgradeTitle:(0,n.t)("UPGRADE REQUIRED",null,{project:"apps.App"}),description:(0,n.t)("Afterpay is available with Business and Commerce plans.",null,{project:"apps.App"}),upgradeDescription:(0,n.t)("Afterpay is only available on Business and Commerce plans. Please subscribe or upgrade to either of these plans to add this feature to your store.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("Afterpay is only available on Business and Commerce plans. Please subscribe or upgrade to either of these plans to add this feature to your store.",null,{project:"apps.App"})}},g={[d.Z.MEMBER_AREAS]:{upgradeDescription:(0,n.t)("To use these features, add Member Areas for an additional cost.",null,{project:"apps.App"}),trialUpgradeDescription:(0,n.t)("To continue using these features after your trial, subscribe to a website plan and add Member Areas for an additional cost.",null,{project:"apps.App"})}};class v{onBootstrap(T){this.waitFor(a.Z.dispatchToken)}getUpsellCopy(T){const I=c()(p,[T],{}),y={};return y.learnMoreLabel=c()(I,"learnMoreLabel",f.Z.learnMoreLabel),y.premiumFeatureLabel=c()(I,"premiumFeatureLabel",f.Z.premiumFeatureLabel),y.description=c()(I,"description",f.Z.description),a.Z.isTrial()?(y.upgradeDescription=c()(I,"trialUpgradeDescription",f.Z.trialUpgradeDescription),y.upgradeTitle=c()(I,"trialUpgradeTitle",f.Z.trialUpgradeTitle),y.upgradeCta=c()(I,"trialUpgradeCta",f.Z.trialUpgradeCta),y.confirmDescription=c()(I,"trialConfirmDescription",f.Z.trialConfirmDescription),y.confirmTitle=c()(I,"trialConfirmTitle",f.Z.trialConfirmTitle)):(y.upgradeDescription=c()(I,"upgradeDescription",f.Z.upgradeDescription),y.upgradeTitle=c()(I,"upgradeTitle",f.Z.upgradeTitle),y.upgradeCta=c()(I,"upgradeCta",f.Z.upgradeCta),y.confirmDescription=c()(I,"confirmDescription",f.Z.confirmDescription),y.confirmTitle=c()(I,"confirmTitle",f.Z.confirmTitle)),y}getUpsellCopyForAddOnSubscription(T){const I=c()(g,[T],{}),y={learnMoreLabel:f.Z.learnMoreLabel,premiumFeatureLabel:f.Z.premiumFeatureLabel,description:f.Z.addOnDescription};return a.Z.isTrial()?(y.upgradeDescription=c()(I,"trialUpgradeDescription",f.Z.addOnTrialUpgradeTitle),y.upgradeTitle=c()(I,"trialUpgradeTitle",f.Z.addOnUpgradeTitle),y.upgradeCta=c()(I,"trialUpgradeCta",f.Z.addOnTrialUpgradeCta)):(y.upgradeDescription=c()(I,"upgradeDescription",f.Z.addOnUpgradeTitle),y.upgradeTitle=c()(I,"upgradeTitle",f.Z.addOnUpgradeTitle),y.upgradeCta=c()(I,"upgradeCta",f.Z.addOnUpgradeCta)),y}getCommerceDefaultTrial(){return m}getCommerceOrMemberAreasUpsell(){const T=this.getUpsellCopy(l().COMMERCE);T.description=(0,n.t)("Available with Business and Commerce plans, or Member Areas add-on.",null,{project:"apps.App"});const I=(0,n.t)("Subscribe to Business, Commerce, or the Member Areas add-on to continue using this feature after your trial.",null,{project:"apps.App"});return T.trialUpgradeDescription=I,a.Z.isTrial()&&(T.upgradeDescription=I),T}constructor(){this.bindActions(i.Z),this.exportPublicMethods({getUpsellCopy:this.getUpsellCopy,getUpsellCopyForAddOnSubscription:this.getUpsellCopyForAddOnSubscription,getCommerceDefaultTrial:this.getCommerceDefaultTrial,getCommerceOrMemberAreasUpsell:this.getCommerceOrMemberAreasUpsell})}}const E=r.Z.createStore(v,"FeatureGateStore")},935761:function(P,o,t){"use strict";t.r(o),t.d(o,{getTrialDaysRemaining:()=>T,shouldDisplayBillingMessage:()=>j,shouldShowTrialBanner:()=>I});var n=t(545334),r=t.n(n),e=t(991735),c=t(834105),i=t(286465),a=t(829499),s=t(35045),l=t(24175),d=t.n(l),f=t(559409),m=t.n(f),u=t(885878),p=t.n(u),g=t(28589),v=t(913170),E=t.n(v),C=t(651780);const T=U=>{const R=Date.now();return Math.max(0,r()(U).diff(r()(R),"days")+1)},I=(U,R)=>{const{hideTrialBanner:L}=U,x=i.Z.hasRole(p().ADMIN),G=R&&R.get("siteStatus").get("expiration"),k=R&&R.get("developerMode");return T(G)<=7&&x&&!k?!0:!L},y=()=>e.Z.hasPermission(d().CONFIG_SETTINGS_BILLING),b=U=>{const R=Date.now();return r()(U).diff(r()(R),"days")<15},D=()=>{const U=g.ZP.getByPlanType(E().WEBSITE),R=U?U.autoRenew:null,L=U?U.paidThrough:null;return typeof R=="boolean"&&!R&&b(L)},j=()=>{const{siteStatus:U}=c.Z.getState(),R=a.default.getState(),L=s.default.getState(),x=U===m().EXPIRED,G=U===m().PASTDUE,k=U===m().TRIAL,V=U===m().PAID,$=U===m().RESOLD_GRACE_PERIOD;return y()&&(x||G||k&&!(0,C.A8)()&&I(R,L)||V&&D()||$)}},130638:function(P,o,t){"use strict";t.d(o,{v:()=>d});var n=t(174161),r=t(967361),e=t(935154),c=t.n(e),i=t(859256);const a=["US","PR","GU","VI","MP","AS","UM"];function s(f){const m=f.find(u=>u.type==="COUNTRY");return m?m.code:null}function l(f){return f?a.includes(f):!1}function d(){const[f,m]=(0,n.useState)(),u=r.Z.isFeatureEnabled(c().AUTOMATIC_TAX_CALCS);return(0,n.useEffect)(()=>{async function p(){try{const g=await i.Z.getLocation(),v=s(g);m(l(v))}catch(g){console.error("Error fetching location data:",g),m(!1)}}u&&p()},[u]),u===!1?!1:f}},707205:function(P,o,t){"use strict";t.d(o,{Z:()=>d});var n=t(174161),r=t(621647),e=t(986567),c=t.n(e),i=t(714487),a=t(242169);const s=(0,i.t)("You Might Also Like",null,{project:"apps.App.Commerce.RelatedProducts"}),l=Object.freeze({customScarcityMessage:null,customSoldOutText:(0,i.t)("Sold Out",null,{project:"apps.App"}),merchantStockLevelAlertThreshold:5,multipleQuantityAllowedForServices:!1,relatedProductsEnabled:!1,relatedProductsOrdering:c().RANDOM,relatedProductsSectionTitle:s,restockNotificationsButtonText:null,restockNotificationsCTAText:null,restockNotificationsEnabled:!1,restockNotificationsMailingListDescription:null,restockNotificationsMailingListSignUpEnabled:!1,restockNotificationsSuccessText:null,scarcityEnabledOnProductBlocks:!1,scarcityEnabledOnProductItems:!1,scarcityMessageType:"DEFAULT_SCARCITY_MESSAGE",scarcityThreshold:10,soldOutVariantsDropdownDisabled:!1,productComposerOptedIn:!1,productComposerABTestOptedOut:!1,productReviewsEnabled:!1,productReviewsMerchantEmailEnabled:!1,productReviewsDisplayScope:a.z.ALL_REVIEWS,hasOptedToCollectNativeReviews:!1,displayNativeProductReviewsEnabled:!1,displayImportedProductReviewsEnabled:!1}),d=()=>{const[f,m]=(0,n.useState)(l),[u,p]=(0,n.useState)(l),[g,v]=(0,n.useState)(!1),E=b=>{if(!f)return!0;for(const[D,j]of Object.entries(b))if(f[D]!==j)return!0;return!1},C=b=>{if(u){const D=E(b);p({...u,...b}),v(D)}},T=()=>{u&&(p(f),v(!1))},I=async function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(u){const D={...u,...b};u.relatedProductsSectionTitle===s&&(D.relatedProductsSectionTitle=null),await(0,r.y)(D),v(!1),m({...u,...b})}};return{originalSettings:f,setOriginalSettings:m,merchandisingSettings:u,setMerchandisingSettings:p,updateLocalSettings:C,discardLocalSettings:T,saveLocalSettings:I,updateAndSaveSettings:async b=>(C(b),await I(b)),isDirty:g,setIsDirty:v}}},192702:function(P,o,t){"use strict";t.d(o,{Z:()=>g});var n=t(795478),r=t.n(n),e=t(174161),c=t(845076),i=t.n(c),a=t(976003),s=t.n(a),l=t(924270),d=t.n(l);function f(v,E,C){return E in v?Object.defineProperty(v,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):v[E]=C,v}const m=new(d());var u;class p extends(u=e.Component){componentDidMount(){this.imageElement&&m.load(this.imageElement)}shouldComponentUpdate(E){return!s()(this.props.image,E.image)}componentDidUpdate(){this.imageElement&&m.load(this.imageElement,{forceImageUpdate:!0})}render(){const{image:E,className:C}=this.props,T=E.urls.https;let I="";return E.focalPoint&&E.focalPoint.x&&E.focalPoint.y&&(I=`${E.focalPoint.x},${E.focalPoint.y}`),e.createElement("div",{className:i()(C,"content-fill")},T&&this.renderImage(T,I))}constructor(...E){super(...E),f(this,"renderImage",(C,T)=>e.createElement("img",{ref:I=>{this.imageElement=I},"data-image-focal-point":T,"data-src":C,alt:this.props.alt}))}}f(p,"propTypes",{alt:r().string,className:r().string,image:r().shape({urls:r().shape({https:r().string}),focalPoint:r().shape({x:r().number.isRequired,y:r().number.isRequired})})}),f(p,"defaultProps",{alt:"",className:"",image:{urls:{https:""}}});const g=p},827307:function(P,o,t){"use strict";t.d(o,{Z:()=>s});var n=t(174161),r=t(795478),e=t.n(r),c=t(979221),i=t(696049);const a=l=>{let{amount:d,className:f}=l;return n.createElement("span",{className:f},c.h.formatter.format(d))};a.propTypes={amount:e().instanceOf(i.default).isRequired,className:e().string},a.defaultProps={className:""};const s=n.memo(a,(l,d)=>l.amount.currencyCode===d.amount.currencyCode&&l.amount.compare(d.amount)===0&&l.className===d.className)},707814:function(P,o,t){"use strict";t.d(o,{Bv:()=>c,nq:()=>n});const n=20,r=5120,e=160,c=.1},910571:function(P,o,t){"use strict";t.d(o,{I:()=>c,K:()=>e});var n=t(30712);const r=["image/jpeg","image/png","image/gif","image/x-icon","image/vnd.microsoft.icon"],e=(0,n.L)().isWebpEnabled?[...r,"image/webp"]:r,c=["image/jpeg","image/png"]},979221:function(P,o,t){"use strict";t.d(o,{h:()=>j});var n=t(444867),r=t.n(n),e=t(714487),c=t(627664),i=t(691059),a=t.n(i),s=t(696049),l=t(631755),d=t(792495),f=t.n(d);const m={trimZeroFractions:!1,group:!0},u=/^(\d+)(\d{3})/;function p(U){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".";return U.replace(".",R)}function g(U){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";for(;U.match(u);)U=U.replace(u,`$1${R}$2`);return U}function v(U){return{...l.dj,...U.DEFAULT||{}}}function E(U,R){return{...U.DEFAULT,...U[R]||{}}}function C(U,R,L){return L.trimZeroFractions&&a()(U)?0:(0,l.Nd)(R)}class T{static enableDebugging(){T.debug=!0}static disableDebugging(){T.debug=!1}format(R){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(R instanceof s.default))throw new Error("Format expects a Money instance.");L={...m,...L};const x=T.debug?"\u{1F4B0}":"",G=R.toFloat(),k=Math.abs(G),V=G<0?"-":"",$=R.currencyCode,J=E(this.templates,$),ee=C(G,$,L);let de=String(f()(k,ee).toFixed(ee));de=p(de,J.decimalSeparator),L.group&&(de=g(de,J.thousandsSeparator));const re=J.symbol,Ee=J.formatter,Te=Ee({currencyCode:$,symbol:re,value:de,sign:V});return x+Te+x}constructor(R,L=!1){this.templates=l.WP[R]||{},this.templates.DEFAULT=v(this.templates),this.templates,L&&T.enableDebugging(),this.locale=R}}var I=t(663634);function y(U,R,L){return R in U?Object.defineProperty(U,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):U[R]=L,U}const b={format:e.lb,get templates(){throw new Error("[MoneyFormatterProvider] custom templates are not supported in CLDR mode")}};class D{setUseCldrMode(R){this.useCldrMode=R}get formatter(){return this.useCldrMode?b:this.commerceMoneyFormatter}constructor(R=!1){y(this,"useCldrMode",void 0),y(this,"commerceMoneyFormatter",void 0),this.useCldrMode=R,this.commerceMoneyFormatter=new T("native")}}const j=new D((0,I.cr)(r().CLDR_NUMBER_FORMATTER))},654574:function(P,o,t){"use strict";var n=t(153088),r=t(714487),e=t(284011);(0,e.setI18nInstance)(r.ZP)},871349:function(P,o,t){"use strict";var n=t(153088),r=t(714487),e=t(621259);(0,e.U)(r.ZP)},155784:function(P,o,t){"use strict";var n=t(714487),r=t(171009);(0,r.U)(n.ZP);var e=t(285480);(0,e.U)(n.ZP)},200457:function(P,o,t){"use strict";var n=t(714487),r=t(427031);(0,r.U)(n.ZP)},598347:function(P,o,t){"use strict";var n=t(153088),r=t(458327),e=t(814710),c=t(524598),i=t(714487),a=t(258082);(0,a.setI18nInstance)(i.ZP)},242169:function(P,o,t){"use strict";t.d(o,{x:()=>n,z:()=>r});var n=function(e){return e[e.STORE=0]="STORE",e[e.PRODUCT=1]="PRODUCT",e}({}),r=function(e){return e.PRODUCT_ONLY="PRODUCT_ONLY",e.STORE_ONLY="STORE_ONLY",e.ALL_REVIEWS="ALL_REVIEWS",e}({})},997447:function(P,o,t){"use strict";t.d(o,{Mm:()=>a,fv:()=>e,iK:()=>c,j:()=>i,sn:()=>l,uF:()=>s,vX:()=>d});var n=t(296923),r=t.n(n);function e(f){return f.productType===r().PHYSICAL}function c(f){return f.productType===r().DIGITAL}function i(f){return f.productType===r().SERVICE}function a(f){return f.productType===r().GIFT_CARD}function s(f){return e(f)||i(f)}function l(f){return e(f)?f.fulfilledExternally:void 0}function d(f){return e(f)||i(f)}},859940:function(P,o,t){"use strict";t.d(o,{LY:()=>e,cr:()=>r,yR:()=>n});var n=function(c){return c.KILOGRAM="KILOGRAM",c.POUND="POUND",c}({}),r=function(c){return c.CENTIMETER="CENTIMETER",c.INCH="INCH",c}({});function e(c){const i=c;return i.shippingWeight!==void 0&&i.shippingSize!==void 0}},911925:function(P,o,t){"use strict";t.d(o,{f:()=>n,k:()=>r});var n=function(e){return e.WEEK="WEEK",e.MONTH="MONTH",e}({}),r=function(e){return e.NEVER_EXPIRES="NEVER_EXPIRES",e.EXPIRES_AFTER="EXPIRES_AFTER",e}({})},272821:function(P,o,t){"use strict";t.d(o,{B:()=>n,h:()=>r});var n=function(e){return e.HIDDEN="HIDDEN",e.SCHEDULED="SCHEDULED",e.VISIBLE="VISIBLE",e}({});function r(e){return Object.values(n).includes(e)}},897595:function(P,o,t){"use strict";t.d(o,{AT:()=>f,Mt:()=>i,Z1:()=>l,pD:()=>a,wu:()=>s,xF:()=>d,xo:()=>m});var n=t(941254),r=t(651780),e=t(511556);const{id:c}=(0,r.Xu)()||{},i=(u,p)=>{n.Z.track({actor:e.aR.USER,action:e.om.SAVE,object_type:"status",object_identifier:"site-availability",object_value:u,...p?{product_area:p}:{},...c&&{org_id:c}})},a=()=>{n.Z.track({actor:e.aR.USER,action:e.om.VIEW,event_name:"UserViewsSitePublishedModal",object_identifier:"site-published-modal",object_type:e.$l.MODAL,product_page:"publish-site-modal"})},s=()=>{n.Z.track({actor:e.aR.USER,action:e.om.CLICK,event_name:"UserCopiesSiteLink",object_display_name:"Copy",object_identifier:"copy-site-link",object_type:e.$l.BUTTON,product_page:"publish-site-modal"})},l=u=>{n.Z.track({actor:e.aR.USER,action:e.om.CLICK,event_name:"UserClicksShareToSocial",object_identifier:"social-link-share",object_type:e.$l.BUTTON,object_value:u,product_page:"publish-site-modal"})},d=u=>{let{productArea:p}=u;n.Z.track({actor:e.aR.USER,action:e.om.VIEW,event_name:"UserViewsSitePublishModal",object_identifier:"site-publish-modal",object_type:e.$l.MODAL,product_page:"site-publish-modal",product_area:p})},f=u=>{let{productArea:p,identifier:g}=u;n.Z.track({actor:e.aR.USER,action:e.om.CLICK,event_name:"UserClicksSitePublishModal",object_identifier:g,object_type:e.$l.MODAL,product_page:"site-publish-modal",product_area:p})},m=()=>{n.Z.track({actor:e.aR.USER,action:e.om.CLICK,event_name:"UserClicksHideSitePublishBanner",object_identifier:"hide-site-publish-banner",object_type:e.$l.BUTTON,product_page:"site-publish-modal"})}},310690:function(P,o,t){"use strict";t.d(o,{_V:()=>l,nV:()=>i});var n=t(200457),r=t(806132),e=t(753074),c=t(997447),i=function(d){return d.PRODUCT_ON_SALE="PRODUCT_ON_SALE",d.PRODUCT_HAS_MULTIPLE_VARIANTS="PRODUCT_HAS_MULTIPLE_VARIANTS",d}({});const a=d=>{let f=d.productSubscriptionOptions||[];return d.subscribable&&d.subscriptionPlan&&(f=[{id:d.subscriptionPlan.pricingOptionId,percentageDiscount:null,productSubscriptionPlan:d.subscriptionPlan}]),{variants:d.variants,productSubscriptionOptions:f}},s=(d,f)=>f.some(p=>p.current.subscriptionOption.percentageDiscount!==p.new.subscriptionOption.percentageDiscount)?!1:d.variants[0].onSale,l=(d,f,m)=>{if(!(0,c.uF)(d)||!(0,c.uF)(f)||!(0,e.c)(d)||m)return{subscriptionChangeSummaries:[],errorModalType:null};const{variants:u,productSubscriptionOptions:p}=a(d),{variants:g,productSubscriptionOptions:v}=a(f),E=(0,r.m3)({currentVariants:u,newVariants:g,currentProductSubscriptionOptions:p,newProductSubscriptionOptions:v}),C=E.length>0;return(d.variants.length>1||f.variants.length>1)&&C?{subscriptionChangeSummaries:[],errorModalType:"PRODUCT_HAS_MULTIPLE_VARIANTS"}:s(f,E)&&C?{subscriptionChangeSummaries:[],errorModalType:"PRODUCT_ON_SALE"}:{subscriptionChangeSummaries:E,errorModalType:null}}},753074:function(P,o,t){"use strict";t.d(o,{c:()=>c,v:()=>e});var n=t(681328),r=t(916661);const e=()=>{const i=n.default.getCollectionConfig("products");return!!(i&&(i.systemCollectionVersion==="2.0"||i.hasProductQuickView))},c=i=>r.Z.isSevenOne()&&"productSubscriptionOptions"in i&&i.productSubscriptionOptions&&i.productSubscriptionOptions.length>0||"subscribable"in i&&i.subscribable&&!!i.subscriptionPlan},251678:function(P,o,t){"use strict";t.d(o,{Z:()=>c});var n=t(296923),r=t.n(n),e=t(157484);const c=i=>({[r().PHYSICAL]:e.kv.PHYSICAL,[r().SERVICE]:e.kv.SERVICE,[r().GIFT_CARD]:e.kv.GIFT_CARD,[r().DIGITAL]:e.kv.DIGITAL})[i]},541585:function(P,o,t){"use strict";t.d(o,{P0:()=>de,PA:()=>re,Sh:()=>Ee,UW:()=>Te,Wq:()=>b,XN:()=>be,Yf:()=>$,rZ:()=>D,sN:()=>R,vr:()=>z,wm:()=>ee,xz:()=>J});var n=t(283635),r=t(461761),e=t.n(r);const c="inventory-panel",i="shipping-panel",a="etsy",s="product-importer",l="shipping-importer",d="commerce-dashboard",f="onboarding-steps",m=new n.Z("CommerceChannels",{event_owner_team:"commerce_channels",event_source:"web",product_area:"commerce_channels",website_id:e()(window,"Static.SQUARESPACE_CONTEXT.website.id",null)}),u=(me,ne,Ce,Ae)=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Click_Button",object_type:"button",object_identifier:me,channel:a,product_page:ne,product_section:Ce,...Ae!==void 0&&{object_value:Ae}})},p=(me,ne,Ce)=>{m.track({actor:"user",action:"close",event_name:"CommerceChannels_Close_Banner",object_type:"banner",object_identifier:me,channel:a,product_page:ne,product_section:Ce})},g=(me,ne,Ce)=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Click_ToCloseImportModal",object_type:"button",object_identifier:me,channel:a,product_page:ne,product_section:Ce})},v=(me,ne,Ce)=>{m.track({actor:"user",action:"close",event_name:"CommerceChannels_Close_Modal",object_type:"modal",object_identifier:me,channel:a,product_page:ne,product_section:Ce})},E=(me,ne,Ce)=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Click_ToCloseSuccessStateBanner",object_type:"button",object_identifier:me,channel:a,product_page:ne,product_section:Ce})},C=(me,ne,Ce)=>{m.track({actor:"user",action:"view",event_name:"CommerceChannels_View_ImportModal",object_type:"modal",object_identifier:me,channel:a,product_page:ne,product_section:Ce})},T=(me,ne,Ce)=>{m.track({actor:"user",action:"view",event_name:"CommerceChannels_View_Modal",object_type:"modal",object_identifier:me,channel:a,product_page:ne,product_section:Ce})},I=(me,ne,Ce,Ae)=>{m.track({actor:"user",action:"view",event_name:"CommerceChannels_View_ImportBanner",object_type:"banner",object_identifier:me,channel:a,product_page:ne,product_section:Ce,...Ae!==void 0&&{object_value:Ae}})},y=()=>{g("integrated-import-modal-close",d,f)},b=()=>{g("shipping-import-modal-close",i,l)},D=()=>{p("integrated-import-progress-banner-close",d,f)},j=()=>{p("integrated-import-shipping-warning-banner-close",d,f)},U=()=>{E("integrated-import-success-banner-close",d,f)},R=()=>{E("import-success-state-banner-close",c,s)},L=me=>{u("integrated-import-modal-next",d,f,me)},x=me=>{I("integrated-import-progress-banner",d,f,me)},G=()=>{I("integrated-import-shipping-warning-banner",d,f)},k=me=>{I("integrated-import-success-banner",d,f,me)},V=()=>{C("integrated-import-modal",d,f)},$=()=>{I("import-in-progress",c,s)},J=()=>{I("product-import-success-banner",c,s)},ee=()=>{C("shipping-import-modal",i,l)},de=()=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Click_ToCompleteStorefront",object_type:"button",object_identifier:"import-in-progress-banner-continue-store-setup",channel:a,product_page:c,product_section:s})},re=me=>{m.track({actor:"user",action:"view",event_name:"CommerceChannels_View_ProductImportSurvey",object_type:"modal",channel:a,product_page:me,product_section:s})},Ee=(me,ne,Ce)=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Submit_ProductImportSurvey",object_type:"modal",object_value:ne,freeform_response:Ce,channel:a,product_page:me,product_section:s})},Te=me=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Click_ProductImportSurveyCTA",object_type:"modal",object_identifier:"import-survey-button-import-cta",channel:a,product_page:me,product_section:s})},z=me=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Click_Close_ProductImportSurvey",object_type:"modal",channel:a,product_page:me,product_section:s})},be=()=>{m.track({actor:"user",action:"click",event_name:"CommerceChannels_Click_ToLearnMore",object_type:"button",object_identifier:"learn-more-carrier-shipping",channel:a,product_page:i,product_section:l})}},791589:function(P,o,t){"use strict";t.d(o,{DI:()=>j,DP:()=>p,Iz:()=>ee,Kf:()=>k,L$:()=>v,Lm:()=>x,PC:()=>V,Uv:()=>b,Wd:()=>R,Xn:()=>d,ZA:()=>G,_T:()=>y,aS:()=>L,cX:()=>I,eI:()=>T,lI:()=>U,nd:()=>f,or:()=>J,qS:()=>g,rJ:()=>E,s1:()=>D,ss:()=>m,xL:()=>C,zQ:()=>u});var n=t(897071),r=t.n(n),e=t(868192),c=t(774319),i=t(377790);const a=new(r())({customSchemaName:"inventory_settings"},{event_owner_team:"commerce",event_source:"web",product_area:"commerce-merch",...(0,i.ZP)()}),s=re=>re?"on":"off",l=re=>{switch(re){case"PRODUCT_ONLY":return"product-reviews-only";case"STORE_ONLY":return"store-reviews-only";case"ALL_REVIEWS":return"product-and-store-reviews"}},d=()=>{a.track({actor:"user",action:"view",object_type:"panel",object_identifier:"product-status-panel",product_page:"commerce",product_design_identifier:"product-status-release-2019A"})},f=re=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"limited-label-enable",object_display_name:"enable",object_value:s(re),product_page:"product-status-panel",product_section:"limited-availability-panel",product_design_identifier:"product-status-release-2019A"})},m=re=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"limited-label-pdp",object_display_name:"show-on-pdp",object_value:s(re),product_page:"product-status-panel",product_section:"limited-availability-panel",product_design_identifier:"product-status-release-2019A"})},u=re=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"limited-label-blocks",object_display_name:"show-on-blocks",object_value:s(re),product_page:"product-status-panel",product_section:"limited-availability-panel",product_design_identifier:"product-status-release-2019A"})},p=re=>{a.track({actor:"user",action:"change",object_type:"setting",object_identifier:"limited-label-threshold",object_display_name:"threshold",object_value:re.toString(),product_page:"product-status-panel",product_section:"limited-availability-panel",product_design_identifier:"product-status-release-2019A"})},g=re=>{a.track({actor:"user",action:"select",object_type:"select",object_identifier:"limited-label-message",object_display_name:"message",object_value:re,product_page:"product-status-panel",product_section:"limited-availability-panel",product_design_identifier:"product-status-release-2019A"})},v=re=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"low-stock-email",object_display_name:"low-stock-email",object_value:s(re),product_page:"low-stock-alert-panel",product_design_identifier:"low-stock-release-2019B"})},E=re=>{a.track({actor:"user",action:"change",object_type:"setting",object_identifier:"low-stock-threshold",object_display_name:"threshold",object_value:re.toString(),product_page:"low-stock-alert-panel",product_design_identifier:"low-stock-release-2019B"})},C=re=>{a.track({actor:"user",action:"change",object_type:"setting",object_identifier:"out-of-stock-message",object_value:re,product_page:"product-status-panel",product_section:"out-of-stock-status-panel",product_design_identifier:"product-status-release-2019A"})},T=re=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"out-of-stock-variant-display",object_value:s(re),product_page:"product-status-panel",product_section:"out-of-stock-status-panel",product_design_identifier:"product-status-release-2019A"})},I=()=>{a.track({actor:"user",action:"view",object_type:"panel",object_identifier:"related-products-panel",product_page:"commerce",product_design_identifier:"related-products-release-2019A"})},y=re=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"related-products-enable",object_display_name:"show-related-products",object_value:s(re),product_page:"related-products-panel",product_design_identifier:"related-products-release-2019A"})},b=re=>{a.track({actor:"user",action:"change",object_type:"setting",object_identifier:"related-products-section-title",object_display_name:"section-title",object_value:re,product_page:"related-products-panel",product_design_identifier:"related-products-release-2019A"})},D=re=>{a.track({actor:"user",action:"change",object_type:"setting",object_identifier:"related-products-display-options",object_display_name:"display-options",object_value:re,product_page:"related-products-panel",product_design_identifier:"related-products-release-2019A"})},j=()=>{a.track({actor:"user",action:"click",object_type:"link",object_identifier:"related-products-learn-more",object_display_name:"learn-more",product_page:"related-products-panel",product_design_identifier:"related-products-release-2019A",destination_url:e.RELATED_PRODUCTS})},U=(re,Ee,Te)=>{const{upsellId:z,upsellRequired:be}=(0,c.vU)();a.track({actor:"user",action:"view",object_type:"modal",object_identifier:z,object_display_name:be,indirect_object_type:"commerce-premium-feature",indirect_object_identifier:re,product_section:Ee,product_design_identifier:Te,event_name:"UserViewsPlanUpgradeRequiredPopup"})},R=(re,Ee,Te)=>{const{upsellButton:z,upsellNow:be}=(0,c.vU)();a.track({actor:"user",action:"click",object_type:"button",object_identifier:z,object_display_name:be,indirect_object_type:"commerce-premium-feature",indirect_object_identifier:re,product_section:Ee,product_design_identifier:Te,event_name:"UserClicksOnUpgradeNow"})},L=(re,Ee,Te)=>{a.track({actor:"user",action:"view",object_type:re,object_identifier:"product-reviews-settings-view",object_value:re,product_page:Ee,product_section:Te,event_name:"UserViewsProductReviewsSettings"})},x=re=>{a.track({actor:"user",action:"click",object_type:"link",object_identifier:"kb-link",object_value:"product-reviews-learn-more",product_page:re,destination_url:e.IMPORTING_PRODUCT_REVIEWS_FROM_ETSY,event_name:"UserClicksProductReviewsKBArticle"})},G=(re,Ee)=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"product-reviews-display",event_name:"UserTogglesProductReviewsOnOff",object_value:s(re),product_page:"product-reviews-panel",product_section:Ee})},k=(re,Ee)=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"product-reviews-request-enable",event_name:"UserTogglesRequestingProductReviewsOnOff",object_value:s(re),product_page:"product-reviews-panel",indirect_object_value:Ee})},V=(re,Ee,Te)=>{a.track({actor:"user",action:"click",object_type:"button",object_identifier:re,object_value:Ee,product_page:Te,product_section:"product-reviews-importer",event_name:"UserInitializesEtsyReviewsImport"})},$=()=>{a.track({actor:"user",action:"view",object_type:"modal",object_identifier:"etsy-reviews-modal",object_value:"pdp-upsell-modal",product_page:"product-detail-page",product_section:"product-reviews-importer"})},J=re=>{a.track({actor:"user",action:"change",object_type:"button",object_identifier:"product-reviews-email-notification-enable",event_name:"UserTogglesReviewEmailNotificationOnOff",object_value:s(re),product_page:"product-reviews-panel"})},ee=re=>{a.track({actor:"user",action:"change",object_type:"setting",object_identifier:"product-reviews-display-settings",event_name:"UserChangesDisplayOfProductReviews",object_value:l(re),product_page:"product-reviews-panel"})},de=()=>{a.track({actor:"user",action:"click",object_type:"link",object_identifier:"product-reviews-email-template",event_name:"UserClicksProductReviewRequestLink",product_page:"product-reviews-panel"})}},119978:function(P,o,t){"use strict";t.d(o,{$g:()=>ze,B:()=>lt,Bt:()=>Ue,EL:()=>tt,EO:()=>I,Et:()=>we,F1:()=>He,G7:()=>L,IS:()=>j,Ir:()=>se,JF:()=>ct,L1:()=>V,L8:()=>Ke,Lq:()=>Ct,Mc:()=>Xe,QE:()=>F,QN:()=>be,RV:()=>G,Su:()=>de,U:()=>ne,WD:()=>C,Wm:()=>At,Xd:()=>re,_8:()=>J,cz:()=>Ne,eY:()=>me,f2:()=>z,g:()=>g,kC:()=>U,kQ:()=>Ae,kp:()=>Oe,ly:()=>R,mh:()=>D,ms:()=>ye,o9:()=>st,qc:()=>x,qe:()=>k,rs:()=>xe,sJ:()=>at,sc:()=>$,sn:()=>Le,uP:()=>Lt,vc:()=>Ee,x0:()=>Yt,xL:()=>y,xU:()=>ee,xo:()=>ie,z0:()=>Te,zE:()=>Ce,zT:()=>p});var n=t(200457),r=t(897071),e=t.n(r),c=t(157484),i=t(774319),a=t(762379),s=t(444867),l=t.n(s),d=t(377790),f=t(916661),m=t(272821),u=null,p=function(oe){return oe.APPLY_ALL="apply_all",oe.UNDO="undo",oe}({});const g=c.MX,v=new(e())({customSchemaName:"variant_images"},{event_owner_team:"commerce",event_source:"web",product_area:"commerce-merch",product_section:"product-editor",site_version:f.Z.getVersion(),...(0,d.ZP)()}),E=a.Z.isFeatureEnabled(l().NESTED_CATEGORIES)?c.$3.V2:c.$3.V1,C=oe=>{let{productId:ce,productType:Q,productName:fe,productEditor:le,fulfilledExternally:Re,entryPoint:Me}=oe;v.track({actor:"user",action:"open",object_type:"modal",object_identifier:"product-editor",indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_id:ce,indirect_object_display_name:fe,product_design_identifier:le,is_fulfilled_externally:Re,entry_point:Me})},T=oe=>{let{productId:ce,productType:Q,productName:fe,tabName:le,productEditor:Re}=oe;v.track({actor:"user",action:"click",object_type:"tabs",object_identifier:"product-editor",object_display_name:le,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_id:ce,indirect_object_display_name:fe,product_design_identifier:Re})},I=oe=>{let{optionName:ce,productId:Q,productName:fe,productType:le,productEditor:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"delete",object_type:"menuitem",object_identifier:"product-option",object_display_name:ce,indirect_object_type:"commerceproduct",indirect_object_identifier:le,indirect_object_id:Q,indirect_object_display_name:fe,product_design_identifier:Re,is_fulfilled_externally:Me})},y=oe=>{let{optionName:ce,productId:Q,productName:fe,productType:le,productEditor:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"add",object_type:"menuitem",object_identifier:"product-option",object_display_name:ce,indirect_object_type:"commerceproduct",indirect_object_identifier:le,indirect_object_id:Q,indirect_object_display_name:fe,product_design_identifier:Re,is_fulfilled_externally:Me})},b=oe=>{let{optionName:ce,optionValue:Q,productId:fe,variantId:le,productEditor:Re}=oe;v.track({actor:"user",action:"change",object_type:"menuitem",object_identifier:"variant-option-value",object_display_name:ce,object_value:Q,indirect_object_type:"variant",indirect_object_id:le,parent_product_id:fe,product_design_identifier:Re})},D=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le,stock_quantity:Re,timeElapsed:Me,fulfilledExternally:dt,entryPoint:pt}=oe;v.track({actor:"user",action:"save",object_type:"commerceproduct",object_identifier:fe,indirect_object_type:"commerceproduct",indirect_object_id:ce,indirect_object_display_name:Q,product_design_identifier:le,stock_quantity:Re,time_elapsed_ms:Me,is_fulfilled_externally:dt,entry_point:pt})},j=oe=>{let{productId:ce,productName:Q,productType:fe,stock_quantity:le,timeElapsed:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"add",object_type:"addfirstproductonboarding",object_identifier:fe,object_id:ce,object_display_name:Q,stock_quantity:le,time_elapsed_ms:Re,is_fulfilled_externally:Me})},U=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le,stock_quantity:Re,timeElapsed:Me,fulfilledExternally:dt,entryPoint:pt,visibility:yt}=oe;const Qt={[m.B.HIDDEN]:"SAVE",[m.B.SCHEDULED]:"SCHEDULE",[m.B.VISIBLE]:"PUBLISH"};v.track({actor:"user",action:"add",object_type:"commerceproduct",object_identifier:fe,object_id:ce,object_display_name:Q,object_value:Qt[yt],product_design_identifier:le,stock_quantity:Re,time_elapsed_ms:Me,is_fulfilled_externally:dt,entry_point:pt})},R=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le,fulfilledExternally:Re}=oe;v.track({actor:"user",action:"delete",object_type:"commerceproduct",object_identifier:fe,object_id:ce,object_display_name:Q,product_design_identifier:le,is_fulfilled_externally:Re})},L=oe=>{let{oldProductId:ce,newProductId:Q,productName:fe,productType:le,productEditor:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"duplicate",object_type:"commerceproduct",object_identifier:le,object_id:Q,object_display_name:fe,indirect_object_type:"commerceproduct",indirect_object_id:ce,product_design_identifier:Re,is_fulfilled_externally:Me})},x=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le,timeElapsed:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"cancel",object_type:"modal",object_identifier:"product-editor",indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,indirect_object_display_name:Q,product_design_identifier:le,time_elapsed_ms:Re,is_fulfilled_externally:Me})},G=oe=>{let{productId:ce,productName:Q,productType:fe,variantId:le,productEditor:Re}=oe;v.track({actor:"user",action:"add",object_type:"commerceproduct",object_identifier:"product-variant",object_id:le,indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,indirect_object_display_name:Q,parent_product_id:ce,product_design_identifier:Re})},k=oe=>{v.track({actor:"user",action:"click",object_type:"button",object_identifier:"add-product",product_page:oe,product_design_identifier:`${E}`})},V=oe=>{v.track({actor:"user",action:"click",object_type:"button",object_identifier:"edit-product",product_page:oe,product_design_identifier:`${E}`})},$=oe=>{v.track({actor:"user",action:"select",object_type:"menuitem",object_identifier:"add-product-select-store",product_design_identifier:oe})},J=oe=>{let{entryPoint:ce}=oe;v.track({actor:"user",action:"view",object_type:"modal",object_identifier:"product-type-picker",entry_point:ce})},ee=(oe,ce,Q)=>{v.track({actor:"user",action:"select",object_type:"commerceproduct",object_identifier:oe,product_design_identifier:ce,indirect_object_identifier:Q})},de=(oe,ce,Q,fe,le)=>{v.track({actor:"user",action:"change",object_type:"textarea",object_identifier:"product-description",indirect_object_type:"commerceproduct",indirect_object_identifier:ce,indirect_object_display_name:oe,indirect_object_id:fe,product_design_identifier:Q,is_fulfilled_externally:le})},re=(oe,ce,Q,fe,le)=>{v.track({actor:"user",action:"change",object_type:"textarea",object_identifier:"product-title",object_value:oe,indirect_object_type:"commerceproduct",indirect_object_identifier:ce,indirect_object_id:fe,product_design_identifier:Q,is_fulfilled_externally:le})},Ee=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,tag:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"add",object_type:"label",object_identifier:"product-tag",object_value:Re,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:fe,is_fulfilled_externally:Me})},Te=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,tag:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"delete",object_type:"label",object_identifier:"product-tag",object_value:Re,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:fe,is_fulfilled_externally:Me})},z=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,category:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"link",object_type:"label",object_identifier:"product-category",object_value:Re,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:`${c.$3.V1},${fe}`,is_fulfilled_externally:Me})},be=(oe,ce)=>{v.track({actor:"user",action:"create",object_type:"label",object_identifier:"product-category",object_value:oe,product_design_identifier:`${c.$3.V1},${ce}`})},me=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,category:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"unlink",object_type:"label",object_identifier:"product-category",object_value:Re,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:`${c.$3.V1},${fe}`,is_fulfilled_externally:Me})},ne=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,workflowState:Re}=oe;v.track({actor:"user",action:"change",object_type:"setting",object_identifier:"visibility",object_value:Re,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:fe})},Ce=oe=>{v.track({actor:"user",action:"create",object_type:"form",object_identifier:"product-form",product_design_identifier:oe})},Ae=(oe,ce,Q,fe,le)=>{v.track({actor:"user",action:"assign",object_type:"form",object_identifier:"product-form",indirect_object_type:"commerceproduct",indirect_object_identifier:ce,indirect_object_display_name:oe,indirect_object_id:fe,product_design_identifier:Q,is_fulfilled_externally:le})},Xe=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,newValue:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"select",object_type:"menuitem",object_identifier:"related-products",object_value:Re||"no-value-selected",indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:`${E},${fe}`,is_fulfilled_externally:Me})},Ne=(oe,ce,Q,fe,le)=>{v.track({actor:"user",action:"change",object_type:"textarea",object_identifier:"product-additional-info",indirect_object_type:"commerceproduct",indirect_object_identifier:ce,indirect_object_id:fe,indirect_object_display_name:oe,product_design_identifier:Q,is_fulfilled_externally:le})},st=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,isOnSale:Re,fulfilledExternally:Me,customData:dt}=oe;v.track({actor:"user",action:"change",object_type:"setting",object_identifier:"on-sale-toggle",object_value:(0,i.qd)(Re),indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:fe,is_fulfilled_externally:Me,...dt})},ze=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,val:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"toggle",object_type:"setting",object_identifier:"subscription-product",object_value:Re?"on":"off",indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:fe,is_fulfilled_externally:Me})},we=oe=>{let{productId:ce,productName:Q,productType:fe,variantId:le,productEditor:Re,fulfilledExternally:Me}=oe;v.track({actor:"user",action:"delete",object_type:"commerceproduct",object_identifier:"product-variant",object_id:le,indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,indirect_object_display_name:Q,parent_product_id:ce,product_design_identifier:Re,is_fulfilled_externally:Me})},Ke=oe=>{let{attributeType:ce,productId:Q,productName:fe,productType:le,variantId:Re,updatedValue:Me,productEditor:dt,originalValue:pt,fulfilledExternally:yt,customData:Qt}=oe;v.track({actor:"user",action:"change",object_type:"attribute",object_identifier:"variant-attribute",object_id:Re,object_display_name:ce,object_value:Me,indirect_object_type:"commerceproduct",indirect_object_identifier:le,indirect_object_id:Q,indirect_object_display_name:fe,product_section:"product-editor",product_design_identifier:dt,parent_product_id:Q,old_object_value:pt,is_fulfilled_externally:yt,...Qt})};var se=function(oe){return oe.ADD="add",oe.DELETE="delete",oe}({});const Oe=oe=>{let{productId:ce,productType:Q,productEditor:fe,ctaPresent:le,extensionEligible:Re}=oe;v.track({actor:"user",action:"view",object_type:"section",object_identifier:"taxes",indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_id:ce,product_section:"product-editor",product_design_identifier:fe,tax_extension_cta_present:le,tax_extension_tax_categories_present:Re})},ye=oe=>{let{productId:ce,productType:Q,productEditor:fe}=oe;v.track({actor:"user",action:"click",object_type:"button",object_identifier:"tax-extension",indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_id:ce,product_section:"product-editor",product_design_identifier:fe})},ct=oe=>{let{productId:ce,productType:Q,productEditor:fe}=oe;v.track({actor:"user",action:"search",object_type:"textarea",object_identifier:"tax-categories-search",indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_id:ce,product_section:"product-editor",product_design_identifier:fe})},at=oe=>{let{action:ce,categoryAction:Q,categoryName:fe,productId:le,productType:Re,productEditor:Me}=oe;v.track({actor:"user",action:ce,object_type:"taxcategory",object_identifier:Q,object_value:fe,indirect_object_type:"commerceproduct",indirect_object_identifier:Re,indirect_object_id:le,product_section:"product-editor",product_design_identifier:Me})},Ct=oe=>{let{value:ce,productType:Q,productId:fe,productName:le}=oe;v.track({actor:"user",action:"click",object_type:"menuitem",object_identifier:"product-editor",object_id:"anchor-links",object_value:ce,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_id:fe,indirect_object_display_name:le})},lt=(oe,ce,Q,fe,le)=>{v.track({actor:"user",action:"change",object_type:"textarea",object_identifier:"product-seo-title",object_value:oe,indirect_object_type:"commerceproduct",indirect_object_identifier:ce,indirect_object_id:fe,product_design_identifier:Q,is_fulfilled_externally:le})},Lt=(oe,ce,Q,fe,le)=>{v.track({actor:"user",action:"change",object_type:"textarea",object_identifier:"product-seo-description",object_value:oe,indirect_object_type:"commerceproduct",indirect_object_identifier:ce,indirect_object_id:fe,product_design_identifier:Q,is_fulfilled_externally:le})},At=(oe,ce,Q,fe,le)=>{v.track({actor:"user",action:"change",object_type:"textarea",object_identifier:"product-url-slug",object_value:oe,indirect_object_type:"commerceproduct",indirect_object_identifier:ce,indirect_object_id:fe,product_design_identifier:Q,is_fulfilled_externally:le})},Yt=oe=>{let{productId:ce,productName:Q,numberOfAddOns:fe,productType:le,productEditor:Re}=oe;v.track({actor:"user",action:"add",object_type:"commerceproduct",object_identifier:"product-editor",indirect_object_type:"commerceproduct",indirect_object_identifier:le,indirect_object_id:ce,product_design_identifier:Re,indirect_object_display_name:Q,object_display_name:`${fe}`,event_name:"Commerce_Product_User_Adds_AddOns"})},xe=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le}=oe;v.track({actor:"user",action:"click",object_type:"modal",object_identifier:"product-add-on",indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,product_design_identifier:le,indirect_object_display_name:Q,event_name:"Commerce_Product_User_Opens_AddOns_Modal"})},tt=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le}=oe;v.track({actor:"user",action:"view",object_type:"commerceproduct",object_identifier:"subscription-product",indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,indirect_object_display_name:Q,product_design_identifier:le,event_name:"Commerce_Product_User_Views_Subscription_Modal"})},F=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le,subscriptionType:Re,numFrequencies:Me}=oe;v.track({actor:"user",action:"add",object_type:"commerceproduct",object_identifier:"subscription-product",indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,indirect_object_display_name:Q,product_design_identifier:le,freeform_response:Re,response_numeric:Me,event_name:"Commerce_Product_User_Adds_Subscription"})},ie=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le,subscriptionBillingCycle:Re,percentageDiscount:Me}=oe;v.track({actor:"user",action:"add",object_type:"commerceproduct",object_identifier:"subscription-product",indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,indirect_object_display_name:Q,product_design_identifier:le,freeform_response:Re,response_numeric:Me,event_name:"Commerce_Product_User_Adds_Subscription_Frequency"})},Ze=oe=>({previous_price:oe.previousPrice.toSubunits(),new_price:oe.newPrice.toSubunits(),currency_code:oe.newPrice.currencyCode,num_subscriptions_affected:oe.subscriptionsAffected}),Ue=oe=>{let{productId:ce,productName:Q,productType:fe,productEditor:le,applyChangesTo:Re,isBasePriceChanged:Me,isSubDiscountChanged:dt,subscriptionOptionId:pt,changedSubscriptions:yt}=oe;v.track({actor:"user",action:"add",object_type:"commerceproduct",object_identifier:"subscription-product",indirect_object_type:"commerceproduct",indirect_object_identifier:fe,indirect_object_id:ce,indirect_object_display_name:Q,product_section:"subscription-apply-changes",product_design_identifier:le,freeform_response:Re,changed_base_price:Me,changed_sub_discount:dt,subscription_option_id:pt,changed_subscriptions:yt.map(Ze),event_name:"Commerce_Product_User_Applies_Subscription_Product_Changes"})},Le=oe=>{let{productName:ce,productType:Q,productEditor:fe,productId:le,objectIdentifier:Re}=oe;v.track({actor:"user",action:"click",object_type:"button",object_identifier:Re,object_value:!0,indirect_object_type:"commerceproduct",indirect_object_identifier:Q,indirect_object_display_name:ce,indirect_object_id:le,product_design_identifier:fe})};var _e=null;const He=oe=>{let{objectValue:ce,objectDisplayName:Q}=oe;v.track({event_name:"UserClicksUpdateProducts",actor:"user",action:"click",object_type:"button",object_identifier:"block-editor",indirect_object_type:"menu",indirect_object_identifier:"block-level-custom-options",object_display_name:Q,object_value:ce,product_page:"product-block"})}},741563:function(P,o,t){"use strict";t.d(o,{BJ:()=>f,Pj:()=>m,Zm:()=>l,br:()=>u,gm:()=>p,n1:()=>d});var n=t(897071),r=t.n(n),e=t(157484),c=t(377790),i=t(997447),a=t(251678);const s=new(r())({customSchemaName:"variant_images"},{event_owner_team:"commerce",event_source:"web",product_area:"commerce-merch",product_section:"product-editor",...(0,c.ZP)()}),l=g=>{let{imageId:v,variantId:E,product:C,productEditor:T=e.MX.PRODUCT_COMPOSER_V1}=g;s.track({actor:"user",action:"assign",object_type:"image",object_identifier:"variant-image",object_id:v,indirect_object_type:"variant",indirect_object_id:E,parent_product_id:C.id,product_design_identifier:T,is_fulfilled_externally:(0,i.sn)(C)})},d=g=>{let{imageId:v,productSection:E,product:C,productEditor:T=e.MX.PRODUCT_COMPOSER_V1}=g;s.track({actor:"user",action:"submit",object_type:"image",object_identifier:"product-image",object_id:v,indirect_object_type:"commerceproduct",indirect_object_identifier:(0,a.Z)(C.productType),indirect_object_id:C.id,indirect_object_display_name:C.name,product_section:E,product_design_identifier:T,is_fulfilled_externally:(0,i.sn)(C)})},f=g=>{let{imageId:v,variantId:E,product:C,productEditor:T=e.MX.PRODUCT_COMPOSER_V1}=g;s.track({actor:"user",action:"delete",object_type:"image",object_identifier:"variant-image",object_id:v,indirect_object_type:"variant",indirect_object_id:E,parent_product_id:C.id,product_design_identifier:T,is_fulfilled_externally:(0,i.sn)(C)})},m=g=>{let{imageId:v,variantId:E,product:C,productEditor:T=e.MX.PRODUCT_COMPOSER_V1}=g;s.track({actor:"user",action:"change",object_type:"image",object_identifier:"variant-image",object_id:v,indirect_object_type:"variant",indirect_object_id:E,parent_product_id:C.id,product_design_identifier:T,is_fulfilled_externally:(0,i.sn)(C)})},u=g=>{let{variantId:v,product:E,productEditor:C=e.MX.PRODUCT_COMPOSER_V1}=g;s.track({actor:"user",action:"open",object_type:"modal",object_identifier:"variant-image-picker",indirect_object_type:"variant",indirect_object_id:v,parent_product_id:E.id,product_design_identifier:C,is_fulfilled_externally:(0,i.sn)(E)})},p=g=>{let{variantId:v,product:E,productEditor:C=e.MX.PRODUCT_COMPOSER_V1}=g;s.track({actor:"user",action:"close",object_type:"modal",object_identifier:"variant-image-picker",indirect_object_type:"variant",indirect_object_id:v,parent_product_id:E.id,product_design_identifier:C,is_fulfilled_externally:(0,i.sn)(E)})}},157484:function(P,o,t){"use strict";t.d(o,{$3:()=>i,MX:()=>c,SO:()=>a,iV:()=>n,kv:()=>r});const n="commerce";var r=function(s){return s.PHYSICAL="physical",s.SERVICE="service",s.GIFT_CARD="gift-card",s.DIGITAL="digital",s.PAYWALL="paywall",s.SCHEDULING="scheduling",s.VIDEO_ON_DEMAND="video-on-demand",s.PRINT_ON_DEMAND="print-on-demand",s.COURSE="course",s.BLOG="blog",s}({}),e=null,c=function(s){return s.YUI_EDITOR="yui-editor",s.PRODUCT_COMPOSER_V1="product-composer-v1",s.INVENTORY_PANEL="inventory-panel",s.FIRST_PRODUCT_ADD_ONBOARDING="first-product-add-onboarding",s}({}),i=function(s){return s.V1="product-collections-v1",s.V2="product-collections-v2",s}({}),a=function(s){return s.EXPIRES="expires",s.CONTINUOUS="continuous",s}({})},774319:function(P,o,t){"use strict";t.d(o,{Q0:()=>c,qd:()=>e,vU:()=>i});var n=t(834105);const r=n.Z.isTrial();function e(a){return a?"on":"off"}function c(a){switch(a){case 1:return"published";case 2:return"scheduled";case 4:return"hidden"}}function i(){return r?{upsellId:"subscribe-modal",upsellButton:"subscribe-button",upsellRequired:"subscribe-required",upsellNow:"subscribe-now"}:{upsellId:"upgrade-modal",upsellButton:"upgrade-button",upsellRequired:"upgrade-required",upsellNow:"upgrade-now"}}},290601:function(P,o,t){"use strict";t.d(o,{Hd:()=>s,R8:()=>a,WX:()=>e,_4:()=>i,dI:()=>l,vW:()=>d});var n=t(456903);const r="/api/site-users/account/notifications/restock",e=f=>{var m;const u={};return!((m=window.top)===null||m===void 0)&&m.Weglot&&(u.language=window.top.Weglot.getCurrentLang()),n.default.post(r,{...f,...u})},c=f=>n.default.get(`${r}/groups`,{params:{cursor:f}}),i=async()=>{let f,m=!0;const u=[];for(;m;){const{data:p}=await c(f);({hasNextPage:m,nextPageCursor:f}=p),u.push(...p.signUpGroups)}return u},a=async(f,m)=>{let u,p=!0;const g=[];for(;p;){const{data:v}=await n.default.get(r,{params:{productId:f,variantId:m,cursor:u}});({hasNextPage:p,nextPageCursor:u}=v),g.push(...v.signUps)}return g},s=async(f,m)=>{if(m.length===0)return 0;const u=m.map(g=>a(f,g));return(await Promise.all(u)).reduce((g,v)=>g+v.length,0)},l=(f,m)=>n.default.post(`${r}/send`,{productId:f,variantId:m}),d=f=>n.default.post(`${r}/send/all`,{sendRequests:f})}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/b18d7096e8b95fa1/87034-1f1a4b1318446ba5-min.en-US.js.map