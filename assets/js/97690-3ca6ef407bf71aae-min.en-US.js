(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["97690"],{261377:function(H,R,n){var S={"./NamecheapInstructions":["485008","1595"],"./NamecheapInstructions.tsx":["485008","1595"],".":["945495"],"./NetworkSolutionsInstructions.tsx":["868808","771"],"./index.tsx":["945495"],"./NetworkSolutionsInstructions":["868808","771"],"./GoDaddyInstructions.tsx":["534512","51642"],"./":["945495"],"./index":["945495"],"./GoDaddyInstructions":["534512","51642"]};function f(v){if(!n.o(S,v))return Promise.resolve().then(function(){var h=new Error("Cannot find module '"+v+"'");throw h.code="MODULE_NOT_FOUND",h});var e=S[v],T=e[0];return Promise.all(e.slice(1).map(n.e)).then(function(){return n(T)})}f.keys=()=>Object.keys(S),f.id=261377,H.exports=f},362126:function(H,R,n){"use strict";n.d(R,{I:()=>h});var S=n(896511),f=n(174161),v=n(934951),e=n(762535);const T=f.createElement(S.Z,{to:`${e.Z.forBilling()}payment-info`},f.createElement(v.T,{project:"domains"},"payment method")),h=()=>f.createElement(v.T,{project:"domains",paymentMethodLink:T,"data-test":"SEPA-warning",notes:"paymentMethodLink contains the copy 'payment method'. It's a link to the payment information page."},"Domains cannot be transferred with SEPA at this time. Update the {paymentMethodLink} to card to transfer the domain.")},693737:function(H,R,n){"use strict";n.d(R,{Z:()=>f});var S=function(v){return v.IN_APP="in-app",v.FRONTSITE="frontsite",v.REACTIVATION="reactivation",v}(S||{});const f=S},284396:function(H,R,n){"use strict";n.d(R,{Z:()=>xn});var S=n(374335),f=n.n(S),v=n(859118),e=n(174161),T=n(964364),h=n(766400),C=n(685763),g=n(180852),X=n(567713),V=n(161381),Q=n(225840),s=n(714487),z=n(555827),ue=n.n(z),Ae=n(507229),U=n.n(Ae),c=n(29865),E=n.n(c),P=n(347560),M=n(878062),te=n(100666),oe=n(681275),K=n(456903),x=n(200527);function Ee(a,t,o){return t in a?Object.defineProperty(a,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[t]=o,a}class nt{constructor(){Ee(this,"_checkOnPopUp",t=>{this._popup.closed&&(clearInterval(this._interval),t())}),Ee(this,"_updateConsentWindowAndWaitForClose",t=>new Promise(o=>{this._popup.location=t.url,this._genericError={message:(0,s.t)("There was an error in linking your {providerName} domain.",{providerName:t.providerName},{project:"apps.App"})},this._interval=setInterval(()=>{this._checkOnPopUp(o)},1e3)})),Ee(this,"_verifyDomainLink",t=>{const o=`/api/domain-connect/${t.id}`;return K.default.get(o).then(i=>{let{data:r}=i;if(!r.success)throw this._genericError;return t}).catch(()=>{throw this._genericError})}),Ee(this,"domainConnectFlow",async(t,o,i)=>{const r={name:t,providerId:o,strategyId:E().DOMAINCONNECT};this._popup=window.open("",(0,s.t)("Squarespace Domain Linking",null,{project:"apps.App"}),"status=0,width=780,height=785,left=400,top=400");try{const{data:l}=await G.createLinkedDomain(r),{data:d}=await oe.Z.getStrategy(t);if(d.strategyId===E().MANUAL){this._popup.close(),G.successConnectingDomain();return}await this._updateConsentWindowAndWaitForClose(d),await this._verifyDomainLink(l),G.successConnectingDomain(),x.Z.viewDNSConnectStep(t,i,"dns-connect-success",!0)}catch(l){this._popup.closed||this._popup.close(),G.failedConnectingDomain(l),x.Z.viewDNSConnectStep(t,i,"dns-connect-failure",!0)}}),this._interval=null,this._popup=null,this._genericError={message:(0,s.t)("There was an error in linking your domain.",{providerName:this._providerName},{project:"apps.App"})}}}const ot=new nt,Le=[U().GOOGLE,U().GO_DADDY,U().ONE_AND_ONE];class at extends M.Z{identifyProvider(t){return o=>(o(),oe.Z.identifyProvider(t).then(this.identifyProviderSuccess).catch(this.identifyProviderFailure))}getProviders(){return t=>(t(),oe.Z.getProviders().then(this.getProvidersSuccess).catch(this.getProvidersFailure))}getStrategyId(t){return o=>(o(),oe.Z.getStrategyId(t).then(this.getStrategyIdSuccess).catch(()=>this.getStrategyIdFailure(t)))}startDomainConnection(t){let{provider:o={id:U().UNKNOWN},domainConnectionStrategy:i,registrarName:r}=t;return l=>{l();const d=o.id,m=i.domainName,u=i.strategyId,y=Le.includes(d);u===E().DOMAINCONNECT&&y?ot.domainConnectFlow(m,d,r):this.manualConnectFlow({domainName:m,providerId:d,registrarName:r})}}manualConnectFlow(t){let{domainName:o,providerId:i,registrarName:r}=t;return l=>{l(),this.createLinkedDomain({name:o,providerId:i,strategyId:E().MANUAL}).then(()=>{this.successConnectingDomain(),x.Z.viewDNSConnectStep(o,r,"dns-connect-success",!1)}).catch(d=>{let{response:m}=d;const u=m&&m.data&&m.data.message?m.data.message:(0,s.t)("Failed to connect domain.",null,{project:"apps.App"});this.failedConnectingDomain({message:u}),x.Z.viewDNSConnectStep(o,r,"dns-connect-failure",!1)})}}createLinkedDomain(t){return o=>(o(),te.Z.createLinkedDomain(t))}deleteLinkedDomain(t){return o=>(o(),te.Z.deleteDomain(t))}constructor(){super(),this.generateActions("getProvidersSuccess","getProvidersFailure","identifyProviderSuccess","identifyProviderFailure","getStrategyIdSuccess","getStrategyIdFailure","dismissLoadingError","setProvider","successConnectingDomain","failedConnectingDomain","closeConnectionSuccess","closeConnectionError")}}const G=P.Z.createActions(at);var it=n(848371),rt=n(745747);const st={websiteUrl:"",areProvidersLoading:!0,loadProvidersError:null,isIdentifyingProvider:!0,isLoadingStrategyId:!0,provider:null,providers:null,domainConnectionStrategy:null,isDomainConnecting:!1,domainConnectionSuccess:!1,domainConnectionError:!1,connectionErrorMessage:null};class lt extends rt.Z{getStateFromContext(t){let{website:o}=t;return{websiteUrl:o==null?void 0:o.internalUrl}}setProvider(t){var o;this.setState({provider:(o=this.state.providers)===null||o===void 0?void 0:o[t]})}getProviders(){this.setState({areProvidersLoading:!0})}getProvidersSuccess(t){let{data:o}=t;this.setState({providers:ue()(o.results,"id"),areProvidersLoading:!1})}getProvidersFailure(t){this.setState({areProvidersLoading:!1,loadProvidersError:t})}identifyProvider(){this.setState({isIdentifyingProvider:!0})}identifyProviderSuccess(t){let{data:o}=t;this.setState({isIdentifyingProvider:!1,provider:o})}identifyProviderFailure(){this.setState({isIdentifyingProvider:!1,provider:{id:U().UNKNOWN}})}getStrategyId(){this.setState({isLoadingStrategyId:!0})}getStrategyIdSuccess(t){let{data:o}=t;this.setState({isLoadingStrategyId:!1,domainConnectionStrategy:o})}getStrategyIdFailure(t){this.setState({isLoadingStrategyId:!1,domainConnectionStrategy:{strategyId:E().MANUAL,domainName:t}})}startConnection(){this.setState({isDomainConnecting:!0})}successConnectingDomain(){this.setState({isDomainConnecting:!1,domainConnectionSuccess:!0})}failedConnectingDomain(t){let{message:o}=t;this.setState({isDomainConnecting:!1,domainConnectionError:!0,connectionErrorMessage:o})}closeConnectionSuccess(){this.setState({domainConnectionSuccess:!1})}closeConnectionError(){this.setState({domainConnectionError:!1})}constructor(){super(),this.state={...st},this.bindActions(G)}}const he=(0,it.ZP)(lt,"LinkProviderStore");var p=n(934951),$=n(482053),k=n(538312),ge=n(362187),We=n(102258),be=n(762535),ct=n(53678),re=n(178819),dt=n(961697);const mt=a=>{let{router:t,onBack:o,isLoading:i,loadProvidersError:r,providers:l,provider:d,domainConnectionStrategy:m,domainConnectionSuccess:u,domainConnectionError:y,connectionErrorMessage:L}=a;const b=(0,e.useMemo)(()=>(0,dt.Z)((m==null?void 0:m.domainName)||""),[m]),I=()=>{const W="linked/",B="/dns-settings",_=Le.includes(d.id)?"":B,Z=be.Z.forDomains()+W+m.domainName+_;G.closeConnectionSuccess(),re.Z.setIsTransferConnectOpen(!1),ct.Z.reset(),t.redirect(Z)},O=()=>{G.dismissLoadingError(),o()},N=()=>{G.closeConnectionError(),o()};return!l&&!r||i?e.createElement($.Z,{mt:4,"data-testid":"domain-connect-loading",justifyContent:"center"},e.createElement(h.Z,null)):r?e.createElement(C.Z.Transition,null,e.createElement(C.Z,{onRequestClose:O},e.createElement(C.Z.Overlay,null),e.createElement(C.Z.Position,{position:"center"},e.createElement(ge.Z,{"data-testid":"domain-connect-loading-error-alert",title:(0,s.t)("Couldn\u2019t load domain details",null,{project:"domain-transfer-redesign"}),message:(0,s.t)("Please try again later. If the problem persists, contact customer support. ",null,{project:"domain-transfer-redesign"}),buttons:[()=>e.createElement(ge.Z.Button,{"data-testid":"domain-connect-loading-error-alert-ok",key:"error-ok",onClick:O},e.createElement(p.T,{project:"domain-transfer-redesign"},"OK"))]})))):e.createElement(e.Fragment,null,e.createElement(k.Z.Subtitle,{color:"gray.400",mb:6},b?e.createElement(p.T,{project:"domain-transfer-redesign"},"Leave this domain with your current provider and point it to Squarespace."):e.createElement(p.T,{project:"domain-transfer-redesign"},"Select your domain provider for a customized setup experience.")),!b&&e.createElement(e.Fragment,null,e.createElement(k.Z.Label,null,e.createElement(p.T,{project:"domain-transfer-redesign"},"Select Provider")),e.createElement(We.Z,{"data-testid":"domain-connect-provider-dropdown",placeholder:(0,s.t)("Provider",null,{project:"domain-transfer-redesign"}),value:d==null?void 0:d.id,onChange:G.setProvider,autoFocus:!0,variant:"floating"},Object.values(l).map(W=>e.createElement(We.Z.Option,{"data-test":`provider-dropdown-option-${W.id}`,key:W.id,value:W.id},W.name)))),e.createElement(C.Z.Transition,null,u&&e.createElement(C.Z,{onRequestClose:I},e.createElement(C.Z.Overlay,null),e.createElement(C.Z.Position,{position:"center"},e.createElement(ge.Z,{"data-testid":"domain-connect-success-alert",title:(0,s.t)("Connection in progress",null,{project:"domain-transfer-redesign"}),message:(0,s.t)("{domainName} is connecting to your site.",{domainName:m.domainName},{project:"domain-transfer-redesign"}),buttons:[()=>e.createElement(ge.Z.Button,{"data-testid":"domain-connect-success-alert-continue",key:"continue",onClick:I},e.createElement(p.T,{project:"domain-transfer-redesign"},"Continue"))]})))),e.createElement(C.Z.Transition,null,y&&e.createElement(C.Z,{onRequestClose:N},e.createElement(C.Z.Overlay,null),e.createElement(C.Z.Position,{position:"center"},e.createElement(ge.Z,{"data-testid":"domain-connect-error-alert",title:(0,s.t)("Couldn\u2019t connect domain",null,{project:"domain-transfer-redesign"}),message:L,buttons:[()=>e.createElement(ge.Z.Button,{"data-testid":"domain-connect-error-alert-ok",key:"ok",onClick:N},e.createElement(p.T,{project:"domain-transfer-redesign"},"Ok"))]})))))},ut=a=>{const{id:t,provider:o,domainConnectionStrategy:i,isDomainConnecting:r,onBack:l,registrarName:d}=a;return e.createElement(g.Z.Step,{id:t,hideProgress:!0,nextStepId:"unreachable-step-to-force-having-next-button",nextButtonProps:{label:(0,s.t)("Connect Domain",null,{project:"domain-transfer-redesign"}),inverted:!0,isDisabled:r,onClick:()=>{!o||!i||G.startDomainConnection({provider:o,domainConnectionStrategy:i,registrarName:d})},"data-test":"initiate-domain-connect-button","data-testid":"initiate-domain-connect-button"},backButtonProps:{isDisabled:r,onClick:l,"data-testid":"domain-connect-cancel"}},e.createElement(g.Z.Step.Content,null,e.createElement(k.Z.Title,null),e.createElement(g.Z.Step.Content.Title,null,e.createElement(p.T,{project:"domain-transfer-redesign"},"Connect Domain")),e.createElement(mt,a)))},Et=(0,V.Z)(ut),gt=f()({getStores(){return[he]},getPropsFromStores(){const{areProvidersLoading:a,isIdentifyingProvider:t,isLoadingStrategyId:o,loadProvidersError:i,...r}=he.getState();return{...r,isLoading:a||t||o,loadProvidersError:i}}},Et);var vt=n(413866),je=n(906046),pt=n(251196),St=n(47362),Ct=n(842876),ke=n(902863),se=n(338465),De=n(967552),ft=n(115350),ve=n(868192),Ne=n(149893),ht=n(621984),Fe=n.n(ht),Ue=n(693737),Dt=n(410140),ne=n.n(Dt);const Nt={validateDomainName(a){return K.default.get(`/api/domain-name-status/${a}`)}};var xe=n(922115),Tt=n(180516);const le={create(a,t,o){return K.default.post("/api/domains/move-request",{targetWebsiteId:t,sourceWebsiteId:a,domainId:o})},preview(a){return K.default.get(`/api/domains/move-request/${a}/preview`)},confirm(a){return K.default.put(`/api/domains/move-request/${a}`,{state:"ACCEPTED"})},cancel(a){return K.default.delete(`/api/domains/move-request/${a}`)},isMoveEligible(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t?K.default.get(`/api/domains/move-request/${a}/domain-move-eligibility/${t}`):K.default.get(`/api/domains/move-request/${a}/domain-move-eligibility`)},setResolvesToWebsiteId(a,t){return K.default.put(`/api/domains/move-request/${a}/resolves-to-website`,{resolvesToWebsiteId:t})}};var yt=n(102504),ce=n.n(yt);const Be={[ce().NOT_MANAGED]:(0,s.t)("This is a third party domain.",null,{project:"domains"}),[ce().NO_PERMISSIONS_ON_SOURCE_WEBSITE]:(0,s.t)("You do not have permissions to manage this domain.",null,{project:"domains"}),[ce().MID_GOOGLE_DOMAINS_MIGRATION]:(0,s.t)("You do not have permissions to manage this domain.",null,{project:"domains"}),[ce().NO_PAYMENT_METHOD_ON_DESTINATION_WEBSITE]:(0,s.t)("This domain can't be connected until a payment method is added to this website.",null,{project:"domains"}),[ce().INVALID_PERMISSIONS]:e.createElement(p.T,{project:"domains",learnmorelink:e.createElement("a",{target:"_blank",href:ve.CONNECTING_A_SQUARESPACE_DOMAIN_TO_A_SQUARESPACE_SITE},e.createElement(p.T,{project:"domains"},"Learn more"))},"You do not have access to manage this domain. Request to be added as a domain manager to this domain. {learnmorelink}"),[ce().EXPIRED]:e.createElement(p.T,{project:"domains",learnmorelink:e.createElement("a",{target:"_blank",href:ve.DOMAIN_EXPIRED},e.createElement(p.T,{project:"domains"},"Learn more"))},"This domain is expired and must be reactivated. {learnmorelink}")},It={[ne().INVALID_SYNTAX]:e.createElement(p.T,{project:"src.shared"},"We don\u2019t recognize that format. Please enter only your domain name and TLD, like example.com."),[ne().INVALID_NAME]:e.createElement(p.T,{learnMore:e.createElement("a",{href:ve.DOMAIN_LIMITATIONS,target:"_blank"},e.createElement(p.T,{project:"src.shared"},"Learn more")),project:"src.shared"},"This domain is invalid because it contains a protected keyword. {learnMore}")},Mt=a=>{let{reason:t}=a;return t&&Be[t]?e.createElement(e.Fragment,null,Be[t]):e.createElement(p.T,{project:"domains"},"This domain is not eligible to be moved to this site.")},Pt=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[t,o]=(0,e.useState)(null),[i,r]=(0,e.useState)(!1),[l,d]=(0,e.useState)(null),[m,u]=(0,e.useState)(null),[y,L]=(0,e.useState)(""),b=(0,e.useCallback)(async O=>{r(!0),u(null),L("");const N=(0,xe.x)(O);try{const{data:{status:j}}=await Nt.validateDomainName(N);if(j===ne().INVALID_SYNTAX||j===ne().INVALID_NAME)throw x.Z.submitDomainError(N,Tt.oI[j]),It[j];if(j===ne().IN_USE){var W,B;const Z=(await le.isMoveEligible(N,(B=(0,Q.getWebsiteContext)())===null||B===void 0||(W=B.website)===null||W===void 0?void 0:W.id)).data;if(Z.isEligibleForMove||Z.isEligibleForConnect)o(Z);else if(Z.ineligibilityReason!==ce().NOT_MANAGED)throw Mt({reason:Z.ineligibilityReason})}await re.Z.getTransferDetails({domainName:N,isPurchasing:!0});const _=v.Z.getErrorMessage(a);if(_)throw _;return d(j),L(N),x.Z.submitValidDomain(N),!0}catch(j){return e.isValidElement(j)?u(j):u((0,s.t)("An error occurred while determining eligibility for this domain. Please try again later.",null,{project:"domains"})),!1}finally{r(!1)}},[a]),I=(0,e.useCallback)(()=>{u(null),d(null),o(null),re.Z.clearDomainInfo()},[]);return{moveKit:t,validate:b,isValidating:i,validationStatus:l,validationErrorMessage:m,dismissValidity:I,sanitizedDomainName:y}};var Te=n(35045),Oe=n(267359),At=n(896136),bt=n(549578),Ot=n(994336),we=n.n(Ot),Zt=n(76964),Rt=n(696049);const _e="domainMoveRequestId",Ve=window.location.hostname.split(".").splice(1).join("."),Lt=(0,Zt.S)(Rt.default.fromJson,"data.basePrice"),Wt=a=>{let{identifier:t,websiteType:o,domain:i}=a,r=`https://${t}.${Ve}/config${be.Z.forDomains(o)}`;return i&&(r+="/"+i),r};function Ze(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Session";we().set(_e,a,{path:"/",domain:Ve,expires:t})}class jt extends M.Z{create(t){let{sourceId:o,target:i,domainId:r,moveStrategy:l}=t;return d=>(d(),le.create(o,i.id,r).then(async m=>{this.createSuccess(l),l==="CONNECT_AND_MOVE"?await this.preview(m.data.id):l==="REDIRECT"?(Ze(m.data.id),this.redirectForConfirmation(i)):l==="IN_SITE"&&(Ze(m.data.id),this.loadRequestFromCookie(),re.Z.setIsTransferConnectOpen(!1))},m=>{throw this.createFailure(m.response),m}))}preview(t){return o=>(o(),le.preview(t).then(Lt).then(i=>{this.previewSuccess(i.data)},i=>{throw this.previewFailure(i.response),i}))}delete(t,o){return i=>(i(),le.cancel(t.requestId).then(r=>{this.deleteSuccess(r.data),o&&window.history.back()},r=>{this.deleteFailure(r.response)}))}redirectForConfirmation(t){window.location=Wt(t)}confirm(t){return o=>(o(),le.confirm(t.requestId).then(()=>{this.confirmSuccess()},i=>{this.confirmFailure(i.response)}))}loadRequestFromCookie(){return t=>{t();const o=we().get(_e);o&&this.preview(o)}}clearCookie(){Ze("",new Date(0))}constructor(){super(),this.generateActions("createSuccess","createFailure","deleteSuccess","deleteFailure","previewSuccess","previewFailure","confirmSuccess","confirmFailure","closeFailureAlert")}}const A=P.Z.createActions(jt),Ke=(0,s.t)("We were unable to move your domain at this time. Please try again later.",null,{project:"domains"}),kt=(0,s.t)("You do not have permission to move this domain, ask the website admin to change your permission level.",null,{project:"domains"}),Ft=new Map().set(401,kt).set(500,Ke),ye=a=>({message:Ft.get(a==null?void 0:a.status)??Ke});class Ut{onIsLoading(){this.setState({isLoading:!0})}onDoneLoading(){this.setState({isLoading:!1})}onCreateSuccess(t){this.setState({isRedirecting:t==="REDIRECT",strategy:t})}onCreateFailure(t){this.setState({isLoading:!1,createMoveError:ye(t)})}onCloseFailureAlert(){this.setState({createMoveError:null,previewMoveError:null,confirmMoveError:null,deleteMoveError:null})}onPreviewSuccess(t){this.setState({moveRequest:t,isLoading:!1})}onPreviewFailure(t){this.setState({isLoading:!1,previewMoveError:ye(t)})}onDeleteSuccess(){this.setState({moveRequest:null,isLoading:!1,isRedirecting:this.state.strategy==="REDIRECT"})}onDeleteFailure(t){this.setState({isLoading:!1,deleteMoveError:ye(t)})}onConfirmSuccess(){this.setState({isLoading:!1,isConfirmed:!0})}onConfirmFailure(t){this.setState({isLoading:!1,confirmMoveError:ye(t)})}constructor(){this.state={moveRequest:null,isLoading:!1,createMoveError:null,previewMoveError:null,confirmMoveError:null,deleteMoveError:null,isRedirecting:!1,isConfirmed:!1,strategy:"REDIRECT"},this.bindListeners({onIsLoading:[A.CREATE,A.PREVIEW,A.CONFIRM],onDoneLoading:[A.PREVIEW_FAILURE,A.DELETE_FAILURE,A.CONFIRM_FAILURE],onCreateSuccess:A.CREATE_SUCCESS,onCreateFailure:A.CREATE_FAILURE,onCloseFailureAlert:A.CLOSE_FAILURE_ALERT,onPreviewSuccess:A.PREVIEW_SUCCESS,onPreviewFailure:A.PREVIEW_FAILURE,onDeleteSuccess:A.DELETE_SUCCESS,onDeleteFailure:A.DELETE_FAILURE,onConfirmSuccess:A.CONFIRM_SUCCESS,onConfirmFailure:A.CONFIRM_FAILURE})}}const pe=P.Z.createStore(Ut,"DomainMoveStore");var xt=n(559409),Bt=n.n(xt),wt=n(31385),_t=n.n(wt),Ie=n(997305),Vt=n(362126),Ge=n(378257),Kt=n(571199),ze=n(619813);const Se=a=>{let{label:t,description:o,isRecommended:i,errorMessage:r,isWarning:l,isLoading:d,noIcons:m,...u}=a;const y=r?De.Z.Element.WithoutFeedback:De.Z.Element.Solid;return e.createElement(y,{mb:4,disabled:r||d,...u},e.createElement(Ge.Z,{p:4},e.createElement(je.Z,{p:0,minHeight:0,label:e.createElement($.Z,{alignItems:"center"},e.createElement($.Z,{flexWrap:"wrap"},e.createElement(k.Z.Body,{m:0,mr:2,fontWeight:500},t),i&&e.createElement(Kt.Z,{"data-testid":"recommended-label",label:(0,s.t)("Recommended",null,{project:"domain-transfer-redesign"}),usage:"badge",status:"info"})),l&&!m&&e.createElement(ze.Z,{"data-testid":"warning-icon",color:"orange.300"}),r&&!m&&e.createElement(ze.Z,{"data-testid":"error-icon",color:"red.300"})),description:e.createElement(se.Z,{pr:2},e.createElement(k.Z.Body,{my:0,color:"gray.300"},r||o)),exteriorAccessory:d?e.createElement(h.Z,{size:0}):m?null:e.createElement(ke.Z,{color:r?"gray.600":"gray.100"})})))};var Ce=n(250463),D=n(583774),$e=function(a){return a.IN_SITE="IN_SITE",a.REDIRECT="REDIRECT",a.CONNECT_AND_MOVE="CONNECT_AND_MOVE",a}({}),ie=n(389535),Me=n(953175),Gt=n(284443),de=n.n(Gt),zt=n(850427),$t=n(296765);const Yt=a=>{let{router:t,website:o,providers:i,domainName:r,validationStatus:l,goToStep:d,transferKit:m,moveKit:u,isBlockedByAsyncCustomer:y,transferRecords:L,getTransferRecordsFailed:b,createMoveError:I,previewMoveError:O,isMoveLoading:N,isNSConnectEligible:W}=a;var B;(0,e.useEffect)(()=>{x.Z.viewOptionSelection(r);const w=Ce.cu[m==null?void 0:m.transferAvailability];w&&x.Z.domainIneligibleForTransfer(r,w),l===ne().IN_USE&&x.Z.domainIneligibleForConnect(r)},[]);const{isDnssecSigned:j}=m,_=l===ne().IN_USE,Z=y?(0,Vt.I)():v.Z.getErrorMessage(),Y=((B=o.siteStatus)===null||B===void 0?void 0:B.value)===Bt().EXPIRED,ae=!b&&!!(L!=null&&L.dnsRecords.length),F=W&&!j&&ae;if(m.transferAvailability===_t().SQUARESPACE_MANAGED&&(u!=null&&u.isEligibleForMove||u!=null&&u.isEligibleForConnect)){const w={parkingPage:(0,s.t)("Connect {domainName}",{domainName:r},{project:"domains"}),otherType:(0,s.t)("Move {domainName}",{domainName:r},{project:"domains"})},me=ee=>ee===de().PARKING_PAGE?w.parkingPage:w.otherType;return e.createElement(e.Fragment,null,e.createElement(se.Z,{"data-testid":"connect-managed-domain-options",mt:4},e.createElement(se.Z,{pr:2},e.createElement(k.Z.Body,{my:2,color:"gray.300",fontSize:2,lineHeight:1,fontWeight:500},e.createElement(p.T,{project:"domains"},"We found your Squarespace managed domain:"))),e.createElement(Se,{"data-test":"connect-managed-domain-pusher",onClick:()=>{if((u==null?void 0:u.websiteType)===de().PARKING_PAGE)ie.Z.initiateSqspConnect({entryPoint:Me.L.USE_A_DOMAIN_I_OWN,domainName:r}),d(D.kh.CONNECT_MANAGED);else{var ee;ie.Z.initiateDomainMove({targetWebsiteStatus:(ee=o.siteStatus)===null||ee===void 0?void 0:ee.value,targetWebsiteType:o.websiteType,entryPoint:Me.L.USE_A_DOMAIN_I_OWN,domainName:r}),A.create({domainId:u.domainId,sourceId:u.sourceWebsiteId,target:o,moveStrategy:$e.CONNECT_AND_MOVE}).then(()=>d(D.kh.CONNECT_MANAGED))}},label:me(u.websiteType),description:""})),e.createElement(Ie.Z,{isOpen:!!(I||O),title:(0,s.t)("Unable to move domain",null,{project:"domains"}),message:(I==null?void 0:I.message)??(O==null?void 0:O.message),dismissText:(0,s.t)("OK",null,{project:"domains"}),onDismiss:()=>A.closeFailureAlert()}))}return u!=null&&u.isEligibleForMove?e.createElement(e.Fragment,null,e.createElement(se.Z,{"data-testid":"transfer-connect-options",mt:4},e.createElement(Se,{"data-test":"move-pusher",isLoading:N,onClick:()=>{var w;ie.Z.clickMoveDomain({entryPoint:Me.L.USE_A_DOMAIN_I_OWN,domainName:r}),ie.Z.initiateDomainMove({targetWebsiteStatus:(w=o.siteStatus)===null||w===void 0?void 0:w.value,targetWebsiteType:o.websiteType,entryPoint:Me.L.USE_A_DOMAIN_I_OWN,domainName:r}),A.create({domainId:u.domainId,sourceId:u.sourceWebsiteId,target:o,moveStrategy:$e.IN_SITE})},label:(0,s.t)("Move Domain",null,{project:"domains"}),description:(0,s.t)("The domain will link to the website, and have the same payment method and permission settings as well.",null,{project:"domains"})})),e.createElement(Ie.Z,{isOpen:!!(I||O),title:(0,s.t)("Unable to move domain",null,{project:"domains"}),message:(I==null?void 0:I.message)??(O==null?void 0:O.message),dismissText:(0,s.t)("OK",null,{project:"domains"}),onDismiss:()=>A.closeFailureAlert()})):e.createElement(se.Z,{"data-testid":"transfer-connect-options",mt:4},l===ne().IN_USE?e.createElement(k.Z.Caption,{fontWeight:"medium",color:"gray.300",display:"inline-block",fontStyle:"normal",marginBottom:2,lineHeight:1},e.createElement(p.T,{project:"domains"},"This domain is already connected to another Squarespace website. Here are the options to connect:")):null,e.createElement(Se,{"data-test":"transfer-pusher",onClick:()=>{(0,Ne.j6)(Fe().DOMAIN,Ne.vl.TRANSFER,{productCheckoutVariant:Ue.Z.IN_APP}),$t.Z.fire(zt.Z.DOMAIN_TRANSFER_PANEL_CHECKOUT_BEGIN),x.Z.selectTransfer(r)},label:(0,s.t)("Transfer Domain",null,{project:"domain-transfer-redesign"}),description:l===ne().IN_USE?(0,s.t)("Manage the domain settings and billing from Squarespace by transferring the domain to this site.",null,{project:"domain-transfer-redesign"}):(0,s.t)("Transfer to Squarespace in just a few easy steps to manage all of your websites and domains in one place.",null,{project:"domain-transfer-redesign"}),errorMessage:Z,isRecommended:!Z}),Y?e.createElement(Se,{"data-test":"billing-pusher",onClick:()=>{re.Z.setIsTransferConnectOpen(!1),t.push(be.Z.forBilling())},label:(0,s.t)("Connect Domain",null,{project:"domain-transfer-redesign"}),description:(0,s.t)("Reactivate your Squarespace site, then connect your domain managed by another provider.",null,{project:"domain-transfer-redesign"}),isWarning:!0}):e.createElement(Se,{"data-test":"connect-pusher",onClick:()=>{i||G.getProviders(),G.identifyProvider(r),G.getStrategyId(r),d(F?D.kh.NAMESERVER_CONNECT_PREFACE:D.kh.CONNECT),x.Z.selectConnect({domainName:r,isTransferable:!Z,isNSConnectProhibited:W&&!F})},label:(0,s.t)("Connect Domain",null,{project:"domain-transfer-redesign"}),description:(0,s.t)("Connect the domain to your Squarespace website, and continue to manage it separately.",null,{project:"domain-transfer-redesign"}),errorMessage:_?e.createElement(p.T,{theseInstructions:e.createElement("a",{href:ve.MOVING_A_THIRDPARTY_DOMAIN_BETWEEN_SQUARESPACE_SITES,target:"_blank"},e.createElement(p.T,{project:"apps.App"},"these instructions")),project:"apps.App"},"To connect this domain to this website, follow {theseInstructions}."):null,isRecommended:!_&&!!Z,...l===ne().IN_USE?{noIcons:!0}:{}}))},Ht=f()({componentDidConnect(){const{customer:a}=Oe.Z.getState();a||At.Z.load.defer()},getStores(){return[Oe.Z,he,Te.default,v.Z,pe]},getPropsFromStores(){const{providers:a}=he.getState(),{customer:t}=Oe.Z.getState(),o=Te.default.getState().toJS(),{transferRecords:i,getTransferRecordsFailed:r,transferKit:l}=v.Z.getState(),{isLoading:d,createMoveError:m,previewMoveError:u}=pe.getState();return{providers:a,website:o,isBlockedByAsyncCustomer:(0,bt.$)(t),transferRecords:i,getTransferRecordsFailed:r,transferKit:l,createMoveError:m,previewMoveError:u,isMoveLoading:d}}},(0,V.Z)(Yt));var Ye=n(922357);const He="/api/rest/domains/ns-connect",Xe={addLinkedDomain:a=>K.default.post(He,a),getNsConnectEligibility(a){return K.default.get(`${He}/${a}/eligibility`)}},Xt=(0,ft.Z)(je.Z,pt.Z),Qt=a=>{let{isConnectEligible:t,transferKit:o,goToStep:i,isLoadingTransferRecords:r}=a;const l=(0,e.useRef)(),[d,m]=(0,e.useState)(""),[u,y]=(0,e.useState)(!1),{validate:L,isValidating:b,validationErrorMessage:I,validationStatus:O,dismissValidity:N,sanitizedDomainName:W,moveKit:B}=Pt(t),j=F=>e.isValidElement(F)?e.createElement(k.Z.Caption,{color:"red",display:"block"},F):(o==null?void 0:o.registrarName)&&(o==null?void 0:o.creationDate)&&e.createElement(k.Z.Caption,{display:"block"},e.createElement(p.T,{project:"domain-transfer-redesign",currentProvider:o==null?void 0:o.registrarName,creationDate:(0,s.p6)(new Date(o==null?void 0:o.creationDate),{date:"medium"})},"Registered with {currentProvider} on {creationDate}")),{isLoading:_,refetch:Z}=(0,Ye.Z)(async()=>{const F=await Xe.getNsConnectEligibility(d);(F==null?void 0:F.status)===200?y(!0):y(!1)},()=>{y(!1)},!1),Y=async F=>{F.preventDefault();const q=await L(d);if(Z(),!t&&q)(0,Ne.j6)(Fe().DOMAIN,Ne.vl.TRANSFER,{productCheckoutVariant:Ue.Z.IN_APP});else{var w;(w=l.current)===null||w===void 0||w.focus()}},ae=()=>{m(""),N()};return e.createElement(g.Z.Step.Content,null,e.createElement(g.Z.Step.Content.Title,null,e.createElement(p.T,{project:"domain-transfer-redesign"},"Use a Domain I Own")),e.createElement(k.Z.Subtitle,{color:"gray.400",mt:1,mb:6},e.createElement(p.T,{project:"domain-transfer-redesign",learnMore:e.createElement("a",{href:ve.TRANSFER_VS_CONNECT_DOMAIN,target:"_blank"},e.createElement(p.T,{project:"domain-transfer-redesign"},"Learn more"))},"Enter the domain name you would like to use with your Squarespace site. {learnMore}")),e.createElement(se.Z,{as:"form",onSubmit:Y},e.createElement(Xt,{"data-testid":"domain-entry-input",variant:"floating",body:e.createElement(St.Z,{ref:l,placeholder:(0,s.t)("Enter domain, e.g. example.com",null,{project:"domain-transfer-redesign"}),value:d,onChange:F=>{m(F),N()},autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,autoFocus:!0,disabled:b}),post:j(I),exteriorAccessory:O&&!r?e.createElement(De.Z.Element.Icon,{type:"button","data-test":"domain-entry-clear-button",onClick:ae},e.createElement(Ct.Z,null)):e.createElement(De.Z.Element.Icon,{"data-test":"domain-entry-input-submit","data-testid":"domain-entry-input-submit",type:"submit",disabled:b||!d},b||r?e.createElement(h.Z,{size:0}):e.createElement(ke.Z,{color:d?"gray.100":"gray.400"}))})),O&&t&&!r&&!_&&e.createElement(Ht,{domainName:W,validationStatus:O,moveKit:B,goToStep:i,isNSConnectEligible:u}))},Jt=a=>{let{id:t,...o}=a;return e.createElement(g.Z.Step,{id:t,hideNavigation:!0,hideProgress:!0,hideNext:!0},i=>{let{goToStep:r}=i;return e.createElement(Qt,{goToStep:r,...o})})},qt=f()({getStores(){return[v.Z,vt.Z]},getPropsFromStores(){const{transferKit:a,isLoading:t,isLoadingTransferRecords:o}=v.Z.getState();return{transferKit:a,isLoading:t,isLoadingTransferRecords:o}}},Jt),fe=a=>{const{domainName:t,transferKit:o,nsConnectWizardEntryPoint:i}=v.Z.getState();(0,e.useEffect)(()=>{x.Z.viewNSConnectStep(t,o==null?void 0:o.registrarName,a,i)},[])},en=a=>{let{id:t,handleNextClick:o}=a;return fe(D.kh.NAMESERVER_CONNECT_FAILURE),e.createElement(g.Z.Step,{id:t,nextStepId:"truthy-value-to-render-next-button",stepNumber:5,hideProgress:!0,hideBack:!0,nextButtonProps:{onClick:o,inverted:!0,label:(0,s.t)("Done",null,{project:"domains"}),icon:null}},e.createElement(g.Z.Step.Content,null,e.createElement(g.Z.Step.Content.Title,null,e.createElement(p.T,{project:"domains"},"Domain couldn't be connected.")),e.createElement(k.Z.Subtitle,{color:"gray.300"},e.createElement(p.T,{project:"domains"},"We were unable to connect your domain. Try again later. If the problem continues, contact Customer Support."))))};var tn=n(224031),nn=n(394954),Pe=n(618826),Qe=n(494540);const on=(0,s.t)("Go to ",null,{project:"domains"}),an=(0,Pe.wS)((0,s.t)("Sign in",null,{project:"domains"})),rn=(0,Pe.wS)((0,s.t)("Next",null,{project:"domains"})),sn=a=>{let{registrarName:t,registrarId:o,domainName:i}=a;if(fe(D.kh.NAMESERVER_CONNECT_SIGNIN),!o)return null;const r=(0,s.t)("Sign in to {registrarName}",{registrarName:t},{project:"domains"}),{login_url:l}=Qe.Ah[o],d=(0,Pe.wS)(e.createElement("a",{href:l,target:"_blank","data-testid":"nameserver-connect-signin-link"},e.createElement(p.T,{project:"domains",registrarName:t},"{registrarName}'s sign in")));return e.createElement(g.Z.Step.Content,null,e.createElement(g.Z.Step.Content.Title,null,r),e.createElement(nn.Z,{of:Pe.sp,pl:3,py:4},e.createElement(se.Z,null,on,d,e.createElement(tn.Z,{sx:{ml:1,verticalAlign:"bottom"},mr:1})),e.createElement(p.T,{project:"domains",signIn:an,domainName:i},"{signIn} to the account associated with {domainName}"),e.createElement(p.T,{project:"domains",next:rn},"When you're signed in, click or tap {next} below")))};var Je=n(516865);const ln=(0,s.t)("Domain Provider",null,{project:"domains"}),cn=a=>{let{registrarName:t=ln,handleClickDnsOption:o,handleClickGetStarted:i,isMobile:r=!1}=a;fe(D.kh.NAMESERVER_CONNECT_PREFACE);const l=(0,s.t)("Let's Connect Your {registrarName} Domain",{registrarName:t},{project:"domains"}),d=e.createElement("a",{target:"_blank",href:ve.NAMESERVER_CONNECT_VS_DNS_CONNECT},e.createElement(p.T,{project:"domains"},"Learn more about connecting your domain"));return e.createElement(g.Z.Step.Content,null,e.createElement(g.Z.Step.Content.Title,null,l),e.createElement($.Z,{flexDirection:"column"},e.createElement(k.Z.Subtitle,{color:"gray.300",pb:10},e.createElement(p.T,{project:"domains",registrarName:t,learnMore:d},"Next, we'll provide you with your personal setup experience to connect your domain to Squarespace using nameservers. All you need are the {registrarName} sign in details for your domain. {learnMore}")),r&&e.createElement($.Z,{flexDirection:"column","data-testid":"nameserver-connect-preface-mobile-buttons"},e.createElement(Je.Z.Primary,{size:"large",onClick:()=>i(),"data-testid":"nameserver-connect-get-started-button"},e.createElement(p.T,{project:"domains",notes:"DNS Squarespace nameserver connect CTA - Get Started"},"Get Started")),e.createElement(Je.Z.Secondary,{size:"large",mt:2,onClick:()=>o(),"data-testid":"nameserver-connect-use-dns-button"},e.createElement(p.T,{project:"domains",notes:"DNS Squarespace nameserver rejection CTA - Use DNS records instead"},"No, use dns records")))))},dn=(0,s.t)(`We're now verifying your domain connection. After the verification, it may take up to 24 hours to finish the connection process.

 We'll send you updates by email about the status.`,null,{project:"domains"}),mn=a=>{let{id:t,handleNextClick:o}=a;return fe(D.kh.NAMESERVER_CONNECT_SUCCESS),e.createElement(g.Z.Step,{id:t,nextStepId:"truthy-value-to-render-next-button",stepNumber:4,hideProgress:!0,hideBack:!0,nextButtonProps:{onClick:o,inverted:!0,label:(0,s.t)("Done",null,{project:"domains"}),icon:null}},e.createElement(g.Z.Step.Content,null,e.createElement(g.Z.Step.Content.Title,null,e.createElement(p.T,{project:"domains"},"Your domain connection is in progress.")),e.createElement(k.Z.Subtitle,{color:"gray.300"},dn)))};var qe=n(436679),un=n(945495);const En=(0,s.t)("Finish",null,{project:"domains"}),et=(0,s.t)("Update Your Nameservers",null,{project:"domains"}),gn=a=>{let{domainName:t,id:o,updateStep:i,transferRecords:r,nsConnectWizardEntryPoint:l,closeWizard:d,registrarId:m}=a;fe(D.kh.NAMESERVER_CONNECT_UPDATE);const{data:u,isLoading:y,isError:L,refetch:b}=(0,Ye.Z)(()=>Xe.addLinkedDomain({domainName:t,providerId:Qe.WX[m],records:r}),void 0,!1);(0,e.useEffect)(()=>{u?i(D.kh.NAMESERVER_CONNECT_SUCCESS):L&&i(D.kh.NAMESERVER_CONNECT_FAILURE)},[u,L]);const I=l!==D.IG.REVIEW_INSTRUCTIONS,N=y?{label:null,icon:e.createElement(h.Z,{color:"light",size:0}),sx:{minWidth:"sizes.450"},inverted:!0,disabled:!0}:{label:En,sx:{minWidth:"sizes.450"},icon:null,inverted:!0,onClick:I?b:()=>{qe.default.getDomainByName(t),d()}};return e.createElement(g.Z.Step,{id:o,nextStepId:D.kh.NAMESERVER_CONNECT_SUCCESS,stepNumber:3,nextButtonProps:N},e.createElement(g.Z.Step.Content,null,e.createElement(g.Z.Step.HeaderTitle,null,et),e.createElement(g.Z.Step.Content.Title,null,et),e.createElement(un.default,{registrarId:m,domainName:t})))},vn=f()({getStores(){return[v.Z]},getPropsFromStores(){const{transferRecords:a,nsConnectWizardEntryPoint:t}=v.Z.getState();return{transferRecords:a,nsConnectWizardEntryPoint:t}}},gn);var pn=n(534616),tt=n(93456),Sn=n(292165),Re=n(352635),Cn=n(793564),fn=n(836180);const hn=a=>{let{domainId:t,websiteId:o,domainName:i}=a;const[r,l]=(0,e.useState)(!1),[d,m]=(0,e.useState)(!1),u=async()=>{try{const b=await le.setResolvesToWebsiteId(t,o);(b.status===200||b.status===204)&&m(!0)}catch{ie.Z.viewError({domainName:i,errorSource:Ce.fr.CONNECT_SQSP_DOMAIN}),l(!0)}};return{confirmResolveSuccess:d,ConfirmErrorModal:()=>e.createElement(Ie.Z,{isOpen:r,onDismiss:()=>{l(!1)},title:(0,s.t)("Error connecting domain",null,{project:"domains"}),message:(0,s.t)("An error occurred while trying to connect your domain.",null,{project:"domains",notes:"error modal for Connecting a domain form UPP"}),dismissText:(0,s.t)("OK",null,{project:"domains",notes:"ok to close error modal"})}),handleConfirmResolvesToWebsite:()=>{t&&o&&u()}}};var J=function(a){return a.RESOLVE="RESOLVE",a.RESOLVE_UPDATE="RESOLVE_UPDATE",a.MOVE_WEBSITE="MOVE_WEBSITE",a}({});const Dn=a=>{let{action:t,domainName:o,websiteTitle:i}=a;switch(t){case J.MOVE_WEBSITE:return(0,s.t)("{domainName} has been successfully connected to {websiteTitle}, and your domain settings updated.",{domainName:o,websiteTitle:i},{project:"domains"});case J.RESOLVE:case J.RESOLVE_UPDATE:return(0,s.t)("{domainName} has been successfully connected to {websiteTitle}",{domainName:o,websiteTitle:i},{project:"domains"})}},Nn=a=>({[J.RESOLVE]:(0,s.t)("Confirming connects the domain to the website. Future domain renewals will be charged to the original payment method used for the domain purchase.",null,{project:"domains"}),[J.RESOLVE_UPDATE]:(0,s.t)("Confirming connects the domain to the website. Future domain renewals will be charged to the original payment method used for the domain purchase.",null,{project:"domains"}),[J.MOVE_WEBSITE]:a?(0,s.t)("Confirming connects the domain to the website. Future domain and Google Workspace subscription renewals will be charged to the payment method used for the website, and the website\u2019s contributors and admin will have access to manage the domain.",null,{project:"domains"}):(0,s.t)("Confirming connects the domain to the website. Future domain renewals will be charged to the payment method used for the website, and the website's contributors and admin will have access to manage the domain.",null,{project:"domains"})}),Tn=a=>{const{resolvesToWebsiteId:t,sourceWebsiteId:o,websiteType:i}=a,r=[de().CLASSIC,de().COMMERCE,de().ENTERPRISE];return i===de().PARKING_PAGE?t===o?J.RESOLVE:J.RESOLVE_UPDATE:r.includes(i)?J.MOVE_WEBSITE:null};var yn=n(76667),In=n(860962),Mn=n(177938);const Pn=window.location.hostname.split(".").splice(1).join("."),An=a=>{let{domainName:t,resolvesToWebsiteTitle:o,resolvesToWebsiteIdentifier:i}=a;const r=()=>e.createElement(Sn.Z,{href:`https://${i}.${Pn}`,fontWeight:600,target:"_blank"},o);return e.createElement($.Z,{sx:{display:"grid",alignItems:"baseline",columnGap:1,gridTemplateColumns:`${Re.space[3]} 1fr`}},e.createElement(Cn.Z,{color:"fg.warning",width:"100%"}),e.createElement(k.Z.Body,{color:"fg.warning",m:0},e.createElement(p.T,{project:"domains",connectedWebsite:e.createElement(r,null),domainName:t},"{domainName} is already connected to {connectedWebsite} confirming will override that existing connection.")))},bn=a=>{let{isOpen:t,error:o,onDismiss:i,domainName:r}=a;return(0,e.useEffect)(()=>{t&&ie.Z.viewError({domainName:r,errorSource:Ce.fr.CONNECT_SQSP_DOMAIN})},[t]),e.createElement(Ie.Z,{isOpen:t,onDismiss:i,title:(0,s.t)("Error connecting domain",null,{project:"domains"}),message:o==null?void 0:o.message,dismissText:(0,s.t)("OK",null,{project:"domains",notes:"ok to close error modal"})})},On=a=>{let{domainName:t,moveKit:o,connectionActionType:i,hasGoogleWorkspace:r}=a;if(!o||!i)return null;const{resolvesToWebsiteIdentifier:l,resolvesToWebsiteTitle:d}=o;return e.createElement(e.Fragment,null,e.createElement(k.Z.Caption,{m:0,sx:{textAlign:"center",width:"100%"}},Nn(r)[i]),(i===J.RESOLVE_UPDATE||i===J.MOVE_WEBSITE)&&e.createElement(An,{domainName:t,resolvesToWebsiteIdentifier:l,resolvesToWebsiteTitle:d}))},Zn=a=>e.createElement($.Z,{sx:{display:"grid",alignItems:"baseline",columnGap:1,gridTemplateColumns:`${Re.space[3]} 1fr`}},e.createElement(fn.Z,{color:"green.300",width:"100%"}),e.createElement(k.Z.Body,{m:0,color:"green.300"},Dn(a))),Rn=a=>{let{domainName:t,siteTitle:o}=a;return e.createElement(Ge.Z,{width:"fit-content",p:4,alignSelf:"center",borderRadius:Re.radii[1]},e.createElement($.Z,{flexDirection:"column",justifyContent:"center",alignItems:"center",gap:4},e.createElement($.Z,{alignItems:"center",gap:2},e.createElement(yn.Z,null),e.createElement(k.Z.Subtitle,{m:0},t)),e.createElement(In.Z,{css:{alignSelf:"center"}}),e.createElement($.Z,{alignItems:"center",gap:2},e.createElement(Mn.Z,null),e.createElement(k.Z.Subtitle,{m:0},o))))},Ln=a=>{let{domainName:t,id:o,website:i,moveRequest:r,confirmMoveError:l,confirmMoveSuccess:d,onSuccess:m,moveActionIsLoading:u,websiteSummaries:y,handleExit:L}=a;var b,I;const{siteTitle:O}=i,[N,W]=(0,e.useState)(null),B=async me=>{const ee=(await le.isMoveEligible(me)).data;(ee.isEligibleForMove||ee.isEligibleForConnect)&&W(ee)};(0,e.useEffect)(()=>{N||B((0,xe.x)(t))},[t,N]);const{handleConfirmResolvesToWebsite:j,confirmResolveSuccess:_,ConfirmErrorModal:Z}=hn({domainName:t,domainId:N==null?void 0:N.domainId,websiteId:i.id||null}),Y=_||d;(0,e.useEffect)(()=>{Y&&m()},[Y]);const ae=(N&&Tn(N))??null,F=()=>{if(r){const me=y.find(ee=>ee.identifier===r.targetWebsiteIdentifier);ie.Z.completeDomainMove({domainName:t,targetWebsite:me,entryPoint:Ce.L_.USE_A_DOMAIN_I_OWN,domain:r.targetDomain}),A.confirm(r)}},q=Y?{label:(0,s.t)("Done",null,{project:"domains",notes:"done button displays after connecting a domain from UPP"}),icon:null,inverted:!0,onClick:()=>{qe.default.load(),L()}}:{label:(0,s.t)("Confirm",null,{project:"domains",notes:"confirm button for connecting a domain from UPP"}),icon:null,isDisabled:u,inverted:!0,onClick:()=>{(N==null?void 0:N.websiteType)===de().PARKING_PAGE?(ie.Z.completeSqspConnect({domainName:t,entryPoint:Ce.L_.USE_A_DOMAIN_I_OWN}),j()):F()}},w=y?(I=y.find(me=>me.id===i.id))===null||I===void 0||(b=I.screenshotInfo)===null||b===void 0?void 0:b.url:null;return e.createElement(e.Fragment,null,e.createElement(bn,{domainName:t,isOpen:!!l,error:l,onDismiss:()=>{A.closeFailureAlert()}}),e.createElement(g.Z.Step,{id:o,hideProgress:!0,nextStepId:"unreachable-step-to-force-having-next-button",nextButtonProps:q,hideBack:Y},e.createElement(g.Z.Step.HeaderTitle,{style:{transform:"none",opacity:1}},e.createElement(p.T,{project:"domains"},"Use a domain I own")),e.createElement(g.Z.Step.Content,null,e.createElement(g.Z.Step.Content.Title,{textAlign:"center"},Y?e.createElement(p.T,{project:"domains"},"Connection complete!"):e.createElement(p.T,{project:"domains",domainName:t,siteTitle:O},"Confirm to connect {domainName} to {siteTitle}")),e.createElement($.Z,{flexDirection:"column",gap:4,mt:4},e.createElement(T.Z,{src:w??"",display:"block",fallback:e.createElement($.Z,{height:"156px",width:"100%",alignItems:"center",justifyContent:"center"},e.createElement(h.Z,null)),error:e.createElement(Rn,{domainName:t,siteTitle:O})}),Y?e.createElement(Zn,{domainName:t,websiteTitle:i.siteTitle,action:ae}):e.createElement(On,{domainName:t,moveKit:N,connectionActionType:ae,hasGoogleWorkspace:r==null?void 0:r.hasGoogleApps})))),e.createElement(Z,null))},Wn=f()({getStores(){return[Te.default,pe,tt.Z]},getPropsFromStores(){const a=Te.default.getState().toJS(),{moveRequest:t,createMoveError:o,confirmMoveError:i,isConfirmed:r,isLoading:l}=pe.getState(),d=tt.Z.getWebsiteSummaries();return{moveActionIsLoading:l,moveRequest:t,createMoveError:o,confirmMoveError:i,confirmMoveSuccess:r,website:a,websiteSummaries:d}}},(0,V.Z)(Ln)),jn=a=>{let{displayConfig:t,children:o}=a;const{platform:i}=(0,e.useContext)(X.Z.Context);if(!t.isSplitscreenWizard)return e.createElement(e.Fragment,null,o);const r=i==="desktop"?t.desktop:t.mobile,{imgSrc:l,styles:d,containerSx:m={}}=r;return e.createElement(g.Z.SplitScreen,null,e.createElement(g.Z.SplitScreen.Panel,null,o),e.createElement(g.Z.SplitScreen.Panel,{backgroundColor:"gray.900",overflow:"hidden",display:"flex",sx:m},e.createElement(T.Z,{src:l,sx:d,fallback:e.createElement(h.Z,{m:"auto",pt:"50%"})})))},kn=e.memo(a=>{let{isConnectEligible:t,transferConnectWizardStepId:o,transferKit:i,domainName:r,moveRequest:l,router:d}=a;var m;const[u,y]=(0,e.useState)(o),[L]=(0,e.useState)(()=>new g.Z.History),{isMobile:b}=(0,pn.Z)(),I=(0,D.Xn)(u,i==null?void 0:i.registrarId),[O,N]=(0,e.useState)(!1),W=(m=(0,Q.useWebsiteContext)())===null||m===void 0?void 0:m.website,B=q=>{y(q)},j=q=>{x.Z.closeTransferConnectModal(r,q),I.getRedirectUrl&&d.redirect(I.getRedirectUrl(r)),re.Z.setIsTransferConnectOpen(!1)},_=()=>{l&&A.delete(l),A.closeFailureAlert(),j(D.kh.CONNECT_MANAGED)},Z=()=>{let q=u;if(u===D.kh.ENTRY&&r.length)q="domain-option-selection";else if(u===D.kh.CONNECT_MANAGED&&!O){_();return}j(q)},Y={onClick:Z},ae=()=>{x.Z.clickCTA({objectId:"use-dns-records",objectType:"button",domainName:r,customData:{registrar_name:i==null?void 0:i.registrarName}}),y(D.kh.CONNECT)},F=()=>b?{hideBack:!0,hideNext:!0}:{nextButtonProps:{label:(0,s.t)("Get Started",null,{project:"domains"}),inverted:!0,htmlAttributes:{"data-testid":"nameserver-connect-get-started-button"}},backButtonProps:{label:(0,s.t)("no, use dns records",null,{project:"domains"}),icon:null,htmlAttributes:{"data-testid":"nameserver-connect-use-dns-button"},onClick:()=>ae()}};return e.createElement(C.Z,{onRequestClose:Z,lockFocusOptions:{autoFocus:!1,disabled:!1}},e.createElement(C.Z.Overlay,null),e.createElement(C.Z.Position,{position:"center"},e.createElement(C.Z.Dialog.ResponsiveProvider,null,e.createElement(C.Z.Dialog,null,e.createElement(jn,{displayConfig:I},e.createElement(g.Z,{currentStepId:u,onRequestStep:B,history:L,closeButtonProps:Y,stepCount:3},e.createElement(qt,{id:D.kh.ENTRY,isConnectEligible:t}),e.createElement(gt,{id:D.kh.CONNECT,registrarName:i==null?void 0:i.registrarName,onBack:()=>{re.Z.clearDomainInfo(),y(D.kh.ENTRY)}}),e.createElement(Wn,{domainName:r,id:D.kh.CONNECT_MANAGED,website:W,onSuccess:()=>N(!0),handleExit:_}),e.createElement(g.Z.Step,{id:D.kh.NAMESERVER_CONNECT_PREFACE,nextStepId:D.kh.NAMESERVER_CONNECT_SIGNIN,stepNumber:1,...F()},e.createElement(cn,{registrarName:i==null?void 0:i.registrarName,handleClickDnsOption:ae,handleClickGetStarted:()=>y(D.kh.NAMESERVER_CONNECT_SIGNIN),isMobile:b})),e.createElement(g.Z.Step,{id:D.kh.NAMESERVER_CONNECT_SIGNIN,stepNumber:2,nextStepId:D.kh.NAMESERVER_CONNECT_UPDATE,nextButtonProps:{inverted:!0}},e.createElement(sn,{registrarName:i==null?void 0:i.registrarName,registrarId:i==null?void 0:i.registrarId,domainName:r})),e.createElement(vn,{id:D.kh.NAMESERVER_CONNECT_UPDATE,domainName:r,closeWizard:Z,updateStep:B,registrarId:i==null?void 0:i.registrarId}),e.createElement(mn,{id:D.kh.NAMESERVER_CONNECT_SUCCESS,handleNextClick:Z}),e.createElement(en,{id:D.kh.NAMESERVER_CONNECT_FAILURE,handleNextClick:Z})))))))}),Fn=(0,V.Z)(a=>{let{isTransferConnectOpen:t,...o}=a;return e.createElement(C.Z.Transition,null,t&&e.createElement(kn,o))});var Un=n(774579);const xn=f()({componentDidConnect(){Un.Z.load()},getStores(){return[v.Z,pe]},getPropsFromStores(){const{transferKit:a,domainName:t,transferConnectWizardStepId:o,nsConnectWizardEntryPoint:i}=v.Z.getState(),{moveRequest:r}=pe.getState();return{transferKit:a,domainName:t,transferConnectWizardStepId:o,nsConnectWizardEntryPoint:i,moveRequest:r}}},Fn)},945495:function(H,R,n){"use strict";n.r(R),n.d(R,{default:()=>h});var S=n(174161),f=n(472225),v=n.n(f),e=n(766400);const h=C=>{let{registrarId:g,domainName:X}=C;const V={[v().GODADDY]:"./GoDaddyInstructions",[v().NETWORK_SOLUTIONS]:"./NetworkSolutionsInstructions",[v().NAMECHEAP]:"./NamecheapInstructions"};if(!g||!Object.keys(V).includes(g))return null;const Q=S.lazy(()=>n(261377)(`${V[g]}`));return S.createElement(S.Suspense,{fallback:S.createElement(e.Z,null)},S.createElement(Q,{domainName:X}))}},870833:function(H,R,n){"use strict";n.d(R,{Z:()=>X});var S=n(174161),f=n(516865),v=n(906046),e=n(47362),T=n(714487);const h=(0,T.t)("COPY",null,{project:"domains"}),C=(0,T.t)("COPIED",null,{project:"domains"}),X=V=>{let{value:Q}=V;const[s,z]=(0,S.useState)(h),ue=()=>{s!==C&&(navigator.clipboard.writeText(Q),z(C),setTimeout(()=>{z(h)},3e3))};return S.createElement(v.Z,{mt:2,px:2,py:1,backgroundColor:"gray.900",body:S.createElement(e.Z,{value:Q}),interiorAccessory:S.createElement(f.Z.Tertiary,{onClick:ue},s)})}},570205:function(H,R,n){"use strict";n.d(R,{Z:()=>C});var S=n(934951),f=n(870833),v=n(338465),e=n(174161),T=n(494540);const C=()=>e.createElement(v.Z,null,e.createElement(S.T,{project:"domains"},"Copy and paste the two nameserver records below into the nameserver fields. If you already have custom nameservers, replace them with the Squarespace ones."),T.YK.map((g,X)=>e.createElement(f.Z,{value:g,key:X})))},618826:function(H,R,n){"use strict";n.d(R,{sp:()=>e,wS:()=>v});var S=n(174161),f=n(538312);const v=C=>S.createElement(f.Z.Body,{display:"inline",fontWeight:"bold"},C),e=C=>{let{children:g}=C;return S.createElement(f.Z.Body,{as:"li",pb:3,sx:{listStyle:"decimal",overflowWrap:"anywhere"}},g)};var T=n(870833),h=n(570205)},389535:function(H,R,n){"use strict";n.d(R,{Z:()=>Ae,b:()=>ue});var S=n(931229),f=n.n(S),v=n(413344),e=n(527593),T=n(633910),h=n(250463),C=n(834105),g=n(283635),X=n(211489),V=n(225840);function Q(U,c,E){return c in U?Object.defineProperty(U,c,{value:E,enumerable:!0,configurable:!0,writable:!0}):U[c]=E,U}const s=U=>{const{name:c,isPurchasedFree:E,managedDomainExpiration:P,registeredOn:M,type:te,resellerId:oe,resellerName:K}=U,x=te===f().SQUARESPACE,Ee={seller_id:oe,seller_name:K};return{product_page:x?h.ax.MANAGED_DOMAIN:h.ax.RESOLD_DOMAIN,domain_name:c,top_level_domain_name:(0,v.Z)(c),is_purchased_free:E,domain_expiration_date:P,registration_date:M,...te===f().RESOLD&&Ee}},z=U=>({domain_name:U,top_level_domain_name:(0,v.Z)(U)});class ue extends g.Z{trackManagementEvent(c){var E;return super.track({...c,product_area:h.V$.INAPP,website_status:(0,e.Z)(this.siteStatus),website_type:(0,T.Z)(this.websiteType),is_on_upp:(E=(0,V.getWebsiteContext)())===null||E===void 0?void 0:E.isUnifiedParkingPage})}viewRootPanel(){this.trackManagementEvent({event_name:"DomainManagement_ViewRootPanel",action:"view",object_type:"panel",object_identifier:"domains-root-panel"})}clickGetDomain(c,E){this.trackManagementEvent({event_name:"DomainManagement_ClickGetADomain",action:"click",product_page:E,object_type:"button",object_identifier:"get-a-domain-button",currency_code:c})}clickUseDomain(){this.trackManagementEvent({event_name:"DomainManagement_ClickUseADomain",action:"click",object_type:"button",object_identifier:"use-a-domain-i-own-button"})}clickGotoDomainList(c){this.trackManagementEvent({event_name:"DomainManagement_ClickGotoDomainList",action:"click",object_type:"button",object_identifier:"go-to-domain-list-button",page_path:c})}clickDomainName(c){this.trackManagementEvent({event_name:"DomainManagement_ClickDomainName",action:"click",object_type:"text",object_identifier:"domain-panel-header",...s(c)})}updateBuiltInDomain(c){this.trackManagementEvent({event_name:"DomainManagement_ChangeBuiltInDomain",action:"click",object_type:"button",object_identifier:"rename-button",update_value:c})}changePrimaryDomain(c){this.trackManagementEvent({event_name:"DomainManagement_ChangePrimaryDomain",action:"click",object_type:"button",object_identifier:"make-primary-domain-button",...s(c)})}clickManageEmail(c){this.trackManagementEvent({event_name:"DomainManagement_ClickManageEmail",action:"click",object_type:"pusher",object_identifier:"manage-email-pusher",...s(c)})}clickAddEmail(c){this.trackManagementEvent({event_name:"DomainManagement_ClickAddEmail",action:"click",object_type:"button",object_identifier:"add-email-button",...s(c)})}clickCancelDomain(c){this.trackManagementEvent({event_name:"DomainManagement_ClickCancelDomain",action:"click",object_type:"button",object_identifier:"cancel-domain-button",...s(c)})}confirmCancelDomain(c){this.trackManagementEvent({event_name:"DomainManagement_ConfirmCancelDomain",action:"click",object_type:"button",object_identifier:"confirm-domain-cancel-button",...s(c)})}clickMoveDomain(c){let{domain:E,entryPoint:P,domainName:M}=c;this.trackManagementEvent({event_name:"DomainManagement_ClickMoveDomain",action:"click",object_type:"item",...M&&z(M),...E&&s(E),entry_point:P})}initiateDomainMove(c){let{domain:E,targetWebsiteStatus:P,targetWebsiteType:M,entryPoint:te,domainName:oe}=c;this.trackManagementEvent({event_name:"DomainManagement_InitiateDomainMove",action:"click",object_type:"item",...oe&&z(oe),...E&&s(E),target_website_status:P?(0,e.Z)(P):"",target_website_type:M?(0,T.Z)(M):"",entry_point:te})}completeDomainMove(c){let{targetWebsite:E,entryPoint:P,domain:M,domainName:te}=c;this.trackManagementEvent({event_name:"DomainManagement_CompleteDomainMove",action:"click",object_type:"item",object_identifier:"confirm-move",target_website_status:E&&(0,e.Z)(E.siteStatus),target_website_type:E&&(0,T.Z)(E.websiteType),entry_point:P,...te&&z(te),...M&&s(M)})}initiateSqspConnect(c){let{domain:E,entryPoint:P,domainName:M}=c;this.trackManagementEvent({event_name:"DomainManagement_InitiateSqspDomainConnect",action:"click",object_type:"item",...M&&z(M),...E&&s(E),entry_point:P})}selectSqspConnectDestinationWebsite(c){let{domain:E,targetWebsite:P}=c;this.trackManagementEvent({event_name:"DomainManagement_SelectSqspDomainConnectDestinationWebsite",action:"click",object_type:"item",...s(E),target_website_status:(0,e.Z)(P.siteStatus),target_website_type:(0,T.Z)(P.websiteType),entry_point:h.L_.DOMAIN_DETAILS})}completeSqspConnect(c){let{domain:E,entryPoint:P,domainName:M}=c;this.trackManagementEvent({event_name:"DomainManagement_CompleteSqspDomainConnect",action:"click",object_type:"item",...M&&z(M),...E&&s(E),entry_point:P})}viewError(c){let{domain:E,errorSource:P,domainName:M}=c;this.trackManagementEvent({event_name:"DomainManagement_ViewError",action:"view",object_type:"modal",object_identifier:P,...M&&z(M),...E&&s(E)})}viewLinkedDomainPanel(c){const{domainDiscountStatus:E}=X.Z.getState();this.trackManagementEvent({event_name:"DomainManagement_ViewLinkedDomainPanel",action:"view",object_type:"panel",object_identifier:"linked-domain-panel",domain_name:c,top_level_domain_name:(0,v.Z)(c),has_free_domain_promo:E==null?void 0:E.isAvailable})}clickCreateAWebsite(){this.trackManagementEvent({event_name:"DomainManagement_ClickCreateAWebsite",action:"click",object_type:"button"})}clickCreateWebsiteStartTrial(){this.trackManagementEvent({event_name:"DomainManagement_ClickWebsiteStartTrial",action:"click",object_type:"button"})}confirmGWSBillingMoveToSQSP(){this.trackManagementEvent({event_name:"DomainManagement_ConfirmGWSBillingMoveToSQSP",action:"click",object_type:"button"})}clickLinkedDomainPanelTool(c,E){this.trackManagementEvent({event_name:"DomainManagement_ClickLinkedDomainPanelTool",action:"click",object_type:"button",...c.name&&z(c.name),...c&&s(c),object_identifier:E})}constructor(){super("DomainManagement",{event_owner_team:"domains",event_source:"web",actor:"user"}),Q(this,"siteStatus",void 0),Q(this,"websiteType",void 0);const c=C.Z.getState();this.siteStatus=c.siteStatus,this.websiteType=c.websiteType,C.Z.listen(E=>{let{siteStatus:P,websiteType:M}=E;this.siteStatus=P,this.websiteType=M})}}const Ae=new ue},681275:function(H,R,n){"use strict";n.d(R,{Z:()=>T});var S=n(456903);const f="/api/domain-connection",v="/api/domain-providers",T={getProviders(){return S.default.get(v)},identifyProvider(h){return S.default.get(`${v}/identify?q=${h}`)},getStrategyId(h){return S.default.get(`${f}/${h}/strategy-id`)},getStrategy(h){return S.default.get(`${f}/${h}`)}}},961697:function(H,R,n){"use strict";n.d(R,{Z:()=>e});const S=new RegExp(/\./,"g"),f=[".co.uk",".com.au",".org.uk"],e=T=>{const C=(T.match(S)||"").length,g=T.lastIndexOf("."),X=T.lastIndexOf(".",g-1),V=T.substring(X);return f.includes(V)?C>=3:C>=2}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/4370830e349bfd66/97690-3ca6ef407bf71aae-min.en-US.js.map