(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["74522"],{972639:function(C){"use strict";C.exports={}},959131:function(C){"use strict";C.exports={option:"NKg58SZadTARCHcB","--align-left":"r8BggYsZ6LIIaLli","--align-center":"ZfiEQGegUi8FjjE_","--align-right":"GuL6xg7eheMiTrJU","--align-stretch":"wYn0oR9NmwNLz_X0"}},399432:function(C){"use strict";C.exports={disclaimer:"WRZMakB3yIQgIUvC","--align-left":"ST6XNmHrATMHODHG","--align-center":"GLV54F971kAzBX4_","--align-right":"ZP2YntogIh0CU5ub"}},40208:function(C){"use strict";C.exports={"total-cost-line-items":"jjnvBmCL_ocAPzw6",total:"ZW42lDnroPsGMk8d","align-right":"BGBO5_6y1KYeayv6"}},714460:function(C,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t;(function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary"})(t||(t={}));var b=c.default=t;C.exports=c.default},941450:function(C,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var t;(function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"})(t||(t={}));var b=c.default=t;C.exports=c.default},348433:function(C,c,t){"use strict";t.d(c,{Z:()=>ie});var b=t(392338),e=t.n(b),E=t(642979),p=t.n(E),U=t(737968),s=t.n(U),l=t(160553),W=t.n(l),O=t(174161),T=t(3384),K=t(512716),z=t(690406),w=t(669564),ee=["sx"];function Q(S,M){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(S);M&&(F=F.filter(function(de){return Object.getOwnPropertyDescriptor(S,de).enumerable})),D.push.apply(D,F)}return D}function $(S){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?Q(Object(D),!0).forEach(function(F){p()(S,F,D[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):Q(Object(D)).forEach(function(F){Object.defineProperty(S,F,Object.getOwnPropertyDescriptor(D,F))})}return S}var le=S=>O.createElement("svg",W()({color:S.color,fill:"currentColor",height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg"},S),O.createElement("path",{clipRule:"evenodd",d:"M5.5 1v1.5h5.25V1h1.5v1.5H14V14H2V2.5h2V1h1.5zm-2 3h9v1.5h-9V4zm9 3v5.5h-9V7h9z",fillRule:"evenodd"})),oe=(0,T.Z)(le,{shouldForwardProp:K.ZP})((0,z.Z)(w.$_,w.sx,w.iv)),ue=S=>{var M=S.sx,D=M===void 0?{}:M,F=s()(S,ee);return O.createElement(oe,$($({color:"gray.100"},F),{},{sx:$({"@media (forced-colors: active)":{color:"inherit"}},D)}))};const ie=ue},207254:function(C,c,t){"use strict";t.d(c,{Z:()=>ie});var b=t(392338),e=t.n(b),E=t(642979),p=t.n(E),U=t(737968),s=t.n(U),l=t(160553),W=t.n(l),O=t(174161),T=t(3384),K=t(512716),z=t(690406),w=t(669564),ee=["sx"];function Q(S,M){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(S);M&&(F=F.filter(function(de){return Object.getOwnPropertyDescriptor(S,de).enumerable})),D.push.apply(D,F)}return D}function $(S){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?Q(Object(D),!0).forEach(function(F){p()(S,F,D[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):Q(Object(D)).forEach(function(F){Object.defineProperty(S,F,Object.getOwnPropertyDescriptor(D,F))})}return S}var le=S=>O.createElement("svg",W()({color:S.color,fill:"currentColor",height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg"},S),O.createElement("path",{d:"M7.25 8.313l2.553 2.553 1.06-1.06L8.75 7.692v-3.19h-1.5v3.811z"}),O.createElement("path",{clipRule:"evenodd",d:"M15 8A7 7 0 111 8a7 7 0 0114 0zm-1.5 0a5.5 5.5 0 11-11 0 5.5 5.5 0 0111 0z",fillRule:"evenodd"})),oe=(0,T.Z)(le,{shouldForwardProp:K.ZP})((0,z.Z)(w.$_,w.sx,w.iv)),ue=S=>{var M=S.sx,D=M===void 0?{}:M,F=s()(S,ee);return O.createElement(oe,$($({color:"gray.100"},F),{},{sx:$({"@media (forced-colors: active)":{color:"inherit"}},D)}))};const ie=ue},845076:function(C){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var c={}.hasOwnProperty;function t(){for(var b=[],e=0;e<arguments.length;e++){var E=arguments[e];if(E){var p=typeof E;if(p==="string"||p==="number")b.push(E);else if(Array.isArray(E)){if(E.length){var U=t.apply(null,E);U&&b.push(U)}}else if(p==="object")if(E.toString===Object.prototype.toString)for(var s in E)c.call(E,s)&&E[s]&&b.push(s);else b.push(E.toString())}}return b.join(" ")}C.exports?(t.default=t,C.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()},31854:function(C,c,t){"use strict";t.d(c,{Z:()=>E});let b;const e=new Uint8Array(16);function E(){if(!b&&(b=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!b))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(e)}},165838:function(C,c,t){"use strict";t.d(c,{S:()=>E,Z:()=>U});var b=t(593704);const e=[];for(let s=0;s<256;++s)e.push((s+256).toString(16).slice(1));function E(s,l=0){return e[s[l+0]]+e[s[l+1]]+e[s[l+2]]+e[s[l+3]]+"-"+e[s[l+4]]+e[s[l+5]]+"-"+e[s[l+6]]+e[s[l+7]]+"-"+e[s[l+8]]+e[s[l+9]]+"-"+e[s[l+10]]+e[s[l+11]]+e[s[l+12]]+e[s[l+13]]+e[s[l+14]]+e[s[l+15]]}function p(s,l=0){const W=E(s,l);if(!(0,b.Z)(W))throw TypeError("Stringified UUID is invalid");return W}const U=p},305170:function(C,c,t){"use strict";t.d(c,{Z:()=>s});const e={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var E=t(31854),p=t(165838);function U(l,W,O){if(e.randomUUID&&!W&&!l)return e.randomUUID();l=l||{};const T=l.random||(l.rng||E.Z)();if(T[6]=T[6]&15|64,T[8]=T[8]&63|128,W){O=O||0;for(let K=0;K<16;++K)W[O+K]=T[K];return W}return(0,p.S)(T)}const s=U},593704:function(C,c,t){"use strict";t.d(c,{Z:()=>E});const b=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function e(p){return typeof p=="string"&&b.test(p)}const E=e},328690:function(C,c,t){"use strict";t.d(c,{Z:()=>s});var b=t(174161),e=t(961369),E=t(714487),p=t(308607);const s=l=>{let{translationLocale:W,formattingLocale:O,children:T}=l;return b.createElement(e.Z.Provider,{value:{translationLocale:W,formattingLocale:O,cldrLoader:p.Z,...E.Td}},T)}},538117:function(C,c,t){"use strict";t.d(c,{Jl:()=>U,Oj:()=>s,dU:()=>W,ge:()=>E,ni:()=>p,r8:()=>l});var b=t(787592),e=t(998124);const E=e.getDomain,p=e.isInternal,U=e.isStage,s=e.isQA,l=e.isDev,W=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var T,K;const z=O==null||(K=O.Static)===null||K===void 0||(T=K.SQUARESPACE_CONTEXT)===null||T===void 0?void 0:T.env;return z||(0,b.$e)(w=>{w.setTag("critical-issue","true"),w.setTag("user_facing","true"),(0,b.Tb)(new Error("Environment is not defined"))}),z}},155450:function(C,c,t){"use strict";t.r(c),t.d(c,{renderDonationForm:()=>Se,renderDonationFormForWebsiteComponent:()=>lt});var b=t(116984),e=t(174161),E=t(233284),p=t(160553),U=t.n(p),s=t(845076),l=t.n(s),W=t(745480);const O=(n,r)=>{var o;const u=10000.1111,i=Intl.NumberFormat(r,{style:"currency",currency:n}).formatToParts(u).reduce((g,d)=>(g[d.type]=d.value,g),{}),m=i.group?`\\${i.group}`:"",A=i.decimal?`\\${i.decimal}`:"";return{symbols:{currency:i.currency,group:i.group,decimal:i.decimal},numFractionDigits:((o=i.fraction)===null||o===void 0?void 0:o.length)??0,nonCurrencyCharRegex:new RegExp(`[^\\d${m}${A}]`,"g"),nonParsableCharRegex:new RegExp(`[^\\d${A}]`,"g")}},T=function(n,r,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const i=new Intl.NumberFormat(o,{style:"currency",currency:r}),{numFractionDigits:m,nonCurrencyCharRegex:A}=O(r,o),g=n/Math.pow(10,m),d=i.format(g);return u?d:d.replace(A,"")},K=(n,r,o,u)=>{const{symbols:i,numFractionDigits:m,nonCurrencyCharRegex:A,nonParsableCharRegex:g}=O(r,o);if(A.test(n))throw new Error(u);const d=n.replace(g,"");if(d==="")return 0;const y=i.decimal?d.split(i.decimal):[d],I=y.length>1&&m>0?`${y[0]}.${y[1]}`:y[0];return Math.round(parseFloat(I)*Math.pow(10,m))},z=(n,r)=>Math.round(n*(r/100)),w=1e8,ee=(n,r,o,u)=>{if(n>w){const i=T(w,r,o);throw new Error(`${u} ${i}`)}},Q=(n,r,o,u,i)=>{if(n<o){const m=T(o,r,u);throw new Error(`${i} ${m}`)}};var $=t(82510),le=t(959131),oe=t.n(le);const ue=n=>{let{id:r,contributions:o,customAmountLabel:u,donationAmountAlignment:i,isCustomAmountEnabled:m,formLocalizedStrings:A,onChange:g}=n;const d=l()(oe().option,oe()[`--align-${i}`]),y=o.map(_=>{let{amount:Y,label:V,formattedAmount:X}=_;return{label:e.createElement(e.Fragment,null,X," ",V&&e.createElement(e.Fragment,null,e.createElement("br",null),V)),value:String(Y),description:V}});m&&y.push({label:u,value:ie,description:""});const[I,j]=(0,e.useState)(y[0].value);return e.createElement(e.Fragment,null,e.createElement($.Z,{id:`suggested-contributions-amount-${r}`,settings:{options:y},onChange:_=>{j(String(_)),g(_)},value:I,errorMessage:void 0,localizedStrings:A,className:d}))},ie="Custom Amount",S=n=>{let{id:r,contributions:o,currencyCode:u,currencySymbol:i,locale:m,customAmountLabel:A,donationAmountAlignment:g,donationLocalizedStrings:d,isCustomAmountEnabled:y,updateSubmissionAmounts:I,setHasFieldError:j,minimumOrderSubtotalEnabled:_,minimumOrderSubtotalSubunits:Y,minimumOrderSubtotalCurrency:V,formLocalizedStrings:X}=n;const[x,k]=(0,e.useState)(""),[H,R]=(0,e.useState)(o.length===0),[te,v]=(0,e.useState)(void 0),f=a=>K(a,u,m,d.invalidDonationAmountError),h=a=>{let L=0;const P=()=>{if(L=f(a),ee(L,u,m,d.maximumAmountError),L<=0)throw new Error(d.invalidDonationAmountError);_&&V&&Y&&Q(L,V,Y,m,d.minimumAmountError)};try{P();const Z=String(T(L,u,m,!1));k(Z),I(L),v(void 0),j(!1)}catch(Z){Z instanceof Error?(v(Z.message),j(!0)):console.error("Unknown error:",Z)}};return e.createElement(e.Fragment,null,o.length!==0&&e.createElement(ue,{id:r,contributions:o,donationAmountAlignment:g,isCustomAmountEnabled:y,customAmountLabel:A,formLocalizedStrings:X,onChange:a=>{v(void 0),j(!1);const L=String(a)===ie;R(L),I(L?f(x):a)}}),H&&e.createElement(W.Z,{id:`custom-amount-${r}`,narrow:!1,placeholder:d.customAmountLabel,value:x,settings:{title:d.customAmountDescription,currencySymbol:i,required:!0},onChange:a=>{k(a||"");try{const L=f(a||"");I(L),j(!1)}catch{j(!0)}},onBlur:a=>{const L=a.target;h(String(L.value))},errorMessage:te,localizedStrings:X}))};var M=t(910269);const D="coverTheFees",F=n=>{let{id:r,settings:o,formLocalizedStrings:u,onChange:i}=n;const{isEnabled:m,description:A}=o,[g,d]=(0,e.useState)([D]);if(!m)return null;const y=[{label:A,value:D}];return e.createElement(M.Z,{id:r,localizedStrings:u,value:g,settings:{options:y},errorMessage:void 0,onChange:I=>{d(I),i(I.length>0)}})};var de=t(399432),Ee=t.n(de);const he=n=>{let{text:r,disclaimerAlignment:o}=n;if(!r)return null;const u=l()(Ee().disclaimer,Ee()[`--align-${o}`]);return e.createElement("div",{className:u},e.createElement("p",null,r))};var me=t(258059);const Oe=n=>{let{funds:r,id:o,label:u,value:i,formLocalizedStrings:m,onChange:A}=n;if(r.length===1)return null;const g=r.map(d=>({label:d.name,value:d.id}));return e.createElement(me.Z,{errorMessage:void 0,id:o,localizedStrings:m,value:i,settings:{options:g,title:u},onChange:A})};var J=function(n){return n.ONE_TIME="ONE_TIME",n.MONTHLY="MONTHLY",n.WEEKLY="WEEKLY",n.QUARTERLY="QUARTERLY",n.ANNUALLY="ANNUALLY",n}({});const ye={frequency:J.ONE_TIME},De=(n,r)=>{switch(n){case J.MONTHLY:return r.monthlyDonationLabel;case J.WEEKLY:return r.weeklyDonationLabel;case J.QUARTERLY:return r.quarterlyDonationLabel;case J.ANNUALLY:return r.annualDonationLabel;default:return r.oneTimeDonationLabel}},Pe=n=>{let{id:r,value:o,recurringDonationOptions:u,donationLocalizedStrings:i,formLocalizedStrings:m,onChange:A}=n;if(!u.length)return null;const g=[ye,...u].map(d=>{let{frequency:y}=d;return{label:De(y,i),value:y}});return e.createElement(me.Z,{id:r,ariaLabel:i.donationFrequencyDropdownAriaLabel,localizedStrings:m,value:o,settings:{options:g},errorMessage:void 0,onChange:A})};var Ce=t(20061),Fe=t(40208),ce=t.n(Fe);const Le=(n,r)=>{switch(n){case J.MONTHLY:return r.totalAmountMonthlyLabel;case J.WEEKLY:return r.totalAmountWeeklyLabel;case J.QUARTERLY:return r.totalAmountQuarterlyLabel;case J.ANNUALLY:return r.totalAmountAnnualLabel;default:return r.totalAmountOneTimeLabel}},pe=n=>{let{id:r,showCoverFees:o,totalCost:u,feeAmount:i,currencyCode:m,locale:A,recurringCadence:g,donationLocalizedStrings:d,settings:y}=n;const I=Le(g,d),j=T(i,m,A,!0),_=T(u+i,m,A,!0);return e.createElement(Ce.J,{id:r},e.createElement("div",{className:ce()["total-cost-line-items"]},o&&e.createElement(e.Fragment,null,e.createElement("label",null,y.ctfPercentMessage),e.createElement("span",{className:ce()["align-right"]}," ",j)),e.createElement("label",{className:ce().total}," ",I," "),e.createElement("span",{className:`${ce().total} ${ce()["align-right"]}`},_)))};var ut=t(392338),ve=t(952997),Te=t(556973),Me=t(807e3),Ie=t(246131),Re=t(798394),Ue=t(991844),_e=t(59392),Be=t(278744),We=t(106212),je=t(483911),Ne=t(469032),Ze=t(228823),Ke=t(888894),Ve=t(338182),xe=t(453677),we=t(609252),ze=t(336360),$e=t(799165),dt=t(798321);const Ye=n=>{let{formFields:r,fieldValues:o,nameOrder:u,localizedStrings:i,mediaPlatformLibraryId:m="",mediaPlatformBaseUrl:A="",uploadAuthorization:g,submitError:d,setFieldValues:y,setIsSubmitDisabled:I}=n;const{countries:j,initialPhoneFormat:_,initialAddressFormat:Y}=(0,e.useContext)(ve.Z),[V,X]=(0,e.useState)({fieldErrors:{}}),x=v=>{var f;return(f=o[v])===null||f===void 0?void 0:f.value},k=v=>{var f,h;return(d==null||(f=d.fieldErrors)===null||f===void 0?void 0:f[v])||(V==null||(h=V.fieldErrors)===null||h===void 0?void 0:h[v])||{fieldError:void 0,subfieldErrors:{}}},H=(v,f,h)=>{y({...o,[v]:{value:f,type:h}})},R=v=>{const{type:f,id:h}=v,a=Z=>{H(h,Z,f)},L=(Z,N,G)=>{X(q=>({fieldErrors:{...q.fieldErrors,[Z]:{fieldError:N,subfieldErrors:G}}}))};function P(Z){var N;const G=k(h);let q;Z?q={required:i==null?void 0:i.required,...i[Z]}:q=i;const ne={...v,options:(N=v.options)===null||N===void 0?void 0:N.map(ae=>({label:ae,value:ae}))};return{errorMessage:G.fieldError,subfieldErrors:G.subfieldErrors,key:h,id:h,settings:ne,localizedStrings:q,value:x(h),onChange:a,mediaPlatformLibraryId:m,mediaPlatformBaseUrl:A,uploadAuthorization:g,setIsSubmitDisabled:ae=>I(ae),updateFieldError:L}}switch(f){case"address":return e.createElement(Te.Z,U()({},P("address"),{value:x(v.id)||{country:Y==null?void 0:Y.country}}));case"checkbox":return e.createElement(M.Z,P());case"currency":return e.createElement(W.Z,P());case"date":return e.createElement(Me.Z,P());case"email":return e.createElement(Ie.Z,P("email"));case"file":return g&&e.createElement(Re.Z,U()({},P(),{uploadAuthorization:g}));case"hidden":return e.createElement(Ue.Z,P());case"likert":return e.createElement(Ke.Z,P("likert"));case"name":return e.createElement(Be.Z,U()({},P("name"),{nameOrder:u}));case"number":return e.createElement(We.Z,P());case"password":return e.createElement(je.Z,P());case"phone":return e.createElement(Ne.Z,U()({},P("phone"),{value:x(v.id)||Ze.L.fromInitialFormat(_,j)}));case"radio":return e.createElement($.Z,P());case"section":return e.createElement(_e.Z,P());case"select":return e.createElement(me.Z,P());case"text":return e.createElement(xe.Z,P());case"textarea":return e.createElement(Ve.Z,P());case"time":return e.createElement(we.Z,P());case"twitter":return e.createElement(ze.Z,P());case"website":return e.createElement($e.Z,P());default:return console.error(`Unknown field type: '${f}'`),null}},te=(v,f)=>{const h=f.condition;if(!h)return;const a=x(v.id);if(v.type==="checkbox"){const L=a;if(L&&L.includes(h==null?void 0:h.value))return e.createElement("div",{className:"followup-question-container",key:f.id},R(f))}if(v.type==="likert"){const L=a;if(L&&L[h==null?void 0:h.value])return e.createElement("div",{className:"followup-question-container",key:f.id},R(f))}if(a===(h==null?void 0:h.value))return e.createElement("div",{className:"followup-question-container",key:f.id},R(f))};return e.createElement(e.Fragment,null,r==null?void 0:r.map(v=>e.createElement("div",{key:v.id},R(v),v.followUpQuestions&&v.followUpQuestions.map(f=>te(v,f)))))};var He=t(64745),Ge=t(664416),fe=t(900085),se=t(153126),Xe=t(68916),Qe=t(247502);const Je=1e3,ke=()=>{},qe=n=>new Promise(r=>setTimeout(r,n));function et(n){let{children:r,buttonAlignment:o,buttonVariant:u,previewSubmissionState:i,previewSubmitButtonStyle:m,isSubmitDisabled:A,onSubmit:g,queryParams:d={},countries:y,initialPhoneFormat:I,initialAddressFormat:j,firstFieldHighlightType:_,globalOnFocus:Y=ke,successRedirect:V,setSubmitError:X,submitError:x,onSuccess:k,formSubmitButtonText:H,localizedStrings:R}=n;const te=(0,Qe.H)(),[v,f]=(0,Xe.Z)(m),h=(0,e.useRef)(null),a=i||v===se.j.Success,L=async N=>{f(se.j.Submitted),await qe(Je),f(se.j.Success),k&&k(N)},P=N=>{if(He.Z.isAxiosError(N)){var G;const q=te(N.response);X(q),(G=h.current)===null||G===void 0||G.focus()}else console.error("Unknown error:",N);f(se.j.Error)},Z=async()=>{if(!(!g||v!==null&&v!==se.j.Error)){f(se.j.Submitting);try{const N=await g();L(N)}catch(N){P(N)}}};return e.createElement(ve.Z.Provider,{value:{queryParams:d,countries:y,globalOnFocus:Y,initialPhoneFormat:I,initialAddressFormat:j,firstFieldHighlightType:_}},e.createElement("form",{autoComplete:"on",className:l()("react-form-contents",{"react-form-contents--submitted":a}),noValidate:!0,onSubmit:async N=>{N.preventDefault(),await Z()},"data-success-redirect":V},e.createElement("div",null,e.createElement(e.Fragment,null,e.createElement("div",{ref:h,tabIndex:-1},(x==null?void 0:x.message)&&e.createElement("div",{className:"field-list"},e.createElement("div",{className:"title"},e.createElement(Ge.Z,{id:x.id},x.message)))),e.createElement("div",{className:"field-list"},r),e.createElement(fe.Z,{submitState:v,label:H??(R==null?void 0:R.submit),buttonAlignment:o,buttonVariant:u,isDisabled:A})))))}const ge={Root:et,Fields:Ye};var ct=t(972639);const be=n=>{const r=n.suggestedContributions.length?n.suggestedContributions[0].amount:0;return{fundId:n.id,contributionAmount:String(r),recurringCadence:n.defaultDonationFrequency,feeAmount:n.coverTheFeeSettings.isEnabled?z(Number(r),n.coverTheFeeSettings.fee):0}},tt=n=>{let{funds:r,currencyCode:o,currencySymbol:u,locale:i,buttonAlignment:m,buttonVariant:A,disclaimerAlignment:g,donationAmountAlignment:d,donationLocalizedStrings:y,formFieldFormats:I,formSubmitButtonText:j,formLocalizedStrings:_,fundsDropdownLabel:Y,onSubmit:V,minimumOrderSubtotalEnabled:X,minimumOrderSubtotalCurrency:x,minimumOrderSubtotalSubunits:k}=n;const H=(0,e.useId)(),[R,te]=(0,e.useState)(r[0]?be(r[0]):void 0),[v,f]=(0,e.useState)({}),h=r.reduce((B,re)=>(B[re.id]=re,B),{}),a=(R==null?void 0:R.fundId)&&h[R.fundId],[L,P]=(0,e.useState)(!1),[Z,N]=(0,e.useState)(null),[G,q]=(0,e.useState)(!1),ne=(B,re)=>{te(Ae=>{if(Ae)return{...Ae,[B]:re}})},ae=B=>{if(!B)return;const{successRedirectUrl:re}=B;window.top?window.top.location.assign(re):window.location.assign(re)};return a?e.createElement("div",null,e.createElement(ge.Root,U()({isSubmitDisabled:G,submitError:Z,setSubmitError:N,buttonAlignment:m,buttonVariant:A,onSubmit:V?()=>{var B;return V({...R,contributionAmount:Number(R.contributionAmount)||0,currencyCode:o,...a.form&&{additionalForm:{formId:a==null||(B=a.form)===null||B===void 0?void 0:B.id,fieldValues:v}}})}:void 0,onSuccess:ae,formSubmitButtonText:j,localizedStrings:_},I),e.createElement("div",{className:l()("field-list",{"stretch-layout":d==="stretch"})},e.createElement(Oe,{id:`funds-${H}`,label:Y,funds:r,value:String(R.fundId),formLocalizedStrings:_,onChange:B=>{ne("fundId",B),te(be(h[String(B)]))}}),e.createElement("div",{key:`contribution-fields-${a.id}`},e.createElement(S,{id:H,contributions:a.suggestedContributions,currencyCode:o,currencySymbol:u,locale:i,customAmountLabel:y.customAmountLabel,donationAmountAlignment:d,donationLocalizedStrings:y,isCustomAmountEnabled:a.isCustomAmountEnabled,minimumOrderSubtotalEnabled:X,minimumOrderSubtotalCurrency:x,minimumOrderSubtotalSubunits:k,formLocalizedStrings:_,setHasFieldError:P,updateSubmissionAmounts:B=>{ne("contributionAmount",B),a.coverTheFeeSettings.isEnabled&&ne("feeAmount",z(Number(B),a.coverTheFeeSettings.fee))}})),e.createElement(Pe,{id:`recurring-cadence-${H}`,value:String(R.recurringCadence),recurringDonationOptions:a.recurringDonationOptions,donationLocalizedStrings:y,formLocalizedStrings:_,onChange:B=>ne("recurringCadence",B)}),e.createElement(F,{id:`cover-fees-${H}`,settings:a.coverTheFeeSettings,formLocalizedStrings:_,onChange:B=>{ne("feeAmount",B?z(Number(R.contributionAmount),a.coverTheFeeSettings.fee):null)}}),!L&&e.createElement(pe,{id:`total-cost-line-items-${H}`,showCoverFees:R.feeAmount!==null&&a.coverTheFeeSettings.isEnabled,currencyCode:o,locale:i,totalCost:Number(R.contributionAmount),feeAmount:R.feeAmount,recurringCadence:R.recurringCadence,donationLocalizedStrings:y,settings:a.coverTheFeeSettings}),a.form&&e.createElement("div",{className:"donation-additional-form-fields"},e.createElement(ge.Fields,{formFields:a==null?void 0:a.form.parsedFields,fieldValues:v,setFieldValues:f,setIsSubmitDisabled:q,submitError:Z,nameOrder:I==null?void 0:I.initialNameOrder,localizedStrings:_})))),e.createElement(he,{text:a.disclaimer,disclaimerAlignment:g})):e.createElement(fe.Z,{label:j,submitState:null,buttonAlignment:m,buttonVariant:A,isDisabled:G})};var nt=t(154210),rt=t(456903),ot=t(739233),it=t(106249);const st=async(n,r,o)=>{const u=new URL(o.location.href).origin,i=n.resolvedDonationContent.websiteId,m=u+`/api/v1/fund-service/websites/${i}/donations/funds/${r.fundId}`;let A={};if(r.additionalForm){var g;const I=(g=n.resolvedDonationContent.resolvedFunds.find(j=>j.id===r.fundId))===null||g===void 0?void 0:g.form;if(I){const j=(0,ot.r)(r.additionalForm.fieldValues,{formFields:I.parsedFields,formFieldFormats:n.resolvedDonationContent.formFieldFormats}),_=await(0,it.Z)(r.additionalForm.formId,j);A={formSubmission:{formId:r.additionalForm.formId,formResponses:JSON.stringify(_.data)}}}}const d={amount:{value:r.contributionAmount,currencyCode:n.resolvedDonationContent.currencyCode},donationFrequency:r.recurringCadence,feeAmount:r.feeAmount?{value:r.feeAmount,currencyCode:r.currencyCode}:null,...A};return{response:await rt.default.post(m,d),domain:u}},at=(n,r)=>o=>st(n,o,r),Se=(n,r,o)=>{(0,E.render)(e.createElement(nt.n,{onMount:o},e.createElement(tt,n)),r)},lt=async(n,r,o)=>{const u={funds:n.resolvedDonationContent.resolvedFunds,currencyCode:n.resolvedDonationContent.currencyCode||"USD",currencySymbol:n.resolvedDonationContent.currencySymbol||"$",locale:n.formattingLocale,buttonAlignment:n.donateButtonAlignment,buttonVariant:n.donateButtonVariant,disclaimerAlignment:n.disclaimerAlignment,donationAmountAlignment:n.donationAmountAlignment,donationLocalizedStrings:n.localizedStrings,formLocalizedStrings:n.resolvedDonationContent.localizedVisitorFormStrings,formSubmitButtonText:n.buttonText,fundsDropdownLabel:n.fundDropdownLabel,formFieldFormats:n.resolvedDonationContent.formFieldFormats,minimumOrderSubtotalEnabled:n.resolvedDonationContent.minimumOrderSubtotalEnabled,minimumOrderSubtotalCurrency:n.resolvedDonationContent.minimumOrderSubtotalCurrency,minimumOrderSubtotalSubunits:n.resolvedDonationContent.minimumOrderSubtotalSubunits};if(o){const i=at(n,window);u.onSubmit=async m=>{const{response:A,domain:g}=await i(m);return{successRedirectUrl:g+A.data.redirectUrlPath}}}Se(u,r)}},899465:function(C,c,t){"use strict";t.r(c),t.d(c,{renderFormPreviewForWebsiteComponent:()=>W});var b=t(154210),e=t(643977),E=t(20036),p=t(963327),U=t(164160),s=t(910895),l=t(537312);const W=async(O,T,K)=>{const z=Object.fromEntries(new URLSearchParams(window.location.search)),ee={...await(0,U.h)(O,E.Z,window),queryParams:z,recaptchaSiteKey:p.getSiteKey(window),uploadAuthorization:()=>(0,e.t)(O,window),mediaPlatformLibraryId:O.formId,mediaPlatformBaseUrl:(0,e.S)(window)};if(K){const Q=(0,s.z)(O,window);ee.onSubmit=async $=>(await Q($),!0),(0,l.if)(O.formId)}(0,b.S)(ee,T)}},106249:function(C,c,t){"use strict";t.d(c,{Z:()=>e});var b=t(456903);const e=async(E,p)=>b.default.post("/api/rest/forms/validate/"+E,p,{headers:{"Content-Type":"application/json"}})}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/ed4ef0cdc5864f8e/async-editor-render-form-d0af6d62ece5668d-min.en-US.js.map