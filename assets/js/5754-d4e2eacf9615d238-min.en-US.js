"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["5754"],{852985:function(N,y,i){i.d(y,{x:()=>u});var C=i(377021);const V={fontFamily:"font-family",fontStyle:"font-style",fontWeight:"font-weight",letterSpacing:"letter-spacing",lineHeight:"line-height",textTransform:"text-transform"},T=o=>{if(typeof o=="number"||typeof o=="string")return o;if(typeof o=="object"&&o.hasOwnProperty("value")&&o.hasOwnProperty("unit"))return`${o.value}${o.unit}`;throw`Invalid font property value ${o}`},k=(o,l)=>{const d=[];for(const[c,h]of Object.entries(l)){const g=V[c];try{const v=`${o}-${g}`,S=g==="font-family"?(0,C.f)(h):T(h);d.push({variableName:v,cssValue:S})}catch(v){console.error(`Error while converting ${o}.${c}: ${v}`)}}return d},w=(o,l)=>{const d=[];for(const c of Object.values(V)){const h=`${o}-${c}`,g=`var(--${l}-${c})`;d.push({variableName:h,cssValue:g})}return d},E=o=>{const l=[];return o.baseFontSize&&l.push({variableName:"base-font-size",cssValue:`${o.baseFontSize}px`}),o.masterFonts.forEach(d=>{let{name:c,fontValue:h}=d;l.push(...k(c,h))}),o.masterSizes.forEach(d=>{let{name:c,value:h}=d;l.push({variableName:c,cssValue:T(h)}),l.push({variableName:`${c}-value`,cssValue:h.value})}),o.fontMappings.forEach(d=>{let{name:c,fontMapping:h,sizeMapping:g,customFontValue:v,customSizeValue:S}=d;v?l.push(...k(c,v)):l.push(...w(c,h)),S?(l.push({variableName:`${c}-font-size`,cssValue:T(S)}),l.push({variableName:`${c}-font-size-value`,cssValue:S.value})):(l.push({variableName:`${c}-font-size`,cssValue:`var(--${g})`}),l.push({variableName:`${c}-font-size-value`,cssValue:`var(--${g}-value)`}))}),l},u=o=>{const l=E(o);return l.length===0?"":`:root { ${l.map(d=>{let{variableName:c,cssValue:h}=d;return`--${c}: ${h};`}).join(`
`)} }`}},333219:function(N,y,i){i.d(y,{I:()=>u});var C=i(131292),V=i.n(C);const T=!0,k=!1,w="static_css",E="style_tweak_tag_";class u{constructor(l){let{tweakValues:d,tweakIdMap:c,tweakLess:h,staticCss:g}=l;this.tweakValues=d,this.staticCss=g,this.isInitialRun=!0;const v=JSON.parse(h);this.tweakEngine=new C.TweakEngine(v,c,d,T,k)}getCss(l){const d=[];if(this.isInitialRun){this.isInitialRun=!1,d.push({id:w,css:this.staticCss});for(const c of this.tweakEngine.getGroupIds()){const h=this.tweakEngine.getCssForGroup(c);d.push({id:`${E}${c}`,css:h})}return d}return Object.entries(l).forEach(c=>{let[h,g]=c;if(this.tweakValues[h]===g||!(this.tweakEngine.setVariable(h,g).length>0))return;const O=this.tweakEngine.getCssForVariable(h);if(O)for(const A in O)d.push({id:`${E}${A}`,css:O[A]})}),this.tweakValues={...l},d}}},433260:function(N,y,i){i.d(y,{Z:()=>q});var C=i(480433),V=i.n(C),T=i(347560),k=i(324270),w=i(419467),E=i(795478),u=i.n(E),o=i(916661);const d=(m,e,t)=>{t=t||window;const r=t.Static.SQUARESPACE_CONTEXT.tweakJSON;r&&r[m]&&(r[m]=e)},c=/[^a-z0-9-\s]/g,h=/\s+|--+/g,g=m=>m.trim().toLowerCase().replace(c,"").replace(h,"-");var v=i(723796),S=i(852985),O=i(333219),A=i(347709),L=i(899118),Z=i(37755),P=i(153723),z=i(138002),Q=i(990347),x=i(797400);const H=(m,e)=>{const t=[];return Object.values(e.tweakDefinitions).filter(r=>{let{variableName:s,variableType:a}=r;if(a!=="css")return!1;const n=m.tweakValuesCurrent[s],f=e.tweakValuesCurrent[s];return!(0,w.isEqual)(n,f)}).forEach(r=>{let{variableName:s}=r;const a=e.tweakValuesCurrent[s];t.push({variableName:s,tweakValue:a})}),t};function U(m,e,t){return e in m?Object.defineProperty(m,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):m[e]=t,m}const{group:G,groupEnd:W}=(0,v.sS)("%c[TweakDomManager]","#ff00ff"),M=(0,v.hu)("TweakDomManager","#ff00ff"),J={TWEAKS:"tweaks"},X="SquarespaceCustomCss",I="SquarespaceInjectedCss";class K{destroy(){M("Destroy",this),this.clearQueue()}clearQueue(){this.throttledUpdate.cancel(),window.clearTimeout(this._checkDomTimeout),window.cancelAnimationFrame(this._domUpdateRaf)}didTweaksChange(e,t){return!(0,w.isEqual)(e.tweakValuesCurrent,t.tweakValuesCurrent)}didColorsChange(e,t){return o.Z.isSevenOne()?!(0,w.isEqual)(e.websiteColors,t.websiteColors):!1}didCleanCssChange(e,t){return e.cleanCss!==t.cleanCss}didDomChange(e,t){return e.domMutated!==t.domMutated}update(e,t){if(this.props=t,this.didCleanCssChange(e,t)&&this.cleanup(t),t.saving)return;let r=!1,s=!1,a=!1;if(this.didColorsChange(e,t))try{const p=(0,x.Bi)(e.websiteColors,t.websiteColors,t.colorVariableDefinitions);if(p.trim().length){var n,f;r=!0;const b=(0,L.o)({element:"style",content:p,className:I,id:"color_css_vars_"+Date.now()});this.props.tweakApi.injectTweakStyleNode(b,this.getCustomCssNode()),(f=window.Y)===null||f===void 0||(n=f.Global)===null||n===void 0||n.fire("colors:updateThemeStyles")}}catch(p){console.error("Error updating DOM on websiteColors change:",p)}if(o.Z.isSevenOne())try{const p=(0,S.x)(t.activeFontPack);p.length>0&&(s=!0,this.injectOrUpdateTweakCssNode("font_css_vars",p))}catch(p){console.error("Error updating DOM on activeFontPack change",p)}try{const p=H(e,t);if(p.length>0){a=!0;const b=`:root { ${p.map(D=>{let{variableName:F,tweakValue:$}=D;return`--${F}: ${$};`}).join(`
`)} }`,j=(0,L.o)({element:"style",content:b,className:I,id:"tweak_css_vars_"+Date.now()});this.props.tweakApi.injectTweakStyleNode(j,this.getCustomCssNode())}}catch(p){console.error("Error updating DOM with CSS variable tweak updates:",p)}if(r||s||a||this.didTweaksChange(e,t)){this.requestDomUpdate(J.TWEAKS);return}this.didDomChange(e,t)&&this.throttledUpdate()}requestDomUpdate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";e&&this._nextDomUpdateReasons.add(e),window.cancelAnimationFrame(this._domUpdateRaf),this._domUpdateRaf=window.requestAnimationFrame(()=>this.domUpdate(this._nextDomUpdateReasons))}domUpdate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;G("domUpdate",{reasons:[...e]});const{tweakValuesCurrent:t,tweakWindowNode:r}=this.props;if(!r||!(0,w.get)(r,"document.body")){M("The document was destroyed, skipping queued domUpdate."),W();return}e.clear();const s=Object.keys((0,Z.Z)({prev:this._prevTweakValues,next:t}));this._prevTweakValues=t,this._tweakKeyQueue=this._tweakKeyQueue.concat(s),this.updateCustomCss(),s.length>0&&(this.updateTweakCss(),this.checkBodyClasses(s),this.checkStaticContext(s)),this.throttledUpdate(),W(),Q.Z.domUpdated()}updateTweakCss(){const{tweakApi:e}=this.props;if(!this._tweakLessManager){this._tweakLessManager=new O.I({tweakValues:this.props.tweakValuesCurrent,tweakLess:this.props.rawData.tweakLess,tweakIdMap:this.props.rawData.tweakIdMap,staticCss:this.props.rawData.staticCss});const s=e.getStyleNode();this._tweakLessManager.getCss(this.props.tweakValuesCurrent).forEach(n=>{let{id:f,css:p}=n;return this.injectOrUpdateTweakCssNode(f,p,s)}),s.parentNode.removeChild(s);return}this._tweakLessManager.getCss(this.props.tweakValuesCurrent).forEach(s=>{let{id:a,css:n}=s;return this.injectOrUpdateTweakCssNode(a,n)})}injectOrUpdateTweakCssNode(e,t,r){const{tweakApi:s}=this.props,a=this._injectedStyleNodes[e];if(a)a.innerHTML=t;else{const n=(0,L.o)({element:"style",id:e,content:t,className:I});s.injectTweakStyleNode(n,r||this.getCustomCssNode()),this._injectedStyleNodes[e]=n}}checkStaticContext(e){const{tweakValuesCurrent:t,tweakWindowNode:r}=this.props;e.forEach(s=>{d(s,t[s],r)})}checkBodyClasses(e){const{tweakValuesCurrent:t,tweakDefinitions:r,tweakApi:s}=this.props,a=s.getTargetNode();!a||!a.ownerDocument.defaultView||e.map(n=>r[n]).filter(n=>!!n).forEach(n=>{const f=n.type,p=n.variableName,b=t[p];b!==void 0&&(f==="checkbox"?a.classList.toggle(p,b+""=="true"):f==="dropdown"&&n.options.forEach(D=>{const F=p+"-"+g(D);a.classList.toggle(F,b===D)}))})}getDefinitionVisibility(e,t){const r=t.reduce((s,a)=>(s[a]=e[a],s),{});return Object.values(e).reduce((s,a)=>{let{variableName:n}=a;return s[n]=!!r[n],s},{})}dispatchChangeEvent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!(0,w.get)(window,"Y.Global.fire"))return;const{tweakValuesCurrent:t,tweakDefinitions:r}=this.props;new Set(e).forEach(a=>{const n=r[a],f=t[a];try{window.Y.Global.fire("tweak:change",{config:Object.assign({value:f},n),getName(){return a},getValue(){return f}})}catch{}}),e.length=0}getInjectedNodes(){const{tweakWindowNode:e}=this.props;return[...e.document.querySelectorAll(`.${I}`)]}removeTweakCss(){this.getInjectedNodes().forEach(e=>e.remove()),this._injectedStyleNodes={}}getCustomCssNode(){const{tweakApi:e}=this.props;return this._customCssNode&&this._customCssNode.ownerDocument.defaultView?this._customCssNode:(this._customCssNode=(0,L.o)({element:"style",id:X,className:I}),e.injectCustomCssNode(this._customCssNode),this._customCssNode)}updateCustomCss(){const{customCss:e}=this.props,t=e==null?void 0:e.value;this._prevCustomCss!==t&&(this._prevCustomCss=t,this.getCustomCssNode().innerHTML=t)}constructor(e={}){U(this,"throttledUpdate",(0,w.throttle)((function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.noop;window.clearTimeout(this._checkDomTimeout),this.updateVisibleTweaksBasedOnDom(),this.dispatchChangeEvent(this._tweakKeyQueue),a()}).bind(this),500,{leading:!0,trailing:!0})),U(this,"checkSlide",()=>{const{pageType:s,tweakWindowNode:a}=this.props,n=(0,A.QA)(s);return n?P.Z.single(a.document,n):null}),U(this,"updateVisibleTweaksBasedOnDom",()=>{const{isSiteStyles:s,setTweakFilterProperties:a,tweakDefinitions:n,tweakWindowNode:f,visibleDefinitions:p}=this.props,b=Object.values(n).reduce((D,F)=>{let{showOnlyWhenPresent:$,variableName:ee}=F;const B=$,te=this.checkSlide()||f.document,se=P.Z.single(te,B);return(!B||se)&&D.push(ee),D},[]);(0,w.xor)(b,p).length>0&&(s?a({visibleDefinitions:b,definitionVisibility:this.getDefinitionVisibility(n,b)}):z.Z.setFilterProperty.defer({visibleDefinitions:b,definitionVisibility:this.getDefinitionVisibility(n,b)}))}),U(this,"cleanup",()=>{const{cleanCss:s,saving:a,tweakApi:n,tweakValuesSaved:f}=this.props;return this.clearQueue(),a?(M("cleanup: tweaks network busy"),!1):s?(M("cleanup"),this._prevTweakValues=f,this._prevCustomCss=null,this._customCssNode=null,this._tweakKeyQueue.length=0,n.cleanCss(s),this.removeTweakCss(),!0):(M("cleanup: missing cleanCss"),!1)}),this.props=e;const{tweakValuesSaved:t,persistData:r}=this.props;this._nextDomUpdateReasons=new Set,this._prevTweakValues=t,this._prevCustomCss=null,this._tweakKeyQueue=[],this._injectedStyleNodes={},this._isColorsCleanupRequired=!1,window&&window.Y&&window.Y.one&&(this._checkDomTimeout=window.setTimeout(this.updateVisibleTweaksBasedOnDom,0))}}U(K,"propTypes",{cleanCss:u().string,customCss:u().object,domMutated:u().number,pageType:u().string,persistData:u().bool,rawData:u().object,saving:u().bool,websiteColors:u().object,colorVariableDefinitions:u().array,tweakApi:u().object.isRequired,tweakDefinitions:u().object,tweakValuesCurrent:u().object,tweakValuesSaved:u().object,tweakWindowNode:u().object.isRequired,visibleDefinitions:u().array,isSiteStyles:u().bool,setTweakFilterProperties:u().func});function _(m,e,t){return e in m?Object.defineProperty(m,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):m[e]=t,m}const R=(0,v.hu)("TweakDomManagerCache","#ff00ff");class Y{createInstance(e,t){const{tweakWindowNode:r}=e,s=new K(e),a=r.document,n=new Set([t]);return this.hit={instance:s,doc:a,consumers:n},R("Create",this.hit),s}constructor(){_(this,"handleFrameRefresh",()=>{R("FrameActions.REFRESH - Release"),this.releaseInstance()}),_(this,"getInstance",(e,t)=>{const{tweakWindowNode:r,loaded:s}=e;return!r||!s?null:this.hit?r.document!==this.hit.doc||!this.hit.doc.defaultView?(R("Releasing and re-creating invalid",this.hit),this.releaseInstance(),this.createInstance(e,t)):(this.hit.consumers.add(t),this.hit.instance):this.createInstance(e,t)}),_(this,"releaseInstance",e=>{if(this.hit){if(e&&(this.hit.consumers.delete(e),this.hit.consumers.size>0)){R("Instance still has consumers",this.hit);return}this.hit.instance.destroy(),this.hit=null,R("Instance released")}}),this.hit=null,this.actionListener=new(V())(T.Z),this.actionListener.addActionListener(k.default.REFRESH,this.handleFrameRefresh)}}const q=new Y},990347:function(N,y,i){i.d(y,{Z:()=>V});var C=i(347560);const V=C.Z.generateActions("setGroupsExpanded","setHoveredField","domUpdated","domMutated")},196735:function(N,y,i){i.d(y,{Z:()=>T});var C=i(419467),V=i.n(C);function T(k,w,E){const u={checkImmediate:!0};E&&Object.assign(u,E);const o=()=>{const l=(0,C.get)(k,"contentWindow.document.body");l&&l.querySelector("*")&&w(k)};return k.addEventListener("load",o),u.checkImmediate&&o(),{destroy:()=>{k==null||k.removeEventListener("load",o)}}}},291380:function(N,y,i){i.d(y,{Z:()=>V});function C(T){return T.displayName||T.name||"Component"}const V=C}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/f4153e814a55698d/5754-d4e2eacf9615d238-min.en-US.js.map