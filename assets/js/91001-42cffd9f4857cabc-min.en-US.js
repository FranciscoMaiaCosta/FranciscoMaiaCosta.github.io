"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["91001"],{270348:function(N,D,t){t.d(D,{Z:()=>l});var e=t(174161),m=t(64950),E=t(938875),P=t(482053),n=t(538312),p=t(378257),u=t(766400),a=t(352635),d=t(158127);const l=v=>{let{title:T,text:c,todoIcon:y,onMouseOver:b,onClick:r,isDone:h,isDisabled:_,dataTestId:x,isLoading:V,doneIcon:K,hide:U}=v;const o=_?a.colors.gray[600]:h?a.colors.gray[300]:a.colors.gray[100],O=!_&&!!r;return e.createElement(p.Z,{tabIndex:O?0:-1,isHoverable:O,role:"button",sx:{display:U?"none":"flex",justifyContent:"space-between",flexDirection:"row",opacity:_?.6:1,cursor:_?"not-allowed":r?"pointer":void 0,alignItems:"center"},px:3,py:3,mb:2,width:"100%",minHeight:"sizes.400",onMouseOver:b,"data-testid":x,onClick:_?void 0:r,onKeyDown:(0,d.Z)(()=>!_&&(r==null?void 0:r()))},e.createElement(P.Z,{alignItems:"center"},e.createElement(y,{sx:{marginRight:a.space[3],color:o}}),e.createElement("div",null,e.createElement(n.Z.Body,{color:o,fontWeight:a.fontWeights.medium,m:0,p:0},T),e.createElement(n.Z.Caption,{color:o,m:0,p:0,as:"p"},c))),e.createElement(P.Z,null,V?e.createElement(u.Z,{size:0}):K&&h&&e.createElement(K,null),h?e.createElement(m.Z,{sx:{color:a.colors.green[300],marginLeft:a.space[3]}}):e.createElement(E.Z,{sx:{color:a.colors.gray[600]}})))}},991729:function(N,D,t){t.d(D,{Y:()=>at,Z:()=>lt});var e=t(174161),m=t(685763),E=t(766519),P=t(394954),n=t(964364),p=t(482053),u=t(538312),a=t(338465),d=t(516865),s=t(902863),l=t(352635),v=t(714487),T=t(934951),c=t(532099),y=t(985882),b=t(419467);const r=10,h="1440px";var _=null,x=null,V=null,K=null;const U=(0,b.get)(window,"Static.SQUARESPACE_CONTEXT.authenticatedAccount.preferredLocale","").startsWith("en-");var o=t(613672),O=t(444867),C=t(559409),I=t(432437),M=t(462689);const L=()=>BetaFeaturesUtils.isFeatureEnabled(Flag.COMMERCE_DASHBOARD_POST_SETUP_FORCED)?!0:WebsiteAchievementStore.hasAchievement(AchievementType.STORE_SETUP_COMPLETE),Q=()=>{const{siteStatus:i}=BillingStatusStore.getState();return i===StatusConstants.EXPIRED},g=()=>{const{siteStatus:i}=BillingStatusStore.getState();return!!(i===StatusConstants.TRIAL&&getNumberOfTrialDaysRemaining()!==null||Q())},st=()=>getIsLocaleEnglish();var q=t(443454),k=t(423394);const J=e.createContext({ordersResponse:{},pickupOptionsResponse:{},setupStatusResponse:{},discountsResponse:{},extensionsResponse:{},hasCommerceIntent:!1}),j=i=>{let{children:R}=i;const[f,Y]=useState(Date.now()),z=useFetch(()=>getOrders({limit:MAX_ORDERS_TO_TRACK+1,sortBy:"submittedOn",orderDirection:OrderDirection.DESCENDING})),et=useFetch(()=>loadPickupOptions()),nt=useSetupStatus(),rt=useFetch(()=>DiscountsAPI.fetchDiscountsByStatus("ALL",0,1)),dt=useFetch(()=>ExtensionApi.fetchExtensions(getResolvedWebsiteLocale())),{hasIntent:ut}=Insights.useHasCommerceIntent();useEffect(()=>{function it(){Y(Date.now())}return WebsiteAchievementStore.listen(it),()=>{WebsiteAchievementStore.unlisten(it)}},[Y]);const mt=(()=>{if(!getIsPostSetupDashboardEnabled())return DashboardState.SETUP_DASHBOARD;if(z.error)return DashboardState.UNKNOWN;if(z.data)return z.data.results.length>4?DashboardState.POST_FIFTH_SALE_DASHBOARD:z.data.results.length>0?DashboardState.POST_FIRST_SALE_DASHBOARD:DashboardState.PRE_SALE_DASHBOARD})(),Et={achievementsUpdatedOn:f,ordersResponse:z,dashboardState:mt,pickupOptionsResponse:et,extensionsResponse:dt,setupStatusResponse:nt,discountsResponse:rt,hasCommerceIntent:!!ut,dashboardVersion:getIsPostSetupDashboardEnabled()?DashboardVersion.POST_SETUP:DashboardVersion.PRE_SETUP};return React.createElement(J.Provider,{value:Et},R)};function H(){return e.useContext(J)}const F=H,$=()=>{const{dashboardState:i}=F(),R=(0,e.useCallback)(S=>{let{object_value:B,object_identifier:W,product_section:w}=S;(0,M.He)({event_name:"CommerceDashboard_View_CommerceDashboardWidget",object_value:B,object_identifier:W,product_section:w,indirect_object_value:i,actor:"user",action:"view",object_type:"widget"})},[i]),f=(0,e.useCallback)(S=>{let{object_value:B,object_identifier:W,product_section:w,indirect_object_identifier:pt,product_design_identifier:_t}=S;(0,M.He)({event_name:"CommerceDashboard_Click_CommerceDashboardWidget",object_value:B,object_identifier:W,product_section:w,indirect_object_identifier:pt,indirect_object_value:i,actor:"user",action:"click",object_type:"widget",product_design_identifier:_t})},[i]),Y=(0,e.useCallback)(S=>{let{object_value:B,object_identifier:W,product_section:w,indirect_object_value:pt}=S;(0,M.He)({event_name:"CommerceDashboard_SubmitFeedback_CommerceDashboardWidget",object_value:B,object_identifier:W,product_section:w,indirect_object_value:pt,actor:"user",action:"submit",object_type:"widget",indirect_object_identifier:"feedback"})},[]),z=(0,e.useCallback)(S=>{let{object_identifier:B,product_section:W}=S;(0,M.He)({event_name:"CommerceDashboard_View_CommerceDashboardModal",object_identifier:B,product_section:W,indirect_object_value:i,actor:"user",action:"view",object_type:"modal"})},[i]),et=(0,e.useCallback)(S=>{let{object_value:B,object_identifier:W,product_section:w}=S;(0,M.He)({event_name:"CommerceDashboard_Click_CommerceDashboardModal",object_value:B,object_identifier:W,product_section:w,indirect_object_value:i,actor:"user",action:"click",object_type:"modal"})},[i]),nt=(0,e.useCallback)((S,B,W)=>{R({object_identifier:S,object_value:W||S,product_section:B})},[R]),rt=(0,e.useCallback)((S,B,W,w)=>{f({object_identifier:S,object_value:W||S,product_section:B,product_design_identifier:w})},[f]),dt=(0,e.useCallback)((S,B)=>{f({object_identifier:"first-sale-checklist",indirect_object_identifier:B,object_value:S,product_section:"main-section"})},[f]),ut=(0,e.useCallback)(S=>{f({object_identifier:"setup-wizard",object_value:(0,M.H2)(S),product_section:"main-section"})},[f]),mt=(0,e.useCallback)(S=>{f({object_identifier:"setup-wizard",object_value:S,product_section:"main-section"})},[f]),Et=(0,e.useCallback)(S=>{f({object_identifier:"daily-tip",object_value:S,product_section:"main-section"})},[f]),it=(0,e.useCallback)(S=>{Y({object_identifier:"daily-tip",object_value:S,indirect_object_value:"Not relevant",product_section:"main-section"})},[Y]);return{trackViewDashboardModal:z,trackClickDashboardModal:et,trackViewGenericDashboardWidget:nt,trackClickGenericDashboardWidget:rt,trackClickFirstSaleChecklistWidget:dt,trackClickSetupWizardStep:ut,trackClickSetupWizardMisc:mt,trackClickDailyTipWidget:Et,trackDailyTipWidgetDismissal:it}},X=t.p+"inventory-d559ff676d2b6db2.jpg",Z="main-section",A="publish-your-store-with-a-business-plan";var ot=null;const at=i=>!(!i||i[M.fN.CHOOSE_PLAN]),tt=i=>{let{text:R}=i;return e.createElement(p.Z,null,e.createElement(s.Z,{sx:{height:22,width:22,flex:"none"}}),e.createElement(u.Z.Body,{m:0,ml:"14px",p:0},R))},ct=i=>{let{onClose:R,onClick:f,title:Y}=i;const{trackViewDashboardModal:z,trackClickDashboardModal:et}=$();(0,e.useEffect)(()=>{z({object_identifier:A,product_section:Z})},[]);const nt=()=>{et({object_identifier:A,product_section:Z,object_value:"close"}),R()},rt=()=>{et({object_identifier:A,product_section:Z,object_value:"see-plan-details"}),f()};return e.createElement(m.Z,{onRequestClose:nt},e.createElement(m.Z.Overlay,null),e.createElement(m.Z.Position,{position:"center"},e.createElement(m.Z.Dialog,null,e.createElement(a.Z,{tabIndex:0,width:"sizes.750",css:{"&:focus":{outline:"none"}}},e.createElement(E.Z.Container,{alignItems:"center",gridConstraint:12,height:"sizes.400"},e.createElement(E.Z.Item,{columns:12},e.createElement(P.Z,{direction:"row",justifyContent:"space-between",space:1},e.createElement(d.Z.Tertiary,{onClick:nt},e.createElement(T.T,{project:"commerce-dashboard"},"Close"))))),e.createElement(E.Z.Container,null,e.createElement(E.Z.Item,{columns:12},e.createElement(P.Z,{justifyContent:"space-between",minHeight:632-parseInt(l.sizes.sizes[400]),pb:6},e.createElement(a.Z,null,e.createElement(n.Z,{src:X,height:"217px",width:"334px"}),e.createElement(u.Z.Title,{pt:3,m:0},Y),e.createElement(u.Z.Subtitle,{pt:2,m:0,color:"gray.300"},e.createElement(T.T,{project:"commerce-dashboard"},"You can also:")),e.createElement(P.Z,{gap:2,py:2},e.createElement(tt,{text:(0,v.t)("Sell unlimited products and gift cards",null,{project:"commerce-dashboard"})}),e.createElement(tt,{text:(0,v.t)("Grow your audience using email tools",null,{project:"commerce-dashboard"})}),e.createElement(tt,{text:(0,v.t)("Manage everything in one place",null,{project:"commerce-dashboard"})}))),e.createElement(d.Z.Primary,{width:"100%",size:"large",onClick:rt,mt:2},e.createElement(T.T,{project:"commerce-dashboard"},"See plan details")))))))))},lt=i=>{let{onClose:R,isOpen:f,onClick:Y,title:z}=i;return e.createElement(m.Z.Transition,null,f&&e.createElement(ct,{onClose:R,onClick:Y,title:z}))}},462689:function(N,D,t){t.d(D,{He:()=>g,fN:()=>x.fN,dI:()=>s.Z,wh:()=>a.Z,IY:()=>o.Z,RM:()=>m,H2:()=>k.H2,pV:()=>b.ZP});var e=t(316428),m=t(935761),E=t(515638),P=t(917163),n=t(174161);function p(j){let{root:H=null,threshold:F=1}=j;const G=React.useRef(null),[$,X]=React.useState(null),Z=React.useRef();return React.useEffect(()=>{async function A(){await polyfillIntersectionObserver(),Z.current=new IntersectionObserver(ot=>{X(ot[0])},{root:H,threshold:F})}A()},[]),React.useEffect(()=>{const A=Z.current;return G!==null&&G.current&&(A==null||A.observe(G.current)),()=>A==null?void 0:A.disconnect()},[G,Z]),{entry:$,ref:G}}var u=t(472373),a=t(37005),d=t(554468),s=t(730842),l=t(747002),v=t(366010),T=t(897595),c=t(451226),y=t(757127),b=t(171058),r=t(26884),h=t(491651),_=t(78186),x=t(154440),V=t(834105),K=t(35045),U=t(286465),o=t(985078),O=t(474698),C=t(283635),I=t(461761),M=t.n(I),L=t(228946);const Q=new C.Z("CommerceDashboard",{event_owner_team:"commerce_activation",event_source:"web",product_area:"commerce-dashboard",website_id:M()(window,"Static.SQUARESPACE_CONTEXT.website.id",null)}),g=j=>{Q.track(j);const{event_name:H,...F}=j;L.fireEvent(H,F)};function st(j,H){g({event_name:"CommerceDashboard_View_CommerceDashboard",actor:"user",action:"view",object_type:"dashboard",object_identifier:"commerce-dashboard",object_value:j,order_count:H})}var q=t(946448),k=t(963832),J=t(633878)},985882:function(N,D,t){t.d(D,{A:()=>E});var e=t(456903),m=t(696049);async function E(P){let{limit:n,sortBy:p,orderDirection:u}=P;return{results:(await e.default.get("/api/2/commerce/orders",{params:{limit:n,sortBy:p,orderDirection:u}})).data.results.map(d=>({...d,grandTotal:m.default.fromJson(d.grandTotal),subtotal:m.default.fromJson(d.subtotal),preTaxTotal:m.default.fromJson(d.preTaxTotal)}))}}},26884:function(N,D,t){t.d(D,{Z:()=>b});var e=t(456903),m=t(437951),E=t.n(m),P=t(457739),n=t.n(P),p=t(936177),u=t.n(p),a=t(271685),d=t(397372);const s="/api/3",l=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).data},v=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Promise.reject(r.response.data||{})},T=r=>{const h=r.categoryTree,_=r.categoryTree[0];return d.C.constructCategoriesTree(h,[],_,!0)},c=async r=>{try{const h=await e.default.get("/api/content-collections",{params:{type:E().PRODUCTS,pageAction:n().NEXT,start:r}});return l(h)}catch{return u().trackCaughtError("commerce-discounts","Failed to fetch product collections"),null}},y=async()=>{const r=[];let h="",_;do _=await c(h),_&&(r.push(..._.results),h=_.nextPageStart);while(_&&_.hasNextPage);return r},b={buildCategoryTree:T,fetchDiscountsByStatus(r,h){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10;return e.default.get(`${s}/commerce/discounts?status=${r}&offset=${h}&limit=${_}`).then(l,v)},fetchCategories(){return e.default.get("/api/commerce/products/categories").then(l,v)},fetchCategoryTree(r){return(0,a.CP)(r).then(T)},fetchProductCollections(){return y()},fetchShippingOptions(){return e.default.get("/api/commerce/discounts/shipping-options").then(l,v)},createDiscount(r){return e.default.post("/api/commerce/discounts",r).then(l,v)},getDiscount(r){return e.default.get(`${s}/commerce/discounts/${r}`).then(l,v)},updateDiscount(r){const h=r.id;return e.default.put("/api/commerce/discounts/"+h,r).then(l,v)},deleteDiscount(r){return e.default.delete("/api/commerce/discounts/"+r).then(l,v)}}},491651:function(N,D,t){t.d(D,{Z:()=>o});var e=t(174161),m=t(180852),E=t(538312),P=t(818212),n=t(239718),p=t(826139),u=t(265107),a=t(5175),d=t(6443),s=t(714487),l=t(934951),v=t(991729),T=t(726789),c=t(154440),y=t(161381),b=t(270348),r=t(78186),h=t(787592),_=t(331280),x=t(911394),V=t(542636),K=t(125582);const U=O=>{let{onMouseOver:C,onClick:I,onAddProductCustom:M,onFinish:L,addProductFrom:Q,setupStatus:g,hideHeader:st,router:q}=O;var k;const[J,j]=(0,e.useState)(!1),[H,F]=(0,e.useState)(!1),[G,$]=(0,e.useState)(!1),X=!!g[c.fN.ADD_PRODUCTS],A=(k=(0,x.Z)().data)===null||k===void 0?void 0:k.sqspPaymentsSettings.accountId,{isSqspPaymentsSignupSuccess:ot}=(0,V.Z)({sqspPaymentsAccountId:A}),at=(0,K.C)(),tt=async i=>{try{j(!0),await(0,r.Z)(i,q,Q,{onAddProductCustom:M})}catch(R){(0,h.Tb)(`Encountered an error Pushing Link for Setup Step: ${i}`,R)}finally{j(!1),L==null||L()}};(0,e.useEffect)(()=>{ot&&(0,v.Y)(g)&&$(!0)},[ot,g]);const ct=async i=>{const R=i===c.fN.PUBLISH_SITE&&!g[c.fN.PUBLISH_SITE],f=i===c.fN.PUBLISH_SITE&&(0,v.Y)(g);I(i),at&&i===c.fN.PUBLISH_SITE?g[c.fN.PUBLISH_SITE]?tt(i):F(!0):f?$(!0):R?F(!0):tt(i)},lt=[{title:(0,s.t)("Products",null,{project:"apps.Commerce.Onboarding"}),text:X?(0,s.t)("Products added.",null,{project:"apps.Commerce.Onboarding"}):(0,s.t)("Add products to your inventory.",null,{project:"apps.Commerce.Onboarding"}),todoIcon:P.Z,onMouseOver:()=>C(c.fN.ADD_PRODUCTS),isDone:X,dataTestId:"setup-wizard-add-products-step",isLoading:J,doneIcon:n.Z,step:c.fN.ADD_PRODUCTS},{title:(0,s.t)("Payments",null,{project:"apps.Commerce.Onboarding"}),text:g[c.fN.ADD_PAYMENT_METHOD]?(0,s.t)("Ready to process payments.",null,{project:"apps.Commerce.Onboarding"}):(0,s.t)("Add a way to get paid.",null,{project:"apps.Commerce.Onboarding"}),todoIcon:p.Z,onMouseOver:()=>C(c.fN.ADD_PAYMENT_METHOD),isDone:!!g[c.fN.ADD_PAYMENT_METHOD],dataTestId:"setup-wizard-add-payment-method-step",step:c.fN.ADD_PAYMENT_METHOD},{title:(0,s.t)("Fulfillment",null,{project:"apps.Commerce.Onboarding"}),text:g[c.fN.ADD_SHIPPING_OPTION]?(0,s.t)("Ready to fulfill orders.",null,{project:"apps.Commerce.Onboarding"}):(0,s.t)("Choose how to fulfill your orders",null,{project:"apps.Commerce.Onboarding"}),todoIcon:u.Z,onMouseOver:()=>C(c.fN.ADD_SHIPPING_OPTION),isDone:!!g[c.fN.ADD_SHIPPING_OPTION],dataTestId:"setup-wizard-add-shipping-option-step",hide:g[c.fN.ADD_SHIPPING_OPTION]===void 0,step:c.fN.ADD_SHIPPING_OPTION},{title:(0,s.t)("Subscription",null,{project:"apps.Commerce.Onboarding"}),text:at?(0,s.t)("Upgrade to another plan to sell products.",null,{project:"apps.Commerce.Onboarding"}):g[c.fN.CHOOSE_PLAN]?(0,s.t)("Successfully subscribed.",null,{project:"apps.Commerce.Onboarding"}):(0,s.t)("Choose a subscription plan.",null,{project:"apps.Commerce.Onboarding"}),todoIcon:a.Z,onMouseOver:()=>C(c.fN.CHOOSE_PLAN),isDone:!!g[c.fN.CHOOSE_PLAN]||at,dataTestId:"setup-wizard-choose-plan-step",hide:(0,_.ko)(),step:c.fN.CHOOSE_PLAN},{title:(0,s.t)("Publish",null,{project:"apps.Commerce.Onboarding"}),text:(0,s.t)("Go live and start selling.",null,{project:"apps.Commerce.Onboarding"}),todoIcon:d.Z,onMouseOver:()=>C(c.fN.PUBLISH_SITE),isDone:!!g[c.fN.PUBLISH_SITE],dataTestId:"setup-wizard-publish-site-step",step:c.fN.PUBLISH_SITE}];return e.createElement(e.Fragment,null,H&&e.createElement(T.default,{productArea:"store-setup-wizard",onCloseModal:()=>{F(!1),L==null||L()},onSave:()=>{(0,c.oS)()}}),e.createElement(v.Z,{isOpen:G,onClose:()=>{$(!1),L==null||L()},onClick:()=>{q.push("/settings/billing/upgrade")},title:(0,s.t)("Publish your store with a Commerce plan",null,{project:"commerce-dashboard"})}),e.createElement("div",{"data-test":"onboardingSetUpStore"},!st&&e.createElement(e.Fragment,null,e.createElement(m.Z.Step.Content.Title,null,e.createElement(l.T,{project:"apps.Commerce.Onboarding"},"Set up your store")),e.createElement(E.Z.Subtitle,{color:"gray.400",sx:{marginTop:0,marginBottom:6}},e.createElement(l.T,{project:"apps.Commerce.Onboarding"},"Create your store and start selling products."))),lt.map(i=>{let{step:R,...f}=i;return e.createElement(b.Z,{...f,key:f.title,onClick:()=>ct(R)})})))},o=(0,y.Z)(U)},78186:function(N,D,t){t.d(D,{Z:()=>n});var e=t(154440),m=t(682345),E=t(445916);const P=async(p,u)=>{const a=u==="onboarding-wizard"?E.s.SETUP_WIZARD:E.s.SETUP_CHECKLIST;t.e("51985").then(t.bind(t,535582)).then(d=>{let{default:s}=d;return s(p,{entrypoint:a})})};async function n(p,u,a,d){const s={};switch(s.state={backTo:u.getCurrentLocation().pathname},p){case e.fN.ADD_PRODUCTS:{d!=null&&d.onAddProductCustom?d==null||d.onAddProductCustom():await P(u,a);break}case e.fN.ADD_PAYMENT_METHOD:u.push({...s,pathname:"/commerce/payments"});break;case e.fN.ADD_SHIPPING_OPTION:u.push({...s,pathname:"/commerce/shipping"});break;case e.fN.CHOOSE_PLAN:(0,m.R)();break;case e.fN.PUBLISH_SITE:u.push({...s,pathname:"/settings/site-visibility"});break;default:throw new Error("Invalid setup step")}}},542636:function(N,D,t){t.d(D,{Z:()=>p});var e=t(174161),m=t(815517),E=t(986921),P=t(124393);const p=u=>{let{sqspPaymentsAccountId:a}=u;var d;const[s,l]=(0,e.useState)(!1),T=new URLSearchParams(window.location.search).get(m.nH),c=!!a,y=(0,E.Z)(a||"",{enabled:c}),b=(d=y.data)===null||d===void 0?void 0:d.accountStatus,r=(0,e.useCallback)(h=>{const _=new URLSearchParams(window.location.search);_.delete(h);const x=_.toString(),V=x?`?${x}`:"",K=`${window.location.origin}${window.location.pathname}${V}`;window.history.replaceState({},document.title,K)},[]);return(0,e.useEffect)(()=>{T==="true"&&b&&(b!==P.p_.ONBOARDING_IN_PROGRESS&&l(!0),r(m.nH))},[T,a,y.isLoading,b,r]),{sqspPaymentsAccountRequest:y,isSqspPaymentsSignupSuccess:s}}},443454:function(N,D,t){t.d(D,{Z:()=>u});var e=t(131626),m=t.n(e),E=t(456903);const P="/api/commerce/apps/printondemand",n="/api/commerce/apps/printondemand/connections",u={async fetchExtensions(a){const d={preferredLocale:a},{data:s}=await E.default.get(P,{params:d,paramsSerializer:l=>m().stringify(l,{arrayFormat:"repeat"})});return s.extensions},async disconnectExtension(a){return E.default.delete(`${n}/${a}`)}}},170379:function(N,D,t){t.d(D,{Z:()=>K});var e=t(374335),m=t.n(e),E=t(35045),P=t(651780),n=t(174161),p=t(352635),u=t(685763),a=t(338465),d=t(516865),s=t(538312),l=t(934951),v=t(714487),T=t(472373),c=t(417505),y=t(482053),b=t(964364);const r=U=>{let{children:o}=U;return n.createElement(y.Z,{justifyContent:"space-between",mt:3},o)},_=U=>{let{organizationName:o,organizationLogo:O,siteCount:C,siteLimit:I}=U,M;return I!==-1&&(M=I-C),n.createElement(a.Z,{mt:6},n.createElement(y.Z,{alignItems:"center",pb:3,borderBottom:1,borderBottomColor:p.colors.gray[900]},n.createElement(b.Z,{src:O??"",mr:2,width:p.space[4],maxHeight:p.space[4]}),n.createElement(s.Z.Body,{fontWeight:"medium",m:0},o)),n.createElement(r,null,n.createElement(s.Z.Body,{m:0},n.createElement(l.T,{project:"apps.App"},"Active sites")),n.createElement(s.Z.Body,{m:0},C)),n.createElement(r,null,n.createElement(a.Z,null,n.createElement(s.Z.Body,{m:0},n.createElement(l.T,{project:"apps.App"},"Plan limit"))),n.createElement(s.Z.Body,{m:0},I===-1?n.createElement(l.T,{project:"apps.App"},"Unlimited"):n.createElement(n.Fragment,null,I))),M!==void 0&&n.createElement(r,null,n.createElement(s.Z.Subtitle,{m:0},n.createElement(l.T,{project:"apps.App"},"Websites left")),n.createElement(s.Z.Subtitle,{m:0},M)))},V=U=>{let{onClose:o,isOpen:O,siteTitle:C}=U;const I=(0,P.Xu)(),M=I.name,L=I.id,Q=I.logoUrl,[g,st]=(0,n.useState)(!1),[q,k]=(0,n.useState)(!1),[J,j]=(0,n.useState)(0),[H,F]=(0,n.useState)(0);(0,n.useEffect)(()=>{(async()=>{try{const{data:X}=await c.Z.getOrgWebSiteCounts(L);if(X){const{activeSites:Z,siteLimit:A}=X;j(A),F(Z),A!==-1&&(A-Z===0?st(!0):A-Z===1&&k(!0))}}catch{}})()},[L]);const G=async()=>{try{await c.Z.activateOrgTrial(),T.Z.present({text:(0,v.t)("{siteTitle} is now an active Enterprise Paid site.",{siteTitle:C},{project:"apps.App"})}),window.location.reload()}catch($){T.Z.present({text:(0,v.t)("Failed to active Enterprise Paid site. Please try again later.",null,{project:"apps.App"})}),console.error($)}o()};return n.createElement(u.Z.Transition,null,O&&n.createElement(u.Z,{onRequestClose:o},n.createElement(u.Z.Overlay,null),n.createElement(u.Z.Position,{position:"center"},n.createElement(u.Z.Dialog,null,n.createElement(a.Z,{p:6,pt:5,width:"sizes.750"},n.createElement(d.Z.Tertiary,{mb:5,onClick:o},n.createElement(l.T,{project:"apps.App"},"Close")),n.createElement(s.Z.Title,{mb:1},n.createElement(l.T,{project:"apps.App"},"Activate trial site")),n.createElement(s.Z.Subtitle,{color:"gray.300"},n.createElement(l.T,{project:"apps.App"},"This website status will change from Enterprise Trial to Enterprise and can be made public in settings at any time.")),n.createElement(_,{organizationName:M,organizationLogo:Q,siteCount:H,siteLimit:J}),n.createElement(d.Z.Primary,{mt:6,size:2,width:"100%",onClick:G,disabled:g,"data-test":"activate-website"},n.createElement(l.T,{project:"apps.App"},"Activate")),g&&n.createElement(a.Z,{mt:2},n.createElement(s.Z.Caption,{color:"red.300"},n.createElement(l.T,{project:"apps.App",contactLink:n.createElement("a",{href:"mailto:am-all@squarespace.com",style:{color:"inherit",borderBottom:`1px solid ${p.colors.red[300]}`}},n.createElement(l.T,{project:"apps.App"},"contact your account manager")),notes:"Entire phrase is: Your Enterprise plan has no remaining sites. To activate more sites, contact your Account Manager"},"Your Enterprise plan has no remaining sites. To activate more sites, {contactLink}."))),q&&n.createElement(a.Z,{mt:2},n.createElement(s.Z.Caption,{color:"orange.300"},n.createElement(l.T,{project:"apps.App",contactLink:n.createElement("a",{href:"mailto:am-all@squarespace.com",style:{color:"inherit",borderBottom:`1px solid ${p.colors.orange[300]}`}},n.createElement(l.T,{project:"apps.App"},"contact your account manager")),notes:"Entire phrase is: You only have one website activation remaining! To purchase more sites, contact your Account Manager"},"You only have one website activation remaining! To purchase more sites, {contactLink}."))))))))},K=m()({getStores(){return[E.default]},getPropsFromStores(){const{siteTitle:U,primaryDomain:o}=E.default.getState();return{siteTitle:U,primaryDomain:o}}},V)},765678:function(N,D,t){t.d(D,{Z:()=>m});var e=t(896511);const m=e.Z},963832:function(N,D,t){t.d(D,{H2:()=>c,K0:()=>r,L2:()=>y,LG:()=>b,P8:()=>_,gm:()=>h});var e=t(897071),m=t.n(e),E=t(461761),P=t.n(E),n=t(35045),p=t(559409),u=t.n(p),a=t(154440),d=t(377790);const s=new(m())({customSchemaName:"commerce_setup"},{event_owner_team:"commerce",event_source:"web",product_area:"commerce_onboarding",user_website_id:P()(window,"Static.SQUARESPACE_CONTEXT.website.id",null),...(0,d.ZP)()});function l(o){switch(o){case"commerce":return"wizard-launch-card";case"product-page-panel":return"pages-panel-wizard-notification-card";default:throw new Error("invalid product page")}}function v(o){return`${Object.values(o).filter(C=>!!C).length}_of_5_steps`}function T(o){const{siteStatus:O}=n.default.getState(),C=O.get("value"),I=C===u().PAID||C===u().COMPED;return`has_product=${+!!o[a.fN.ADD_PRODUCTS]};has_processor=${+!!o[a.fN.ADD_PAYMENT_METHOD]};has_shipping=${+!!o[a.fN.ADD_SHIPPING_OPTION]};is_subscribed=${+!!I};is_published=${+!!o[a.fN.PUBLISH_SITE]};`}function c(o){switch(o){case a.fN.ADD_PAYMENT_METHOD:return"add-payment-processor";case a.fN.ADD_PRODUCTS:return"add-product";case a.fN.ADD_SHIPPING_OPTION:return"add-shipping-option";case a.fN.CHOOSE_PLAN:return"subscribe";case a.fN.PUBLISH_SITE:return"publish";default:throw new Error("invalid setup step")}}function y(o,O){s.track({actor:"user",action:"view",object_type:"card",object_identifier:l(o),object_value:v(O),product_page:o,experiment_state_data:T(O)})}function b(o,O){s.track({actor:"user",action:"close",object_type:"card",object_identifier:l(o),object_value:O,product_page:o})}function r(o){s.track({actor:"user",action:"click",object_type:"card",object_identifier:l(o),object_value:o==="commerce"?"setup-wizard-launch":"commerce-panel-link",product_page:o})}function h(o,O,C){s.track({actor:"user",action:"view",object_type:"modal",object_identifier:"commerce-setup-wizard",product_page:o,product_section:C?"commerce-onboarding":null,experiment_state_data:T(O)})}function _(o,O,C,I){s.track({actor:"user",action:"click",object_type:"modal",object_identifier:"commerce-setup-wizard-cta",object_value:c(O),product_page:o,product_section:I?"commerce-onboarding":null,experiment_state_data:T(C)})}function x(o,O){s.track({actor:"system",action:"assign",object_type:"setting",object_identifier:"commerce-setup-wizard-experiment-v1",object_value:o?"experiment":"control",experiment_state_data:T(O)})}function V(o){s.track({actor:"system",action:"assign",object_type:"setting",object_identifier:"product-composer-test",object_value:o?"experiment":"control"})}function K(o){s.track({actor:"system",action:"assign",object_type:"setting",object_identifier:"commerce-pdp-edit-mode-v2",object_value:o?"experiment":"control"})}function U(o){s.track({actor:"system",action:"assign",object_type:"setting",object_identifier:"commerce-pdp-layouts",object_value:o?"experiment":"control"})}},432437:function(N,D,t){t.d(D,{K:()=>P});var e=t(461761),m=t.n(e),E=t(462689);const P=()=>{const{getTrialDaysRemaining:n}=E.RM,p=m()(window,"Static.SQUARESPACE_CONTEXT.website.siteStatus.expiration");return p?n(new Date(p)):null}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/c5ad91e68e910c42/91001-42cffd9f4857cabc-min.en-US.js.map